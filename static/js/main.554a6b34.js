/*! For license information please see main.554a6b34.js.LICENSE.txt */
!function(){var e={4081:function(e,t,n){var r=n(2791),a=n(2007);function i(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=i(r),s=i(a),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},c=function(e){var t,n=e.bgColor,r=void 0===n?"#6a1b9a":n,a=e.height,i=void 0===a?"20px":a,s=e.width,c=void 0===s?"100%":s,u=e.borderRadius,d=void 0===u?"50px":u,h=e.labelAlignment,f=void 0===h?"right":h,p=e.baseBgColor,m=void 0===p?"#e0e0de":p,v=e.labelColor,g=void 0===v?"#fff":v,y=e.labelSize,x=void 0===y?"15px":y,b=e.isLabelVisible,_=void 0===b||b,w=e.dir,k=void 0===w?"ltr":w,j=e.ariaValuemin,S=void 0===j?0:j,C=e.ariaValuemax,N=void 0===C?100:C,E=e.ariaValuetext,T=void 0===E?null:E,I=e.maxCompleted,A=void 0===I?100:I,P=e.animateOnRender,M=void 0!==P&&P,D=e.initCompletedOnAnimation,L=void 0===D?0:D,O=e.completed,z=e.margin,R=e.padding,F=e.customLabelStyles,B=e.transitionDuration,Z=e.transitionTimingFunction,U=e.className,V=e.customLabel,q=e.barContainerClassName,H=e.completedClassName,W=e.labelClassName,Y="left"===(t=f)?"flex-start":"center"===t?"center":"right"===t?"flex-end":null,G="number"===typeof L?"".concat(L,"%"):L,J=function(e,t){if(e){var n=Number(t)/e;return n>1?"100%":"".concat(100*n,"%")}return G}(A,O),X=o.useState(G),K=X[0],$=X[1],Q={height:i,background:m,borderRadius:d,padding:R,width:c,margin:z,overflow:"hidden"},ee={height:i,width:M?K:J,background:r,transition:"width ".concat(B||"1s"," ").concat(Z||"ease-in-out"),borderRadius:"inherit",display:"flex",alignItems:"center",justifyContent:"outside"!==f&&Y?Y:"normal"},te=l({padding:"outside"===f?"0 0 0 5px":"5px",color:g,fontWeight:"bold",fontSize:x,display:_?"initial":"none"},F),ne={display:"outside"===f?"flex":"initial",alignItems:"outside"===f?"center":"initial"},re="number"===typeof O?"".concat(O,"%"):"".concat(O),ae=V||re;return o.useEffect((function(){M&&requestAnimationFrame((function(){return $(J)}))}),[J,M]),o.createElement("div",{style:U?void 0:ne,className:U,dir:k,role:"progressbar","aria-valuenow":parseFloat(ae),"aria-valuemin":S,"aria-valuemax":N,"aria-valuetext":"".concat(null===T?ae:T)},o.createElement("div",{style:q?void 0:Q,className:q},o.createElement("div",{style:H?void 0:ee,className:H},"outside"!==f&&o.createElement("span",{style:W?void 0:te,className:W},ae))),"outside"===f&&o.createElement("span",{style:W?void 0:te,className:W},ae))};c.propTypes={completed:s.oneOfType([s.string,s.number]).isRequired,bgColor:s.string,baseBgColor:s.string,height:s.string,width:s.string,borderRadius:s.string,margin:s.string,padding:s.string,labelAlignment:s.oneOf(["left","center","right","outside"]),labelColor:s.string,labelSize:s.string,isLabelVisible:s.bool,className:s.string,dir:s.oneOf(["rtl","ltr","auto"]),maxCompleted:s.number,customLabel:s.string,animateOnRender:s.bool,barContainerClassName:s.string,completedClassName:s.string,labelClassName:s.string,initCompletedOnAnimation:s.oneOfType([s.string,s.number])},t.Z=c},526:function(e,t,n){"use strict";var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},7945:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r(n(1)),n(6)),o=r(i),s=r(n(7)),l=r(n(8)),c=r(n(9)),u=r(n(10)),d=r(n(11)),h=r(n(14)),f=[],p=!1,m={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},v=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(p=!0),p)return f=(0,d.default)(f,m),(0,u.default)(f,m.once),f},g=function(){f=(0,h.default)(),v()},y=function(){f.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}))},x=function(e){return!0===e||"mobile"===e&&c.default.mobile()||"phone"===e&&c.default.phone()||"tablet"===e&&c.default.tablet()||"function"==typeof e&&!0===e()},b=function(e){m=a(m,e),f=(0,h.default)();var t=document.all&&!window.atob;return x(m.disable)||t?y():(m.disableMutationObserver||l.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),m.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",m.easing),document.querySelector("body").setAttribute("data-aos-duration",m.duration),document.querySelector("body").setAttribute("data-aos-delay",m.delay),"DOMContentLoaded"===m.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?v(!0):"load"===m.startEvent?window.addEventListener(m.startEvent,(function(){v(!0)})):document.addEventListener(m.startEvent,(function(){v(!0)})),window.addEventListener("resize",(0,s.default)(v,m.debounceDelay,!0)),window.addEventListener("orientationchange",(0,s.default)(v,m.debounceDelay,!0)),window.addEventListener("scroll",(0,o.default)((function(){(0,u.default)(f,m.once)}),m.throttleDelay)),m.disableMutationObserver||l.default.ready("[data-aos]",g),f)};e.exports={init:b,refresh:v,refreshHard:g}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function n(e,t,n){function r(t){var n=m,r=v;return m=v=void 0,j=t,y=e.apply(r,n)}function i(e){return j=e,x=setTimeout(u,t),S?r(e):y}function o(e){var n=t-(e-b);return C?w(n,g-(e-j)):n}function l(e){var n=e-b;return void 0===b||n>=t||n<0||C&&e-j>=g}function u(){var e=k();return l(e)?d(e):void(x=setTimeout(u,o(e)))}function d(e){return x=void 0,N&&m?r(e):(m=v=void 0,y)}function h(){void 0!==x&&clearTimeout(x),j=0,m=b=v=x=void 0}function f(){return void 0===x?y:d(k())}function p(){var e=k(),n=l(e);if(m=arguments,v=this,b=e,n){if(void 0===x)return i(b);if(C)return x=setTimeout(u,t),r(b)}return void 0===x&&(x=setTimeout(u,t)),y}var m,v,g,y,x,b,j=0,S=!1,C=!1,N=!0;if("function"!=typeof e)throw new TypeError(c);return t=s(t)||0,a(n)&&(S=!!n.leading,g=(C="maxWait"in n)?_(s(n.maxWait)||0,t):g,N="trailing"in n?!!n.trailing:N),p.cancel=h,p.flush=f,p}function r(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(c);return a(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),n(e,t,{leading:i,maxWait:t,trailing:o})}function a(e){var t="undefined"==typeof e?"undefined":l(e);return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==("undefined"==typeof e?"undefined":l(e))}function o(e){return"symbol"==("undefined"==typeof e?"undefined":l(e))||i(e)&&b.call(e)==d}function s(e){if("number"==typeof e)return e;if(o(e))return u;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var n=p.test(e);return n||m.test(e)?v(e.slice(2),n?2:8):f.test(e)?u:+e}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="Expected a function",u=NaN,d="[object Symbol]",h=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,v=parseInt,g="object"==("undefined"==typeof t?"undefined":l(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,x=g||y||Function("return this")(),b=Object.prototype.toString,_=Math.max,w=Math.min,k=function(){return x.Date.now()};e.exports=r}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(e,t,n){function a(t){var n=m,r=v;return m=v=void 0,j=t,y=e.apply(r,n)}function i(e){return j=e,x=setTimeout(u,t),S?a(e):y}function s(e){var n=t-(e-k);return C?_(n,g-(e-j)):n}function c(e){var n=e-k;return void 0===k||n>=t||n<0||C&&e-j>=g}function u(){var e=w();return c(e)?d(e):void(x=setTimeout(u,s(e)))}function d(e){return x=void 0,N&&m?a(e):(m=v=void 0,y)}function h(){void 0!==x&&clearTimeout(x),j=0,m=k=v=x=void 0}function f(){return void 0===x?y:d(w())}function p(){var e=w(),n=c(e);if(m=arguments,v=this,k=e,n){if(void 0===x)return i(k);if(C)return x=setTimeout(u,t),a(k)}return void 0===x&&(x=setTimeout(u,t)),y}var m,v,g,y,x,k,j=0,S=!1,C=!1,N=!0;if("function"!=typeof e)throw new TypeError(l);return t=o(t)||0,r(n)&&(S=!!n.leading,g=(C="maxWait"in n)?b(o(n.maxWait)||0,t):g,N="trailing"in n?!!n.trailing:N),p.cancel=h,p.flush=f,p}function r(e){var t="undefined"==typeof e?"undefined":s(e);return!!e&&("object"==t||"function"==t)}function a(e){return!!e&&"object"==("undefined"==typeof e?"undefined":s(e))}function i(e){return"symbol"==("undefined"==typeof e?"undefined":s(e))||a(e)&&x.call(e)==u}function o(e){if("number"==typeof e)return e;if(i(e))return c;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=f.test(e);return n||p.test(e)?m(e.slice(2),n?2:8):h.test(e)?c:+e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="Expected a function",c=NaN,u="[object Symbol]",d=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^0o[0-7]+$/i,m=parseInt,v="object"==("undefined"==typeof t?"undefined":s(t))&&t&&t.Object===Object&&t,g="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,y=v||g||Function("return this")(),x=Object.prototype.toString,b=Math.max,_=Math.min,w=function(){return y.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=void 0,r=void 0;for(t=0;t<e.length;t+=1){if((r=e[t]).dataset&&r.dataset.aos)return!0;if(r.children&&n(r.children))return!0}return!1}function r(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!r()}function i(e,t){var n=window.document,a=new(r())(o);s=t,a.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function o(e){e&&e.forEach((function(e){var t=Array.prototype.slice.call(e.addedNodes),r=Array.prototype.slice.call(e.removedNodes);if(n(t.concat(r)))return s()}))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){};t.default={isSupported:a,ready:i}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function e(){n(this,e)}return a(e,[{key:"phone",value:function(){var e=r();return!(!i.test(e)&&!o.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=r();return!(!s.test(e)&&!l.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var r=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):"undefined"!=typeof r&&("false"===r||!n&&"true"!==r)&&e.node.classList.remove("aos-animate")},r=function(e,t){var r=window.pageYOffset,a=window.innerHeight;e.forEach((function(e,i){n(e,a+r,t)}))};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(12)),i=function(e,t){return e.forEach((function(e,n){e.node.classList.add("aos-init"),e.position=(0,a.default)(e.node,t.offset)})),e};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(13)),i=function(e,t){var n=0,r=0,i=window.innerHeight,o={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(o.offset&&!isNaN(o.offset)&&(r=parseInt(o.offset)),o.anchor&&document.querySelectorAll(o.anchor)&&(e=document.querySelectorAll(o.anchor)[0]),n=(0,a.default)(e).top,o.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=i/2;break;case"bottom-center":n+=i/2+e.offsetHeight;break;case"center-center":n+=i/2+e.offsetHeight/2;break;case"top-top":n+=i;break;case"bottom-top":n+=e.offsetHeight+i;break;case"center-top":n+=e.offsetHeight/2+i}return o.anchorPlacement||o.offset||isNaN(t)||(r=t),n+r};t.default=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,(function(e){return{node:e}}))};t.default=n}])},6998:function(e,t,n){"use strict";var r=n(2458),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,i,o,s,l,c,u=!1;t||(t={}),n=t.debug||!1;try{if(o=r(),s=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=a[t.format]||a.default;window.clipboardData.setData(i,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(c),s.selectNodeContents(c),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),c&&document.body.removeChild(c),o()}return u}},4210:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},2110:function(e,t,n){"use strict";var r=n(8309),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var a=f(n);a&&a!==p&&e(t,a,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),v=0;v<o.length;++v){var g=o[v];if(!i[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(x){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case m:case l:return e;default:return t}}case a:return t}}}function w(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=v,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||_(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===i},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===x||e.$$typeof===b||e.$$typeof===g)},t.typeOf=_},8309:function(e,t,n){"use strict";e.exports=n(746)},763:function(e,t,n){var r;e=n.nmd(e),function(){var a,i="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,c=32,u=64,d=128,h=256,f=1/0,p=9007199254740991,m=NaN,v=4294967295,g=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],y="[object Arguments]",x="[object Array]",b="[object Boolean]",_="[object Date]",w="[object Error]",k="[object Function]",j="[object GeneratorFunction]",S="[object Map]",C="[object Number]",N="[object Object]",E="[object Promise]",T="[object RegExp]",I="[object Set]",A="[object String]",P="[object Symbol]",M="[object WeakMap]",D="[object ArrayBuffer]",L="[object DataView]",O="[object Float32Array]",z="[object Float64Array]",R="[object Int8Array]",F="[object Int16Array]",B="[object Int32Array]",Z="[object Uint8Array]",U="[object Uint8ClampedArray]",V="[object Uint16Array]",q="[object Uint32Array]",H=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,X=RegExp(G.source),K=RegExp(J.source),$=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(ae.source),oe=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ve=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,xe=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,je="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Ne="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="['\u2019]",Pe="["+je+"]",Me="["+Ie+"]",De="["+Se+"]",Le="\\d+",Oe="["+Ce+"]",ze="["+Ne+"]",Re="[^"+je+Ie+Le+Ce+Ne+Ee+"]",Fe="\\ud83c[\\udffb-\\udfff]",Be="[^"+je+"]",Ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Ee+"]",qe="\\u200d",He="(?:"+ze+"|"+Re+")",We="(?:"+Ve+"|"+Re+")",Ye="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Je="(?:"+De+"|"+Fe+")"+"?",Xe="["+Te+"]?",Ke=Xe+Je+("(?:"+qe+"(?:"+[Be,Ze,Ue].join("|")+")"+Xe+Je+")*"),$e="(?:"+[Oe,Ze,Ue].join("|")+")"+Ke,Qe="(?:"+[Be+De+"?",De,Ze,Ue,Pe].join("|")+")",et=RegExp(Ae,"g"),tt=RegExp(De,"g"),nt=RegExp(Fe+"(?="+Fe+")|"+Qe+Ke,"g"),rt=RegExp([Ve+"?"+ze+"+"+Ye+"(?="+[Me,Ve,"$"].join("|")+")",We+"+"+Ge+"(?="+[Me,Ve+He,"$"].join("|")+")",Ve+"?"+He+"+"+Ye,Ve+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,$e].join("|"),"g"),at=RegExp("["+qe+je+Se+Te+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,lt={};lt[O]=lt[z]=lt[R]=lt[F]=lt[B]=lt[Z]=lt[U]=lt[V]=lt[q]=!0,lt[y]=lt[x]=lt[D]=lt[b]=lt[L]=lt[_]=lt[w]=lt[k]=lt[S]=lt[C]=lt[N]=lt[T]=lt[I]=lt[A]=lt[M]=!1;var ct={};ct[y]=ct[x]=ct[D]=ct[L]=ct[b]=ct[_]=ct[O]=ct[z]=ct[R]=ct[F]=ct[B]=ct[S]=ct[C]=ct[N]=ct[T]=ct[I]=ct[A]=ct[P]=ct[Z]=ct[U]=ct[V]=ct[q]=!0,ct[w]=ct[k]=ct[M]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ft||pt||Function("return this")(),vt=t&&!t.nodeType&&t,gt=vt&&e&&!e.nodeType&&e,yt=gt&&gt.exports===vt,xt=yt&&ft.process,bt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||xt&&xt.binding&&xt.binding("util")}catch(t){}}(),_t=bt&&bt.isArrayBuffer,wt=bt&&bt.isDate,kt=bt&&bt.isMap,jt=bt&&bt.isRegExp,St=bt&&bt.isSet,Ct=bt&&bt.isTypedArray;function Nt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(r,o,n(o),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}function Mt(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function Dt(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function Ot(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function zt(e,t,n,r){var a=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}function Rt(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Yt("length");function Zt(e,t,n){var r;return n(e,(function(e,n,a){if(t(e,n,a))return r=n,!1})),r}function Ut(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function Vt(e,t,n){return t===t?function(e,t,n){var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Ht,n)}function qt(e,t,n,r){for(var a=n-1,i=e.length;++a<i;)if(r(e[a],t))return a;return-1}function Ht(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:m}function Yt(e){return function(t){return null==t?a:t[e]}}function Gt(e){return function(t){return null==e?a:e[t]}}function Jt(e,t,n,r,a){return a(e,(function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)})),n}function Xt(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==a&&(n=n===a?o:n+o)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function $t(e){return e?e.slice(0,vn(e)+1).replace(oe,""):e}function Qt(e){return function(t){return e(t)}}function en(e,t){return Lt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Vt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}var an=Gt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ut[e]}function ln(e){return at.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n];o!==t&&o!==s||(e[n]=s,i[a++]=n)}return i}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Bt(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?mt:yn.defaults(mt.Object(),t,yn.pick(mt,ot))).Array,r=t.Date,se=t.Error,je=t.Function,Se=t.Math,Ce=t.Object,Ne=t.RegExp,Ee=t.String,Te=t.TypeError,Ie=n.prototype,Ae=je.prototype,Pe=Ce.prototype,Me=t["__core-js_shared__"],De=Ae.toString,Le=Pe.hasOwnProperty,Oe=0,ze=function(){var e=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Re=Pe.toString,Fe=De.call(Ce),Be=mt._,Ze=Ne("^"+De.call(Le).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=yt?t.Buffer:a,Ve=t.Symbol,qe=t.Uint8Array,He=Ue?Ue.allocUnsafe:a,We=un(Ce.getPrototypeOf,Ce),Ye=Ce.create,Ge=Pe.propertyIsEnumerable,Je=Ie.splice,Xe=Ve?Ve.isConcatSpreadable:a,Ke=Ve?Ve.iterator:a,$e=Ve?Ve.toStringTag:a,Qe=function(){try{var e=di(Ce,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,at=r&&r.now!==mt.Date.now&&r.now,ut=t.setTimeout!==mt.setTimeout&&t.setTimeout,ft=Se.ceil,pt=Se.floor,vt=Ce.getOwnPropertySymbols,gt=Ue?Ue.isBuffer:a,xt=t.isFinite,bt=Ie.join,Bt=un(Ce.keys,Ce),Gt=Se.max,xn=Se.min,bn=r.now,_n=t.parseInt,wn=Se.random,kn=Ie.reverse,jn=di(t,"DataView"),Sn=di(t,"Map"),Cn=di(t,"Promise"),Nn=di(t,"Set"),En=di(t,"WeakMap"),Tn=di(Ce,"create"),In=En&&new En,An={},Pn=zi(jn),Mn=zi(Sn),Dn=zi(Cn),Ln=zi(Nn),On=zi(En),zn=Ve?Ve.prototype:a,Rn=zn?zn.valueOf:a,Fn=zn?zn.toString:a;function Bn(e){if(ts(e)&&!qo(e)&&!(e instanceof qn)){if(e instanceof Vn)return e;if(Le.call(e,"__wrapped__"))return Ri(e)}return new Vn(e)}var Zn=function(){function e(){}return function(t){if(!es(t))return{};if(Ye)return Ye(t);e.prototype=t;var n=new e;return e.prototype=a,n}}();function Un(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Xn(e,t){var n=qo(e),r=!n&&Vo(e),a=!n&&!r&&Go(e),i=!n&&!r&&!a&&cs(e),o=n||r||a||i,s=o?Kt(e.length,Ee):[],l=s.length;for(var c in e)!t&&!Le.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yi(c,l))||s.push(c);return s}function Kn(e){var t=e.length;return t?e[Gr(0,t-1)]:a}function $n(e,t){return Di(Ta(e),sr(t,0,e.length))}function Qn(e){return Di(Ta(e))}function er(e,t,n){(n!==a&&!Bo(e[t],n)||n===a&&!(t in e))&&ir(e,t,n)}function tr(e,t,n){var r=e[t];Le.call(e,t)&&Bo(r,n)&&(n!==a||t in e)||ir(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Bo(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,(function(e,a,i){t(r,e,n(e),i)})),r}function ar(e,t){return e&&Ia(t,As(t),e)}function ir(e,t,n){"__proto__"==t&&Qe?Qe(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,i=t.length,o=n(i),s=null==e;++r<i;)o[r]=s?a:Cs(e,t[r]);return o}function sr(e,t,n){return e===e&&(n!==a&&(e=e<=n?e:n),t!==a&&(e=e>=t?e:t)),e}function lr(e,t,n,r,i,o){var s,l=1&t,c=2&t,u=4&t;if(n&&(s=i?n(e,r,i,o):n(e)),s!==a)return s;if(!es(e))return e;var d=qo(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ta(e,s)}else{var h=pi(e),f=h==k||h==j;if(Go(e))return ka(e,l);if(h==N||h==y||f&&!i){if(s=c||f?{}:vi(e),!l)return c?function(e,t){return Ia(e,fi(e),t)}(e,function(e,t){return e&&Ia(t,Ps(t),e)}(s,e)):function(e,t){return Ia(e,hi(e),t)}(e,ar(s,e))}else{if(!ct[h])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case D:return ja(e);case b:case _:return new r(+e);case L:return function(e,t){var n=t?ja(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case O:case z:case R:case F:case B:case Z:case U:case V:case q:return Sa(e,n);case S:return new r;case C:case A:return new r(e);case T:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new r;case P:return a=e,Rn?Ce(Rn.call(a)):{}}var a}(e,h,l)}}o||(o=new Jn);var p=o.get(e);if(p)return p;o.set(e,s),os(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,o))})):ns(e)&&e.forEach((function(r,a){s.set(a,lr(r,t,n,a,e,o))}));var m=d?a:(u?c?ai:ri:c?Ps:As)(e);return Tt(m||e,(function(r,a){m&&(r=e[a=r]),tr(s,a,lr(r,t,n,a,e,o))})),s}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var i=n[r],o=t[i],s=e[i];if(s===a&&!(i in e)||!o(s))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new Te(i);return Ii((function(){e.apply(a,n)}),t)}function dr(e,t,n,r){var a=-1,i=Mt,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=Lt(t,Qt(n))),r?(i=Dt,o=!1):t.length>=200&&(i=tn,o=!1,t=new Gn(t));e:for(;++a<s;){var u=e[a],d=null==n?u:n(u);if(u=r||0!==u?u:0,o&&d===d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else i(t,d,r)||l.push(u)}return l}Bn.templateSettings={escape:$,evaluate:Q,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=Un.prototype,Bn.prototype.constructor=Bn,Vn.prototype=Zn(Un.prototype),Vn.prototype.constructor=Vn,qn.prototype=Zn(Un.prototype),qn.prototype.constructor=qn,Hn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Tn){var n=t[e];return n===o?a:n}return Le.call(t,e)?t[e]:a},Hn.prototype.has=function(e){var t=this.__data__;return Tn?t[e]!==a:Le.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Tn&&t===a?o:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?a:t[n][1]},Wn.prototype.has=function(e){return nr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Sn||Wn),string:new Hn}},Yn.prototype.delete=function(e){var t=ci(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return ci(this,e).get(e)},Yn.prototype.has=function(e){return ci(this,e).has(e)},Yn.prototype.set=function(e,t){var n=ci(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,o),this},Gn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ma(br),fr=Ma(_r,!0);function pr(e,t){var n=!0;return hr(e,(function(e,r,a){return n=!!t(e,r,a)})),n}function mr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(l===a?s===s&&!ls(s):n(s,l)))var l=s,c=o}return c}function vr(e,t){var n=[];return hr(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}function gr(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=gi),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?gr(s,t-1,n,r,a):Ot(a,s):r||(a[a.length]=s)}return a}var yr=Da(),xr=Da(!0);function br(e,t){return e&&yr(e,t,As)}function _r(e,t){return e&&xr(e,t,As)}function wr(e,t){return Pt(t,(function(t){return Ko(e[t])}))}function kr(e,t){for(var n=0,r=(t=xa(t,e)).length;null!=e&&n<r;)e=e[Oi(t[n++])];return n&&n==r?e:a}function jr(e,t,n){var r=t(e);return qo(e)?r:Ot(r,n(e))}function Sr(e){return null==e?e===a?"[object Undefined]":"[object Null]":$e&&$e in Ce(e)?function(e){var t=Le.call(e,$e),n=e[$e];try{e[$e]=a;var r=!0}catch(o){}var i=Re.call(e);r&&(t?e[$e]=n:delete e[$e]);return i}(e):function(e){return Re.call(e)}(e)}function Cr(e,t){return e>t}function Nr(e,t){return null!=e&&Le.call(e,t)}function Er(e,t){return null!=e&&t in Ce(e)}function Tr(e,t,r){for(var i=r?Dt:Mt,o=e[0].length,s=e.length,l=s,c=n(s),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Lt(h,Qt(t))),u=xn(h.length,u),c[l]=!r&&(t||o>=120&&h.length>=120)?new Gn(l&&h):a}h=e[0];var f=-1,p=c[0];e:for(;++f<o&&d.length<u;){var m=h[f],v=t?t(m):m;if(m=r||0!==m?m:0,!(p?tn(p,v):i(d,v,r))){for(l=s;--l;){var g=c[l];if(!(g?tn(g,v):i(e[l],v,r)))continue e}p&&p.push(v),d.push(m)}}return d}function Ir(e,t,n){var r=null==(e=Ni(e,t=xa(t,e)))?e:e[Oi(Ji(t))];return null==r?a:Nt(r,e,n)}function Ar(e){return ts(e)&&Sr(e)==y}function Pr(e,t,n,r,i){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,n,r,i,o){var s=qo(e),l=qo(t),c=s?x:pi(e),u=l?x:pi(t),d=(c=c==y?N:c)==N,h=(u=u==y?N:u)==N,f=c==u;if(f&&Go(e)){if(!Go(t))return!1;s=!0,d=!1}if(f&&!d)return o||(o=new Jn),s||cs(e)?ti(e,t,n,r,i,o):function(e,t,n,r,a,i,o){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!i(new qe(e),new qe(t)));case b:case _:case C:return Bo(+e,+t);case w:return e.name==t.name&&e.message==t.message;case T:case A:return e==t+"";case S:var s=cn;case I:var l=1&r;if(s||(s=hn),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var u=ti(s(e),s(t),r,a,i,o);return o.delete(e),u;case P:if(Rn)return Rn.call(e)==Rn.call(t)}return!1}(e,t,c,n,r,i,o);if(!(1&n)){var p=d&&Le.call(e,"__wrapped__"),m=h&&Le.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,g=m?t.value():t;return o||(o=new Jn),i(v,g,n,r,o)}}if(!f)return!1;return o||(o=new Jn),function(e,t,n,r,i,o){var s=1&n,l=ri(e),c=l.length,u=ri(t),d=u.length;if(c!=d&&!s)return!1;var h=c;for(;h--;){var f=l[h];if(!(s?f in t:Le.call(t,f)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var v=!0;o.set(e,t),o.set(t,e);var g=s;for(;++h<c;){var y=e[f=l[h]],x=t[f];if(r)var b=s?r(x,y,f,t,e,o):r(y,x,f,e,t,o);if(!(b===a?y===x||i(y,x,n,r,o):b)){v=!1;break}g||(g="constructor"==f)}if(v&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,n,r,i,o)}(e,t,n,r,Pr,i))}function Mr(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Ce(e);i--;){var l=n[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<o;){var c=(l=n[i])[0],u=e[c],d=l[1];if(s&&l[2]){if(u===a&&!(c in e))return!1}else{var h=new Jn;if(r)var f=r(u,d,c,e,t,h);if(!(f===a?Pr(d,u,3,r,h):f))return!1}}return!0}function Dr(e){return!(!es(e)||(t=e,ze&&ze in t))&&(Ko(e)?Ze:ye).test(zi(e));var t}function Lr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?qo(e)?Zr(e[0],e[1]):Br(e):hl(e)}function Or(e){if(!ki(e))return Bt(e);var t=[];for(var n in Ce(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function zr(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=ki(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Rr(e,t){return e<t}function Fr(e,t){var r=-1,a=Wo(e)?n(e.length):[];return hr(e,(function(e,n,i){a[++r]=t(e,n,i)})),a}function Br(e){var t=ui(e);return 1==t.length&&t[0][2]?Si(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function Zr(e,t){return bi(e)&&ji(t)?Si(Oi(e),t):function(n){var r=Cs(n,e);return r===a&&r===t?Ns(n,e):Pr(t,r,3)}}function Ur(e,t,n,r,i){e!==t&&yr(t,(function(o,s){if(i||(i=new Jn),es(o))!function(e,t,n,r,i,o,s){var l=Ei(e,n),c=Ei(t,n),u=s.get(c);if(u)return void er(e,n,u);var d=o?o(l,c,n+"",e,t,s):a,h=d===a;if(h){var f=qo(c),p=!f&&Go(c),m=!f&&!p&&cs(c);d=c,f||p||m?qo(l)?d=l:Yo(l)?d=Ta(l):p?(h=!1,d=ka(c,!0)):m?(h=!1,d=Sa(c,!0)):d=[]:as(c)||Vo(c)?(d=l,Vo(l)?d=gs(l):es(l)&&!Ko(l)||(d=vi(c))):h=!1}h&&(s.set(c,d),i(d,c,r,o,s),s.delete(c));er(e,n,d)}(e,t,s,n,Ur,r,i);else{var l=r?r(Ei(e,s),o,s+"",e,t,i):a;l===a&&(l=o),er(e,s,l)}}),Ps)}function Vr(e,t){var n=e.length;if(n)return yi(t+=t<0?n:0,n)?e[t]:a}function qr(e,t,n){t=t.length?Lt(t,(function(e){return qo(e)?function(t){return kr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=Lt(t,Qt(li()));var a=Fr(e,(function(e,n,a){var i=Lt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(a,(function(e,t){return function(e,t,n){var r=-1,a=e.criteria,i=t.criteria,o=a.length,s=n.length;for(;++r<o;){var l=Ca(a[r],i[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],s=kr(e,o);n(s,o)&&Qr(i,xa(o,e),s)}return i}function Wr(e,t,n,r){var a=r?qt:Vt,i=-1,o=t.length,s=e;for(e===t&&(t=Ta(t)),n&&(s=Lt(e,Qt(n)));++i<o;)for(var l=0,c=t[i],u=n?n(c):c;(l=a(s,u,l,r))>-1;)s!==e&&Je.call(s,l,1),Je.call(e,l,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==i){var i=a;yi(a)?Je.call(e,a,1):da(e,a)}}return e}function Gr(e,t){return e+pt(wn()*(t-e+1))}function Jr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Ai(Ci(e,t,rl),e+"")}function Kr(e){return Kn(Bs(e))}function $r(e,t){var n=Bs(e);return Di(n,sr(t,0,n.length))}function Qr(e,t,n,r){if(!es(e))return e;for(var i=-1,o=(t=xa(t,e)).length,s=o-1,l=e;null!=l&&++i<o;){var c=Oi(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var d=l[c];(u=r?r(d,c,l):a)===a&&(u=es(d)?d:yi(t[i+1])?[]:{})}tr(l,c,u),l=l[c]}return e}var ea=In?function(e,t){return In.set(e,t),e}:rl,ta=Qe?function(e,t){return Qe(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function na(e){return Di(Bs(e))}function ra(e,t,r){var a=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=n(i);++a<i;)o[a]=e[a+t];return o}function aa(e,t){var n;return hr(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}function ia(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t===t&&a<=2147483647){for(;r<a;){var i=r+a>>>1,o=e[i];null!==o&&!ls(o)&&(n?o<=t:o<t)?r=i+1:a=i}return a}return oa(e,t,rl,n)}function oa(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!==t,l=null===t,c=ls(t),u=t===a;i<o;){var d=pt((i+o)/2),h=n(e[d]),f=h!==a,p=null===h,m=h===h,v=ls(h);if(s)var g=r||m;else g=u?m&&(r||f):l?m&&f&&(r||!p):c?m&&f&&!p&&(r||!v):!p&&!v&&(r?h<=t:h<t);g?i=d+1:o=d}return xn(o,4294967294)}function sa(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Bo(s,l)){var l=s;i[a++]=0===o?0:o}}return i}function la(e){return"number"==typeof e?e:ls(e)?m:+e}function ca(e){if("string"==typeof e)return e;if(qo(e))return Lt(e,ca)+"";if(ls(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ua(e,t,n){var r=-1,a=Mt,i=e.length,o=!0,s=[],l=s;if(n)o=!1,a=Dt;else if(i>=200){var c=t?null:Ja(e);if(c)return hn(c);o=!1,a=tn,l=new Gn}else l=t?[]:s;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(u)}else a(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function da(e,t){return null==(e=Ni(e,t=xa(t,e)))||delete e[Oi(Ji(t))]}function ha(e,t,n,r){return Qr(e,t,n(kr(e,t)),r)}function fa(e,t,n,r){for(var a=e.length,i=r?a:-1;(r?i--:++i<a)&&t(e[i],i,e););return n?ra(e,r?0:i,r?i+1:a):ra(e,r?i+1:0,r?a:i)}function pa(e,t){var n=e;return n instanceof qn&&(n=n.value()),zt(t,(function(e,t){return t.func.apply(t.thisArg,Ot([e],t.args))}),n)}function ma(e,t,r){var a=e.length;if(a<2)return a?ua(e[0]):[];for(var i=-1,o=n(a);++i<a;)for(var s=e[i],l=-1;++l<a;)l!=i&&(o[i]=dr(o[i]||s,e[l],t,r));return ua(gr(o,1),t,r)}function va(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;){var l=r<o?t[r]:a;n(s,e[r],l)}return s}function ga(e){return Yo(e)?e:[]}function ya(e){return"function"==typeof e?e:rl}function xa(e,t){return qo(e)?e:bi(e,t)?[e]:Li(ys(e))}var ba=Xr;function _a(e,t,n){var r=e.length;return n=n===a?r:n,!t&&n>=r?e:ra(e,t,n)}var wa=nt||function(e){return mt.clearTimeout(e)};function ka(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function ja(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Sa(e,t){var n=t?ja(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ca(e,t){if(e!==t){var n=e!==a,r=null===e,i=e===e,o=ls(e),s=t!==a,l=null===t,c=t===t,u=ls(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||l&&n&&i||!s&&i||!c)return-1}return 0}function Na(e,t,r,a){for(var i=-1,o=e.length,s=r.length,l=-1,c=t.length,u=Gt(o-s,0),d=n(c+u),h=!a;++l<c;)d[l]=t[l];for(;++i<s;)(h||i<o)&&(d[r[i]]=e[i]);for(;u--;)d[l++]=e[i++];return d}function Ea(e,t,r,a){for(var i=-1,o=e.length,s=-1,l=r.length,c=-1,u=t.length,d=Gt(o-l,0),h=n(d+u),f=!a;++i<d;)h[i]=e[i];for(var p=i;++c<u;)h[p+c]=t[c];for(;++s<l;)(f||i<o)&&(h[p+r[s]]=e[i++]);return h}function Ta(e,t){var r=-1,a=e.length;for(t||(t=n(a));++r<a;)t[r]=e[r];return t}function Ia(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],c=r?r(n[l],e[l],l,n,e):a;c===a&&(c=e[l]),i?ir(n,l,c):tr(n,l,c)}return n}function Aa(e,t){return function(n,r){var a=qo(n)?Et:rr,i=t?t():{};return a(n,e,li(r,2),i)}}function Pa(e){return Xr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:a,s=i>2?n[2]:a;for(o=e.length>3&&"function"==typeof o?(i--,o):a,s&&xi(n[0],n[1],s)&&(o=i<3?a:o,i=1),t=Ce(t);++r<i;){var l=n[r];l&&e(t,l,r,o)}return t}))}function Ma(e,t){return function(n,r){if(null==n)return n;if(!Wo(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Ce(n);(t?i--:++i<a)&&!1!==r(o[i],i,o););return n}}function Da(e){return function(t,n,r){for(var a=-1,i=Ce(t),o=r(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===n(i[l],l,i))break}return t}}function La(e){return function(t){var n=ln(t=ys(t))?mn(t):a,r=n?n[0]:t.charAt(0),i=n?_a(n,1).join(""):t.slice(1);return r[e]()+i}}function Oa(e){return function(t){return zt(Ks(Vs(t).replace(et,"")),e,"")}}function za(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Zn(e.prototype),r=e.apply(n,t);return es(r)?r:n}}function Ra(e){return function(t,n,r){var i=Ce(t);if(!Wo(t)){var o=li(n,3);t=As(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:a}}function Fa(e){return ni((function(t){var n=t.length,r=n,o=Vn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Te(i);if(o&&!l&&"wrapper"==oi(s))var l=new Vn([],!0)}for(r=l?r:n;++r<n;){var c=oi(s=t[r]),u="wrapper"==c?ii(s):a;l=u&&_i(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[oi(u[0])].apply(l,u[3]):1==s.length&&_i(s)?l[c]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&qo(r))return l.plant(r).value();for(var a=0,i=n?t[a].apply(this,e):r;++a<n;)i=t[a].call(this,i);return i}}))}function Ba(e,t,r,i,o,s,l,c,u,h){var f=t&d,p=1&t,m=2&t,v=24&t,g=512&t,y=m?a:za(e);return function d(){for(var x=arguments.length,b=n(x),_=x;_--;)b[_]=arguments[_];if(v)var w=si(d),k=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,w);if(i&&(b=Na(b,i,o,v)),s&&(b=Ea(b,s,l,v)),x-=k,v&&x<h){var j=dn(b,w);return Ya(e,t,Ba,d.placeholder,r,b,j,c,u,h-x)}var S=p?r:this,C=m?S[e]:e;return x=b.length,c?b=function(e,t){var n=e.length,r=xn(t.length,n),i=Ta(e);for(;r--;){var o=t[r];e[r]=yi(o,n)?i[o]:a}return e}(b,c):g&&x>1&&b.reverse(),f&&u<x&&(b.length=u),this&&this!==mt&&this instanceof d&&(C=y||za(C)),C.apply(S,b)}}function Za(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,a,i){t(r,n(e),a,i)})),r}(n,e,t(r),{})}}function Ua(e,t){return function(n,r){var i;if(n===a&&r===a)return t;if(n!==a&&(i=n),r!==a){if(i===a)return r;"string"==typeof n||"string"==typeof r?(n=ca(n),r=ca(r)):(n=la(n),r=la(r)),i=e(n,r)}return i}}function Va(e){return ni((function(t){return t=Lt(t,Qt(li())),Xr((function(n){var r=this;return e(t,(function(e){return Nt(e,r,n)}))}))}))}function qa(e,t){var n=(t=t===a?" ":ca(t)).length;if(n<2)return n?Jr(t,e):t;var r=Jr(t,ft(e/pn(t)));return ln(t)?_a(mn(r),0,e).join(""):r.slice(0,e)}function Ha(e){return function(t,r,i){return i&&"number"!=typeof i&&xi(t,r,i)&&(r=i=a),t=fs(t),r===a?(r=t,t=0):r=fs(r),function(e,t,r,a){for(var i=-1,o=Gt(ft((t-e)/(r||1)),0),s=n(o);o--;)s[a?o:++i]=e,e+=r;return s}(t,r,i=i===a?t<r?1:-1:fs(i),e)}}function Wa(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vs(t),n=vs(n)),e(t,n)}}function Ya(e,t,n,r,i,o,s,l,d,h){var f=8&t;t|=f?c:u,4&(t&=~(f?u:c))||(t&=-4);var p=[e,t,i,f?o:a,f?s:a,f?a:o,f?a:s,l,d,h],m=n.apply(a,p);return _i(e)&&Ti(m,p),m.placeholder=r,Pi(m,e,t)}function Ga(e){var t=Se[e];return function(e,n){if(e=vs(e),(n=null==n?0:xn(ps(n),292))&&xt(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ja=Nn&&1/hn(new Nn([,-0]))[1]==f?function(e){return new Nn(e)}:ll;function Xa(e){return function(t){var n=pi(t);return n==S?cn(t):n==I?fn(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ka(e,t,r,o,f,p,m,v){var g=2&t;if(!g&&"function"!=typeof e)throw new Te(i);var y=o?o.length:0;if(y||(t&=-97,o=f=a),m=m===a?m:Gt(ps(m),0),v=v===a?v:ps(v),y-=f?f.length:0,t&u){var x=o,b=f;o=f=a}var _=g?a:ii(e),w=[e,t,r,o,f,x,b,p,m,v];if(_&&function(e,t){var n=e[1],r=t[1],a=n|r,i=a<131,o=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!o)return e;1&r&&(e[2]=t[2],a|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Na(c,l,t[4]):l,e[4]=c?dn(e[3],s):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ea(c,l,t[6]):l,e[6]=c?dn(e[5],s):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(w,_),e=w[0],t=w[1],r=w[2],o=w[3],f=w[4],!(v=w[9]=w[9]===a?g?0:e.length:Gt(w[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==l?function(e,t,r){var i=za(e);return function o(){for(var s=arguments.length,l=n(s),c=s,u=si(o);c--;)l[c]=arguments[c];var d=s<3&&l[0]!==u&&l[s-1]!==u?[]:dn(l,u);return(s-=d.length)<r?Ya(e,t,Ba,o.placeholder,a,l,d,a,a,r-s):Nt(this&&this!==mt&&this instanceof o?i:e,this,l)}}(e,t,v):t!=c&&33!=t||f.length?Ba.apply(a,w):function(e,t,r,a){var i=1&t,o=za(e);return function t(){for(var s=-1,l=arguments.length,c=-1,u=a.length,d=n(u+l),h=this&&this!==mt&&this instanceof t?o:e;++c<u;)d[c]=a[c];for(;l--;)d[c++]=arguments[++s];return Nt(h,i?r:this,d)}}(e,t,r,o);else var k=function(e,t,n){var r=1&t,a=za(e);return function t(){return(this&&this!==mt&&this instanceof t?a:e).apply(r?n:this,arguments)}}(e,t,r);return Pi((_?ea:Ti)(k,w),e,t)}function $a(e,t,n,r){return e===a||Bo(e,Pe[n])&&!Le.call(r,n)?t:e}function Qa(e,t,n,r,i,o){return es(e)&&es(t)&&(o.set(t,e),Ur(e,t,a,Qa,o),o.delete(t)),e}function ei(e){return as(e)?a:e}function ti(e,t,n,r,i,o){var s=1&n,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,p=2&n?new Gn:a;for(o.set(e,t),o.set(t,e);++h<l;){var m=e[h],v=t[h];if(r)var g=s?r(v,m,h,t,e,o):r(m,v,h,e,t,o);if(g!==a){if(g)continue;f=!1;break}if(p){if(!Ft(t,(function(e,t){if(!tn(p,t)&&(m===e||i(m,e,n,r,o)))return p.push(t)}))){f=!1;break}}else if(m!==v&&!i(m,v,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function ni(e){return Ai(Ci(e,a,qi),e+"")}function ri(e){return jr(e,As,hi)}function ai(e){return jr(e,Ps,fi)}var ii=In?function(e){return In.get(e)}:ll;function oi(e){for(var t=e.name+"",n=An[t],r=Le.call(An,t)?n.length:0;r--;){var a=n[r],i=a.func;if(null==i||i==e)return a.name}return t}function si(e){return(Le.call(Bn,"placeholder")?Bn:e).placeholder}function li(){var e=Bn.iteratee||al;return e=e===al?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function ci(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ui(e){for(var t=As(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,ji(a)]}return t}function di(e,t){var n=function(e,t){return null==e?a:e[t]}(e,t);return Dr(n)?n:a}var hi=vt?function(e){return null==e?[]:(e=Ce(e),Pt(vt(e),(function(t){return Ge.call(e,t)})))}:ml,fi=vt?function(e){for(var t=[];e;)Ot(t,hi(e)),e=We(e);return t}:ml,pi=Sr;function mi(e,t,n){for(var r=-1,a=(t=xa(t,e)).length,i=!1;++r<a;){var o=Oi(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=a?i:!!(a=null==e?0:e.length)&&Qo(a)&&yi(o,a)&&(qo(e)||Vo(e))}function vi(e){return"function"!=typeof e.constructor||ki(e)?{}:Zn(We(e))}function gi(e){return qo(e)||Vo(e)||!!(Xe&&e&&e[Xe])}function yi(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function xi(e,t,n){if(!es(n))return!1;var r=typeof t;return!!("number"==r?Wo(n)&&yi(t,n.length):"string"==r&&t in n)&&Bo(n[t],e)}function bi(e,t){if(qo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ce(t))}function _i(e){var t=oi(e),n=Bn[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var r=ii(n);return!!r&&e===r[0]}(jn&&pi(new jn(new ArrayBuffer(1)))!=L||Sn&&pi(new Sn)!=S||Cn&&pi(Cn.resolve())!=E||Nn&&pi(new Nn)!=I||En&&pi(new En)!=M)&&(pi=function(e){var t=Sr(e),n=t==N?e.constructor:a,r=n?zi(n):"";if(r)switch(r){case Pn:return L;case Mn:return S;case Dn:return E;case Ln:return I;case On:return M}return t});var wi=Me?Ko:vl;function ki(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function ji(e){return e===e&&!es(e)}function Si(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==a||e in Ce(n)))}}function Ci(e,t,r){return t=Gt(t===a?e.length-1:t,0),function(){for(var a=arguments,i=-1,o=Gt(a.length-t,0),s=n(o);++i<o;)s[i]=a[t+i];i=-1;for(var l=n(t+1);++i<t;)l[i]=a[i];return l[t]=r(s),Nt(e,this,l)}}function Ni(e,t){return t.length<2?e:kr(e,ra(t,0,-1))}function Ei(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ti=Mi(ea),Ii=ut||function(e,t){return mt.setTimeout(e,t)},Ai=Mi(ta);function Pi(e,t,n){var r=t+"";return Ai(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(g,(function(n){var r="_."+n[0];t&n[1]&&!Mt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Mi(e){var t=0,n=0;return function(){var r=bn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(a,arguments)}}function Di(e,t){var n=-1,r=e.length,i=r-1;for(t=t===a?r:t;++n<t;){var o=Gr(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Li=function(e){var t=Do(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,a){t.push(r?a.replace(fe,"$1"):n||e)})),t}));function Oi(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zi(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ri(e){if(e instanceof qn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=Ta(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fi=Xr((function(e,t){return Yo(e)?dr(e,gr(t,1,Yo,!0)):[]})),Bi=Xr((function(e,t){var n=Ji(t);return Yo(n)&&(n=a),Yo(e)?dr(e,gr(t,1,Yo,!0),li(n,2)):[]})),Zi=Xr((function(e,t){var n=Ji(t);return Yo(n)&&(n=a),Yo(e)?dr(e,gr(t,1,Yo,!0),a,n):[]}));function Ui(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:ps(n);return a<0&&(a=Gt(r+a,0)),Ut(e,li(t,3),a)}function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==a&&(i=ps(n),i=n<0?Gt(r+i,0):xn(i,r-1)),Ut(e,li(t,3),i,!0)}function qi(e){return(null==e?0:e.length)?gr(e,1):[]}function Hi(e){return e&&e.length?e[0]:a}var Wi=Xr((function(e){var t=Lt(e,ga);return t.length&&t[0]===e[0]?Tr(t):[]})),Yi=Xr((function(e){var t=Ji(e),n=Lt(e,ga);return t===Ji(n)?t=a:n.pop(),n.length&&n[0]===e[0]?Tr(n,li(t,2)):[]})),Gi=Xr((function(e){var t=Ji(e),n=Lt(e,ga);return(t="function"==typeof t?t:a)&&n.pop(),n.length&&n[0]===e[0]?Tr(n,a,t):[]}));function Ji(e){var t=null==e?0:e.length;return t?e[t-1]:a}var Xi=Xr(Ki);function Ki(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var $i=ni((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Yr(e,Lt(t,(function(e){return yi(e,n)?+e:e})).sort(Ca)),r}));function Qi(e){return null==e?e:kn.call(e)}var eo=Xr((function(e){return ua(gr(e,1,Yo,!0))})),to=Xr((function(e){var t=Ji(e);return Yo(t)&&(t=a),ua(gr(e,1,Yo,!0),li(t,2))})),no=Xr((function(e){var t=Ji(e);return t="function"==typeof t?t:a,ua(gr(e,1,Yo,!0),a,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Yo(e))return t=Gt(e.length,t),!0})),Kt(t,(function(t){return Lt(e,Yt(t))}))}function ao(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:Lt(n,(function(e){return Nt(t,a,e)}))}var io=Xr((function(e,t){return Yo(e)?dr(e,t):[]})),oo=Xr((function(e){return ma(Pt(e,Yo))})),so=Xr((function(e){var t=Ji(e);return Yo(t)&&(t=a),ma(Pt(e,Yo),li(t,2))})),lo=Xr((function(e){var t=Ji(e);return t="function"==typeof t?t:a,ma(Pt(e,Yo),a,t)})),co=Xr(ro);var uo=Xr((function(e){var t=e.length,n=t>1?e[t-1]:a;return n="function"==typeof n?(e.pop(),n):a,ao(e,n)}));function ho(e){var t=Bn(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var po=ni((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof qn&&yi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fo,args:[i],thisArg:a}),new Vn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(a),e}))):this.thru(i)}));var mo=Aa((function(e,t,n){Le.call(e,n)?++e[n]:ir(e,n,1)}));var vo=Ra(Ui),go=Ra(Vi);function yo(e,t){return(qo(e)?Tt:hr)(e,li(t,3))}function xo(e,t){return(qo(e)?It:fr)(e,li(t,3))}var bo=Aa((function(e,t,n){Le.call(e,n)?e[n].push(t):ir(e,n,[t])}));var _o=Xr((function(e,t,r){var a=-1,i="function"==typeof t,o=Wo(e)?n(e.length):[];return hr(e,(function(e){o[++a]=i?Nt(t,e,r):Ir(e,t,r)})),o})),wo=Aa((function(e,t,n){ir(e,n,t)}));function ko(e,t){return(qo(e)?Lt:Fr)(e,li(t,3))}var jo=Aa((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var So=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&xi(e,t[0],t[1])?t=[]:n>2&&xi(t[0],t[1],t[2])&&(t=[t[0]]),qr(e,gr(t,1),[])})),Co=at||function(){return mt.Date.now()};function No(e,t,n){return t=n?a:t,t=e&&null==t?e.length:t,Ka(e,d,a,a,a,a,t)}function Eo(e,t){var n;if("function"!=typeof t)throw new Te(i);return e=ps(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=a),n}}var To=Xr((function(e,t,n){var r=1;if(n.length){var a=dn(n,si(To));r|=c}return Ka(e,r,t,n,a)})),Io=Xr((function(e,t,n){var r=3;if(n.length){var a=dn(n,si(Io));r|=c}return Ka(t,r,e,n,a)}));function Ao(e,t,n){var r,o,s,l,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new Te(i);function m(t){var n=r,i=o;return r=o=a,d=t,l=e.apply(i,n)}function v(e){var n=e-u;return u===a||n>=t||n<0||f&&e-d>=s}function g(){var e=Co();if(v(e))return y(e);c=Ii(g,function(e){var n=t-(e-u);return f?xn(n,s-(e-d)):n}(e))}function y(e){return c=a,p&&r?m(e):(r=o=a,l)}function x(){var e=Co(),n=v(e);if(r=arguments,o=this,u=e,n){if(c===a)return function(e){return d=e,c=Ii(g,t),h?m(e):l}(u);if(f)return wa(c),c=Ii(g,t),m(u)}return c===a&&(c=Ii(g,t)),l}return t=vs(t)||0,es(n)&&(h=!!n.leading,s=(f="maxWait"in n)?Gt(vs(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),x.cancel=function(){c!==a&&wa(c),d=0,r=u=o=c=a},x.flush=function(){return c===a?l:y(Co())},x}var Po=Xr((function(e,t){return ur(e,1,t)})),Mo=Xr((function(e,t,n){return ur(e,vs(t)||0,n)}));function Do(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Te(i);var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Do.Cache||Yn),n}function Lo(e){if("function"!=typeof e)throw new Te(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Do.Cache=Yn;var Oo=ba((function(e,t){var n=(t=1==t.length&&qo(t[0])?Lt(t[0],Qt(li())):Lt(gr(t,1),Qt(li()))).length;return Xr((function(r){for(var a=-1,i=xn(r.length,n);++a<i;)r[a]=t[a].call(this,r[a]);return Nt(e,this,r)}))})),zo=Xr((function(e,t){var n=dn(t,si(zo));return Ka(e,c,a,t,n)})),Ro=Xr((function(e,t){var n=dn(t,si(Ro));return Ka(e,u,a,t,n)})),Fo=ni((function(e,t){return Ka(e,h,a,a,a,t)}));function Bo(e,t){return e===t||e!==e&&t!==t}var Zo=Wa(Cr),Uo=Wa((function(e,t){return e>=t})),Vo=Ar(function(){return arguments}())?Ar:function(e){return ts(e)&&Le.call(e,"callee")&&!Ge.call(e,"callee")},qo=n.isArray,Ho=_t?Qt(_t):function(e){return ts(e)&&Sr(e)==D};function Wo(e){return null!=e&&Qo(e.length)&&!Ko(e)}function Yo(e){return ts(e)&&Wo(e)}var Go=gt||vl,Jo=wt?Qt(wt):function(e){return ts(e)&&Sr(e)==_};function Xo(e){if(!ts(e))return!1;var t=Sr(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Ko(e){if(!es(e))return!1;var t=Sr(e);return t==k||t==j||"[object AsyncFunction]"==t||"[object Proxy]"==t}function $o(e){return"number"==typeof e&&e==ps(e)}function Qo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var ns=kt?Qt(kt):function(e){return ts(e)&&pi(e)==S};function rs(e){return"number"==typeof e||ts(e)&&Sr(e)==C}function as(e){if(!ts(e)||Sr(e)!=N)return!1;var t=We(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Fe}var is=jt?Qt(jt):function(e){return ts(e)&&Sr(e)==T};var os=St?Qt(St):function(e){return ts(e)&&pi(e)==I};function ss(e){return"string"==typeof e||!qo(e)&&ts(e)&&Sr(e)==A}function ls(e){return"symbol"==typeof e||ts(e)&&Sr(e)==P}var cs=Ct?Qt(Ct):function(e){return ts(e)&&Qo(e.length)&&!!lt[Sr(e)]};var us=Wa(Rr),ds=Wa((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Wo(e))return ss(e)?mn(e):Ta(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=pi(e);return(t==S?cn:t==I?hn:Bs)(e)}function fs(e){return e?(e=vs(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ps(e){var t=fs(e),n=t%1;return t===t?n?t-n:t:0}function ms(e){return e?sr(ps(e),0,v):0}function vs(e){if("number"==typeof e)return e;if(ls(e))return m;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$t(e);var n=ge.test(e);return n||xe.test(e)?ht(e.slice(2),n?2:8):ve.test(e)?m:+e}function gs(e){return Ia(e,Ps(e))}function ys(e){return null==e?"":ca(e)}var xs=Pa((function(e,t){if(ki(t)||Wo(t))Ia(t,As(t),e);else for(var n in t)Le.call(t,n)&&tr(e,n,t[n])})),bs=Pa((function(e,t){Ia(t,Ps(t),e)})),_s=Pa((function(e,t,n,r){Ia(t,Ps(t),e,r)})),ws=Pa((function(e,t,n,r){Ia(t,As(t),e,r)})),ks=ni(or);var js=Xr((function(e,t){e=Ce(e);var n=-1,r=t.length,i=r>2?t[2]:a;for(i&&xi(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],s=Ps(o),l=-1,c=s.length;++l<c;){var u=s[l],d=e[u];(d===a||Bo(d,Pe[u])&&!Le.call(e,u))&&(e[u]=o[u])}return e})),Ss=Xr((function(e){return e.push(a,Qa),Nt(Ds,a,e)}));function Cs(e,t,n){var r=null==e?a:kr(e,t);return r===a?n:r}function Ns(e,t){return null!=e&&mi(e,t,Er)}var Es=Za((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Re.call(t)),e[t]=n}),el(rl)),Ts=Za((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Re.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),li),Is=Xr(Ir);function As(e){return Wo(e)?Xn(e):Or(e)}function Ps(e){return Wo(e)?Xn(e,!0):zr(e)}var Ms=Pa((function(e,t,n){Ur(e,t,n)})),Ds=Pa((function(e,t,n,r){Ur(e,t,n,r)})),Ls=ni((function(e,t){var n={};if(null==e)return n;var r=!1;t=Lt(t,(function(t){return t=xa(t,e),r||(r=t.length>1),t})),Ia(e,ai(e),n),r&&(n=lr(n,7,ei));for(var a=t.length;a--;)da(n,t[a]);return n}));var Os=ni((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ns(e,n)}))}(e,t)}));function zs(e,t){if(null==e)return{};var n=Lt(ai(e),(function(e){return[e]}));return t=li(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Rs=Xa(As),Fs=Xa(Ps);function Bs(e){return null==e?[]:en(e,As(e))}var Zs=Oa((function(e,t,n){return t=t.toLowerCase(),e+(n?Us(t):t)}));function Us(e){return Xs(ys(e).toLowerCase())}function Vs(e){return(e=ys(e))&&e.replace(_e,an).replace(tt,"")}var qs=Oa((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hs=Oa((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ws=La("toLowerCase");var Ys=Oa((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Gs=Oa((function(e,t,n){return e+(n?" ":"")+Xs(t)}));var Js=Oa((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xs=La("toUpperCase");function Ks(e,t,n){return e=ys(e),(t=n?a:t)===a?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var $s=Xr((function(e,t){try{return Nt(e,a,t)}catch(n){return Xo(n)?n:new se(n)}})),Qs=ni((function(e,t){return Tt(t,(function(t){t=Oi(t),ir(e,t,To(e[t],e))})),e}));function el(e){return function(){return e}}var tl=Fa(),nl=Fa(!0);function rl(e){return e}function al(e){return Lr("function"==typeof e?e:lr(e,1))}var il=Xr((function(e,t){return function(n){return Ir(n,e,t)}})),ol=Xr((function(e,t){return function(n){return Ir(e,n,t)}}));function sl(e,t,n){var r=As(t),a=wr(t,r);null!=n||es(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=wr(t,As(t)));var i=!(es(n)&&"chain"in n)||!!n.chain,o=Ko(e);return Tt(a,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Ta(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ot([this.value()],arguments))})})),e}function ll(){}var cl=Va(Lt),ul=Va(At),dl=Va(Ft);function hl(e){return bi(e)?Yt(Oi(e)):function(e){return function(t){return kr(t,e)}}(e)}var fl=Ha(),pl=Ha(!0);function ml(){return[]}function vl(){return!1}var gl=Ua((function(e,t){return e+t}),0),yl=Ga("ceil"),xl=Ua((function(e,t){return e/t}),1),bl=Ga("floor");var _l=Ua((function(e,t){return e*t}),1),wl=Ga("round"),kl=Ua((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Te(i);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=No,Bn.assign=xs,Bn.assignIn=bs,Bn.assignInWith=_s,Bn.assignWith=ws,Bn.at=ks,Bn.before=Eo,Bn.bind=To,Bn.bindAll=Qs,Bn.bindKey=Io,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qo(e)?e:[e]},Bn.chain=ho,Bn.chunk=function(e,t,r){t=(r?xi(e,t,r):t===a)?1:Gt(ps(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,l=n(ft(i/t));o<i;)l[s++]=ra(e,o,o+=t);return l},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Ot(qo(r)?Ta(r):[r],gr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new Te(i);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var a=e[r];if(Nt(a[0],this,n))return Nt(a[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=As(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Bn.constant=el,Bn.countBy=mo,Bn.create=function(e,t){var n=Zn(e);return null==t?n:ar(n,t)},Bn.curry=function e(t,n,r){var i=Ka(t,8,a,a,a,a,a,n=r?a:n);return i.placeholder=e.placeholder,i},Bn.curryRight=function e(t,n,r){var i=Ka(t,l,a,a,a,a,a,n=r?a:n);return i.placeholder=e.placeholder,i},Bn.debounce=Ao,Bn.defaults=js,Bn.defaultsDeep=Ss,Bn.defer=Po,Bn.delay=Mo,Bn.difference=Fi,Bn.differenceBy=Bi,Bn.differenceWith=Zi,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ra(e,(t=n||t===a?1:ps(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ra(e,0,(t=r-(t=n||t===a?1:ps(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?fa(e,li(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?fa(e,li(t,3),!0):[]},Bn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&xi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ps(n))<0&&(n=-n>i?0:i+n),(r=r===a||r>i?i:ps(r))<0&&(r+=i),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(qo(e)?Pt:vr)(e,li(t,3))},Bn.flatMap=function(e,t){return gr(ko(e,t),1)},Bn.flatMapDeep=function(e,t){return gr(ko(e,t),f)},Bn.flatMapDepth=function(e,t,n){return n=n===a?1:ps(n),gr(ko(e,t),n)},Bn.flatten=qi,Bn.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,f):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===a?1:ps(t)):[]},Bn.flip=function(e){return Ka(e,512)},Bn.flow=tl,Bn.flowRight=nl,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},Bn.functions=function(e){return null==e?[]:wr(e,As(e))},Bn.functionsIn=function(e){return null==e?[]:wr(e,Ps(e))},Bn.groupBy=bo,Bn.initial=function(e){return(null==e?0:e.length)?ra(e,0,-1):[]},Bn.intersection=Wi,Bn.intersectionBy=Yi,Bn.intersectionWith=Gi,Bn.invert=Es,Bn.invertBy=Ts,Bn.invokeMap=_o,Bn.iteratee=al,Bn.keyBy=wo,Bn.keys=As,Bn.keysIn=Ps,Bn.map=ko,Bn.mapKeys=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,a){ir(n,t(e,r,a),e)})),n},Bn.mapValues=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,a){ir(n,r,t(e,r,a))})),n},Bn.matches=function(e){return Br(lr(e,1))},Bn.matchesProperty=function(e,t){return Zr(e,lr(t,1))},Bn.memoize=Do,Bn.merge=Ms,Bn.mergeWith=Ds,Bn.method=il,Bn.methodOf=ol,Bn.mixin=sl,Bn.negate=Lo,Bn.nthArg=function(e){return e=ps(e),Xr((function(t){return Vr(t,e)}))},Bn.omit=Ls,Bn.omitBy=function(e,t){return zs(e,Lo(li(t)))},Bn.once=function(e){return Eo(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(qo(t)||(t=null==t?[]:[t]),qo(n=r?a:n)||(n=null==n?[]:[n]),qr(e,t,n))},Bn.over=cl,Bn.overArgs=Oo,Bn.overEvery=ul,Bn.overSome=dl,Bn.partial=zo,Bn.partialRight=Ro,Bn.partition=jo,Bn.pick=Os,Bn.pickBy=zs,Bn.property=hl,Bn.propertyOf=function(e){return function(t){return null==e?a:kr(e,t)}},Bn.pull=Xi,Bn.pullAll=Ki,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,li(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,a,n):e},Bn.pullAt=$i,Bn.range=fl,Bn.rangeRight=pl,Bn.rearg=Fo,Bn.reject=function(e,t){return(qo(e)?Pt:vr)(e,Lo(li(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],i=e.length;for(t=li(t,3);++r<i;){var o=e[r];t(o,r,e)&&(n.push(o),a.push(r))}return Yr(e,a),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Te(i);return Xr(e,t=t===a?t:ps(t))},Bn.reverse=Qi,Bn.sampleSize=function(e,t,n){return t=(n?xi(e,t,n):t===a)?1:ps(t),(qo(e)?$n:$r)(e,t)},Bn.set=function(e,t,n){return null==e?e:Qr(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:Qr(e,t,n,r)},Bn.shuffle=function(e){return(qo(e)?Qn:na)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&xi(e,t,n)?(t=0,n=r):(t=null==t?0:ps(t),n=n===a?r:ps(n)),ra(e,t,n)):[]},Bn.sortBy=So,Bn.sortedUniq=function(e){return e&&e.length?sa(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?sa(e,li(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&xi(e,t,n)&&(t=n=a),(n=n===a?v:n>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!is(t))&&!(t=ca(t))&&ln(e)?_a(mn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Te(i);return t=null==t?0:Gt(ps(t),0),Xr((function(n){var r=n[t],a=_a(n,0,t);return r&&Ot(a,r),Nt(e,this,a)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ra(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ra(e,0,(t=n||t===a?1:ps(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ra(e,(t=r-(t=n||t===a?1:ps(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?fa(e,li(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?fa(e,li(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new Te(i);return es(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Ao(e,t,{leading:r,maxWait:t,trailing:a})},Bn.thru=fo,Bn.toArray=hs,Bn.toPairs=Rs,Bn.toPairsIn=Fs,Bn.toPath=function(e){return qo(e)?Lt(e,Oi):ls(e)?[e]:Ta(Li(ys(e)))},Bn.toPlainObject=gs,Bn.transform=function(e,t,n){var r=qo(e),a=r||Go(e)||cs(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=a?r?new i:[]:es(e)&&Ko(i)?Zn(We(e)):{}}return(a?Tt:br)(e,(function(e,r,a){return t(n,e,r,a)})),n},Bn.unary=function(e){return No(e,1)},Bn.union=eo,Bn.unionBy=to,Bn.unionWith=no,Bn.uniq=function(e){return e&&e.length?ua(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?ua(e,li(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?ua(e,a,t):[]},Bn.unset=function(e,t){return null==e||da(e,t)},Bn.unzip=ro,Bn.unzipWith=ao,Bn.update=function(e,t,n){return null==e?e:ha(e,t,ya(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:ha(e,t,ya(n),r)},Bn.values=Bs,Bn.valuesIn=function(e){return null==e?[]:en(e,Ps(e))},Bn.without=io,Bn.words=Ks,Bn.wrap=function(e,t){return zo(ya(t),e)},Bn.xor=oo,Bn.xorBy=so,Bn.xorWith=lo,Bn.zip=co,Bn.zipObject=function(e,t){return va(e||[],t||[],tr)},Bn.zipObjectDeep=function(e,t){return va(e||[],t||[],Qr)},Bn.zipWith=uo,Bn.entries=Rs,Bn.entriesIn=Fs,Bn.extend=bs,Bn.extendWith=_s,sl(Bn,Bn),Bn.add=gl,Bn.attempt=$s,Bn.camelCase=Zs,Bn.capitalize=Us,Bn.ceil=yl,Bn.clamp=function(e,t,n){return n===a&&(n=t,t=a),n!==a&&(n=(n=vs(n))===n?n:0),t!==a&&(t=(t=vs(t))===t?t:0),sr(vs(e),t,n)},Bn.clone=function(e){return lr(e,4)},Bn.cloneDeep=function(e){return lr(e,5)},Bn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:a)},Bn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:a)},Bn.conformsTo=function(e,t){return null==t||cr(e,t,As(t))},Bn.deburr=Vs,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=xl,Bn.endsWith=function(e,t,n){e=ys(e),t=ca(t);var r=e.length,i=n=n===a?r:sr(ps(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Bn.eq=Bo,Bn.escape=function(e){return(e=ys(e))&&K.test(e)?e.replace(J,on):e},Bn.escapeRegExp=function(e){return(e=ys(e))&&ie.test(e)?e.replace(ae,"\\$&"):e},Bn.every=function(e,t,n){var r=qo(e)?At:pr;return n&&xi(e,t,n)&&(t=a),r(e,li(t,3))},Bn.find=vo,Bn.findIndex=Ui,Bn.findKey=function(e,t){return Zt(e,li(t,3),br)},Bn.findLast=go,Bn.findLastIndex=Vi,Bn.findLastKey=function(e,t){return Zt(e,li(t,3),_r)},Bn.floor=bl,Bn.forEach=yo,Bn.forEachRight=xo,Bn.forIn=function(e,t){return null==e?e:yr(e,li(t,3),Ps)},Bn.forInRight=function(e,t){return null==e?e:xr(e,li(t,3),Ps)},Bn.forOwn=function(e,t){return e&&br(e,li(t,3))},Bn.forOwnRight=function(e,t){return e&&_r(e,li(t,3))},Bn.get=Cs,Bn.gt=Zo,Bn.gte=Uo,Bn.has=function(e,t){return null!=e&&mi(e,t,Nr)},Bn.hasIn=Ns,Bn.head=Hi,Bn.identity=rl,Bn.includes=function(e,t,n,r){e=Wo(e)?e:Bs(e),n=n&&!r?ps(n):0;var a=e.length;return n<0&&(n=Gt(a+n,0)),ss(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Vt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:ps(n);return a<0&&(a=Gt(r+a,0)),Vt(e,t,a)},Bn.inRange=function(e,t,n){return t=fs(t),n===a?(n=t,t=0):n=fs(n),function(e,t,n){return e>=xn(t,n)&&e<Gt(t,n)}(e=vs(e),t,n)},Bn.invoke=Is,Bn.isArguments=Vo,Bn.isArray=qo,Bn.isArrayBuffer=Ho,Bn.isArrayLike=Wo,Bn.isArrayLikeObject=Yo,Bn.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Sr(e)==b},Bn.isBuffer=Go,Bn.isDate=Jo,Bn.isElement=function(e){return ts(e)&&1===e.nodeType&&!as(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Wo(e)&&(qo(e)||"string"==typeof e||"function"==typeof e.splice||Go(e)||cs(e)||Vo(e)))return!e.length;var t=pi(e);if(t==S||t==I)return!e.size;if(ki(e))return!Or(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Pr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:a)?n(e,t):a;return r===a?Pr(e,t,a,n):!!r},Bn.isError=Xo,Bn.isFinite=function(e){return"number"==typeof e&&xt(e)},Bn.isFunction=Ko,Bn.isInteger=$o,Bn.isLength=Qo,Bn.isMap=ns,Bn.isMatch=function(e,t){return e===t||Mr(e,t,ui(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:a,Mr(e,t,ui(t),n)},Bn.isNaN=function(e){return rs(e)&&e!=+e},Bn.isNative=function(e){if(wi(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=rs,Bn.isObject=es,Bn.isObjectLike=ts,Bn.isPlainObject=as,Bn.isRegExp=is,Bn.isSafeInteger=function(e){return $o(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=os,Bn.isString=ss,Bn.isSymbol=ls,Bn.isTypedArray=cs,Bn.isUndefined=function(e){return e===a},Bn.isWeakMap=function(e){return ts(e)&&pi(e)==M},Bn.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Sr(e)},Bn.join=function(e,t){return null==e?"":bt.call(e,t)},Bn.kebabCase=qs,Bn.last=Ji,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==a&&(i=(i=ps(n))<0?Gt(r+i,0):xn(i,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Ut(e,Ht,i,!0)},Bn.lowerCase=Hs,Bn.lowerFirst=Ws,Bn.lt=us,Bn.lte=ds,Bn.max=function(e){return e&&e.length?mr(e,rl,Cr):a},Bn.maxBy=function(e,t){return e&&e.length?mr(e,li(t,2),Cr):a},Bn.mean=function(e){return Wt(e,rl)},Bn.meanBy=function(e,t){return Wt(e,li(t,2))},Bn.min=function(e){return e&&e.length?mr(e,rl,Rr):a},Bn.minBy=function(e,t){return e&&e.length?mr(e,li(t,2),Rr):a},Bn.stubArray=ml,Bn.stubFalse=vl,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=_l,Bn.nth=function(e,t){return e&&e.length?Vr(e,ps(t)):a},Bn.noConflict=function(){return mt._===this&&(mt._=Be),this},Bn.noop=ll,Bn.now=Co,Bn.pad=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return qa(pt(a),n)+e+qa(ft(a),n)},Bn.padEnd=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?e+qa(t-r,n):e},Bn.padStart=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?qa(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(ys(e).replace(oe,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&xi(e,t,n)&&(t=n=a),n===a&&("boolean"==typeof t?(n=t,t=a):"boolean"==typeof e&&(n=e,e=a)),e===a&&t===a?(e=0,t=1):(e=fs(e),t===a?(t=e,e=0):t=fs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=wn();return xn(e+i*(t-e+dt("1e-"+((i+"").length-1))),t)}return Gr(e,t)},Bn.reduce=function(e,t,n){var r=qo(e)?zt:Jt,a=arguments.length<3;return r(e,li(t,4),n,a,hr)},Bn.reduceRight=function(e,t,n){var r=qo(e)?Rt:Jt,a=arguments.length<3;return r(e,li(t,4),n,a,fr)},Bn.repeat=function(e,t,n){return t=(n?xi(e,t,n):t===a)?1:ps(t),Jr(ys(e),t)},Bn.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,i=(t=xa(t,e)).length;for(i||(i=1,e=a);++r<i;){var o=null==e?a:e[Oi(t[r])];o===a&&(r=i,o=n),e=Ko(o)?o.call(e):o}return e},Bn.round=wl,Bn.runInContext=e,Bn.sample=function(e){return(qo(e)?Kn:Kr)(e)},Bn.size=function(e){if(null==e)return 0;if(Wo(e))return ss(e)?pn(e):e.length;var t=pi(e);return t==S||t==I?e.size:Or(e).length},Bn.snakeCase=Ys,Bn.some=function(e,t,n){var r=qo(e)?Ft:aa;return n&&xi(e,t,n)&&(t=a),r(e,li(t,3))},Bn.sortedIndex=function(e,t){return ia(e,t)},Bn.sortedIndexBy=function(e,t,n){return oa(e,t,li(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ia(e,t);if(r<n&&Bo(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return ia(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return oa(e,t,li(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ia(e,t,!0)-1;if(Bo(e[n],t))return n}return-1},Bn.startCase=Gs,Bn.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:sr(ps(n),0,e.length),t=ca(t),e.slice(n,n+t.length)==t},Bn.subtract=kl,Bn.sum=function(e){return e&&e.length?Xt(e,rl):0},Bn.sumBy=function(e,t){return e&&e.length?Xt(e,li(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&xi(e,t,n)&&(t=a),e=ys(e),t=_s({},t,r,$a);var i,o,s=_s({},t.imports,r.imports,$a),l=As(s),c=en(s,l),u=0,d=t.interpolate||we,h="__p += '",f=Ne((t.escape||we).source+"|"+d.source+"|"+(d===ee?pe:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(f,(function(t,n,r,a,s,l){return r||(r=a),h+=e.slice(u,l).replace(ke,sn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new se("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(H,""):h).replace(W,"$1").replace(Y,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=$s((function(){return je(l,p+"return "+h).apply(a,c)}));if(v.source=h,Xo(v))throw v;return v},Bn.times=function(e,t){if((e=ps(e))<1||e>p)return[];var n=v,r=xn(e,v);t=li(t),e-=v;for(var a=Kt(r,t);++n<e;)t(n);return a},Bn.toFinite=fs,Bn.toInteger=ps,Bn.toLength=ms,Bn.toLower=function(e){return ys(e).toLowerCase()},Bn.toNumber=vs,Bn.toSafeInteger=function(e){return e?sr(ps(e),-9007199254740991,p):0===e?e:0},Bn.toString=ys,Bn.toUpper=function(e){return ys(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=ys(e))&&(n||t===a))return $t(e);if(!e||!(t=ca(t)))return e;var r=mn(e),i=mn(t);return _a(r,nn(r,i),rn(r,i)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=ys(e))&&(n||t===a))return e.slice(0,vn(e)+1);if(!e||!(t=ca(t)))return e;var r=mn(e);return _a(r,0,rn(r,mn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=ys(e))&&(n||t===a))return e.replace(oe,"");if(!e||!(t=ca(t)))return e;var r=mn(e);return _a(r,nn(r,mn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(es(t)){var i="separator"in t?t.separator:i;n="length"in t?ps(t.length):n,r="omission"in t?ca(t.omission):r}var o=(e=ys(e)).length;if(ln(e)){var s=mn(e);o=s.length}if(n>=o)return e;var l=n-pn(r);if(l<1)return r;var c=s?_a(s,0,l).join(""):e.slice(0,l);if(i===a)return c+r;if(s&&(l+=c.length-l),is(i)){if(e.slice(l).search(i)){var u,d=c;for(i.global||(i=Ne(i.source,ys(me.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var h=u.index;c=c.slice(0,h===a?l:h)}}else if(e.indexOf(ca(i),l)!=l){var f=c.lastIndexOf(i);f>-1&&(c=c.slice(0,f))}return c+r},Bn.unescape=function(e){return(e=ys(e))&&X.test(e)?e.replace(G,gn):e},Bn.uniqueId=function(e){var t=++Oe;return ys(e)+t},Bn.upperCase=Js,Bn.upperFirst=Xs,Bn.each=yo,Bn.eachRight=xo,Bn.first=Hi,sl(Bn,function(){var e={};return br(Bn,(function(t,n){Le.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),Tt(["drop","take"],(function(e,t){qn.prototype[e]=function(n){n=n===a?1:Gt(ps(n),0);var r=this.__filtered__&&!t?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,v),type:e+(r.__dir__<0?"Right":"")}),r},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(rl)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new qn(this):this.map((function(n){return Ir(n,e,t)}))})),qn.prototype.reject=function(e){return this.filter(Lo(li(e)))},qn.prototype.slice=function(e,t){e=ps(e);var n=this;return n.__filtered__&&(e>0||t<0)?new qn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==a&&(n=(t=ps(t))<0?n.dropRight(-t):n.take(t-e)),n)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(v)},br(qn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Bn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(Bn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof qn,c=s[0],u=l||qo(t),d=function(e){var t=i.apply(Bn,Ot([e],s));return r&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,f=!!this.__actions__.length,p=o&&!h,m=l&&!f;if(!o&&u){t=m?t:new qn(this);var v=e.apply(t,s);return v.__actions__.push({func:fo,args:[d],thisArg:a}),new Vn(v,h)}return p&&m?e.apply(this,s):(v=this.thru(d),p?r?v.value()[0]:v.value():v)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(qo(a)?a:[],e)}return this[n]((function(n){return t.apply(qo(n)?n:[],e)}))}})),br(qn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Le.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[Ba(a,2).name]=[{name:"wrapper",func:a}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=Ta(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ta(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ta(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qo(e),r=t<0,a=n?e.length:0,i=function(e,t,n){var r=-1,a=n.length;for(;++r<a;){var i=n[r],o=i.size;switch(i.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=xn(t,e+o);break;case"takeRight":e=Gt(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=i.start,s=i.end,l=s-o,c=r?s:o-1,u=this.__iteratees__,d=u.length,h=0,f=xn(l,this.__takeCount__);if(!n||!r&&a==l&&f==l)return pa(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,v=e[c+=t];++m<d;){var g=u[m],y=g.iteratee,x=g.type,b=y(v);if(2==x)v=b;else if(!b){if(1==x)continue e;break e}}p[h++]=v}return p},Bn.prototype.at=po,Bn.prototype.chain=function(){return ho(this)},Bn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===a&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof Un;){var r=Ri(n);r.__index__=0,r.__values__=a,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var t=e;return this.__actions__.length&&(t=new qn(this)),(t=t.reverse()).__actions__.push({func:fo,args:[Qi],thisArg:a}),new Vn(t,this.__chain__)}return this.thru(Qi)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return pa(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Ke&&(Bn.prototype[Ke]=function(){return this}),Bn}();mt._=yn,(r=function(){return yn}.call(t,n,t,e))===a||(e.exports=r)}.call(this)},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function a(e){t=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Gn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=m()),e._pf}function g(e){if(null==e._isValid){var t=v(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function y(e){var t=p(NaN);return null!=e?f(v(t),e):v(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var x=r.momentProperties=[],b=!1;function _(e,t){var n,r,a,i=x.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=v(t)),c(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)c(a=t[r=x[n]])||(e[r]=a);return e}function w(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function k(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function j(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var a,i,o,l=[],c=arguments.length;for(i=0;i<c;i++){if(a="","object"===typeof arguments[i]){for(o in a+="\n["+i+"] ",arguments[0])s(arguments[0],o)&&(a+=o+": "+arguments[0][o]+", ");a=a.slice(0,-2)}else a=arguments[i];l.push(a)}j(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var C,N={};function E(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),N[e]||(j(t),N[e]=!0)}function T(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function I(e){var t,n;for(n in e)s(e,n)&&(T(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var n,r=f({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=f({},r[n]));return r}function P(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var M={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return T(r)?r.call(t,n):r}function L(e,t,n){var r=""+Math.abs(e),a=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var O=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},F={};function B(e,t,n,r){var a=r;"string"===typeof r&&(a=function(){return this[r]()}),e&&(F[e]=a),t&&(F[t[0]]=function(){return L(a.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function Z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e){var t,n,r=e.match(O);for(t=0,n=r.length;t<n;t++)F[r[t]]?r[t]=F[r[t]]:r[t]=Z(r[t]);return function(t){var a,i="";for(a=0;a<n;a++)i+=T(r[a])?r[a].call(t,e):r[a];return i}}function V(e,t){return e.isValid()?(t=q(t,e.localeData()),R[t]=R[t]||U(t),R[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(z.lastIndex=0;n>=0&&z.test(e);)e=e.replace(z,r),z.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function W(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(O).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function G(){return this._invalidDate}var J="%d",X=/\d{1,2}/;function K(e){return this._ordinal.replace("%d",e)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(e,t,n,r){var a=this._relativeTime[n];return T(a)?a(e,t,n,r):a.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ae(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ie={};function oe(e,t){ie[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ie[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function le(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ue(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function de(e,t){return function(n){return null!=n?(fe(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function fe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&le(e.year())&&1===e.month()&&29===e.date()?(n=ue(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Qe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return T(this[e=re(e)])?this[e]():this}function me(e,t){if("object"===typeof e){var n,r=se(e=ae(e)),a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(T(this[e=re(e)]))return this[e](t);return this}var ve,ge=/\d/,ye=/\d\d/,xe=/\d{3}/,be=/\d{4}/,_e=/[+-]?\d{6}/,we=/\d\d?/,ke=/\d\d\d\d?/,je=/\d\d\d\d\d\d?/,Se=/\d{1,3}/,Ce=/\d{1,4}/,Ne=/[+-]?\d{1,6}/,Ee=/\d+/,Te=/[+-]?\d+/,Ie=/Z|[+-]\d\d:?\d\d/gi,Ae=/Z|[+-]\d\d(?::?\d\d)?/gi,Pe=/[+-]?\d+(\.\d{1,3})?/,Me=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function De(e,t,n){ve[e]=T(t)?t:function(e,r){return e&&n?n:t}}function Le(e,t){return s(ve,e)?ve[e](t._strict,t._locale):new RegExp(Oe(e))}function Oe(e){return ze(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,a){return t||n||r||a})))}function ze(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ve={};var Re={};function Fe(e,t){var n,r,a=t;for("string"===typeof e&&(e=[e]),u(t)&&(a=function(e,n){n[t]=ue(e)}),r=e.length,n=0;n<r;n++)Re[e[n]]=a}function Be(e,t){Fe(e,(function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)}))}function Ze(e,t,n){null!=t&&s(Re,e)&&Re[e](t,n._a,n,e)}var Ue,Ve=0,qe=1,He=2,We=3,Ye=4,Ge=5,Je=6,Xe=7,Ke=8;function $e(e,t){return(e%t+t)%t}function Qe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=$e(t,12);return e+=(t-n)/12,1===n?le(e)?29:28:31-n%7%2}Ue=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),B("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),De("M",we),De("MM",we,ye),De("MMM",(function(e,t){return t.monthsShortRegex(e)})),De("MMMM",(function(e,t){return t.monthsRegex(e)})),Fe(["M","MM"],(function(e,t){t[qe]=ue(e)-1})),Fe(["MMM","MMMM"],(function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[qe]=a:v(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Me,at=Me;function it(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}function ot(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,a,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=Ue.call(this._shortMonthsParse,o))?a:null:-1!==(a=Ue.call(this._longMonthsParse,o))?a:null:"MMM"===t?-1!==(a=Ue.call(this._shortMonthsParse,o))||-1!==(a=Ue.call(this._longMonthsParse,o))?a:null:-1!==(a=Ue.call(this._longMonthsParse,o))||-1!==(a=Ue.call(this._shortMonthsParse,o))?a:null}function lt(e,t,n){var r,a,i;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ue(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Qe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ut(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function dt(){return Qe(this.year(),this.month())}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=at),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],a=[],i=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),a.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),a.sort(e),i.sort(e),t=0;t<12;t++)r[t]=ze(r[t]),a[t]=ze(a[t]);for(t=0;t<24;t++)i[t]=ze(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function mt(e){return le(e)?366:365}B("Y",0,0,(function(){var e=this.year();return e<=9999?L(e,4):"+"+e})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),De("Y",Te),De("YY",we,ye),De("YYYY",Ce,be),De("YYYYY",Ne,_e),De("YYYYYY",Ne,_e),Fe(["YYYYY","YYYYYY"],Ve),Fe("YYYY",(function(e,t){t[Ve]=2===e.length?r.parseTwoDigitYear(e):ue(e)})),Fe("YY",(function(e,t){t[Ve]=r.parseTwoDigitYear(e)})),Fe("Y",(function(e,t){t[Ve]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ue(e)+(ue(e)>68?1900:2e3)};var vt=de("FullYear",!0);function gt(){return le(this.year())}function yt(e,t,n,r,a,i,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,a,i,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,a,i,o),s}function xt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+xt(e,0,r).getUTCDay()-t)%7+r-1}function _t(e,t,n,r,a){var i,o,s=1+7*(t-1)+(7+n-r)%7+bt(e,r,a);return s<=0?o=mt(i=e-1)+s:s>mt(e)?(i=e+1,o=s-mt(e)):(i=e,o=s),{year:i,dayOfYear:o}}function wt(e,t,n){var r,a,i=bt(e.year(),t,n),o=Math.floor((e.dayOfYear()-i-1)/7)+1;return o<1?r=o+kt(a=e.year()-1,t,n):o>kt(e.year(),t,n)?(r=o-kt(e.year(),t,n),a=e.year()+1):(a=e.year(),r=o),{week:r,year:a}}function kt(e,t,n){var r=bt(e,t,n),a=bt(e+1,t,n);return(mt(e)-r+a)/7}function jt(e){return wt(e,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),De("w",we),De("ww",we,ye),De("W",we),De("WW",we,ye),Be(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ue(e)}));var St={dow:0,doy:6};function Ct(){return this._week.dow}function Nt(){return this._week.doy}function Et(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Tt(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function It(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function At(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pt(e,t){return e.slice(t,7).concat(e.slice(0,t))}B("d",0,"do","day"),B("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),B("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),B("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),De("d",we),De("e",we),De("E",we),De("dd",(function(e,t){return t.weekdaysMinRegex(e)})),De("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),De("dddd",(function(e,t){return t.weekdaysRegex(e)})),Be(["dd","ddd","dddd"],(function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);null!=a?t.d=a:v(n).invalidWeekday=e})),Be(["d","e","E"],(function(e,t,n,r){t[r]=ue(e)}));var Mt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Lt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ot=Me,zt=Me,Rt=Me;function Ft(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Pt(n,this._week.dow):e?n[e.day()]:n}function Bt(e){return!0===e?Pt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Zt(e){return!0===e?Pt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ut(e,t,n){var r,a,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=Ue.call(this._weekdaysParse,o))?a:null:"ddd"===t?-1!==(a=Ue.call(this._shortWeekdaysParse,o))?a:null:-1!==(a=Ue.call(this._minWeekdaysParse,o))?a:null:"dddd"===t?-1!==(a=Ue.call(this._weekdaysParse,o))||-1!==(a=Ue.call(this._shortWeekdaysParse,o))||-1!==(a=Ue.call(this._minWeekdaysParse,o))?a:null:"ddd"===t?-1!==(a=Ue.call(this._shortWeekdaysParse,o))||-1!==(a=Ue.call(this._weekdaysParse,o))||-1!==(a=Ue.call(this._minWeekdaysParse,o))?a:null:-1!==(a=Ue.call(this._minWeekdaysParse,o))||-1!==(a=Ue.call(this._weekdaysParse,o))||-1!==(a=Ue.call(this._shortWeekdaysParse,o))?a:null}function Vt(e,t,n){var r,a,i;if(this._weekdaysParseExact)return Ut.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=It(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Wt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=At(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Ot),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Gt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=zt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Jt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Rt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Xt(){function e(e,t){return t.length-e.length}var t,n,r,a,i,o=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=ze(this.weekdaysMin(n,"")),a=ze(this.weekdaysShort(n,"")),i=ze(this.weekdays(n,"")),o.push(r),s.push(a),l.push(i),c.push(r),c.push(a),c.push(i);o.sort(e),s.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Kt(){return this.hours()%12||12}function $t(){return this.hours()||24}function Qt(e,t){B(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Kt),B("k",["kk",2],0,$t),B("hmm",0,0,(function(){return""+Kt.apply(this)+L(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+Kt.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+L(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)})),Qt("a",!0),Qt("A",!1),ne("hour","h"),oe("hour",13),De("a",en),De("A",en),De("H",we),De("h",we),De("k",we),De("HH",we,ye),De("hh",we,ye),De("kk",we,ye),De("hmm",ke),De("hmmss",je),De("Hmm",ke),De("Hmmss",je),Fe(["H","HH"],We),Fe(["k","kk"],(function(e,t,n){var r=ue(e);t[We]=24===r?0:r})),Fe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Fe(["h","hh"],(function(e,t,n){t[We]=ue(e),v(n).bigHour=!0})),Fe("hmm",(function(e,t,n){var r=e.length-2;t[We]=ue(e.substr(0,r)),t[Ye]=ue(e.substr(r)),v(n).bigHour=!0})),Fe("hmmss",(function(e,t,n){var r=e.length-4,a=e.length-2;t[We]=ue(e.substr(0,r)),t[Ye]=ue(e.substr(r,2)),t[Ge]=ue(e.substr(a)),v(n).bigHour=!0})),Fe("Hmm",(function(e,t,n){var r=e.length-2;t[We]=ue(e.substr(0,r)),t[Ye]=ue(e.substr(r))})),Fe("Hmmss",(function(e,t,n){var r=e.length-4,a=e.length-2;t[We]=ue(e.substr(0,r)),t[Ye]=ue(e.substr(r,2)),t[Ge]=ue(e.substr(a))}));var nn=/[ap]\.?m?\.?/i,rn=de("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:M,longDateFormat:H,invalidDate:Y,ordinal:J,dayOfMonthOrdinalParse:X,relativeTime:$,months:et,monthsShort:tt,week:St,weekdays:Mt,weekdaysMin:Lt,weekdaysShort:Dt,meridiemParse:nn},ln={},cn={};function un(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,a,i=0;i<e.length;){for(t=(a=dn(e[i]).split("-")).length,n=(n=dn(e[i+1]))?n.split("-"):null;t>0;){if(r=pn(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&un(a,n)>=t-1)break;t--}i++}return on}function fn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&fn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(r){ln[t]=null}return ln[t]}function mn(e,t){var n;return e&&((n=c(t)?yn(e):vn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function vn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=ln[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new P(A(r,t)),cn[e]&&cn[e].forEach((function(e){vn(e.name,e.config)})),mn(e),ln[e]}return delete ln[e],null}function gn(e,t){if(null!=t){var n,r,a=sn;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(A(ln[e]._config,t)):(null!=(r=pn(e))&&(a=r._config),t=A(a,t),null==r&&(t.abbr=e),(n=new P(t)).parentLocale=ln[e],ln[e]=n),mn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===mn()&&mn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!i(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function xn(){return C(ln)}function bn(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[qe]<0||n[qe]>11?qe:n[He]<1||n[He]>Qe(n[Ve],n[qe])?He:n[We]<0||n[We]>24||24===n[We]&&(0!==n[Ye]||0!==n[Ge]||0!==n[Je])?We:n[Ye]<0||n[Ye]>59?Ye:n[Ge]<0||n[Ge]>59?Ge:n[Je]<0||n[Je]>999?Je:-1,v(e)._overflowDayOfYear&&(t<Ve||t>He)&&(t=He),v(e)._overflowWeeks&&-1===t&&(t=Xe),v(e)._overflowWeekday&&-1===t&&(t=Ke),v(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kn=/Z|[+-]\d\d(?::?\d\d)?/,jn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Cn=/^\/?Date\((-?\d+)/i,Nn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,En={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tn(e){var t,n,r,a,i,o,s=e._i,l=_n.exec(s)||wn.exec(s),c=jn.length,u=Sn.length;if(l){for(v(e).iso=!0,t=0,n=c;t<n;t++)if(jn[t][1].exec(l[1])){a=jn[t][0],r=!1!==jn[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Sn[t][1].exec(l[3])){i=(l[2]||" ")+Sn[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(l[4]){if(!kn.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=a+(i||"")+(o||""),Zn(e)}else e._isValid=!1}function In(e,t,n,r,a,i){var o=[An(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return i&&o.push(parseInt(i,10)),o}function An(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Mn(e,t,n){return!e||Dt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Dn(e,t,n){if(e)return En[e];if(t)return 0;var r=parseInt(n,10),a=r%100;return(r-a)/100*60+a}function Ln(e){var t,n=Nn.exec(Pn(e._i));if(n){if(t=In(n[4],n[3],n[2],n[5],n[6],n[7]),!Mn(n[1],t,e))return;e._a=t,e._tzm=Dn(n[8],n[9],n[10]),e._d=xt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function On(e){var t=Cn.exec(e._i);null===t?(Tn(e),!1===e._isValid&&(delete e._isValid,Ln(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function zn(e,t,n){return null!=e?e:null!=t?t:n}function Rn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fn(e){var t,n,r,a,i,o=[];if(!e._d){for(r=Rn(e),e._w&&null==e._a[He]&&null==e._a[qe]&&Bn(e),null!=e._dayOfYear&&(i=zn(e._a[Ve],r[Ve]),(e._dayOfYear>mt(i)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=xt(i,0,e._dayOfYear),e._a[qe]=n.getUTCMonth(),e._a[He]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[We]&&0===e._a[Ye]&&0===e._a[Ge]&&0===e._a[Je]&&(e._nextDay=!0,e._a[We]=0),e._d=(e._useUTC?xt:yt).apply(null,o),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[We]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==a&&(v(e).weekdayMismatch=!0)}}function Bn(e){var t,n,r,a,i,o,s,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,o=4,n=zn(t.GG,e._a[Ve],wt(Jn(),1,4).year),r=zn(t.W,1),((a=zn(t.E,1))<1||a>7)&&(l=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,c=wt(Jn(),i,o),n=zn(t.gg,e._a[Ve],c.year),r=zn(t.w,c.week),null!=t.d?((a=t.d)<0||a>6)&&(l=!0):null!=t.e?(a=t.e+i,(t.e<0||t.e>6)&&(l=!0)):a=i),r<1||r>kt(n,i,o)?v(e)._overflowWeeks=!0:null!=l?v(e)._overflowWeekday=!0:(s=_t(n,r,a,i,o),e._a[Ve]=s.year,e._dayOfYear=s.dayOfYear)}function Zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],v(e).empty=!0;var t,n,a,i,o,s,l,c=""+e._i,u=c.length,d=0;for(l=(a=q(e._f,e._locale).match(O)||[]).length,t=0;t<l;t++)i=a[t],(n=(c.match(Le(i,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&v(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),d+=n.length),F[i]?(n?v(e).empty=!1:v(e).unusedTokens.push(i),Ze(i,n,e)):e._strict&&!n&&v(e).unusedTokens.push(i);v(e).charsLeftOver=u-d,c.length>0&&v(e).unusedInput.push(c),e._a[We]<=12&&!0===v(e).bigHour&&e._a[We]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[We]=Un(e._locale,e._a[We],e._meridiem),null!==(s=v(e).era)&&(e._a[Ve]=e._locale.erasConvertYear(s,e._a[Ve])),Fn(e),bn(e)}else Ln(e);else Tn(e)}function Un(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Vn(e){var t,n,r,a,i,o,s=!1,l=e._f.length;if(0===l)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<l;a++)i=0,o=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],Zn(t),g(t)&&(o=!0),i+=v(t).charsLeftOver,i+=10*v(t).unusedTokens.length,v(t).score=i,s?i<r&&(r=i,n=t):(null==r||i<r||o)&&(r=i,n=t,o&&(s=!0));f(e,n||t)}function qn(e){if(!e._d){var t=ae(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Fn(e)}}function Hn(e){var t=new w(bn(Wn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Wn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new w(bn(t)):(d(t)?e._d=t:i(n)?Vn(e):n?Zn(e):Yn(e),g(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?On(e):i(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Fn(e)):o(t)?qn(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Gn(e,t,n,r,a){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&l(e)||i(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=n,s._i=e,s._f=t,s._strict=r,Hn(s)}function Jn(e,t,n,r){return Gn(e,t,n,r,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Xn=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Jn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Kn=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Jn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function $n(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Jn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Qn(){return $n("isBefore",[].slice.call(arguments,0))}function er(){return $n("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,a=nr.length;for(t in e)if(s(e,t)&&(-1===Ue.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<a;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==ue(e[nr[n]])&&(r=!0)}return!0}function ar(){return this._isValid}function ir(){return Er(NaN)}function or(e){var t=ae(e),n=t.year||0,r=t.quarter||0,a=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*i,this._months=+a+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function sr(e){return e instanceof or}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&ue(e[r])!==ue(t[r]))&&o++;return o+i}function ur(e,t){B(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+L(~~(e/60),2)+t+L(~~e%60,2)}))}ur("Z",":"),ur("ZZ",""),De("Z",Ae),De("ZZ",Ae),Fe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(Ae,e)}));var dr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,a=(t||"").match(e);return null===a?null:0===(r=60*(n=((a[a.length-1]||[])+"").match(dr)||["-",0,0])[1]+ue(n[2]))?0:"+"===n[0]?r:-r}function fr(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(k(e)||d(e)?e.valueOf():Jn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),r.updateOffset(n,!1),n):Jn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function mr(e,t,n){var a,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(Ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(a=pr(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),i!==e&&(!t||this._changeInProgress?Mr(this,Er(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:pr(this)}function vr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function xr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(Ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Jn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function _r(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=Wn(t))._a?(e=t._isUTC?p(t._a):Jn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function kr(){return!!this.isValid()&&!this._isUTC}function jr(){return!!this.isValid()&&this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Cr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Nr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Er(e,t){var n,r,a,i=e,o=null;return sr(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(o=Cr.exec(e))?(n="-"===o[1]?-1:1,i={y:0,d:ue(o[He])*n,h:ue(o[We])*n,m:ue(o[Ye])*n,s:ue(o[Ge])*n,ms:ue(lr(1e3*o[Je]))*n}):(o=Nr.exec(e))?(n="-"===o[1]?-1:1,i={y:Tr(o[2],n),M:Tr(o[3],n),w:Tr(o[4],n),d:Tr(o[5],n),h:Tr(o[6],n),m:Tr(o[7],n),s:Tr(o[8],n)}):null==i?i={}:"object"===typeof i&&("from"in i||"to"in i)&&(a=Ar(Jn(i.from),Jn(i.to)),(i={}).ms=a.milliseconds,i.M=a.months),r=new or(i),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Tr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ir(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ar(e,t){var n;return e.isValid()&&t.isValid()?(t=fr(t,e),e.isBefore(t)?n=Ir(e,t):((n=Ir(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pr(e,t){return function(n,r){var a;return null===r||isNaN(+r)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),Mr(this,Er(n,r),e),this}}function Mr(e,t,n,a){var i=t._milliseconds,o=lr(t._days),s=lr(t._months);e.isValid()&&(a=null==a||a,s&&ct(e,he(e,"Month")+s*n),o&&fe(e,"Date",he(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),a&&r.updateOffset(e,o||s))}Er.fn=or.prototype,Er.invalid=ir;var Dr=Pr(1,"add"),Lr=Pr(-1,"subtract");function Or(e){return"string"===typeof e||e instanceof String}function zr(e){return k(e)||d(e)||Or(e)||u(e)||Fr(e)||Rr(e)||null===e||void 0===e}function Rr(e){var t,n,r=o(e)&&!l(e),a=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=i.length;for(t=0;t<c;t+=1)n=i[t],a=a||s(e,n);return r&&a}function Fr(e){var t=i(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Or(e)})).length),t&&n}function Br(e){var t,n,r=o(e)&&!l(e),a=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)n=i[t],a=a||s(e,n);return r&&a}function Zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ur(e,t){1===arguments.length&&(arguments[0]?zr(arguments[0])?(e=arguments[0],t=void 0):Br(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Jn(),a=fr(n,this).startOf("day"),i=r.calendarFormat(this,a)||"sameElse",o=t&&(T(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Jn(n)))}function Vr(){return new w(this)}function qr(e,t){var n=k(e)?e:Jn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Hr(e,t){var n=k(e)?e:Jn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Wr(e,t,n,r){var a=k(e)?e:Jn(e),i=k(t)?t:Jn(t);return!!(this.isValid()&&a.isValid()&&i.isValid())&&("("===(r=r||"()")[0]?this.isAfter(a,n):!this.isBefore(a,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n))}function Yr(e,t){var n,r=k(e)?e:Jn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Gr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Jr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Xr(e,t,n){var r,a,i;if(!this.isValid())return NaN;if(!(r=fr(e,this)).isValid())return NaN;switch(a=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":i=Kr(this,r)/12;break;case"month":i=Kr(this,r);break;case"quarter":i=Kr(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-a)/864e5;break;case"week":i=(this-r-a)/6048e5;break;default:i=this-r}return n?i:ce(i)}function Kr(e,t){if(e.date()<t.date())return-Kr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function $r(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?V(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(n,"Z")):V(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ea(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,a="moment",i="";return this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+a+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=i+'[")]',this.format(e+t+n+r)}function ta(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=V(this,e);return this.localeData().postformat(t)}function na(e,t){return this.isValid()&&(k(e)&&e.isValid()||Jn(e).isValid())?Er({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ra(e){return this.from(Jn(),e)}function aa(e,t){return this.isValid()&&(k(e)&&e.isValid()||Jn(e).isValid())?Er({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ia(e){return this.to(Jn(),e)}function oa(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var sa=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function la(){return this._locale}var ca=1e3,ua=60*ca,da=60*ua,ha=3506328*da;function fa(e,t){return(e%t+t)%t}function pa(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ha:new Date(e,t,n).valueOf()}function ma(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ha:Date.UTC(e,t,n)}function va(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?ma:pa,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fa(t+(this._isUTC?0:this.utcOffset()*ua),da);break;case"minute":t=this._d.valueOf(),t-=fa(t,ua);break;case"second":t=this._d.valueOf(),t-=fa(t,ca)}return this._d.setTime(t),r.updateOffset(this,!0),this}function ga(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?ma:pa,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=da-fa(t+(this._isUTC?0:this.utcOffset()*ua),da)-1;break;case"minute":t=this._d.valueOf(),t+=ua-fa(t,ua)-1;break;case"second":t=this._d.valueOf(),t+=ca-fa(t,ca)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function ya(){return this._d.valueOf()-6e4*(this._offset||0)}function xa(){return Math.floor(this.valueOf()/1e3)}function ba(){return new Date(this.valueOf())}function _a(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wa(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function ka(){return this.isValid()?this.toISOString():null}function ja(){return g(this)}function Sa(){return f({},v(this))}function Ca(){return v(this).overflow}function Na(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ea(e,t){var n,a,i,o=this._eras||yn("en")._eras;for(n=0,a=o.length;n<a;++n)switch("string"===typeof o[n].since&&(i=r(o[n].since).startOf("day"),o[n].since=i.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=r(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf()}return o}function Ta(e,t,n){var r,a,i,o,s,l=this.eras();for(e=e.toUpperCase(),r=0,a=l.length;r<a;++r)if(i=l[r].name.toUpperCase(),o=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[r];break;case"NNNN":if(i===e)return l[r];break;case"NNNNN":if(s===e)return l[r]}else if([i,o,s].indexOf(e)>=0)return l[r]}function Ia(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Aa(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Pa(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ma(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Da(){var e,t,n,a,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,a=this.clone().startOf("day").valueOf(),i[e].since<=a&&a<=i[e].until||i[e].until<=a&&a<=i[e].since)return(this.year()-r(i[e].since).year())*n+i[e].offset;return this.year()}function La(e){return s(this,"_erasNameRegex")||Ua.call(this),e?this._erasNameRegex:this._erasRegex}function Oa(e){return s(this,"_erasAbbrRegex")||Ua.call(this),e?this._erasAbbrRegex:this._erasRegex}function za(e){return s(this,"_erasNarrowRegex")||Ua.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ra(e,t){return t.erasAbbrRegex(e)}function Fa(e,t){return t.erasNameRegex(e)}function Ba(e,t){return t.erasNarrowRegex(e)}function Za(e,t){return t._eraYearOrdinalRegex||Ee}function Ua(){var e,t,n=[],r=[],a=[],i=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(ze(o[e].name)),n.push(ze(o[e].abbr)),a.push(ze(o[e].narrow)),i.push(ze(o[e].name)),i.push(ze(o[e].abbr)),i.push(ze(o[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function Va(e,t){B(0,[e,e.length],0,t)}function qa(e){return Xa.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ha(e){return Xa.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wa(){return kt(this.year(),1,4)}function Ya(){return kt(this.isoWeekYear(),1,4)}function Ga(){var e=this.localeData()._week;return kt(this.year(),e.dow,e.doy)}function Ja(){var e=this.localeData()._week;return kt(this.weekYear(),e.dow,e.doy)}function Xa(e,t,n,r,a){var i;return null==e?wt(this,r,a).year:(t>(i=kt(e,r,a))&&(t=i),Ka.call(this,e,t,n,r,a))}function Ka(e,t,n,r,a){var i=_t(e,t,n,r,a),o=xt(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function $a(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),De("N",Ra),De("NN",Ra),De("NNN",Ra),De("NNNN",Fa),De("NNNNN",Ba),Fe(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var a=n._locale.erasParse(e,r,n._strict);a?v(n).era=a:v(n).invalidEra=e})),De("y",Ee),De("yy",Ee),De("yyy",Ee),De("yyyy",Ee),De("yo",Za),Fe(["y","yy","yyy","yyyy"],Ve),Fe(["yo"],(function(e,t,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ve]=n._locale.eraYearOrdinalParse(e,a):t[Ve]=parseInt(e,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Va("gggg","weekYear"),Va("ggggg","weekYear"),Va("GGGG","isoWeekYear"),Va("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),De("G",Te),De("g",Te),De("GG",we,ye),De("gg",we,ye),De("GGGG",Ce,be),De("gggg",Ce,be),De("GGGGG",Ne,_e),De("ggggg",Ne,_e),Be(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ue(e)})),Be(["gg","GG"],(function(e,t,n,a){t[a]=r.parseTwoDigitYear(e)})),B("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),De("Q",ge),Fe("Q",(function(e,t){t[qe]=3*(ue(e)-1)})),B("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),De("D",we),De("DD",we,ye),De("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Fe(["D","DD"],He),Fe("Do",(function(e,t){t[He]=ue(e.match(we)[0])}));var Qa=de("Date",!0);function ei(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),De("DDD",Se),De("DDDD",xe),Fe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ue(e)})),B("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),De("m",we),De("mm",we,ye),Fe(["m","mm"],Ye);var ti=de("Minutes",!1);B("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),De("s",we),De("ss",we,ye),Fe(["s","ss"],Ge);var ni,ri,ai=de("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),De("S",Se,ge),De("SS",Se,ye),De("SSS",Se,xe),ni="SSSS";ni.length<=9;ni+="S")De(ni,Ee);function ii(e,t){t[Je]=ue(1e3*("0."+e))}for(ni="S";ni.length<=9;ni+="S")Fe(ni,ii);function oi(){return this._isUTC?"UTC":""}function si(){return this._isUTC?"Coordinated Universal Time":""}ri=de("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var li=w.prototype;function ci(e){return Jn(1e3*e)}function ui(){return Jn.apply(null,arguments).parseZone()}function di(e){return e}li.add=Dr,li.calendar=Ur,li.clone=Vr,li.diff=Xr,li.endOf=ga,li.format=ta,li.from=na,li.fromNow=ra,li.to=aa,li.toNow=ia,li.get=pe,li.invalidAt=Ca,li.isAfter=qr,li.isBefore=Hr,li.isBetween=Wr,li.isSame=Yr,li.isSameOrAfter=Gr,li.isSameOrBefore=Jr,li.isValid=ja,li.lang=sa,li.locale=oa,li.localeData=la,li.max=Kn,li.min=Xn,li.parsingFlags=Sa,li.set=me,li.startOf=va,li.subtract=Lr,li.toArray=_a,li.toObject=wa,li.toDate=ba,li.toISOString=Qr,li.inspect=ea,"undefined"!==typeof Symbol&&null!=Symbol.for&&(li[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),li.toJSON=ka,li.toString=$r,li.unix=xa,li.valueOf=ya,li.creationData=Na,li.eraName=Aa,li.eraNarrow=Pa,li.eraAbbr=Ma,li.eraYear=Da,li.year=vt,li.isLeapYear=gt,li.weekYear=qa,li.isoWeekYear=Ha,li.quarter=li.quarters=$a,li.month=ut,li.daysInMonth=dt,li.week=li.weeks=Et,li.isoWeek=li.isoWeeks=Tt,li.weeksInYear=Ga,li.weeksInWeekYear=Ja,li.isoWeeksInYear=Wa,li.isoWeeksInISOWeekYear=Ya,li.date=Qa,li.day=li.days=qt,li.weekday=Ht,li.isoWeekday=Wt,li.dayOfYear=ei,li.hour=li.hours=rn,li.minute=li.minutes=ti,li.second=li.seconds=ai,li.millisecond=li.milliseconds=ri,li.utcOffset=mr,li.utc=gr,li.local=yr,li.parseZone=xr,li.hasAlignedHourOffset=br,li.isDST=_r,li.isLocal=kr,li.isUtcOffset=jr,li.isUtc=Sr,li.isUTC=Sr,li.zoneAbbr=oi,li.zoneName=si,li.dates=S("dates accessor is deprecated. Use date instead.",Qa),li.months=S("months accessor is deprecated. Use month instead",ut),li.years=S("years accessor is deprecated. Use year instead",vt),li.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),li.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var hi=P.prototype;function fi(e,t,n,r){var a=yn(),i=p().set(r,t);return a[n](i,e)}function pi(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return fi(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=fi(e,r,n,"month");return a}function mi(e,t,n,r){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var a,i=yn(),o=e?i._week.dow:0,s=[];if(null!=n)return fi(t,(n+o)%7,r,"day");for(a=0;a<7;a++)s[a]=fi(t,(a+o)%7,r,"day");return s}function vi(e,t){return pi(e,t,"months")}function gi(e,t){return pi(e,t,"monthsShort")}function yi(e,t,n){return mi(e,t,n,"weekdays")}function xi(e,t,n){return mi(e,t,n,"weekdaysShort")}function bi(e,t,n){return mi(e,t,n,"weekdaysMin")}hi.calendar=D,hi.longDateFormat=W,hi.invalidDate=G,hi.ordinal=K,hi.preparse=di,hi.postformat=di,hi.relativeTime=Q,hi.pastFuture=ee,hi.set=I,hi.eras=Ea,hi.erasParse=Ta,hi.erasConvertYear=Ia,hi.erasAbbrRegex=Oa,hi.erasNameRegex=La,hi.erasNarrowRegex=za,hi.months=it,hi.monthsShort=ot,hi.monthsParse=lt,hi.monthsRegex=ft,hi.monthsShortRegex=ht,hi.week=jt,hi.firstDayOfYear=Nt,hi.firstDayOfWeek=Ct,hi.weekdays=Ft,hi.weekdaysMin=Zt,hi.weekdaysShort=Bt,hi.weekdaysParse=Vt,hi.weekdaysRegex=Yt,hi.weekdaysShortRegex=Gt,hi.weekdaysMinRegex=Jt,hi.isPM=tn,hi.meridiem=an,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ue(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",yn);var _i=Math.abs;function wi(){var e=this._data;return this._milliseconds=_i(this._milliseconds),this._days=_i(this._days),this._months=_i(this._months),e.milliseconds=_i(e.milliseconds),e.seconds=_i(e.seconds),e.minutes=_i(e.minutes),e.hours=_i(e.hours),e.months=_i(e.months),e.years=_i(e.years),this}function ki(e,t,n,r){var a=Er(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function ji(e,t){return ki(this,e,t,1)}function Si(e,t){return ki(this,e,t,-1)}function Ci(e){return e<0?Math.floor(e):Math.ceil(e)}function Ni(){var e,t,n,r,a,i=this._milliseconds,o=this._days,s=this._months,l=this._data;return i>=0&&o>=0&&s>=0||i<=0&&o<=0&&s<=0||(i+=864e5*Ci(Ti(s)+o),o=0,s=0),l.milliseconds=i%1e3,e=ce(i/1e3),l.seconds=e%60,t=ce(e/60),l.minutes=t%60,n=ce(t/60),l.hours=n%24,o+=ce(n/24),s+=a=ce(Ei(o)),o-=Ci(Ti(a)),r=ce(s/12),s%=12,l.days=o,l.months=s,l.years=r,this}function Ei(e){return 4800*e/146097}function Ti(e){return 146097*e/4800}function Ii(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ei(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ti(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ai(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ue(this._months/12):NaN}function Pi(e){return function(){return this.as(e)}}var Mi=Pi("ms"),Di=Pi("s"),Li=Pi("m"),Oi=Pi("h"),zi=Pi("d"),Ri=Pi("w"),Fi=Pi("M"),Bi=Pi("Q"),Zi=Pi("y");function Ui(){return Er(this)}function Vi(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function qi(e){return function(){return this.isValid()?this._data[e]:NaN}}var Hi=qi("milliseconds"),Wi=qi("seconds"),Yi=qi("minutes"),Gi=qi("hours"),Ji=qi("days"),Xi=qi("months"),Ki=qi("years");function $i(){return ce(this.days()/7)}var Qi=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var a=Er(e).abs(),i=Qi(a.as("s")),o=Qi(a.as("m")),s=Qi(a.as("h")),l=Qi(a.as("d")),c=Qi(a.as("M")),u=Qi(a.as("w")),d=Qi(a.as("y")),h=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=r,to.apply(null,h)}function ro(e){return void 0===e?Qi:"function"===typeof e&&(Qi=e,!0)}function ao(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function io(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,a=!1,i=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(a=e),"object"===typeof t&&(i=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),r=no(this,!a,i,n=this.localeData()),a&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function so(e){return(e>0)-(e<0)||+e}function lo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,a,i,o,s,l=oo(this._milliseconds)/1e3,c=oo(this._days),u=oo(this._months),d=this.asSeconds();return d?(e=ce(l/60),t=ce(e/60),l%=60,e%=60,n=ce(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",a=d<0?"-":"",i=so(this._months)!==so(d)?"-":"",o=so(this._days)!==so(d)?"-":"",s=so(this._milliseconds)!==so(d)?"-":"",a+"P"+(n?i+n+"Y":"")+(u?i+u+"M":"")+(c?o+c+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ar,co.abs=wi,co.add=ji,co.subtract=Si,co.as=Ii,co.asMilliseconds=Mi,co.asSeconds=Di,co.asMinutes=Li,co.asHours=Oi,co.asDays=zi,co.asWeeks=Ri,co.asMonths=Fi,co.asQuarters=Bi,co.asYears=Zi,co.valueOf=Ai,co._bubble=Ni,co.clone=Ui,co.get=Vi,co.milliseconds=Hi,co.seconds=Wi,co.minutes=Yi,co.hours=Gi,co.days=Ji,co.weeks=$i,co.months=Xi,co.years=Ki,co.humanize=io,co.toISOString=lo,co.toString=lo,co.toJSON=lo,co.locale=oa,co.localeData=la,co.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lo),co.lang=sa,B("X",0,0,"unix"),B("x",0,0,"valueOf"),De("x",Te),De("X",Pe),Fe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Fe("x",(function(e,t,n){n._d=new Date(ue(e))})),r.version="2.29.4",a(Jn),r.fn=li,r.min=Qn,r.max=er,r.now=tr,r.utc=p,r.unix=ci,r.months=vi,r.isDate=d,r.locale=mn,r.invalid=y,r.duration=Er,r.isMoment=k,r.weekdays=yi,r.parseZone=ui,r.localeData=yn,r.isDuration=sr,r.monthsShort=gi,r.weekdaysMin=bi,r.defineLocale=vn,r.updateLocale=gn,r.locales=xn,r.weekdaysShort=xi,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=ao,r.calendarFormat=Zr,r.prototype=li,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},888:function(e,t,n){"use strict";var r=n(9047);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),a=n(5296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var O,z=Object.assign;function R(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function Z(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case S:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function $(e,t){K(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,je=null;function Se(e){if(e=xa(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=_a(t),we(e.stateNode,e.type,t))}}function Ce(e){ke?je?je.push(e):je=[e]:ke=e}function Ne(){if(ke){var e=ke,t=je;if(je=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ee(e,t,n)}finally{Ie=!1,(null!==ke||null!==je)&&(Te(),Ne())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_a(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Me=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Me=!1}function Le(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,ze=null,Re=!1,Fe=null,Be={onError:function(e){Oe=!0,ze=e}};function Ze(e,t,n,r,a,i,o,s,l){Oe=!1,ze=null,Le.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ue(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return qe(a),e;if(o===r)return qe(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Ke=a.unstable_now,$e=a.unstable_getCurrentPriorityLevel,Qe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=dt(s):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,kt,jt,St,Ct=!1,Nt=[],Et=null,Tt=null,It=null,At=new Map,Pt=new Map,Mt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ot(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function zt(e){var t=ya(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Rt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Et&&Rt(Et)&&(Et=null),null!==Tt&&Rt(Tt)&&(Tt=null),null!==It&&Rt(It)&&(It=null),At.forEach(Ft),Pt.forEach(Ft)}function Zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Zt(t,e)}if(0<Nt.length){Zt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Zt(Et,e),null!==Tt&&Zt(Tt,e),null!==It&&Zt(It,e),At.forEach(t),Pt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)zt(n),null===n.blockedOn&&Mt.shift()}var Vt=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var a=xt,i=Vt.transition;Vt.transition=null;try{xt=1,Yt(e,t,n,r)}finally{xt=a,Vt.transition=i}}function Wt(e,t,n,r){var a=xt,i=Vt.transition;Vt.transition=null;try{xt=4,Yt(e,t,n,r)}finally{xt=a,Vt.transition=i}}function Yt(e,t,n,r){if(qt){var a=Jt(e,t,n,r);if(null===a)qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=Ot(Et,e,t,n,r,a),!0;case"dragenter":return Tt=Ot(Tt,e,t,n,r,a),!0;case"mouseover":return It=Ot(It,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return At.set(i,Ot(At.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Pt.set(i,Ot(Pt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var i=xa(a);if(null!==i&&_t(i),null===(i=Jt(e,t,n,r))&&qr(e,t,r,Gt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=ya(e=_e(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Kt=null,$t=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=$t,r=n.length,a="value"in Kt?Kt.value:Kt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Qt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=z({},cn,{view:0,detail:0}),hn=an(dn),fn=z({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(z({},fn,{dataTransfer:0})),vn=an(z({},dn,{relatedTarget:0})),gn=an(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(yn),bn=an(z({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return jn}var Cn=z({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(Cn),En=an(z({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(z({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),In=an(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=z({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(An),Mn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var On=u&&"TextEvent"in window&&!Ln,zn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Rn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Yn=null;function Gn(e){Rr(e,0)}function Jn(e){if(Y(ba(e)))return e}function Xn(e,t){if("change"===e)return t}var Kn=!1;if(u){var $n;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}$n=Qn}else $n=!1;Kn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Yn=Wn=null)}function nr(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];Hn(t,Yn,e,_e(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ir(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==vr||vr!==G(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},jr={};function Sr(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return kr[e]=n[t];return e}u&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=Sr("animationend"),Nr=Sr("animationiteration"),Er=Sr("animationstart"),Tr=Sr("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ir.set(e,t),l(t,[e])}for(var Mr=0;Mr<Ar.length;Mr++){var Dr=Ar[Mr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(Nr,"onAnimationIteration"),Pr(Er,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,c){if(Ze.apply(this,arguments),Oe){if(!Oe)throw Error(i(198));var u=ze;Oe=!1,ze=null,Re||(Re=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Rr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;zr(a,s,c),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;zr(a,s,c),i=l}}}if(Re)throw e=Fe,Re=!1,Fe=null,e}function Fr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Zr]){e[Zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zr]||(t[Zr]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Xt(t)){case 1:var a=Ht;break;case 4:a=Wt;break;default:a=Yt}n=a.bind(null,t,n,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=i,a=_e(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Cr:case Nr:case Er:l=gn;break;case Tr:l=In;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:ba(l),f=null==c?s:ba(c),(s=new u(m,p+"leave",l,n,a)).target=d,s.relatedTarget=f,m=null,ya(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Yr(f))p++;for(f=0,m=h;m;m=Yr(m))f++;for(;0<p-f;)u=Yr(u),p--;for(;0<f-p;)h=Yr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yr(u),h=Yr(h)}u=null}else u=null;null!==l&&Gr(o,s,l,u,!1),null!==c&&null!==d&&Gr(o,d,c,u,!0)}if("select"===(l=(s=r?ba(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Xn;else if(qn(s))if(Kn)v=or;else{v=ar;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ir);switch(v&&(v=v(e,r))?Hn(o,v,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ba(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,a)}var y;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Un?Bn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(zn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==x?"onCompositionEnd"===x&&Un&&(y=en()):($t="value"in(Kt=a)?Kt.value:Kt.textContent,Un=!0)),0<(g=Wr(r,x)).length&&(x=new bn(x,e,null,n,a),o.push({event:x,listeners:g}),y?x.data=y:null!==(y=Zn(n))&&(x.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Rn);case"textInput":return(e=t.data)===Rn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Qt=$t=Kt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Rr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Pe(e,n))&&r.unshift(Hr(e,i,a)),null!=(i=Pe(e,t))&&r.push(Hr(e,i,a))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Pe(n,i))&&o.unshift(Hr(n,l,s)):a||null!=(l=Pe(n,i))&&o.push(Hr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(i(425))}function Qr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,va="__reactListeners$"+da,ga="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function _a(e){return e[fa]||null}var wa=[],ka=-1;function ja(e){return{current:e}}function Sa(e){0>ka||(e.current=wa[ka],wa[ka]=null,ka--)}function Ca(e,t){ka++,wa[ka]=e.current,e.current=t}var Na={},Ea=ja(Na),Ta=ja(!1),Ia=Na;function Aa(e,t){var n=e.type.contextTypes;if(!n)return Na;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){Sa(Ta),Sa(Ea)}function Da(e,t,n){if(Ea.current!==Na)throw Error(i(168));Ca(Ea,t),Ca(Ta,n)}function La(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,V(e)||"Unknown",a));return z({},n,r)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,Ia=Ea.current,Ca(Ea,e),Ca(Ta,Ta.current),!0}function za(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=La(e,t,Ia),r.__reactInternalMemoizedMergedChildContext=e,Sa(Ta),Sa(Ea),Ca(Ea,e)):Sa(Ta),Ca(Ta,n)}var Ra=null,Fa=!1,Ba=!1;function Za(e){null===Ra?Ra=[e]:Ra.push(e)}function Ua(){if(!Ba&&null!==Ra){Ba=!0;var e=0,t=xt;try{var n=Ra;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ra=null,Fa=!1}catch(a){throw null!==Ra&&(Ra=Ra.slice(e+1)),Ye(Qe,Ua),a}finally{xt=t,Ba=!1}}return null}var Va=[],qa=0,Ha=null,Wa=0,Ya=[],Ga=0,Ja=null,Xa=1,Ka="";function $a(e,t){Va[qa++]=Wa,Va[qa++]=Ha,Ha=e,Wa=t}function Qa(e,t,n){Ya[Ga++]=Xa,Ya[Ga++]=Ka,Ya[Ga++]=Ja,Ja=e;var r=Xa;e=Ka;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xa=1<<32-ot(t)+a|n<<a|r,Ka=i+e}else Xa=1<<i|n<<a|r,Ka=e}function ei(e){null!==e.return&&($a(e,1),Qa(e,1,0))}function ti(e){for(;e===Ha;)Ha=Va[--qa],Va[qa]=null,Wa=Va[--qa],Va[qa]=null;for(;e===Ja;)Ja=Ya[--Ga],Ya[Ga]=null,Ka=Ya[--Ga],Ya[Ga]=null,Xa=Ya[--Ga],Ya[Ga]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ja?{id:Xa,overflow:Ka}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=ca(e.nextSibling)}function fi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=b.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var gi=ja(null),yi=null,xi=null,bi=null;function _i(){bi=xi=yi=null}function wi(e){var t=gi.current;Sa(gi),e._currentValue=t}function ki(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ji(e,t){yi=e,bi=xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Si(e){var t=e._currentValue;if(bi!==e)if(e={context:e,memoizedValue:t,next:null},null===xi){if(null===yi)throw Error(i(308));xi=e,yi.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var Ci=null;function Ni(e){null===Ci?Ci=[e]:Ci.push(e)}function Ei(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ni(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ti(e,r)}function Ti(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ii=!1;function Ai(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Di(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ti(e,n)}return null===(a=r.interleaved)?(t.next=t,Ni(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ti(e,n)}function Li(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var a=e.updateQueue;Ii=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=z({},d,h);break e;case 2:Ii=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);zl|=o,e.lanes=o,e.memoizedState=d}}function Ri(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Fi=(new r.Component).refs;function Bi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Zi={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),i=Mi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Di(e,i,a))&&(rc(t,e,a,r),Li(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),i=Mi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Di(e,i,a))&&(rc(t,e,a,r),Li(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),a=Mi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Di(e,a,r))&&(rc(t,e,r,n),Li(t,e,r))}};function Ui(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function Vi(e,t,n){var r=!1,a=Na,i=t.contextType;return"object"===typeof i&&null!==i?i=Si(i):(a=Pa(t)?Ia:Ea.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Aa(e,a):Na),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Zi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function qi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zi.enqueueReplaceState(t,t.state,null)}function Hi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Fi,Ai(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Si(i):(i=Pa(t)?Ia:Ea.current,a.context=Aa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Bi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Zi.enqueueReplaceState(a,a.state,null),zi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Wi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===Fi&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gi(e){return(0,e._init)(e._payload)}function Ji(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Rc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&Gi(i)===t.type)?((r=a(t,n.props)).ref=Wi(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Wi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Wi(e,null,t),n.return=e,n;case w:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Oc(t,e.mode,n,null)).return=e,t;Yi(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===a?c(e,t,n,r):null;case w:return n.key===a?u(e,t,n,r):null;case P:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||L(n))return null!==a?null:d(e,t,n,r,null);Yi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,a,null);Yi(t,r)}return null}function m(a,i,s,l){for(var c=null,u=null,d=i,m=i=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(a,d,s[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(a,d),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g,d=v}if(m===s.length)return n(a,d),ai&&$a(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(a,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&$a(a,m),c}for(d=r(a,d);m<s.length;m++)null!==(v=p(d,a,m,s[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),i=o(v,i,m),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(a,e)})),ai&&$a(a,m),c}function v(a,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var x=f(a,m,y.value,c);if(null===x){null===m&&(m=g);break}e&&m&&null===x.alternate&&t(a,m),s=o(x,s,v),null===d?u=x:d.sibling=x,d=x,m=g}if(y.done)return n(a,m),ai&&$a(a,v),u;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=h(a,y.value,c))&&(s=o(y,s,v),null===d?u=y:d.sibling=y,d=y);return ai&&$a(a,v),u}for(m=r(a,m);!y.done;v++,y=l.next())null!==(y=p(m,a,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ai&&$a(a,v),u}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(i=a(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Gi(c)===u.type){n(r,u.sibling),(i=a(u,o.props)).ref=Wi(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((i=Oc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=Wi(r,i,o),l.return=r,r=l)}return s(r);case w:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(o,r.mode,l)).return=r,r=i}return s(r);case P:return e(r,i,(u=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(L(o))return v(r,i,o,l);Yi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Rc(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var Xi=Ji(!0),Ki=Ji(!1),$i={},Qi=ja($i),eo=ja($i),to=ja($i);function no(e){if(e===$i)throw Error(i(174));return e}function ro(e,t){switch(Ca(to,t),Ca(eo,e),Ca(Qi,$i),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Qi),Ca(Qi,t)}function ao(){Sa(Qi),Sa(eo),Sa(to)}function io(e){no(to.current);var t=no(Qi.current),n=le(t,e.type);t!==n&&(Ca(eo,e),Ca(Qi,n))}function oo(e){eo.current===e&&(Sa(Qi),Sa(eo))}var so=ja(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,vo=null,go=null,yo=!1,xo=!1,bo=0,_o=0;function wo(){throw Error(i(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function jo(e,t,n,r,a,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:ls,e=n(r,a),xo){o=0;do{if(xo=!1,bo=0,25<=o)throw Error(i(301));o+=1,go=vo=null,t.updateQueue=null,ho.current=cs,e=n(r,a)}while(xo)}if(ho.current=os,t=null!==vo&&null!==vo.next,po=0,go=vo=mo=null,yo=!1,t)throw Error(i(300));return e}function So(){var e=0!==bo;return bo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?mo.memoizedState=go=e:go=go.next=e,go}function No(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===go?mo.memoizedState:go.next;if(null!==t)go=t,vo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===go?mo.memoizedState=go=e:go=go.next=e}return go}function Eo(e,t){return"function"===typeof t?t(e):t}function To(e){var t=No(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=vo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((po&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,mo.lanes|=d,zl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,mo.lanes|=o,zl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=No(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Po(e,t){var n=mo,r=No(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,bs=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Fo(9,Do.bind(null,n,r,a,t),void 0,null),null===Il)throw Error(i(349));0!==(30&po)||Mo(n,t,a)}return a}function Mo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&zo(e)}function Lo(e,t,n){return n((function(){Oo(t)&&zo(e)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function zo(e){var t=Ti(e,1);null!==t&&rc(t,e,1,-1)}function Ro(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return No().memoizedState}function Zo(e,t,n,r){var a=Co();mo.flags|=e,a.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var a=No();r=void 0===r?null:r;var i=void 0;if(null!==vo){var o=vo.memoizedState;if(i=o.destroy,null!==r&&ko(r,o.deps))return void(a.memoizedState=Fo(t,n,i,r))}mo.flags|=e,a.memoizedState=Fo(1|t,n,i,r)}function Vo(e,t){return Zo(8390656,8,e,t)}function qo(e,t){return Uo(2048,8,e,t)}function Ho(e,t){return Uo(4,2,e,t)}function Wo(e,t){return Uo(4,4,e,t)}function Yo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,Yo.bind(null,t,e),n)}function Jo(){}function Xo(e,t){var n=No();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=No();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,zl|=n,e.baseState=!0),t)}function Qo(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{xt=n,fo.transition=r}}function es(){return No().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=Ei(e,t,n,r))){rc(n,e,r,tc()),is(n,t,r)}}function ns(e,t,n){var r=nc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(a.next=a,Ni(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ei(e,t,a,r))&&(rc(n,e,r,a=tc()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function as(e,t){xo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Si,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Si,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Si,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zo(4194308,4,Yo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Ro,useDebugValue:Jo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=Qo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,a=Co();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Il)throw Error(i(349));0!==(30&po)||Mo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Vo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Il.identifierPrefix;if(ai){var n=Ka;t=":"+t+"R"+(n=(Xa&~(1<<32-ot(Xa)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Si,useCallback:Xo,useContext:Si,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Ko,useReducer:To,useRef:Bo,useState:function(){return To(Eo)},useDebugValue:Jo,useDeferredValue:function(e){return $o(No(),vo.memoizedState,e)},useTransition:function(){return[To(Eo)[0],No().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},cs={readContext:Si,useCallback:Xo,useContext:Si,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Ko,useReducer:Io,useRef:Bo,useState:function(){return Io(Eo)},useDebugValue:Jo,useDeferredValue:function(e){var t=No();return null===vo?t.memoizedState=e:$o(t,vo.memoizedState,e)},useTransition:function(){return[Io(Eo)[0],No().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=Z(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Mi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),hs(0,t)},n}function ms(e,t,n){(n=Mi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){hs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mi(-1,1)).tag=2,Di(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var xs=b.ReactCurrentOwner,bs=!1;function _s(e,t,n,r){t.child=null===e?Ki(t,null,n,r):Xi(t,e.child,n,r)}function ws(e,t,n,r,a){n=n.render;var i=t.ref;return ji(t,a),r=jo(e,t,n,r,i,a),n=So(),null===e||bs?(ai&&n&&ei(t),t.flags|=1,_s(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function ks(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Mc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,js(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=Dc(i,r)).ref=t.ref,e.return=t,t.child=e}function js(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return Ns(e,t,n,r,a)}function Ss(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Dl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Dl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ca(Dl,Ml),Ml|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ca(Dl,Ml),Ml|=r;return _s(e,t,a,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,a){var i=Pa(n)?Ia:Ea.current;return i=Aa(t,i),ji(t,a),n=jo(e,t,n,r,i,a),r=So(),null===e||bs?(ai&&r&&ei(t),t.flags|=1,_s(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Es(e,t,n,r,a){if(Pa(n)){var i=!0;Oa(t)}else i=!1;if(ji(t,a),null===t.stateNode)qs(e,t),Vi(t,n,r),Hi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Si(c):c=Aa(t,c=Pa(n)?Ia:Ea.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&qi(t,o,r,c),Ii=!1;var h=t.memoizedState;o.state=h,zi(t,r,o,a),l=t.memoizedState,s!==r||h!==l||Ta.current||Ii?("function"===typeof u&&(Bi(t,n,u,r),l=t.memoizedState),(s=Ii||Ui(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vi(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Si(l):l=Aa(t,l=Pa(n)?Ia:Ea.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&qi(t,o,r,l),Ii=!1,h=t.memoizedState,o.state=h,zi(t,r,o,a);var p=t.memoizedState;s!==d||h!==p||Ta.current||Ii?("function"===typeof f&&(Bi(t,n,f,r),p=t.memoizedState),(c=Ii||Ui(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,i,a)}function Ts(e,t,n,r,a,i){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&za(t,n,!1),Hs(e,t,i);r=t.stateNode,xs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xi(t,e.child,null,i),t.child=Xi(t,null,s,i)):_s(e,t,s,i),t.memoizedState=r.state,a&&za(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,a){return fi(),pi(a),t.flags|=256,_s(e,t,n,r),t.child}var Ps,Ms,Ds,Ls,Os={dehydrated:null,treeContext:null,retryLane:0};function zs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rs(e,t,n){var r,a=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ca(so,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=zc(l,a,0,null),e=Oc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zs(n),t.memoizedState=Os,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=zc({mode:"visible",children:r.children},a,0,null),(o=Oc(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xi(t,e.child,null,s),t.child.memoizedState=zs(s),t.memoizedState=Os,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=ds(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Il)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ti(e,a),rc(r,e,a,-1))}return vc(),Bs(e,t,s,r=ds(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ya[Ga++]=Xa,Ya[Ga++]=Ka,Ya[Ga++]=Ja,Xa=e.id,Ka=e.overflow,Ja=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Oc(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?zs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Os,a}return e=(s=e.child).sibling,a=Dc(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fs(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pi(r),Xi(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ki(e.return,t,n)}function Us(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Vs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zs(e,n,t);else if(19===e.tag)Zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(so,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Us(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===lo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Us(t,!0,n,null,i);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Pa(t.type)&&Ma(),Ys(t),null;case 3:return r=t.stateNode,ao(),Sa(Ta),Sa(Ea),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sc(ii),ii=null))),Ms(e,t),Ys(t),null;case 5:oo(t);var a=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ys(t),null}if(e=no(Qi.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[fa]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Lr.length;a++)Fr(Lr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ae(r,o),Fr("invalid",r)}for(var l in ye(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":W(r),Q(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Qr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Lr.length;a++)Fr(Lr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":X(e,r),a=J(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=z({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(o in ye(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ve(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":W(e),Q(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=no(to.current),no(Qi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Ys(t),null;case 13:if(Sa(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),o=!1}else null!==ii&&(sc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ll&&(Ll=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return ao(),Ms(e,t),null===e&&Ur(t.stateNode.containerInfo),Ys(t),null;case 10:return wi(t.type._context),Ys(t),null;case 19:if(Sa(so),null===(o=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ws(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ke()>Vl&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Ys(t),null}else 2*Ke()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ke(),t.sibling=null,n=so.current,Ca(so,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Js(e,t){switch(ti(t),t.tag){case 1:return Pa(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Sa(Ta),Sa(Ea),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Sa(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(so),null;case 4:return ao(),null;case 10:return wi(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},Ds=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,no(Qi.current);var i,o=null;switch(n){case"input":a=J(e,a),r=J(e,r),o=[];break;case"select":a=z({},a,{value:void 0}),r=z({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(u in ye(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ks=!1,$s="function"===typeof WeakSet?WeakSet:Set,Qs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&tl(t,n,i)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[va],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Ks||el(n,t);case 6:var r=dl,a=hl;dl=null,fl(e,t,n),hl=a,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Ut(e)):la(dl,n.stateNode));break;case 4:r=dl,a=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=a;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&tl(n,t,o),a=a.next}while(a!==r)}fl(e,t,n);break;case 1:if(!Ks&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,fl(e,t,n),Ks=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(i(160));pl(o,s,a),dl=null,hl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Sc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),yl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(v){Sc(e,e.return,v)}try{rl(5,e,e.return)}catch(v){Sc(e,e.return,v)}}break;case 1:vl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(vl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(v){Sc(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&K(a,o),xe(l,s);var u=xe(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ve(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):x(a,d,h,u)}switch(l){case"input":$(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(v){Sc(e,e.return,v)}}break;case 6:if(vl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){Sc(e,e.return,v)}}break;case 3:if(vl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(v){Sc(e,e.return,v)}break;case 4:default:vl(t,e),yl(e);break;case 13:vl(t,e),yl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Ke())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(u=Ks)||d,vl(t,e),Ks=u):vl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(h=Qs=d;null!==Qs;){switch(p=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Sc(r,n,v)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Qs=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(v){Sc(e,e.return,v)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Sc(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),ul(e,ll(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(i(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){Qs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var a=Qs,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Xs;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Xs;var c=Ks;if(Xs=o,(Ks=l)&&!c)for(Qs=a;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?kl(a):null!==l?(l.return=o,Qs=l):kl(a);for(;null!==i;)Qs=i,bl(i,t,n),i=i.sibling;Qs=a,Xs=s,Ks=c}_l(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Qs=i):_l(e)}}function _l(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:vi(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ri(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ri(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(i(163))}Ks||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function kl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Sc(t,a,l)}}var i=t.return;try{il(t)}catch(l){Sc(t,i,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var jl,Sl=Math.ceil,Cl=b.ReactCurrentDispatcher,Nl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Tl=0,Il=null,Al=null,Pl=0,Ml=0,Dl=ja(0),Ll=0,Ol=null,zl=0,Rl=0,Fl=0,Bl=null,Zl=null,Ul=0,Vl=1/0,ql=null,Hl=!1,Wl=null,Yl=null,Gl=!1,Jl=null,Xl=0,Kl=0,$l=null,Ql=-1,ec=0;function tc(){return 0!==(6&Tl)?Ke():-1!==Ql?Ql:Ql=Ke()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Pl?Pl&-Pl:null!==mi.transition?(0===ec&&(ec=mt()),ec):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Kl)throw Kl=0,$l=null,Error(i(185));gt(e,n,r),0!==(2&Tl)&&e===Il||(e===Il&&(0===(2&Tl)&&(Rl|=n),4===Ll&&lc(e,Pl)),ac(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=Ke()+500,Fa&&Ua()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Il?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fa=!0,Za(e)}(cc.bind(null,e)):Za(cc.bind(null,e)),oa((function(){0===(6&Tl)&&Ua()})),n=null;else{switch(bt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ql=-1,ec=0,0!==(6&Tl))throw Error(i(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Tl;Tl|=2;var o=mc();for(Il===e&&Pl===t||(ql=null,Vl=Ke()+500,fc(e,t));;)try{xc();break}catch(l){pc(e,l)}_i(),Cl.current=o,Tl=a,null!==Al?t=0:(Il=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t)throw n=Ol,fc(e,0),lc(e,r),ac(e,Ke()),n;if(6===t)lc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ol,fc(e,0),lc(e,r),ac(e,Ke()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Zl,ql);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Ul+500-Ke())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Zl,ql),t);break}wc(e,Zl,ql);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Zl,ql),r);break}wc(e,Zl,ql);break;default:throw Error(i(329))}}}return ac(e,Ke()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Zl,Zl=n,null!==t&&sc(t)),e}function sc(e){null===Zl?Zl=e:Zl.push.apply(Zl,e)}function lc(e,t){for(t&=~Fl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tl))throw Error(i(327));kc();var t=ht(e,0);if(0===(1&t))return ac(e,Ke()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ol,fc(e,0),lc(e,t),ac(e,Ke()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Zl,ql),ac(e,Ke()),null}function uc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Ke()+500,Fa&&Ua())}}function dc(e){null!==Jl&&0===Jl.tag&&0===(6&Tl)&&kc();var t=Tl;Tl|=1;var n=El.transition,r=xt;try{if(El.transition=null,xt=1,e)return e()}finally{xt=r,El.transition=n,0===(6&(Tl=t))&&Ua()}}function hc(){Ml=Dl.current,Sa(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ma();break;case 3:ao(),Sa(Ta),Sa(Ea),uo();break;case 5:oo(r);break;case 4:ao();break;case 13:case 19:Sa(so);break;case 10:wi(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Il=e,Al=e=Dc(e.current,null),Pl=Ml=t,Ll=0,Ol=null,Fl=Rl=zl=0,Zl=Bl=null,null!==Ci){for(t=0;t<Ci.length;t++)if(null!==(r=(n=Ci[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Ci=null}return e}function pc(e,t){for(;;){var n=Al;try{if(_i(),ho.current=os,yo){for(var r=mo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yo=!1}if(po=0,go=vo=mo=null,xo=!1,bo=0,Nl.current=null,null===n||null===n.return){Ll=1,Ol=t,Al=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&vs(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(0===(1&t)){vs(o,u,t),vc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,l,0,t),pi(us(c,l));break e}}o=c=us(c,l),4!==Ll&&(Ll=2),null===Bl?Bl=[o]:Bl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Oi(o,ps(0,c,t));break e;case 1:l=c;var y=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Yl||!Yl.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Oi(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}_c(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=os,null===e?os:e}function vc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Il||0===(268435455&zl)&&0===(268435455&Rl)||lc(Il,Pl)}function gc(e,t){var n=Tl;Tl|=2;var r=mc();for(Il===e&&Pl===t||(ql=null,fc(e,t));;)try{yc();break}catch(a){pc(e,a)}if(_i(),Tl=n,Cl.current=r,null!==Al)throw Error(i(261));return Il=null,Pl=0,Ll}function yc(){for(;null!==Al;)bc(Al)}function xc(){for(;null!==Al&&!Je();)bc(Al)}function bc(e){var t=jl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?_c(e):Al=t,Nl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ml)))return void(Al=n)}else{if(null!==(n=Js(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ll=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,n){var r=xt,a=El.transition;try{El.transition=null,xt=1,function(e,t,n,r){do{kc()}while(null!==Jl);if(0!==(6&Tl))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Il&&(Al=Il=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ic(tt,(function(){return kc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=El.transition,El.transition=null;var s=xt;xt=1;var l=Tl;Tl|=4,Nl.current=null,function(e,t){if(ea=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:vi(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(_){Sc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=nl,nl=!1}(e,n),gl(n,e),pr(ta),qt=!!ea,ta=ea=null,e.current=n,xl(n,e,a),Xe(),Tl=l,xt=s,El.transition=o}else e.current=n;if(Gl&&(Gl=!1,Jl=e,Xl=a),o=e.pendingLanes,0===o&&(Yl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===$l?Kl++:(Kl=0,$l=e):Kl=0,Ua()}(e,t,n,r)}finally{El.transition=a,xt=r}return null}function kc(){if(null!==Jl){var e=bt(Xl),t=El.transition,n=xt;try{if(El.transition=null,xt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Xl=0,0!==(6&Tl))throw Error(i(331));var a=Tl;for(Tl|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var f=(d=Qs).sibling,p=d.return;if(ol(d),d===u){Qs=null;break}if(null!==f){f.return=p,Qs=f;break}Qs=p}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Qs=y;break e}Qs=o.return}}var x=e.current;for(Qs=x;null!==Qs;){var b=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Qs=b;else e:for(s=x;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(w){Sc(l,l.return,w)}if(l===s){Qs=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Qs=_;break e}Qs=l.return}}if(Tl=a,Ua(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{xt=n,El.transition=t}}return!1}function jc(e,t,n){e=Di(e,t=ps(0,t=us(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ac(e,t))}function Sc(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Di(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Ke()-Ul?fc(e,0):Fl|=n),ac(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ti(e,t))&&(gt(e,t,n),ac(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Nc(e,n)}function Ic(e,t){return Ye(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Mc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Oc(n.children,a,o,t);case j:s=8,a|=8;break;case S:return(e=Pc(12,n,t,2|a)).elementType=S,e.lanes=o,e;case T:return(e=Pc(13,n,t,a)).elementType=T,e.lanes=o,e;case I:return(e=Pc(19,n,t,a)).elementType=I,e.lanes=o,e;case M:return zc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case N:s=9;break e;case E:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function zc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Zc(e,t,n,r,a,i,o,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ai(i),e}function Uc(e){if(!e)return Na;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Pa(n))return La(e,n,t)}return t}function Vc(e,t,n,r,a,i,o,s,l){return(e=Zc(n,r,!0,e,0,i,0,s,l)).context=Uc(null),n=e.current,(i=Mi(r=tc(),a=nc(n))).callback=void 0!==t&&null!==t?t:null,Di(n,i,a),e.current.lanes=a,gt(e,a,r),ac(e,r),e}function qc(e,t,n,r){var a=t.current,i=tc(),o=nc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Di(a,t,o))&&(rc(e,a,o,i),Li(e,a,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),fi();break;case 5:io(t);break;case 1:Pa(t.type)&&Oa(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ca(gi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ca(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Rs(e,t,n):(Ca(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ca(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ai&&0!==(1048576&t.flags)&&Qa(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var a=Aa(t,Ea.current);ji(t,n),a=jo(null,t,r,e,a,n);var o=So();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(o=!0,Oa(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ai(t),a.updater=Zi,t.stateNode=a,a._reactInternals=t,Hi(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),_s(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===A)return 14}return 2}(r),e=vi(r,e),a){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=Es(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=ks(null,t,r,vi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ns(e,t,r,a=t.elementType===r?a:vi(r,a),n);case 1:return r=t.type,a=t.pendingProps,Es(e,t,r,a=t.elementType===r?a:vi(r,a),n);case 3:e:{if(Is(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Pi(e,t),zi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,a=us(Error(i(423)),t));break e}if(r!==a){t=As(e,t,r,n,a=us(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=Ki(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===a){t=Hs(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return io(t),null===e&&ci(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),Cs(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Rs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xi(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ws(e,t,r,a=t.elementType===r?a:vi(r,a),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ca(gi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Ta.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Mi(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ki(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ki(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,ji(t,n),r=r(a=Si(a)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return a=vi(r=t.type,t.pendingProps),ks(e,t,r,a=vi(r.type,a),n);case 15:return js(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vi(r,a),qs(e,t),t.tag=1,Pa(r)?(e=!0,Oa(t)):e=!1,ji(t,n),Vi(t,r,a),Hi(t,r,a,n),Ts(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Ss(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function eu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Hc(o);s.call(e)}}qc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Hc(o);i.call(e)}}var o=Vc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[pa]=o.current,Ur(8===e.nodeType?e.parentNode:e),dc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Zc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[pa]=l.current,Ur(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,l,n,r)})),l}(n,t,e,a,r);return Hc(o)}Xc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qc(e,t,null,null)},Xc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[pa]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&zt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ac(t,Ke()),0===(6&Tl)&&(Vl=Ke()+500,Ua()))}break;case 13:dc((function(){var t=Ti(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Yc(e,1)}},wt=function(e){if(13===e.tag){var t=Ti(e,134217728);if(null!==t)rc(t,e,134217728,tc());Yc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ti(e,t);if(null!==n)rc(n,e,t,tc());Yc(e,t)}},jt=function(){return xt},St=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},we=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=_a(r);if(!a)throw Error(i(90));Y(r),$(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=uc,Te=dc;var tu={usingClientEntryPoint:!1,Events:[xa,ba,_a,Ce,Ne,uc]},nu={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{at=au.inject(ru),it=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(i(299));var n=!1,r="",a=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Zc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(i(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,a,0,o,s),e[pa]=t.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(i(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},5816:function(e,t){"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case o:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===s||e===o||e===h||e===f||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=g},6655:function(e,t,n){"use strict";e.exports=n(5816)},6048:function(e,t,n){var r;e.exports=(r=n(2791),function(){var e={703:function(e,t,n){"use strict";var r=n(414);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:function(e){"use strict";e.exports=r}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return function(){"use strict";n.r(a),n.d(a,{default:function(){return w}});var e=n(98),t=n.n(e),r=n(697),i=n.n(r);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s=function(e){var n=e.pageClassName,r=e.pageLinkClassName,a=e.page,i=e.selected,s=e.activeClassName,l=e.activeLinkClassName,c=e.getEventListener,u=e.pageSelectedHandler,d=e.href,h=e.extraAriaContext,f=e.pageLabelBuilder,p=e.rel,m=e.ariaLabel||"Page "+a+(h?" "+h:""),v=null;return i&&(v="page",m=e.ariaLabel||"Page "+a+" is your current page",n=void 0!==n?n+" "+s:s,void 0!==r?void 0!==l&&(r=r+" "+l):r=l),t().createElement("li",{className:n},t().createElement("a",o({rel:p,role:d?void 0:"button",className:r,href:d,tabIndex:i?"-1":"0","aria-label":m,"aria-current":v,onKeyPress:u},c(u)),f(a)))};s.propTypes={pageSelectedHandler:i().func.isRequired,selected:i().bool.isRequired,pageClassName:i().string,pageLinkClassName:i().string,activeClassName:i().string,activeLinkClassName:i().string,extraAriaContext:i().string,href:i().string,ariaLabel:i().string,page:i().number.isRequired,getEventListener:i().func.isRequired,pageLabelBuilder:i().func.isRequired,rel:i().string};var l=s;function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=function(e){var n=e.breakLabel,r=e.breakAriaLabel,a=e.breakClassName,i=e.breakLinkClassName,o=e.breakHandler,s=e.getEventListener,l=a||"break";return t().createElement("li",{className:l},t().createElement("a",c({className:i,role:"button",tabIndex:"0","aria-label":r,onKeyPress:o},s(o)),n))};u.propTypes={breakLabel:i().oneOfType([i().string,i().node]),breakAriaLabel:i().string,breakClassName:i().string,breakLinkClassName:i().string,breakHandler:i().func.isRequired,getEventListener:i().func.isRequired};var d=u;function h(e){return null!=e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function g(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(s,e);var n,r,a,i,o=(a=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(a);if(i){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function s(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),b(y(n=o.call(this,e)),"handlePreviousPage",(function(e){var t=n.state.selected;n.handleClick(e,null,t>0?t-1:void 0,{isPrevious:!0})})),b(y(n),"handleNextPage",(function(e){var t=n.state.selected,r=n.props.pageCount;n.handleClick(e,null,t<r-1?t+1:void 0,{isNext:!0})})),b(y(n),"handlePageSelected",(function(e,t){if(n.state.selected===e)return n.callActiveCallback(e),void n.handleClick(t,null,void 0,{isActive:!0});n.handleClick(t,null,e)})),b(y(n),"handlePageChange",(function(e){n.state.selected!==e&&(n.setState({selected:e}),n.callCallback(e))})),b(y(n),"getEventListener",(function(e){return b({},n.props.eventListener,e)})),b(y(n),"handleClick",(function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=a.isPrevious,o=void 0!==i&&i,s=a.isNext,l=void 0!==s&&s,c=a.isBreak,u=void 0!==c&&c,d=a.isActive,h=void 0!==d&&d;e.preventDefault?e.preventDefault():e.returnValue=!1;var f=n.state.selected,p=n.props.onClick,m=r;if(p){var v=p({index:t,selected:f,nextSelectedPage:r,event:e,isPrevious:o,isNext:l,isBreak:u,isActive:h});if(!1===v)return;Number.isInteger(v)&&(m=v)}void 0!==m&&n.handlePageChange(m)})),b(y(n),"handleBreakClick",(function(e,t){var r=n.state.selected;n.handleClick(t,e,r<e?n.getForwardJump():n.getBackwardJump(),{isBreak:!0})})),b(y(n),"callCallback",(function(e){void 0!==n.props.onPageChange&&"function"==typeof n.props.onPageChange&&n.props.onPageChange({selected:e})})),b(y(n),"callActiveCallback",(function(e){void 0!==n.props.onPageActive&&"function"==typeof n.props.onPageActive&&n.props.onPageActive({selected:e})})),b(y(n),"getElementPageRel",(function(e){var t=n.state.selected,r=n.props,a=r.nextPageRel,i=r.prevPageRel,o=r.selectedPageRel;return t-1===e?i:t===e?o:t+1===e?a:void 0})),b(y(n),"pagination",(function(){var e=[],r=n.props,a=r.pageRangeDisplayed,i=r.pageCount,o=r.marginPagesDisplayed,s=r.breakLabel,l=r.breakClassName,c=r.breakLinkClassName,u=r.breakAriaLabels,h=n.state.selected;if(i<=a)for(var f=0;f<i;f++)e.push(n.getPageElement(f));else{var p=a/2,m=a-p;h>i-a/2?p=a-(m=i-h):h<a/2&&(m=a-(p=h));var v,g,y=function(e){return n.getPageElement(e)},x=[];for(v=0;v<i;v++){var b=v+1;if(b<=o)x.push({type:"page",index:v,display:y(v)});else if(b>i-o)x.push({type:"page",index:v,display:y(v)});else if(v>=h-p&&v<=h+(0===h&&a>1?m-1:m))x.push({type:"page",index:v,display:y(v)});else if(s&&x.length>0&&x[x.length-1].display!==g&&(a>0||o>0)){var _=v<h?u.backward:u.forward;g=t().createElement(d,{key:v,breakAriaLabel:_,breakLabel:s,breakClassName:l,breakLinkClassName:c,breakHandler:n.handleBreakClick.bind(null,v),getEventListener:n.getEventListener}),x.push({type:"break",index:v,display:g})}}x.forEach((function(t,n){var r=t;"break"===t.type&&x[n-1]&&"page"===x[n-1].type&&x[n+1]&&"page"===x[n+1].type&&x[n+1].index-x[n-1].index<=2&&(r={type:"page",index:t.index,display:y(t.index)}),e.push(r.display)}))}return e})),void 0!==e.initialPage&&void 0!==e.forcePage&&console.warn("(react-paginate): Both initialPage (".concat(e.initialPage,") and forcePage (").concat(e.forcePage,") props are provided, which is discouraged.")+" Use exclusively forcePage prop for a controlled component.\nSee https://reactjs.org/docs/forms.html#controlled-components"),r=e.initialPage?e.initialPage:e.forcePage?e.forcePage:0,n.state={selected:r},n}return n=s,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialPage,n=e.disableInitialCallback,r=e.extraAriaContext,a=e.pageCount,i=e.forcePage;void 0===t||n||this.callCallback(t),r&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(a)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(a,"). Did you forget a Math.ceil()?")),void 0!==t&&t>a-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(t," > ").concat(a-1,").")),void 0!==i&&i>a-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(i," > ").concat(a-1,")."))}},{key:"componentDidUpdate",value:function(e){void 0!==this.props.forcePage&&this.props.forcePage!==e.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(e.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var e=this.state.selected,t=this.props,n=t.pageCount,r=e+t.pageRangeDisplayed;return r>=n?n-1:r}},{key:"getBackwardJump",value:function(){var e=this.state.selected-this.props.pageRangeDisplayed;return e<0?0:e}},{key:"getElementHref",value:function(e){var t=this.props,n=t.hrefBuilder,r=t.pageCount,a=t.hrefAllControls;if(n)return a||e>=0&&e<r?n(e+1,r,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(e){var t=e===this.state.selected;if(this.props.ariaLabelBuilder&&e>=0&&e<this.props.pageCount){var n=this.props.ariaLabelBuilder(e+1,t);return this.props.extraAriaContext&&!t&&(n=n+" "+this.props.extraAriaContext),n}}},{key:"getPageElement",value:function(e){var n=this.state.selected,r=this.props,a=r.pageClassName,i=r.pageLinkClassName,o=r.activeClassName,s=r.activeLinkClassName,c=r.extraAriaContext,u=r.pageLabelBuilder;return t().createElement(l,{key:e,pageSelectedHandler:this.handlePageSelected.bind(null,e),selected:n===e,rel:this.getElementPageRel(e),pageClassName:a,pageLinkClassName:i,activeClassName:o,activeLinkClassName:s,extraAriaContext:c,href:this.getElementHref(e),ariaLabel:this.ariaLabelBuilder(e),page:e+1,pageLabelBuilder:u,getEventListener:this.getEventListener})}},{key:"render",value:function(){var e=this.props.renderOnZeroPageCount;if(0===this.props.pageCount&&void 0!==e)return e?e(this.props):e;var n=this.props,r=n.disabledClassName,a=n.disabledLinkClassName,i=n.pageCount,o=n.className,s=n.containerClassName,l=n.previousLabel,c=n.previousClassName,u=n.previousLinkClassName,d=n.previousAriaLabel,f=n.prevRel,m=n.nextLabel,v=n.nextClassName,g=n.nextLinkClassName,y=n.nextAriaLabel,x=n.nextRel,b=this.state.selected,_=0===b,w=b===i-1,k="".concat(h(c)).concat(_?" ".concat(h(r)):""),j="".concat(h(v)).concat(w?" ".concat(h(r)):""),S="".concat(h(u)).concat(_?" ".concat(h(a)):""),C="".concat(h(g)).concat(w?" ".concat(h(a)):""),N=_?"true":"false",E=w?"true":"false";return t().createElement("ul",{className:o||s,role:"navigation","aria-label":"Pagination"},t().createElement("li",{className:k},t().createElement("a",p({className:S,href:this.getElementHref(b-1),tabIndex:_?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":N,"aria-label":d,rel:f},this.getEventListener(this.handlePreviousPage)),l)),this.pagination(),t().createElement("li",{className:j},t().createElement("a",p({className:C,href:this.getElementHref(b+1),tabIndex:w?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":E,"aria-label":y,rel:x},this.getEventListener(this.handleNextPage)),m)))}}])&&m(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);b(_,"propTypes",{pageCount:i().number.isRequired,pageRangeDisplayed:i().number,marginPagesDisplayed:i().number,previousLabel:i().node,previousAriaLabel:i().string,prevPageRel:i().string,prevRel:i().string,nextLabel:i().node,nextAriaLabel:i().string,nextPageRel:i().string,nextRel:i().string,breakLabel:i().oneOfType([i().string,i().node]),breakAriaLabels:i().shape({forward:i().string,backward:i().string}),hrefBuilder:i().func,hrefAllControls:i().bool,onPageChange:i().func,onPageActive:i().func,onClick:i().func,initialPage:i().number,forcePage:i().number,disableInitialCallback:i().bool,containerClassName:i().string,className:i().string,pageClassName:i().string,pageLinkClassName:i().string,pageLabelBuilder:i().func,activeClassName:i().string,activeLinkClassName:i().string,previousClassName:i().string,nextClassName:i().string,previousLinkClassName:i().string,nextLinkClassName:i().string,disabledClassName:i().string,disabledLinkClassName:i().string,breakClassName:i().string,breakLinkClassName:i().string,extraAriaContext:i().string,ariaLabelBuilder:i().func,eventListener:i().string,renderOnZeroPageCount:i().func,selectedPageRel:i().string}),b(_,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(e){return e},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});var w=_}(),a}())},1146:function(e,t,n){var r,a;"undefined"!=typeof self&&self,e.exports=(r=n(2791),a=n(4164),function(){"use strict";var e={156:function(e){e.exports=r},111:function(e){e.exports=a},582:function(e,t,n){n.r(t),n.d(t,{__addDisposableResource:function(){return D},__assign:function(){return i},__asyncDelegator:function(){return S},__asyncGenerator:function(){return j},__asyncValues:function(){return C},__await:function(){return k},__awaiter:function(){return p},__classPrivateFieldGet:function(){return A},__classPrivateFieldIn:function(){return M},__classPrivateFieldSet:function(){return P},__createBinding:function(){return v},__decorate:function(){return s},__disposeResources:function(){return O},__esDecorate:function(){return c},__exportStar:function(){return g},__extends:function(){return a},__generator:function(){return m},__importDefault:function(){return I},__importStar:function(){return T},__makeTemplateObject:function(){return N},__metadata:function(){return f},__param:function(){return l},__propKey:function(){return d},__read:function(){return x},__rest:function(){return o},__runInitializers:function(){return u},__setFunctionName:function(){return h},__spread:function(){return b},__spreadArray:function(){return w},__spreadArrays:function(){return _},__values:function(){return y}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function s(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,a,i){function o(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,f=n.length-1;f>=0;f--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(e||null))};var v=(0,n[f])("accessor"===l?{get:d.get,set:d.set}:d[c],p);if("accessor"===l){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw new TypeError("Object expected");(s=o(v.get))&&(d.get=s),(s=o(v.set))&&(d.set=s),(s=o(v.init))&&a.unshift(s)}else(s=o(v))&&("field"===l?a.unshift(s):d[c]=s)}u&&Object.defineProperty(u,r.name,d),h=!0}function u(e,t,n){for(var r=arguments.length>2,a=0;a<t.length;a++)n=r?t[a].call(e,n):t[a].call(e);return r?n:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function h(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function m(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var v=Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function g(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||v(t,e,n)}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(x(arguments[t]));return e}function _(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}function w(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function j(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){a[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=a[e](t)).value instanceof k?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function S(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,a){t[r]=e[r]?function(t){return(n=!n)?{value:k(e[r](t)),done:!1}:a?a(t):t}:a}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=y(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,a,(t=e[n](t)).done,t.value)}))}}}function N(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&v(t,e,n);return E(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function P(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n}function M(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function D(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var L="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function O(e){function t(t){e.error=e.hasError?new L(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var a=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(a).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}t.default={__extends:a,__assign:i,__rest:o,__decorate:s,__param:l,__metadata:f,__awaiter:p,__generator:m,__createBinding:v,__exportStar:g,__values:y,__read:x,__spread:b,__spreadArrays:_,__spreadArray:w,__await:k,__asyncGenerator:j,__asyncDelegator:S,__asyncValues:C,__makeTemplateObject:N,__importStar:T,__importDefault:I,__classPrivateFieldGet:A,__classPrivateFieldSet:P,__classPrivateFieldIn:M,__addDisposableResource:D,__disposeResources:O}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.useReactToPrint=e.PrintContextConsumer=void 0;var t=n(582),r=n(156),a=n(111),o=Object.prototype.hasOwnProperty.call(r,"createContext"),s=Object.prototype.hasOwnProperty.call(r,"useMemo")&&Object.prototype.hasOwnProperty.call(r,"useCallback"),l=o?r.createContext({}):null;e.PrintContextConsumer=l?l.Consumer:function(){return null};var c={copyStyles:!0,pageStyle:"\n        @page {\n            /* Remove browser default header (title) and footer (url) */\n            margin: 0;\n        }\n        @media print {\n            body {\n                /* Tell browsers to print background colors */\n                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */\n                color-adjust: exact; /* Firefox */\n            }\n        }\n    ",removeAfterPrint:!1,suppressErrors:!1},u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.startPrint=function(e){var t=n.props,r=t.onAfterPrint,a=t.onPrintError,i=t.print,o=t.documentTitle;setTimeout((function(){var t,s;if(e.contentWindow)if(e.contentWindow.focus(),i)i(e).then((function(){return null==r?void 0:r()})).then((function(){return n.handleRemoveIframe()})).catch((function(e){a?a("print",e):n.logMessages(["An error was thrown by the specified `print` function"])}));else{if(e.contentWindow.print){var l=null!==(s=null===(t=e.contentDocument)||void 0===t?void 0:t.title)&&void 0!==s?s:"",c=e.ownerDocument.title;o&&(e.ownerDocument.title=o,e.contentDocument&&(e.contentDocument.title=o)),e.contentWindow.print(),o&&(e.ownerDocument.title=c,e.contentDocument&&(e.contentDocument.title=l))}else n.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);null==r||r(),n.handleRemoveIframe()}else n.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])}),500)},n.triggerPrint=function(e){var t=n.props,r=t.onBeforePrint,a=t.onPrintError;if(r){var i=r();i&&"function"==typeof i.then?i.then((function(){n.startPrint(e)})).catch((function(e){a&&a("onBeforePrint",e)})):n.startPrint(e)}else n.startPrint(e)},n.handleClick=function(){var e=n.props,t=e.onBeforeGetContent,r=e.onPrintError;if(t){var a=t();a&&"function"==typeof a.then?a.then(n.handlePrint).catch((function(e){r&&r("onBeforeGetContent",e)})):n.handlePrint()}else n.handlePrint()},n.handlePrint=function(){var e=n.props,r=e.bodyClass,i=e.content,o=e.copyStyles,s=e.fonts,l=e.pageStyle,c=e.nonce,u=i();if(void 0!==u)if(null!==u){var d=document.createElement("iframe");d.width="".concat(document.documentElement.clientWidth,"px"),d.height="".concat(document.documentElement.clientHeight,"px"),d.style.position="absolute",d.style.top="-".concat(document.documentElement.clientHeight+100,"px"),d.style.left="-".concat(document.documentElement.clientWidth+100,"px"),d.id="printWindow",d.srcdoc="<!DOCTYPE html>";var h=(0,a.findDOMNode)(u);if(h){var f=h.cloneNode(!0),p=f instanceof Text,m=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),v=p?[]:f.querySelectorAll("img"),g=p?[]:f.querySelectorAll("video"),y=s?s.length:0;n.numResourcesToLoad=m.length+v.length+g.length+y,n.resourcesLoaded=[],n.resourcesErrored=[];var x=function(e,r){n.resourcesLoaded.includes(e)?n.logMessages(["Tried to mark a resource that has already been handled",e],"debug"):(r?(n.logMessages(t.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],t.__read(r),!1)),n.resourcesErrored.push(e)):n.resourcesLoaded.push(e),n.resourcesLoaded.length+n.resourcesErrored.length===n.numResourcesToLoad&&n.triggerPrint(d))};d.onload=function(){var e,a,i,u;d.onload=null;var m=d.contentDocument||(null===(a=d.contentWindow)||void 0===a?void 0:a.document);if(m){m.body.appendChild(f),s&&((null===(i=d.contentDocument)||void 0===i?void 0:i.fonts)&&(null===(u=d.contentWindow)||void 0===u?void 0:u.FontFace)?s.forEach((function(e){var t=new FontFace(e.family,e.source,{weight:e.weight,style:e.style});d.contentDocument.fonts.add(t),t.loaded.then((function(){x(t)})).catch((function(e){x(t,["Failed loading the font:",t,"Load error:",e])}))})):(s.forEach((function(e){return x(e)})),n.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var y="function"==typeof l?l():l;if("string"!=typeof y)n.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof y,'". Styles from `pageStyle` will not be applied.')]);else{var b=m.createElement("style");c&&(b.setAttribute("nonce",c),m.head.setAttribute("nonce",c)),b.appendChild(m.createTextNode(y)),m.head.appendChild(b)}if(r&&(e=m.body.classList).add.apply(e,t.__spreadArray([],t.__read(r.split(" ")),!1)),!p){for(var _=p?[]:h.querySelectorAll("canvas"),w=m.querySelectorAll("canvas"),k=0;k<_.length;++k){var j=_[k],S=w[k].getContext("2d");S&&S.drawImage(j,0,0)}var C=function(e){var t=v[e],n=t.getAttribute("src");if(n){var r=new Image;r.onload=function(){return x(t)},r.onerror=function(e,n,r,a,i){return x(t,["Error loading <img>",t,"Error",i])},r.src=n}else x(t,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',t])};for(k=0;k<v.length;k++)C(k);var N=function(e){var t=g[e];t.preload="auto";var n=t.getAttribute("poster");if(n){var r=new Image;r.onload=function(){return x(t)},r.onerror=function(e,r,a,i,o){return x(t,["Error loading video poster",n,"for video",t,"Error:",o])},r.src=n}else t.readyState>=2?x(t):(t.onloadeddata=function(){return x(t)},t.onerror=function(e,n,r,a,i){return x(t,["Error loading video",t,"Error",i])},t.onstalled=function(){return x(t,["Loading video stalled, skipping",t])})};for(k=0;k<g.length;k++)N(k);var E="input",T=h.querySelectorAll(E),I=m.querySelectorAll(E);for(k=0;k<T.length;k++)I[k].value=T[k].value;var A="input[type=checkbox],input[type=radio]",P=h.querySelectorAll(A),M=m.querySelectorAll(A);for(k=0;k<P.length;k++)M[k].checked=P[k].checked;var D="select",L=h.querySelectorAll(D),O=m.querySelectorAll(D);for(k=0;k<L.length;k++)O[k].value=L[k].value}if(o)for(var z=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),R=function(e,t){var r=z[e];if("style"===r.tagName.toLowerCase()){var a=m.createElement(r.tagName),i=r.sheet;if(i){var o="";try{for(var s=i.cssRules.length,l=0;l<s;++l)"string"==typeof i.cssRules[l].cssText&&(o+="".concat(i.cssRules[l].cssText,"\r\n"))}catch(e){n.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",r],"warning")}a.setAttribute("id","react-to-print-".concat(e)),c&&a.setAttribute("nonce",c),a.appendChild(m.createTextNode(o)),m.head.appendChild(a)}}else if(r.getAttribute("href"))if(r.hasAttribute("disabled"))n.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",r],"warning"),x(r);else{for(var u=m.createElement(r.tagName),d=(l=0,r.attributes.length);l<d;++l){var h=r.attributes[l];h&&u.setAttribute(h.nodeName,h.nodeValue||"")}u.onload=function(){return x(u)},u.onerror=function(e,t,n,r,a){return x(u,["Failed to load",u,"Error:",a])},c&&u.setAttribute("nonce",c),m.head.appendChild(u)}else n.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",r],"warning"),x(r)},F=(k=0,z.length);k<F;++k)R(k)}0!==n.numResourcesToLoad&&o||n.triggerPrint(d)},n.handleRemoveIframe(!0),document.body.appendChild(d)}else n.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else n.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else n.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},n.handleRemoveIframe=function(e){var t=n.props.removeAfterPrint;if(e||t){var r=document.getElementById("printWindow");r&&document.body.removeChild(r)}},n.logMessages=function(e,t){void 0===t&&(t="error"),n.props.suppressErrors||("error"===t?console.error(e):"warning"===t?console.warn(e):"debug"===t&&console.debug(e))},n}return t.__extends(n,e),n.prototype.render=function(){var e=this.props,t=e.children,n=e.trigger;if(n)return r.cloneElement(n(),{onClick:this.handleClick});if(!l)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var a={handlePrint:this.handleClick};return r.createElement(l.Provider,{value:a},t)},n.defaultProps=c,n}(r.Component);e.default=u,e.useReactToPrint=function(e){if(!s)return e.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var n=r.useMemo((function(){return new u(t.__assign(t.__assign({},c),e))}),[e]);return r.useCallback((function(){return n.handleClick()}),[n])}}(),i}())},6374:function(e,t,n){"use strict";var r=n(2791),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=x.prototype=new y;b.constructor=x,m(b,g.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,a)&&!j.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+E(l,0):i,_(o)?(a="",null!=e&&(a=e.replace(N,"$&/")+"/"),T(o,t,a,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(N,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",_(e))for(var c=0;c<e.length;c++){var u=i+E(s=e[c],c);l+=T(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,a,u=i+E(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},M={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!j.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(v=!1,b(e),!m)if(null!==r(c))m=!0,M(w);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function w(e,n){m=!1,v&&(v=!1,y(C),C=-1),p=!0;var i=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&a(c),b(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,j=!1,S=null,C=-1,N=5,E=-1;function T(){return!(t.unstable_now()-E<N)}function I(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?k():(j=!1,S=null)}}else j=!1}if("function"===typeof x)k=function(){x(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=I,k=function(){P.postMessage(null)}}else k=function(){g(I,0)};function M(e){S=e,j||(j=!0,k())}function D(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(v?(y(C),C=-1):v=!0,D(_,i-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,M(w))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(a=n?n.call(r,u,d,c):void 0)||void 0===a&&u!==d)return!1}return!0}},2458:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},5087:function(e,t,n){var r;if("object"===typeof globalThis)r=globalThis;else try{r=n(4210)}catch(s){}finally{if(r||"undefined"===typeof window||(r=window),!r)throw new Error("Could not determine global this")}var a=r.WebSocket||r.MozWebSocket,i=n(1496);function o(e,t){return t?new a(e,t):new a(e)}a&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(o,e,{get:function(){return a[e]}})})),e.exports={w3cwebsocket:a?o:null,version:i}},1496:function(e,t,n){e.exports=n(9794).version},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),a=n(9617);function i(t,n,o){return a()?(e.exports=i=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return n&&r(i,n.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r(a.key),a)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),a=n(9617),i=n(4993);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function a(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=a=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var a=r(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(this,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,a=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function a(){"use strict";e.exports=a=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},i=Object.prototype,o=i.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),o=new M(r||[]);return s(i,"_invoke",{value:T(e,n,o)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var m="suspendedStart",v="suspendedYield",g="executing",y="completed",x={};function b(){}function _(){}function w(){}var k={};h(k,c,(function(){return this}));var j=Object.getPrototypeOf,S=j&&j(j(D([])));S&&S!==i&&o.call(S,c)&&(k=S);var C=w.prototype=b.prototype=Object.create(k);function N(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,i,s,l){var c=p(e[a],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;s(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}})}function T(e,n,r){var a=m;return function(i,o){if(a===g)throw new Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:t,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var l=I(s,r);if(l){if(l===x)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=g;var c=p(e,n,r);if("normal"===c.type){if(a=r.done?y:v,c.arg===x)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=y,r.method="throw",r.arg=c.arg)}}}function I(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),x;var i=p(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,x;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,x):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,x)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(o.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return _.prototype=w,s(C,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:_,configurable:!0}),_.displayName=h(w,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,h(e,d,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},N(E.prototype),h(E.prototype,u,(function(){return this})),n.AsyncIterator=E,n.async=function(e,t,r,a,i){void 0===i&&(i=Promise);var o=new E(f(e,t,r,a),i);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},N(C),h(C,d,"Generator"),h(C,c,(function(){return this})),h(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,x):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),x}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),x}},n}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),a=n(8872),i=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},1589:function(e,t,n){var r=n(5372),a=n(9498),i=n(6116),o=n(2218);e.exports=function(e){return r(e)||a(e)||i(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),a=n(9498),i=n(6116),o=n(2281);e.exports=function(e){return r(e)||a(e)||i(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,a=n(5036);e.exports=function(e){var t=a(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),a=n(6015),i=n(6035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},596:function(e,t,n){var r=n(8416).default,a=n(6115).default,i=n(1588).default,o=n(3808).default,s=n(4993).default,l=n(2122).default,c=n(1589).default,u=n(3515).default,d=n(861).default,h=n(7424).default,f=n(4704).default,p=n(9728).default,m=n(6690).default,v=n(1655).default,g=n(6389).default,y=n(3496).default,x=n(7061).default;e.exports=function(){"use strict";var e,t,n;function b(r,a){if(e)if(t){var i="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",o={};e(o),n=a(o),"undefined"!==typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([i],{type:"text/javascript"})))}else t=a;else e=a}return b(["exports"],(function(e){function t(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"==typeof SuppressedError&&SuppressedError;var r=a;function a(e,t){this.x=e,this.y=t}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),a=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(e){return e instanceof a?e:Array.isArray(e)?new a(e[0],e[1]):e};var b=n(r),_=w;function w(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}w.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var a=this.sampleCurveX(n)-e;if(Math.abs(a)<t)return n;var i=this.sampleCurveDerivativeX(n);if(Math.abs(i)<1e-6)break;n-=a/i}var o=0,s=1;for(n=e,r=0;r<20&&(a=this.sampleCurveX(n),!(Math.abs(a-e)<t));r++)e>a?o=n:s=n,n=.5*(s-o)+o;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var k,j,S=n(_);function C(){return null==k&&(k="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),k}function N(){if(null==j&&(j=!1,C())){var e=5,t=new OffscreenCanvas(e,e).getContext("2d",{willReadFrequently:!0});if(t){for(var n=0;n<e*e;n++){var r=4*n;t.fillStyle="rgb(".concat(r,",").concat(r+1,",").concat(r+2,")"),t.fillRect(n%e,Math.floor(n/e),1,1)}for(var a=t.getImageData(0,0,e,e).data,i=0;i<e*e*4;i++)if(i%4!=3&&a[i]!==i){j=!0;break}}}return j||!1}function E(e,t,n,r){var a=new S(e,t,n,r);return function(e){return a.solve(e)}}var T=E(.25,.1,.25,1);function I(e,t,n){return Math.min(n,Math.max(t,e))}function A(e,t,n){var r=n-t,a=((e-t)%r+r)%r+t;return a===t?n:a}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];for(var s in o)e[s]=o[s]}return e}var M=1;function D(e,t,n){var r={};for(var a in e)r[a]=t.call(n||this,e[a],a,e);return r}function L(e,t,n){var r={};for(var a in e)t.call(n||this,e[a],a,e)&&(r[a]=e[a]);return r}function O(e){return Array.isArray(e)?e.map(O):"object"==typeof e&&e?D(e,O):e}var z={};function R(e){z[e]||("undefined"!=typeof console&&console.warn(e),z[e]=!0)}function F(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function B(e){for(var t,n,r=0,a=0,i=e.length,o=i-1;a<i;o=a++)t=e[a],r+=((n=e[o]).x-t.x)*(t.y+n.y);return r}function Z(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}var U=null;function V(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}var q,H,W,Y,G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function J(e,n,r,a,i){return t(this,void 0,void 0,x().mark((function t(){var o,s,l,c,u,d;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof VideoFrame){t.next=2;break}throw new Error("VideoFrame not supported");case 2:if(o=new VideoFrame(e,{timestamp:0}),t.prev=3,(s=null==o?void 0:o.format)&&(s.startsWith("BGR")||s.startsWith("RGB"))){t.next=7;break}throw new Error("Unrecognized format ".concat(s));case 7:return l=s.startsWith("BGR"),c=new Uint8ClampedArray(a*i*4),t.next=10,o.copyTo(c,function(e,t,n,r,a){var i=4*Math.max(-t,0),o=(Math.max(0,n)-n)*r*4+i,s=4*r,l=Math.max(0,t),c=Math.max(0,n);return{rect:{x:l,y:c,width:Math.min(e.width,t+r)-l,height:Math.min(e.height,n+a)-c},layout:[{offset:o,stride:s}]}}(e,n,r,a,i));case 10:if(!l){t.next=12;break}for(u=0;u<c.length;u+=4)d=c[u],c[u]=c[u+2],c[u+2]=d;case 12:return t.abrupt("return",c);case 13:return t.prev=13,o.close(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,,13,16]])})))}var X={now:"undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame:function(e){var t=requestAnimationFrame(e);return{cancel:function(){return cancelAnimationFrame(t)}}},getImageData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getImageCanvasContext(e).getImageData(-t,-t,e.width+2*t,e.height+2*t)},getImageCanvasContext:function(e){var t=window.document.createElement("canvas"),n=t.getContext("2d",{willReadFrequently:!0});if(!n)throw new Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height),n},resolveURL:function(e){return W||(W=document.createElement("a")),W.href=e,W.href},hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==Y&&(Y=matchMedia("(prefers-reduced-motion: reduce)")),Y.matches)}},K={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""},$=function(e){v(n,e);var t=g(n);function n(e,r,a,i){var o;return m(this,n),(o=t.call(this,"AJAXError: ".concat(r," (").concat(e,"): ").concat(a))).status=e,o.statusText=r,o.url=a,o.body=i,o}return p(n)}(y(Error)),Q=Z()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===window.location.protocol?window.parent:window).location.href},ee=function(e){return K.REGISTERED_PROTOCOLS[e.substring(0,e.indexOf("://"))]};function te(e,t){var n=new AbortController,r=new Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,cache:e.cache,referrer:Q(),signal:n.signal}),a=!1,i=!1;return"json"===e.type&&r.headers.set("Accept","application/json"),i||fetch(r).then((function(n){return n.ok?function(n){("arrayBuffer"===e.type||"image"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((function(e){i||(a=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(e){i||t(new Error(e.message))}))}(n):n.blob().then((function(r){return t(new $(n.status,n.statusText,e.url,r))}))})).catch((function(e){20!==e.code&&t(new Error(e.message))})),{cancel:function(){i=!0,a||n.abort()}}}var ne=function(e,t){if(/:\/\//.test(e.url)&&!/^https?:|^file:/.test(e.url)){if(Z()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t);if(!Z())return(ee(e.url)||te)(e,t)}if(!(/^file:/.test(n=e.url)||/^file:/.test(Q())&&!/^\w+:/.test(n))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return te(e,t);if(Z()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){var n=new XMLHttpRequest;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"!==e.type&&"image"!==e.type||(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else{var a=new Blob([n.response],{type:n.getResponseHeader("Content-Type")});t(new $(n.status,n.statusText,e.url,a))}},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},re=function(e,t){return ne(P(e,{type:"arrayBuffer"}),t)};function ae(e){if(!e||e.indexOf("://")<=0||0===e.indexOf("data:image/")||0===e.indexOf("blob:"))return!0;var t=new URL(e),n=window.location;return t.protocol===n.protocol&&t.host===n.host}function ie(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function oe(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var se=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(this,e),P(this,n),this.type=t})),le=function(e){v(n,e);var t=g(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m(this,n),t.call(this,"error",P({error:e},r))}return p(n)}(se),ce=function(){function e(){m(this,e)}return p(e,[{key:"on",value:function(e,t){return this._listeners=this._listeners||{},ie(e,t,this._listeners),this}},{key:"off",value:function(e,t){return oe(e,t,this._listeners),oe(e,t,this._oneTimeListeners),this}},{key:"once",value:function(e,t){var n=this;return t?(this._oneTimeListeners=this._oneTimeListeners||{},ie(e,t,this._oneTimeListeners),this):new Promise((function(t){return n.once(e,t)}))}},{key:"fire",value:function(e,t){"string"==typeof e&&(e=new se(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;var r,a=this._listeners&&this._listeners[n]?this._listeners[n].slice():[],i=f(a);try{for(i.s();!(r=i.n()).done;)r.value.call(this,e)}catch(d){i.e(d)}finally{i.f()}var o,s=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[],l=f(s);try{for(l.s();!(o=l.n()).done;){var c=o.value;oe(n,c,this._oneTimeListeners),c.call(this,e)}}catch(d){l.e(d)}finally{l.f()}var u=this._eventedParent;u&&(P(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(e))}else e instanceof le&&console.error(e.error);return this}},{key:"listens",value:function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}},{key:"setEventedParent",value:function(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}]),e}(),ue={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},de=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function he(e,t){var n={};for(var r in e)"ref"!==r&&(n[r]=e[r]);return de.forEach((function(e){e in t&&(n[e]=t[e])})),n}function fe(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!fe(e[n],t[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!fe(e[r],t[r]))return!1;return!0}return e===t}var pe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function me(e,t,n){n.push({command:pe.addSource,args:[e,t[e]]})}function ve(e,t,n){t.push({command:pe.removeSource,args:[e]}),n[e]=!0}function ge(e,t,n,r){ve(e,n,r),me(e,t,n)}function ye(e,t,n){var r;for(r in e[n])if(Object.prototype.hasOwnProperty.call(e[n],r)&&"data"!==r&&!fe(e[n][r],t[n][r]))return!1;for(r in t[n])if(Object.prototype.hasOwnProperty.call(t[n],r)&&"data"!==r&&!fe(e[n][r],t[n][r]))return!1;return!0}function xe(e,t,n,r,a,i){var o;for(o in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,o)&&(fe(e[o],t[o])||n.push({command:i,args:[r,o,t[o],a]}));for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&!Object.prototype.hasOwnProperty.call(e,o)&&(fe(e[o],t[o])||n.push({command:i,args:[r,o,t[o],a]}))}function be(e){return e.id}function _e(e,t){return e[t.id]=t,e}var we=p((function e(t,n,r,a){m(this,e),this.message=(t?"".concat(t,": "):"")+r,a&&(this.identifier=a),null!=n&&n.__line__&&(this.line=n.__line__)}));function ke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];for(var s in o)e[s]=o[s]}return e}var je=function(e){v(n,e);var t=g(n);function n(e,r){var a;return m(this,n),(a=t.call(this,r)).message=r,a.key=e,a}return p(n)}(y(Error)),Se=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];m(this,e),this.parent=t,this.bindings={};var r,a=f(n);try{for(a.s();!(r=a.n()).done;){var i=h(r.value,2),o=i[0],s=i[1];this.bindings[o]=s}}catch(l){a.e(l)}finally{a.f()}}return p(e,[{key:"concat",value:function(t){return new e(this,t)}},{key:"get",value:function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error("".concat(e," not found in scope."))}},{key:"has",value:function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}]),e}(),Ce={kind:"null"},Ne={kind:"number"},Ee={kind:"string"},Te={kind:"boolean"},Ie={kind:"color"},Ae={kind:"object"},Pe={kind:"value"},Me={kind:"collator"},De={kind:"formatted"},Le={kind:"padding"},Oe={kind:"resolvedImage"},ze={kind:"variableAnchorOffsetCollection"};function Re(e,t){return{kind:"array",itemType:e,N:t}}function Fe(e){if("array"===e.kind){var t=Fe(e.itemType);return"number"==typeof e.N?"array<".concat(t,", ").concat(e.N,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}var Be=[Ce,Ne,Ee,Te,Ie,De,Ae,Re(Pe),Le,Oe,ze];function Ze(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Ze(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var n=0,r=Be;n<r.length;n++)if(!Ze(r[n],t))return null}return"Expected ".concat(Fe(e)," but found ").concat(Fe(t)," instead.")}function Ue(e,t){return t.some((function(t){return t.kind===e.kind}))}function Ve(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}function qe(e,t){return"array"===e.kind&&"array"===t.kind?e.itemType.kind===t.itemType.kind&&"number"==typeof e.N:e.kind===t.kind}var He=.96422,We=.82521,Ye=4/29,Ge=6/29,Je=3*Ge*Ge,Xe=Ge*Ge*Ge,Ke=Math.PI/180,$e=180/Math.PI;function Qe(e){return(e%=360)<0&&(e+=360),e}function et(e){var t,n,r=h(e,4),a=r[0],i=r[1],o=r[2],s=r[3],l=nt((.2225045*(a=tt(a))+.7168786*(i=tt(i))+.0606169*(o=tt(o)))/1);a===i&&i===o?t=n=l:(t=nt((.4360747*a+.3850649*i+.1430804*o)/He),n=nt((.0139322*a+.0971045*i+.7141733*o)/We));var c=116*l-16;return[c<0?0:c,500*(t-l),200*(l-n),s]}function tt(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function nt(e){return e>Xe?Math.pow(e,1/3):e/Je+Ye}function rt(e){var t=h(e,4),n=t[0],r=t[1],a=t[2],i=t[3],o=(n+16)/116,s=isNaN(r)?o:o+r/500,l=isNaN(a)?o:o-a/200;return o=1*it(o),[at(3.1338561*(s=He*it(s))-1.6168667*o-.4906146*(l=We*it(l))),at(-.9787684*s+1.9161415*o+.033454*l),at(.0719453*s-.2289914*o+1.4052427*l),i]}function at(e){return(e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055)<0?0:e>1?1:e}function it(e){return e>Ge?e*e*e:Je*(e-Ye)}function ot(e){return parseInt(e.padEnd(2,e),16)/255}function st(e,t){return lt(t?e/100:e,0,1)}function lt(e,t,n){return Math.min(Math.max(t,e),n)}function ct(e){return!e.some(Number.isNaN)}var ut={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},dt=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];m(this,e),this.r=t,this.g=n,this.b=r,this.a=a,i||(this.r*=a,this.g*=a,this.b*=a,a||this.overwriteGetter("rgb",[t,n,r,a]))}return p(e,[{key:"rgb",get:function(){var e=this.r,t=this.g,n=this.b,r=this.a,a=r||1/0;return this.overwriteGetter("rgb",[e/a,t/a,n/a,r])}},{key:"hcl",get:function(){return this.overwriteGetter("hcl",function(e){var t=et(e),n=h(t,4),r=n[0],a=n[1],i=n[2],o=n[3],s=Math.sqrt(a*a+i*i);return[Math.round(1e4*s)?Qe(Math.atan2(i,a)*$e):NaN,s,r,o]}(this.rgb))}},{key:"lab",get:function(){return this.overwriteGetter("lab",et(this.rgb))}},{key:"overwriteGetter",value:function(e,t){return Object.defineProperty(this,e,{value:t}),t}},{key:"toString",value:function(){var e=h(this.rgb,4),t=e[0],n=e[1],r=e[2],a=e[3];return"rgba(".concat([t,n,r].map((function(e){return Math.round(255*e)})).join(","),",").concat(a,")")}}],[{key:"parse",value:function(t){if(t instanceof e)return t;if("string"==typeof t){var n=function(e){if("transparent"===(e=e.toLowerCase().trim()))return[0,0,0,0];var t=ut[e];if(t){var n=h(t,3);return[n[0]/255,n[1]/255,n[2]/255,1]}if(e.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){var r=e.length<6?1:2,a=1;return[ot(e.slice(a,a+=r)),ot(e.slice(a,a+=r)),ot(e.slice(a,a+=r)),ot(e.slice(a,a+r)||"ff")]}if(e.startsWith("rgb")){var i=e.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(i){var o=h(i,12),s=(o[0],o[1]),l=o[2],c=o[3],u=o[4],d=o[5],f=o[6],p=o[7],m=o[8],v=o[9],g=o[10],y=o[11],x=[c||" ",f||" ",v].join("");if("  "===x||"  /"===x||",,"===x||",,,"===x){var b=[l,d,m].join(""),_="%%%"===b?100:""===b?255:0;if(_){var w=[lt(+s/_,0,1),lt(+u/_,0,1),lt(+p/_,0,1),g?st(+g,y):1];if(ct(w))return w}}return}}var k=e.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(k){var j=h(k,9),S=(j[0],j[1]),C=j[2],N=j[3],E=j[4],T=j[5],I=j[6],A=j[7],P=j[8],M=[C||" ",E||" ",I].join("");if("  "===M||"  /"===M||",,"===M||",,,"===M){var D=[+S,lt(+N,0,100),lt(+T,0,100),A?st(+A,P):1];if(ct(D))return function(e){var t=h(e,4),n=t[0],r=t[1],a=t[2],i=t[3];function o(e){var t=(e+n/30)%12,i=r*Math.min(a,1-a);return a-i*Math.max(-1,Math.min(t-3,9-t,1))}return n=Qe(n),r/=100,a/=100,[o(0),o(8),o(4),i]}(D)}}}(t);return n?u(e,d(n).concat([!1])):void 0}}}]),e}();dt.black=new dt(0,0,0,1),dt.white=new dt(1,1,1,1),dt.transparent=new dt(0,0,0,0),dt.red=new dt(1,0,0,1);var ht=function(){function e(t,n,r){m(this,e),this.sensitivity=t?n?"variant":"case":n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}return p(e,[{key:"compare",value:function(e,t){return this.collator.compare(e,t)}},{key:"resolvedLocale",value:function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}]),e}(),ft=p((function e(t,n,r,a,i){m(this,e),this.text=t,this.image=n,this.scale=r,this.fontStack=a,this.textColor=i})),pt=function(){function e(t){m(this,e),this.sections=t}return p(e,[{key:"isEmpty",value:function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))}},{key:"toString",value:function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")}}],[{key:"fromString",value:function(t){return new e([new ft(t,null,null,null,null)])}},{key:"factory",value:function(t){return t instanceof e?t:e.fromString(t)}}]),e}(),mt=function(){function e(t){m(this,e),this.values=t.slice()}return p(e,[{key:"toString",value:function(){return JSON.stringify(this.values)}}],[{key:"parse",value:function(t){if(t instanceof e)return t;if("number"==typeof t)return new e([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){var n,r=f(t);try{for(r.s();!(n=r.n()).done;)if("number"!=typeof n.value)return}catch(a){r.e(a)}finally{r.f()}switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]]}return new e(t)}}}]),e}(),vt=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]),gt=function(){function e(t){m(this,e),this.values=t.slice()}return p(e,[{key:"toString",value:function(){return JSON.stringify(this.values)}}],[{key:"parse",value:function(t){if(t instanceof e)return t;if(Array.isArray(t)&&!(t.length<1)&&t.length%2==0){for(var n=0;n<t.length;n+=2){var r=t[n],a=t[n+1];if("string"!=typeof r||!vt.has(r))return;if(!Array.isArray(a)||2!==a.length||"number"!=typeof a[0]||"number"!=typeof a[1])return}return new e(t)}}}]),e}(),yt=function(){function e(t){m(this,e),this.name=t.name,this.available=t.available}return p(e,[{key:"toString",value:function(){return this.name}}],[{key:"fromString",value:function(t){return t?new e({name:t,available:!1}):null}}]),e}();function xt(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value [".concat([e,t,n,r].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function bt(e){if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||e instanceof dt||e instanceof ht||e instanceof pt||e instanceof mt||e instanceof gt||e instanceof yt)return!0;if(Array.isArray(e)){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(!bt(t.value))return!1}catch(a){n.e(a)}finally{n.f()}return!0}if("object"==typeof e){for(var r in e)if(!bt(e[r]))return!1;return!0}return!1}function _t(e){if(null===e)return Ce;if("string"==typeof e)return Ee;if("boolean"==typeof e)return Te;if("number"==typeof e)return Ne;if(e instanceof dt)return Ie;if(e instanceof ht)return Me;if(e instanceof pt)return De;if(e instanceof mt)return Le;if(e instanceof gt)return ze;if(e instanceof yt)return Oe;if(Array.isArray(e)){var t,n,r=e.length,a=f(e);try{for(a.s();!(n=a.n()).done;){var i=_t(n.value);if(t){if(t===i)continue;t=Pe;break}t=i}}catch(o){a.e(o)}finally{a.f()}return Re(t||Pe,r)}return Ae}function wt(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof dt||e instanceof pt||e instanceof mt||e instanceof gt||e instanceof yt?e.toString():JSON.stringify(e)}var kt=function(){function e(t,n){m(this,e),this.type=t,this.value=n}return p(e,[{key:"evaluate",value:function(){return this.value}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("'literal' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(!bt(t[1]))return n.error("invalid value");var r=t[1],a=_t(r),i=n.expectedType;return"array"!==a.kind||0!==a.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(a=i),new e(a,r)}}]),e}(),jt=function(){function e(t){m(this,e),this.name="ExpressionEvaluationError",this.message=t}return p(e,[{key:"toJSON",value:function(){return this.message}}]),e}(),St={string:Ee,number:Ne,boolean:Te,object:Ae},Ct=function(){function e(t,n){m(this,e),this.type=t,this.args=n}return p(e,[{key:"evaluate",value:function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!Ze(this.type,_t(n)))return n;if(t===this.args.length-1)throw new jt("Expected value to be of type ".concat(Fe(this.type),", but found ").concat(Fe(_t(n))," instead."))}throw new Error}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r,a=1,i=t[0];if("array"===i){var o,s;if(t.length>2){var l=t[1];if("string"!=typeof l||!(l in St)||"object"===l)return n.error('The item type argument of "array" must be one of string, number, boolean',1);o=St[l],a++}else o=Pe;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);s=t[2],a++}r=Re(o,s)}else{if(!St[i])throw new Error("Types doesn't contain name = ".concat(i));r=St[i]}for(var c=[];a<t.length;a++){var u=n.parse(t[a],a,Pe);if(!u)return null;c.push(u)}return new e(r,c)}}]),e}(),Nt={"to-boolean":Te,"to-color":Ie,"to-number":Ne,"to-string":Ee},Et=function(){function e(t,n){m(this,e),this.type=t,this.args=n}return p(e,[{key:"evaluate",value:function(e){switch(this.type.kind){case"boolean":return Boolean(this.args[0].evaluate(e));case"color":var t,n,r,a=f(this.args);try{for(a.s();!(r=a.n()).done;){if(t=r.value.evaluate(e),n=null,t instanceof dt)return t;if("string"==typeof t){var i=e.parseColor(t);if(i)return i}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value ".concat(JSON.stringify(t),": expected an array containing either three or four numeric values."):xt(t[0],t[1],t[2],t[3])))return new dt(t[0]/255,t[1]/255,t[2]/255,t[3])}}catch(x){a.e(x)}finally{a.f()}throw new jt(n||"Could not parse color from value '".concat("string"==typeof t?t:JSON.stringify(t),"'"));case"padding":var o,s,l=f(this.args);try{for(l.s();!(s=l.n()).done;){o=s.value.evaluate(e);var c=mt.parse(o);if(c)return c}}catch(x){l.e(x)}finally{l.f()}throw new jt("Could not parse padding from value '".concat("string"==typeof o?o:JSON.stringify(o),"'"));case"variableAnchorOffsetCollection":var u,d,h=f(this.args);try{for(h.s();!(d=h.n()).done;){u=d.value.evaluate(e);var p=gt.parse(u);if(p)return p}}catch(x){h.e(x)}finally{h.f()}throw new jt("Could not parse variableAnchorOffsetCollection from value '".concat("string"==typeof u?u:JSON.stringify(u),"'"));case"number":var m,v=null,g=f(this.args);try{for(g.s();!(m=g.n()).done;){if(null===(v=m.value.evaluate(e)))return 0;var y=Number(v);if(!isNaN(y))return y}}catch(x){g.e(x)}finally{g.f()}throw new jt("Could not convert ".concat(JSON.stringify(v)," to number."));case"formatted":return pt.fromString(wt(this.args[0].evaluate(e)));case"resolvedImage":return yt.fromString(wt(this.args[0].evaluate(e)));default:return wt(this.args[0].evaluate(e))}}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r=t[0];if(!Nt[r])throw new Error("Can't parse ".concat(r," as it is not part of the known types"));if(("to-boolean"===r||"to-string"===r)&&2!==t.length)return n.error("Expected one argument.");for(var a=Nt[r],i=[],o=1;o<t.length;o++){var s=n.parse(t[o],o,Pe);if(!s)return null;i.push(s)}return new e(a,i)}}]),e}(),Tt=["Unknown","Point","LineString","Polygon"],It=function(){function e(){m(this,e),this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}return p(e,[{key:"id",value:function(){return this.feature&&"id"in this.feature?this.feature.id:null}},{key:"geometryType",value:function(){return this.feature?"number"==typeof this.feature.type?Tt[this.feature.type]:this.feature.type:null}},{key:"geometry",value:function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}},{key:"canonicalID",value:function(){return this.canonical}},{key:"properties",value:function(){return this.feature&&this.feature.properties||{}}},{key:"parseColor",value:function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=dt.parse(e)),t}}]),e}(),At=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Se,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];m(this,e),this.registry=t,this.path=r,this.key=r.map((function(e){return"[".concat(e,"]")})).join(""),this.scope=i,this.errors=o,this.expectedType=a,this._isConstant=n}return p(e,[{key:"parse",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return t?this.concat(t,n,r)._parse(e,a):this._parse(e,a)}},{key:"_parse",value:function(e,t){function n(e,t,n){return"assert"===n?new Ct(t,[e]):"coerce"===n?new Et(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found ".concat(typeof r,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;var a=this.registry[r];if(a){var i=a.parse(e,this);if(!i)return null;if(this.expectedType){var o=this.expectedType,s=i.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind)if("padding"!==o.kind||"value"!==s.kind&&"number"!==s.kind&&"array"!==s.kind)if("variableAnchorOffsetCollection"!==o.kind||"value"!==s.kind&&"array"!==s.kind){if(this.checkSubtype(o,s))return null}else i=n(i,o,t.typeAnnotation||"coerce");else i=n(i,o,t.typeAnnotation||"coerce");else i=n(i,o,t.typeAnnotation||"coerce");else i=n(i,o,t.typeAnnotation||"assert")}if(!(i instanceof kt)&&"resolvedImage"!==i.type.kind&&this._isConstant(i)){var l=new It;try{i=new kt(i.type,i.evaluate(l))}catch(e){return this.error(e.message),null}}return i}return this.error('Unknown expression "'.concat(r,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof e," instead."))}},{key:"concat",value:function(t,n,r){var a="number"==typeof t?this.path.concat(t):this.path,i=r?this.scope.concat(r):this.scope;return new e(this.registry,this._isConstant,a,n||null,i,this.errors)}},{key:"error",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a="".concat(this.key).concat(n.map((function(e){return"[".concat(e,"]")})).join(""));this.errors.push(new je(a,e))}},{key:"checkSubtype",value:function(e,t){var n=Ze(e,t);return n&&this.error(n),n}}]),e}(),Pt=function(){function e(t,n,r){m(this,e),this.type=Me,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=n}return p(e,[{key:"evaluate",value:function(e){return new ht(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}},{key:"eachChild",value:function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}},{key:"outputDefined",value:function(){return!1}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected one argument.");var r=t[1];if("object"!=typeof r||Array.isArray(r))return n.error("Collator options argument must be an object.");var a=n.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,Te);if(!a)return null;var i=n.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,Te);if(!i)return null;var o=null;return r.locale&&!(o=n.parse(r.locale,1,Ee))?null:new e(a,i,o)}}]),e}(),Mt=8192;function Dt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Lt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Ot(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,a=Math.pow(2,t.z);return[Math.round(n*a*Mt),Math.round(r*a*Mt)]}function zt(e,t,n){var r=e[0]-t[0],a=e[1]-t[1],i=e[0]-n[0],o=e[1]-n[1];return r*o-i*a==0&&r*i<=0&&a*o<=0}function Rt(e,t){for(var n,r,a,i=!1,o=0,s=t.length;o<s;o++)for(var l=t[o],c=0,u=l.length;c<u-1;c++){if(zt(e,l[c],l[c+1]))return!1;(r=l[c])[1]>(n=e)[1]!=(a=l[c+1])[1]>n[1]&&n[0]<(a[0]-r[0])*(n[1]-r[1])/(a[1]-r[1])+r[0]&&(i=!i)}return i}function Ft(e,t){for(var n=0;n<t.length;n++)if(Rt(e,t[n]))return!0;return!1}function Bt(e,t,n,r){var a=r[0]-n[0],i=r[1]-n[1],o=(e[0]-n[0])*i-a*(e[1]-n[1]),s=(t[0]-n[0])*i-a*(t[1]-n[1]);return o>0&&s<0||o<0&&s>0}function Zt(e,t,n){var r,a,i,o,s,l,c,u=f(n);try{for(u.s();!(r=u.n()).done;)for(var d=r.value,h=0;h<d.length-1;++h)if(0!=(l=[(s=d[h+1])[0]-(o=d[h])[0],s[1]-o[1]])[0]*(c=[(i=t)[0]-(a=e)[0],i[1]-a[1]])[1]-l[1]*c[0]&&Bt(a,i,o,s)&&Bt(o,s,a,i))return!0}catch(p){u.e(p)}finally{u.f()}return!1}function Ut(e,t){for(var n=0;n<e.length;++n)if(!Rt(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(Zt(e[r],e[r+1],t))return!1;return!0}function Vt(e,t){for(var n=0;n<t.length;n++)if(Ut(e,t[n]))return!0;return!1}function qt(e,t,n){for(var r=[],a=0;a<e.length;a++){for(var i=[],o=0;o<e[a].length;o++){var s=Ot(e[a][o],n);Dt(t,s),i.push(s)}r.push(i)}return r}function Ht(e,t,n){for(var r=[],a=0;a<e.length;a++){var i=qt(e[a],t,n);r.push(i)}return r}function Wt(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var a=.5*r,i=e[0]-n[0]>a?-r:n[0]-e[0]>a?r:0;0===i&&(i=e[0]-n[2]>a?-r:n[2]-e[0]>a?r:0),e[0]+=i}Dt(t,e)}function Yt(e,t,n,r){var a,i=Math.pow(2,r.z)*Mt,o=[r.x*Mt,r.y*Mt],s=[],l=f(e);try{for(l.s();!(a=l.n()).done;){var c,u=a.value,d=f(u);try{for(d.s();!(c=d.n()).done;){var h=c.value,p=[h.x+o[0],h.y+o[1]];Wt(p,t,n,i),s.push(p)}}catch(m){d.e(m)}finally{d.f()}}}catch(m){l.e(m)}finally{l.f()}return s}function Gt(e,t,n,r){var a,i,o=Math.pow(2,r.z)*Mt,s=[r.x*Mt,r.y*Mt],l=[],c=f(e);try{for(c.s();!(a=c.n()).done;){var u,d=a.value,h=[],p=f(d);try{for(p.s();!(u=p.n()).done;){var m=u.value,v=[m.x+s[0],m.y+s[1]];Dt(t,v),h.push(v)}}catch(w){p.e(w)}finally{p.f()}l.push(h)}}catch(w){c.e(w)}finally{c.f()}if(t[2]-t[0]<=o/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;var g,y=f(l);try{for(y.s();!(g=y.n()).done;){var x,b=g.value,_=f(b);try{for(_.s();!(x=_.n()).done;)Wt(x.value,t,n,o)}catch(w){_.e(w)}finally{_.f()}}}catch(w){y.e(w)}finally{y.f()}}return l}var Jt=function(){function e(t,n){m(this,e),this.type=Te,this.geojson=t,this.geometries=n}return p(e,[{key:"evaluate",value:function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],a=e.canonicalID();if("Polygon"===t.type){var i=qt(t.coordinates,r,a),o=Yt(e.geometry(),n,r,a);if(!Lt(n,r))return!1;var s,l=f(o);try{for(l.s();!(s=l.n()).done;)if(!Rt(s.value,i))return!1}catch(p){l.e(p)}finally{l.f()}}if("MultiPolygon"===t.type){var c=Ht(t.coordinates,r,a),u=Yt(e.geometry(),n,r,a);if(!Lt(n,r))return!1;var d,h=f(u);try{for(h.s();!(d=h.n()).done;)if(!Ft(d.value,c))return!1}catch(p){h.e(p)}finally{h.f()}}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],a=e.canonicalID();if("Polygon"===t.type){var i=qt(t.coordinates,r,a),o=Gt(e.geometry(),n,r,a);if(!Lt(n,r))return!1;var s,l=f(o);try{for(l.s();!(s=l.n()).done;)if(!Ut(s.value,i))return!1}catch(p){l.e(p)}finally{l.f()}}if("MultiPolygon"===t.type){var c=Ht(t.coordinates,r,a),u=Gt(e.geometry(),n,r,a);if(!Lt(n,r))return!1;var d,h=f(u);try{for(h.s();!(d=h.n()).done;)if(!Vt(d.value,c))return!1}catch(p){h.e(p)}finally{h.f()}}return!0}(e,this.geometries)}return!1}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("'within' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(bt(t[1])){var r=t[1];if("FeatureCollection"===r.type)for(var a=0;a<r.features.length;++a){var i=r.features[a].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new e(r,r.features[a].geometry)}else if("Feature"===r.type){var o=r.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new e(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new e(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}}]),e}(),Xt=function(){function e(t,n){m(this,e),this.type=n.type,this.name=t,this.boundExpression=n}return p(e,[{key:"evaluate",value:function(e){return this.boundExpression.evaluate(e)}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!1}}],[{key:"parse",value:function(t,n){if(2!==t.length||"string"!=typeof t[1])return n.error("'var' expression requires exactly one string literal argument.");var r=t[1];return n.scope.has(r)?new e(r,n.scope.get(r)):n.error('Unknown variable "'.concat(r,'". Make sure "').concat(r,'" has been bound in an enclosing "let" expression before using it.'),1)}}]),e}(),Kt=function(){function e(t,n,r,a){m(this,e),this.name=t,this.type=n,this._evaluate=r,this.args=a}return p(e,[{key:"evaluate",value:function(e){return this._evaluate(e,this.args)}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return!1}}],[{key:"parse",value:function(t,n){var r,a=t[0],i=e.definitions[a];if(!i)return n.error('Unknown expression "'.concat(a,'". If you wanted a literal array, use ["literal", [...]].'),0);var o,s=Array.isArray(i)?i[0]:i.type,l=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,c=l.filter((function(e){var n=h(e,1)[0];return!Array.isArray(n)||n.length===t.length-1})),u=null,p=f(c);try{for(p.s();!(o=p.n()).done;){var m=h(o.value,2),v=m[0],g=m[1];u=new At(n.registry,$t,n.path,null,n.scope);for(var y=[],x=!1,b=1;b<t.length;b++){var _=t[b],w=Array.isArray(v)?v[b-1]:v.type,k=u.parse(_,1+y.length,w);if(!k){x=!0;break}y.push(k)}if(!x)if(Array.isArray(v)&&v.length!==y.length)u.error("Expected ".concat(v.length," arguments, but found ").concat(y.length," instead."));else{for(var j=0;j<y.length;j++){var S=Array.isArray(v)?v[j]:v.type,C=y[j];u.concat(j+1).checkSubtype(S,C.type)}if(0===u.errors.length)return new e(a,s,g,y)}}}catch(A){p.e(A)}finally{p.f()}if(1===c.length)(r=n.errors).push.apply(r,d(u.errors));else{for(var N=(c.length?c:l).map((function(e){var t;return t=h(e,1)[0],Array.isArray(t)?"(".concat(t.map(Fe).join(", "),")"):"(".concat(Fe(t.type),"...)")})).join(" | "),E=[],T=1;T<t.length;T++){var I=n.parse(t[T],1+E.length);if(!I)return null;E.push(Fe(I.type))}n.error("Expected arguments of type ".concat(N,", but found (").concat(E.join(", "),") instead."))}return null}},{key:"register",value:function(t,n){for(var r in e.definitions=n,n)t[r]=e}}]),e}();function $t(e){if(e instanceof Xt)return $t(e.boundExpression);if(e instanceof Kt&&"error"===e.name)return!1;if(e instanceof Pt)return!1;if(e instanceof Jt)return!1;var t=e instanceof Et||e instanceof Ct,n=!0;return e.eachChild((function(e){n=t?n&&$t(e):n&&e instanceof kt})),!!n&&Qt(e)&&tn(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Qt(e){if(e instanceof Kt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Jt)return!1;var t=!0;return e.eachChild((function(e){t&&!Qt(e)&&(t=!1)})),t}function en(e){if(e instanceof Kt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!en(e)&&(t=!1)})),t}function tn(e,t){if(e instanceof Kt&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!tn(e,t)&&(n=!1)})),n}function nn(e,t){for(var n,r,a=e.length-1,i=0,o=a,s=0;i<=o;)if(n=e[s=Math.floor((i+o)/2)],r=e[s+1],n<=t){if(s===a||t<r)return s;i=s+1}else{if(!(n>t))throw new jt("Input is not a number.");o=s-1}return 0}var rn=function(){function e(t,n,r){m(this,e),this.type=t,this.input=n,this.labels=[],this.outputs=[];var a,i=f(r);try{for(i.s();!(a=i.n()).done;){var o=h(a.value,2),s=o[0],l=o[1];this.labels.push(s),this.outputs.push(l)}}catch(c){i.e(c)}finally{i.f()}}return p(e,[{key:"evaluate",value:function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var a=t.length;return r>=t[a-1]?n[a-1].evaluate(e):n[nn(t,r)].evaluate(e)}},{key:"eachChild",value:function(e){e(this.input);var t,n=f(this.outputs);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(r){n.e(r)}finally{n.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}}],[{key:"parse",value:function(t,n){if(t.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");var r=n.parse(t[1],1,Ne);if(!r)return null;var a=[],i=null;n.expectedType&&"value"!==n.expectedType.kind&&(i=n.expectedType);for(var o=1;o<t.length;o+=2){var s=1===o?-1/0:t[o],l=t[o+1],c=o,u=o+1;if("number"!=typeof s)return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(a.length&&a[a.length-1][0]>=s)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);var d=n.parse(l,u,i);if(!d)return null;i=i||d.type,a.push([s,d])}return new e(i,r,a)}}]),e}();function an(e,t,n){return e+n*(t-e)}function on(e,t,n){return e.map((function(e,r){return an(e,t[r],n)}))}var sn={number:an,color:function(e,t,n){switch(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb"){case"rgb":var r=on(e.rgb,t.rgb,n),a=h(r,4),i=a[0],o=a[1],s=a[2],l=a[3];return new dt(i,o,s,l,!1);case"hcl":var c,u,d=h(e.hcl,4),f=d[0],p=d[1],m=d[2],v=d[3],g=h(t.hcl,4),y=g[0],x=g[1],b=g[2],_=g[3];if(isNaN(f)||isNaN(y))isNaN(f)?isNaN(y)?c=NaN:(c=y,1!==m&&0!==m||(u=x)):(c=f,1!==b&&0!==b||(u=p));else{var w=y-f;y>f&&w>180?w-=360:y<f&&f-y>180&&(w+=360),c=f+n*w}var k=function(e){var t=h(e,4),n=t[0],r=t[1],a=t[2],i=t[3];return n=isNaN(n)?0:n*Ke,rt([a,Math.cos(n)*r,Math.sin(n)*r,i])}([c,null!=u?u:an(p,x,n),an(m,b,n),an(v,_,n)]),j=h(k,4),S=j[0],C=j[1],N=j[2],E=j[3];return new dt(S,C,N,E,!1);case"lab":var T=rt(on(e.lab,t.lab,n)),I=h(T,4),A=I[0],P=I[1],M=I[2],D=I[3];return new dt(A,P,M,D,!1)}},array:on,padding:function(e,t,n){return new mt(on(e.values,t.values,n))},variableAnchorOffsetCollection:function(e,t,n){var r=e.values,a=t.values;if(r.length!==a.length)throw new jt("Cannot interpolate values of different length. from: ".concat(e.toString(),", to: ").concat(t.toString()));for(var i=[],o=0;o<r.length;o+=2){if(r[o]!==a[o])throw new jt("Cannot interpolate values containing mismatched anchors. from[".concat(o,"]: ").concat(r[o],", to[").concat(o,"]: ").concat(a[o]));i.push(r[o]);var s=h(r[o+1],2),l=s[0],c=s[1],u=h(a[o+1],2),d=u[0],f=u[1];i.push([an(l,d,n),an(c,f,n)])}return new gt(i)}},ln=function(){function e(t,n,r,a,i){m(this,e),this.type=t,this.operator=n,this.interpolation=r,this.input=a,this.labels=[],this.outputs=[];var o,s=f(i);try{for(s.s();!(o=s.n()).done;){var l=h(o.value,2),c=l[0],u=l[1];this.labels.push(c),this.outputs.push(u)}}catch(d){s.e(d)}finally{s.f()}}return p(e,[{key:"evaluate",value:function(t){var n=this.labels,r=this.outputs;if(1===n.length)return r[0].evaluate(t);var a=this.input.evaluate(t);if(a<=n[0])return r[0].evaluate(t);var i=n.length;if(a>=n[i-1])return r[i-1].evaluate(t);var o=nn(n,a),s=e.interpolationFactor(this.interpolation,a,n[o],n[o+1]),l=r[o].evaluate(t),c=r[o+1].evaluate(t);switch(this.operator){case"interpolate":return sn[this.type.kind](l,c,s);case"interpolate-hcl":return sn.color(l,c,s,"hcl");case"interpolate-lab":return sn.color(l,c,s,"lab")}}},{key:"eachChild",value:function(e){e(this.input);var t,n=f(this.outputs);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(r){n.e(r)}finally{n.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}}],[{key:"interpolationFactor",value:function(e,t,n,r){var a=0;if("exponential"===e.name)a=cn(t,e.base,n,r);else if("linear"===e.name)a=cn(t,1,n,r);else if("cubic-bezier"===e.name){var i=e.controlPoints;a=new S(i[0],i[1],i[2],i[3]).solve(cn(t,1,n,r))}return a}},{key:"parse",value:function(t,n){var r=c(t),a=r[0],i=r[1],o=r[2],s=r.slice(3);if(!Array.isArray(i)||0===i.length)return n.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){var l=i[1];if("number"!=typeof l)return n.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:l}}else{if("cubic-bezier"!==i[0])return n.error("Unknown interpolation type ".concat(String(i[0])),1,0);var u=i.slice(1);if(4!==u.length||u.some((function(e){return"number"!=typeof e||e<0||e>1})))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:u}}if(t.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");if(!(o=n.parse(o,2,Ne)))return null;var d=[],h=null;"interpolate-hcl"===a||"interpolate-lab"===a?h=Ie:n.expectedType&&"value"!==n.expectedType.kind&&(h=n.expectedType);for(var f=0;f<s.length;f+=2){var p=s[f],m=s[f+1],v=f+3,g=f+4;if("number"!=typeof p)return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',v);if(d.length&&d[d.length-1][0]>=p)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',v);var y=n.parse(m,g,h);if(!y)return null;h=h||y.type,d.push([p,y])}return qe(h,Ne)||qe(h,Ie)||qe(h,Le)||qe(h,ze)||qe(h,Re(Ne))?new e(h,a,i,o,d):n.error("Type ".concat(Fe(h)," is not interpolatable."))}}]),e}();function cn(e,t,n,r){var a=r-n,i=e-n;return 0===a?0:1===t?i/a:(Math.pow(t,i)-1)/(Math.pow(t,a)-1)}var un=function(){function e(t,n){m(this,e),this.type=t,this.args=n}return p(e,[{key:"evaluate",value:function(e){var t,n,r=null,a=0,i=f(this.args);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(a++,(r=o.evaluate(e))&&r instanceof yt&&!r.available&&(t||(t=r.name),r=null,a===this.args.length&&(r=t)),null!==r)break}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expectected at least one argument.");var r=null,a=n.expectedType;a&&"value"!==a.kind&&(r=a);var i,o=[],s=f(t.slice(1));try{for(s.s();!(i=s.n()).done;){var l=i.value,c=n.parse(l,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!c)return null;r=r||c.type,o.push(c)}}catch(d){s.e(d)}finally{s.f()}if(!r)throw new Error("No output type");var u=a&&o.some((function(e){return Ze(a,e.type)}));return new e(u?Pe:r,o)}}]),e}(),dn=function(){function e(t,n){m(this,e),this.type=n.type,this.bindings=[].concat(t),this.result=n}return p(e,[{key:"evaluate",value:function(e){return this.result.evaluate(e)}},{key:"eachChild",value:function(e){var t,n=f(this.bindings);try{for(n.s();!(t=n.n()).done;)e(t.value[1])}catch(r){n.e(r)}finally{n.f()}e(this.result)}},{key:"outputDefined",value:function(){return this.result.outputDefined()}}],[{key:"parse",value:function(t,n){if(t.length<4)return n.error("Expected at least 3 arguments, but found ".concat(t.length-1," instead."));for(var r=[],a=1;a<t.length-1;a+=2){var i=t[a];if("string"!=typeof i)return n.error("Expected string, but found ".concat(typeof i," instead."),a);if(/[^a-zA-Z0-9_]/.test(i))return n.error("Variable names must contain only alphanumeric characters or '_'.",a);var o=n.parse(t[a+1],a+1);if(!o)return null;r.push([i,o])}var s=n.parse(t[t.length-1],t.length-1,n.expectedType,r);return s?new e(r,s):null}}]),e}(),hn=function(){function e(t,n,r){m(this,e),this.type=t,this.index=n,this.input=r}return p(e,[{key:"evaluate",value:function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new jt("Array index out of bounds: ".concat(t," < 0."));if(t>=n.length)throw new jt("Array index out of bounds: ".concat(t," > ").concat(n.length-1,"."));if(t!==Math.floor(t))throw new jt("Array index must be an integer, but found ".concat(t," instead."));return n[t]}},{key:"eachChild",value:function(e){e(this.index),e(this.input)}},{key:"outputDefined",value:function(){return!1}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,Ne),a=n.parse(t[2],2,Re(n.expectedType||Pe));return r&&a?new e(a.type.itemType,r,a):null}}]),e}(),fn=function(){function e(t,n){m(this,e),this.type=Te,this.needle=t,this.haystack=n}return p(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Ve(t,["boolean","string","number","null"]))throw new jt("Expected first argument to be of type boolean, string, number or null, but found ".concat(Fe(_t(t))," instead."));if(!Ve(n,["string","array"]))throw new jt("Expected second argument to be of type array or string, but found ".concat(Fe(_t(n))," instead."));return n.indexOf(t)>=0}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack)}},{key:"outputDefined",value:function(){return!0}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,Pe),a=n.parse(t[2],2,Pe);return r&&a?Ue(r.type,[Te,Ee,Ne,Ce,Pe])?new e(r,a):n.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(Fe(r.type)," instead")):null}}]),e}(),pn=function(){function e(t,n,r){m(this,e),this.type=Ne,this.needle=t,this.haystack=n,this.fromIndex=r}return p(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Ve(t,["boolean","string","number","null"]))throw new jt("Expected first argument to be of type boolean, string, number or null, but found ".concat(Fe(_t(t))," instead."));if(!Ve(n,["string","array"]))throw new jt("Expected second argument to be of type array or string, but found ".concat(Fe(_t(n))," instead."));if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}},{key:"outputDefined",value:function(){return!1}}],[{key:"parse",value:function(t,n){if(t.length<=2||t.length>=5)return n.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,Pe),a=n.parse(t[2],2,Pe);if(!r||!a)return null;if(!Ue(r.type,[Te,Ee,Ne,Ce,Pe]))return n.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(Fe(r.type)," instead"));if(4===t.length){var i=n.parse(t[3],3,Ne);return i?new e(r,a,i):null}return new e(r,a)}}]),e}(),mn=function(){function e(t,n,r,a,i,o){m(this,e),this.inputType=t,this.type=n,this.input=r,this.cases=a,this.outputs=i,this.otherwise=o}return p(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);return(_t(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}},{key:"eachChild",value:function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()}}],[{key:"parse",value:function(t,n){if(t.length<5)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=1)return n.error("Expected an even number of arguments.");var r,a;n.expectedType&&"value"!==n.expectedType.kind&&(a=n.expectedType);for(var i={},o=[],s=2;s<t.length-1;s+=2){var l=t[s],c=t[s+1];Array.isArray(l)||(l=[l]);var u=n.concat(s);if(0===l.length)return u.error("Expected at least one branch label.");var d,h=f(l);try{for(h.s();!(d=h.n()).done;){var p=d.value;if("number"!=typeof p&&"string"!=typeof p)return u.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof p&&Math.floor(p)!==p)return u.error("Numeric branch labels must be integer values.");if(r){if(u.checkSubtype(r,_t(p)))return null}else r=_t(p);if(void 0!==i[String(p)])return u.error("Branch labels must be unique.");i[String(p)]=o.length}}catch(y){h.e(y)}finally{h.f()}var m=n.parse(c,s,a);if(!m)return null;a=a||m.type,o.push(m)}var v=n.parse(t[1],1,Pe);if(!v)return null;var g=n.parse(t[t.length-1],t.length-1,a);return g?"value"!==v.type.kind&&n.concat(1).checkSubtype(r,v.type)?null:new e(r,a,v,i,o,g):null}}]),e}(),vn=function(){function e(t,n,r){m(this,e),this.type=t,this.branches=n,this.otherwise=r}return p(e,[{key:"evaluate",value:function(e){var t,n=f(this.branches);try{for(n.s();!(t=n.n()).done;){var r=h(t.value,2),a=r[0],i=r[1];if(a.evaluate(e))return i.evaluate(e)}}catch(o){n.e(o)}finally{n.f()}return this.otherwise.evaluate(e)}},{key:"eachChild",value:function(e){var t,n=f(this.branches);try{for(n.s();!(t=n.n()).done;){var r=h(t.value,2),a=r[0],i=r[1];e(a),e(i)}}catch(o){n.e(o)}finally{n.f()}e(this.otherwise)}},{key:"outputDefined",value:function(){return this.branches.every((function(e){var t=h(e,2);return t[0],t[1].outputDefined()}))&&this.otherwise.outputDefined()}}],[{key:"parse",value:function(t,n){if(t.length<4)return n.error("Expected at least 3 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=0)return n.error("Expected an odd number of arguments.");var r;n.expectedType&&"value"!==n.expectedType.kind&&(r=n.expectedType);for(var a=[],i=1;i<t.length-1;i+=2){var o=n.parse(t[i],i,Te);if(!o)return null;var s=n.parse(t[i+1],i+1,r);if(!s)return null;a.push([o,s]),r=r||s.type}var l=n.parse(t[t.length-1],t.length-1,r);if(!l)return null;if(!r)throw new Error("Can't infer output type");return new e(r,a,l)}}]),e}(),gn=function(){function e(t,n,r,a){m(this,e),this.type=t,this.input=n,this.beginIndex=r,this.endIndex=a}return p(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Ve(t,["string","array"]))throw new jt("Expected first argument to be of type array or string, but found ".concat(Fe(_t(t))," instead."));if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}},{key:"eachChild",value:function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}},{key:"outputDefined",value:function(){return!1}}],[{key:"parse",value:function(t,n){if(t.length<=2||t.length>=5)return n.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,Pe),a=n.parse(t[2],2,Ne);if(!r||!a)return null;if(!Ue(r.type,[Re(Pe),Ee,Pe]))return n.error("Expected first argument to be of type array or string, but found ".concat(Fe(r.type)," instead"));if(4===t.length){var i=n.parse(t[3],3,Ne);return i?new e(r.type,r,a,i):null}return new e(r.type,r,a)}}]),e}();function yn(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function xn(e,t,n,r){return 0===r.compare(t,n)}function bn(e,t,n){var r="=="!==e&&"!="!==e;return function(){function a(e,t,n){m(this,a),this.type=Te,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return p(a,[{key:"evaluate",value:function(a){var i=this.lhs.evaluate(a),o=this.rhs.evaluate(a);if(r&&this.hasUntypedArgument){var s=_t(i),l=_t(o);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new jt('Expected arguments for "'.concat(e,'" to be (string, string) or (number, number), but found (').concat(s.kind,", ").concat(l.kind,") instead."))}if(this.collator&&!r&&this.hasUntypedArgument){var c=_t(i),u=_t(o);if("string"!==c.kind||"string"!==u.kind)return t(a,i,o)}return this.collator?n(a,i,o,this.collator.evaluate(a)):t(a,i,o)}},{key:"eachChild",value:function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}},{key:"outputDefined",value:function(){return!0}}],[{key:"parse",value:function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],i=t.parse(e[1],1,Pe);if(!i)return null;if(!yn(n,i.type))return t.concat(1).error('"'.concat(n,"\" comparisons are not supported for type '").concat(Fe(i.type),"'."));var o=t.parse(e[2],2,Pe);if(!o)return null;if(!yn(n,o.type))return t.concat(2).error('"'.concat(n,"\" comparisons are not supported for type '").concat(Fe(o.type),"'."));if(i.type.kind!==o.type.kind&&"value"!==i.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '".concat(Fe(i.type),"' and '").concat(Fe(o.type),"'."));r&&("value"===i.type.kind&&"value"!==o.type.kind?i=new Ct(o.type,[i]):"value"!==i.type.kind&&"value"===o.type.kind&&(o=new Ct(i.type,[o])));var s=null;if(4===e.length){if("string"!==i.type.kind&&"string"!==o.type.kind&&"value"!==i.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,Me)))return null}return new a(i,o,s)}}]),a}()}var _n=bn("==",(function(e,t,n){return t===n}),xn),wn=bn("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!xn(0,t,n,r)})),kn=bn("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),jn=bn(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),Sn=bn("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),Cn=bn(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0})),Nn=function(){function e(t,n,r,a,i){m(this,e),this.type=Ee,this.number=t,this.locale=n,this.currency=r,this.minFractionDigits=a,this.maxFractionDigits=i}return p(e,[{key:"evaluate",value:function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}},{key:"eachChild",value:function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}},{key:"outputDefined",value:function(){return!1}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected two arguments.");var r=n.parse(t[1],1,Ne);if(!r)return null;var a=t[2];if("object"!=typeof a||Array.isArray(a))return n.error("NumberFormat options argument must be an object.");var i=null;if(a.locale&&!(i=n.parse(a.locale,1,Ee)))return null;var o=null;if(a.currency&&!(o=n.parse(a.currency,1,Ee)))return null;var s=null;if(a["min-fraction-digits"]&&!(s=n.parse(a["min-fraction-digits"],1,Ne)))return null;var l=null;return a["max-fraction-digits"]&&!(l=n.parse(a["max-fraction-digits"],1,Ne))?null:new e(r,i,o,s,l)}}]),e}(),En=function(){function e(t){m(this,e),this.type=De,this.sections=t}return p(e,[{key:"evaluate",value:function(e){return new pt(this.sections.map((function(t){var n=t.content.evaluate(e);return _t(n)===Oe?new ft("",n,null,null,null):new ft(wt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}},{key:"eachChild",value:function(e){var t,n=f(this.sections);try{for(n.s();!(t=n.n()).done;){var r=t.value;e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}}catch(a){n.e(a)}finally{n.f()}}},{key:"outputDefined",value:function(){return!1}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r=t[1];if(!Array.isArray(r)&&"object"==typeof r)return n.error("First argument must be an image or text section.");for(var a=[],i=!1,o=1;o<=t.length-1;++o){var s=t[o];if(i&&"object"==typeof s&&!Array.isArray(s)){i=!1;var l=null;if(s["font-scale"]&&!(l=n.parse(s["font-scale"],1,Ne)))return null;var c=null;if(s["text-font"]&&!(c=n.parse(s["text-font"],1,Re(Ee))))return null;var u=null;if(s["text-color"]&&!(u=n.parse(s["text-color"],1,Ie)))return null;var d=a[a.length-1];d.scale=l,d.font=c,d.textColor=u}else{var h=n.parse(t[o],1,Pe);if(!h)return null;var f=h.type.kind;if("string"!==f&&"value"!==f&&"null"!==f&&"resolvedImage"!==f)return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,a.push({content:h,scale:null,font:null,textColor:null})}}return new e(a)}}]),e}(),Tn=function(){function e(t){m(this,e),this.type=Oe,this.input=t}return p(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),n=yt.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected two arguments.");var r=n.parse(t[1],1,Ee);return r?new e(r):n.error("No image name provided.")}}]),e}(),In=function(){function e(t){m(this,e),this.type=Ne,this.input=t}return p(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new jt("Expected value to be of type string or array, but found ".concat(Fe(_t(t))," instead."))}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected 1 argument, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?n.error("Expected argument of type string or array, but found ".concat(Fe(r.type)," instead.")):new e(r):null}}]),e}(),An={"==":_n,"!=":wn,">":jn,"<":kn,">=":Cn,"<=":Sn,array:Ct,at:hn,boolean:Ct,case:vn,coalesce:un,collator:Pt,format:En,image:Tn,in:fn,"index-of":pn,interpolate:ln,"interpolate-hcl":ln,"interpolate-lab":ln,length:In,let:dn,literal:kt,match:mn,number:Ct,"number-format":Nn,object:Ct,slice:gn,step:rn,string:Ct,"to-boolean":Et,"to-color":Et,"to-number":Et,"to-string":Et,var:Xt,within:Jt};function Pn(e,t){var n=h(t,4),r=n[0],a=n[1],i=n[2],o=n[3];r=r.evaluate(e),a=a.evaluate(e),i=i.evaluate(e);var s=o?o.evaluate(e):1,l=xt(r,a,i,s);if(l)throw new jt(l);return new dt(r/255,a/255,i/255,s,!1)}function Mn(e,t){return e in t}function Dn(e,t){var n=t[e];return void 0===n?null:n}function Ln(e){return{type:e}}function On(e){return{result:"success",value:e}}function zn(e){return{result:"error",value:e}}function Rn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Fn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Bn(e){return!!e.expression&&e.expression.interpolated}function Zn(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Un(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Vn(e){return e}function qn(e,t){var n,r,a,i,o="color"===t.type,s=e.stops&&"object"==typeof e.stops[0][0],l=s||!(s||void 0!==e.property),c=e.type||(Bn(t)?"exponential":"interval");if(o||"padding"===t.type){var u=o?dt.parse:mt.parse;(e=ke({},e)).stops&&(e.stops=e.stops.map((function(e){return[e[0],u(e[1])]}))),e.default=u(e.default?e.default:t.default)}if(e.colorSpace&&"rgb"!==(n=e.colorSpace)&&"hcl"!==n&&"lab"!==n)throw new Error('Unknown color space: "'.concat(e.colorSpace,'"'));if("exponential"===c)r=Gn;else if("interval"===c)r=Yn;else if("categorical"===c){r=Wn,a=Object.create(null);var d,h=f(e.stops);try{for(h.s();!(d=h.n()).done;){var p=d.value;a[p[0]]=p[1]}}catch(C){h.e(C)}finally{h.f()}i=typeof e.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'.concat(c,'"'));r=Jn}if(s){for(var m={},v=[],g=0;g<e.stops.length;g++){var y=e.stops[g],x=y[0].zoom;void 0===m[x]&&(m[x]={zoom:x,type:e.type,property:e.property,default:e.default,stops:[]},v.push(x)),m[x].stops.push([y[0].value,y[1]])}for(var b=[],_=0,w=v;_<w.length;_++){var k=w[_];b.push([m[k].zoom,qn(m[k],t)])}var j={name:"linear"};return{kind:"composite",interpolationType:j,interpolationFactor:ln.interpolationFactor.bind(void 0,j),zoomStops:b.map((function(e){return e[0]})),evaluate:function(n,r){var a=n.zoom;return Gn({stops:b,base:e.base},t,a).evaluate(a,r)}}}if(l){var S="exponential"===c?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:S,interpolationFactor:ln.interpolationFactor.bind(void 0,S),zoomStops:e.stops.map((function(e){return e[0]})),evaluate:function(n){var o=n.zoom;return r(e,t,o,a,i)}}}return{kind:"source",evaluate:function(n,o){var s=o&&o.properties?o.properties[e.property]:void 0;return void 0===s?Hn(e.default,t.default):r(e,t,s,a,i)}}}function Hn(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Wn(e,t,n,r,a){return Hn(typeof n===a?r[n]:void 0,e.default,t.default)}function Yn(e,t,n){if("number"!==Zn(n))return Hn(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var a=nn(e.stops.map((function(e){return e[0]})),n);return e.stops[a][1]}function Gn(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==Zn(n))return Hn(e.default,t.default);var a=e.stops.length;if(1===a)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[a-1][0])return e.stops[a-1][1];var i=nn(e.stops.map((function(e){return e[0]})),n),o=function(e,t,n,r){var a=r-n,i=e-n;return 0===a?0:1===t?i/a:(Math.pow(t,i)-1)/(Math.pow(t,a)-1)}(n,r,e.stops[i][0],e.stops[i+1][0]),s=e.stops[i][1],l=e.stops[i+1][1],c=sn[t.type]||Vn;return"function"==typeof s.evaluate?{evaluate:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=s.evaluate.apply(void 0,n),i=l.evaluate.apply(void 0,n);if(void 0!==a&&void 0!==i)return c(a,i,o,e.colorSpace)}}:c(s,l,o,e.colorSpace)}function Jn(e,t,n){switch(t.type){case"color":n=dt.parse(n);break;case"formatted":n=pt.fromString(n.toString());break;case"resolvedImage":n=yt.fromString(n.toString());break;case"padding":n=mt.parse(n);break;default:Zn(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0)}return Hn(n,e.default,t.default)}Kt.register(An,{error:[{kind:"error"},[Ee],function(e,t){var n=h(t,1)[0];throw new jt(n.evaluate(e))}],typeof:[Ee,[Pe],function(e,t){return Fe(_t(h(t,1)[0].evaluate(e)))}],"to-rgba":[Re(Ne,4),[Ie],function(e,t){var n=h(t,1)[0],r=h(n.evaluate(e).rgb,4);return[255*r[0],255*r[1],255*r[2],r[3]]}],rgb:[Ie,[Ne,Ne,Ne],Pn],rgba:[Ie,[Ne,Ne,Ne,Ne],Pn],has:{type:Te,overloads:[[[Ee],function(e,t){return Mn(h(t,1)[0].evaluate(e),e.properties())}],[[Ee,Ae],function(e,t){var n=h(t,2),r=n[0],a=n[1];return Mn(r.evaluate(e),a.evaluate(e))}]]},get:{type:Pe,overloads:[[[Ee],function(e,t){return Dn(h(t,1)[0].evaluate(e),e.properties())}],[[Ee,Ae],function(e,t){var n=h(t,2),r=n[0],a=n[1];return Dn(r.evaluate(e),a.evaluate(e))}]]},"feature-state":[Pe,[Ee],function(e,t){return Dn(h(t,1)[0].evaluate(e),e.featureState||{})}],properties:[Ae,[],function(e){return e.properties()}],"geometry-type":[Ee,[],function(e){return e.geometryType()}],id:[Pe,[],function(e){return e.id()}],zoom:[Ne,[],function(e){return e.globals.zoom}],"heatmap-density":[Ne,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Ne,[],function(e){return e.globals.lineProgress||0}],accumulated:[Pe,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[Ne,Ln(Ne),function(e,t){var n,r=0,a=f(t);try{for(a.s();!(n=a.n()).done;)r+=n.value.evaluate(e)}catch(i){a.e(i)}finally{a.f()}return r}],"*":[Ne,Ln(Ne),function(e,t){var n,r=1,a=f(t);try{for(a.s();!(n=a.n()).done;)r*=n.value.evaluate(e)}catch(i){a.e(i)}finally{a.f()}return r}],"-":{type:Ne,overloads:[[[Ne,Ne],function(e,t){var n=h(t,2),r=n[0],a=n[1];return r.evaluate(e)-a.evaluate(e)}],[[Ne],function(e,t){return-h(t,1)[0].evaluate(e)}]]},"/":[Ne,[Ne,Ne],function(e,t){var n=h(t,2),r=n[0],a=n[1];return r.evaluate(e)/a.evaluate(e)}],"%":[Ne,[Ne,Ne],function(e,t){var n=h(t,2),r=n[0],a=n[1];return r.evaluate(e)%a.evaluate(e)}],ln2:[Ne,[],function(){return Math.LN2}],pi:[Ne,[],function(){return Math.PI}],e:[Ne,[],function(){return Math.E}],"^":[Ne,[Ne,Ne],function(e,t){var n=h(t,2),r=n[0],a=n[1];return Math.pow(r.evaluate(e),a.evaluate(e))}],sqrt:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.sqrt(n.evaluate(e))}],log10:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.log(n.evaluate(e))/Math.LN10}],ln:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.log(n.evaluate(e))}],log2:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.log(n.evaluate(e))/Math.LN2}],sin:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.sin(n.evaluate(e))}],cos:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.cos(n.evaluate(e))}],tan:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.tan(n.evaluate(e))}],asin:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.asin(n.evaluate(e))}],acos:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.acos(n.evaluate(e))}],atan:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.atan(n.evaluate(e))}],min:[Ne,Ln(Ne),function(e,t){return Math.min.apply(Math,d(t.map((function(t){return t.evaluate(e)}))))}],max:[Ne,Ln(Ne),function(e,t){return Math.max.apply(Math,d(t.map((function(t){return t.evaluate(e)}))))}],abs:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.abs(n.evaluate(e))}],round:[Ne,[Ne],function(e,t){var n=h(t,1)[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.floor(n.evaluate(e))}],ceil:[Ne,[Ne],function(e,t){var n=h(t,1)[0];return Math.ceil(n.evaluate(e))}],"filter-==":[Te,[Ee,Pe],function(e,t){var n=h(t,2),r=n[0],a=n[1];return e.properties()[r.value]===a.value}],"filter-id-==":[Te,[Pe],function(e,t){var n=h(t,1)[0];return e.id()===n.value}],"filter-type-==":[Te,[Ee],function(e,t){var n=h(t,1)[0];return e.geometryType()===n.value}],"filter-<":[Te,[Ee,Pe],function(e,t){var n=h(t,2),r=n[0],a=n[1],i=e.properties()[r.value],o=a.value;return typeof i==typeof o&&i<o}],"filter-id-<":[Te,[Pe],function(e,t){var n=h(t,1)[0],r=e.id(),a=n.value;return typeof r==typeof a&&r<a}],"filter->":[Te,[Ee,Pe],function(e,t){var n=h(t,2),r=n[0],a=n[1],i=e.properties()[r.value],o=a.value;return typeof i==typeof o&&i>o}],"filter-id->":[Te,[Pe],function(e,t){var n=h(t,1)[0],r=e.id(),a=n.value;return typeof r==typeof a&&r>a}],"filter-<=":[Te,[Ee,Pe],function(e,t){var n=h(t,2),r=n[0],a=n[1],i=e.properties()[r.value],o=a.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[Te,[Pe],function(e,t){var n=h(t,1)[0],r=e.id(),a=n.value;return typeof r==typeof a&&r<=a}],"filter->=":[Te,[Ee,Pe],function(e,t){var n=h(t,2),r=n[0],a=n[1],i=e.properties()[r.value],o=a.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[Te,[Pe],function(e,t){var n=h(t,1)[0],r=e.id(),a=n.value;return typeof r==typeof a&&r>=a}],"filter-has":[Te,[Pe],function(e,t){return h(t,1)[0].value in e.properties()}],"filter-has-id":[Te,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[Te,[Re(Ee)],function(e,t){return h(t,1)[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Te,[Re(Pe)],function(e,t){return h(t,1)[0].value.indexOf(e.id())>=0}],"filter-in-small":[Te,[Ee,Re(Pe)],function(e,t){var n=h(t,2),r=n[0];return n[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[Te,[Ee,Re(Pe)],function(e,t){var n=h(t,2),r=n[0],a=n[1];return function(e,t,n,r){for(;n<=r;){var a=n+r>>1;if(t[a]===e)return!0;t[a]>e?r=a-1:n=a+1}return!1}(e.properties()[r.value],a.value,0,a.value.length-1)}],all:{type:Te,overloads:[[[Te,Te],function(e,t){var n=h(t,2),r=n[0],a=n[1];return r.evaluate(e)&&a.evaluate(e)}],[Ln(Te),function(e,t){var n,r=f(t);try{for(r.s();!(n=r.n()).done;)if(!n.value.evaluate(e))return!1}catch(a){r.e(a)}finally{r.f()}return!0}]]},any:{type:Te,overloads:[[[Te,Te],function(e,t){var n=h(t,2),r=n[0],a=n[1];return r.evaluate(e)||a.evaluate(e)}],[Ln(Te),function(e,t){var n,r=f(t);try{for(r.s();!(n=r.n()).done;)if(n.value.evaluate(e))return!0}catch(a){r.e(a)}finally{r.f()}return!1}]]},"!":[Te,[Te],function(e,t){return!h(t,1)[0].evaluate(e)}],"is-supported-script":[Te,[Ee],function(e,t){var n=h(t,1)[0],r=e.globals&&e.globals.isSupportedScript;return!r||r(n.evaluate(e))}],upcase:[Ee,[Ee],function(e,t){return h(t,1)[0].evaluate(e).toUpperCase()}],downcase:[Ee,[Ee],function(e,t){return h(t,1)[0].evaluate(e).toLowerCase()}],concat:[Ee,Ln(Pe),function(e,t){return t.map((function(t){return wt(t.evaluate(e))})).join("")}],"resolved-locale":[Ee,[Me],function(e,t){return h(t,1)[0].evaluate(e).resolvedLocale()}]});var Xn=function(){function e(t,n){var r;m(this,e),this.expression=t,this._warningHistory={},this._evaluator=new It,this._defaultValue=n?"color"===(r=n).type&&Un(r.default)?new dt(0,0,0,0):"color"===r.type?dt.parse(r.default)||null:"padding"===r.type?mt.parse(r.default)||null:"variableAnchorOffsetCollection"===r.type?gt.parse(r.default)||null:void 0===r.default?null:r.default:null,this._enumValues=n&&"enum"===n.type?n.values:null}return p(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,a,i){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=a||null,this._evaluator.formattedSection=i,this.expression.evaluate(this._evaluator)}},{key:"evaluate",value:function(e,t,n,r,a,i){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=a||null,this._evaluator.formattedSection=i||null;try{var o=this.expression.evaluate(this._evaluator);if(null==o||"number"==typeof o&&o!=o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new jt("Expected value to be one of ".concat(Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", "),", but found ").concat(JSON.stringify(o)," instead."));return o}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}]),e}();function Kn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in An}function $n(e,t){var n=new At(An,$t,[],t?function(e){var t={color:Ie,string:Ee,number:Ne,enum:Ee,boolean:Te,formatted:De,padding:Le,resolvedImage:Oe,variableAnchorOffsetCollection:ze};return"array"===e.type?Re(t[e.value]||Pe,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?On(new Xn(r,t)):zn(n.errors)}var Qn=function(){function e(t,n){m(this,e),this.kind=t,this._styleExpression=n,this.isStateDependent="constant"!==t&&!en(n.expression)}return p(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,a,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,a,i)}},{key:"evaluate",value:function(e,t,n,r,a,i){return this._styleExpression.evaluate(e,t,n,r,a,i)}}]),e}(),er=function(){function e(t,n,r,a){m(this,e),this.kind=t,this.zoomStops=r,this._styleExpression=n,this.isStateDependent="camera"!==t&&!en(n.expression),this.interpolationType=a}return p(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,a,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,a,i)}},{key:"evaluate",value:function(e,t,n,r,a,i){return this._styleExpression.evaluate(e,t,n,r,a,i)}},{key:"interpolationFactor",value:function(e,t,n){return this.interpolationType?ln.interpolationFactor(this.interpolationType,e,t,n):0}}]),e}();function tr(e,t){var n=$n(e,t);if("error"===n.result)return n;var r=n.value.expression,a=Qt(r);if(!a&&!Rn(t))return zn([new je("","data expressions not supported")]);var i=tn(r,["zoom"]);if(!i&&!Fn(t))return zn([new je("","zoom expressions not supported")]);var o=rr(r);return o||i?o instanceof je?zn([o]):o instanceof ln&&!Bn(t)?zn([new je("",'"interpolate" expressions cannot be used with this property')]):On(o?new er(a?"camera":"composite",n.value,o.labels,o instanceof ln?o.interpolation:void 0):new Qn(a?"constant":"source",n.value)):zn([new je("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}var nr=function(){function e(t,n){m(this,e),this._parameters=t,this._specification=n,ke(this,qn(this._parameters,this._specification))}return p(e,null,[{key:"deserialize",value:function(t){return new e(t._parameters,t._specification)}},{key:"serialize",value:function(e){return{_parameters:e._parameters,_specification:e._specification}}}]),e}();function rr(e){var t=null;if(e instanceof dn)t=rr(e.result);else if(e instanceof un){var n,r=f(e.args);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(t=rr(a))break}}catch(i){r.e(i)}finally{r.f()}}else(e instanceof rn||e instanceof ln)&&e.input instanceof Kt&&"zoom"===e.input.name&&(t=e);return t instanceof je||e.eachChild((function(e){var n=rr(e);n instanceof je?t=n:!t&&n?t=new je("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new je("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function ar(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":var t,n=f(e.slice(1));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!ar(r)&&"boolean"!=typeof r)return!1}}catch(a){n.e(a)}finally{n.f()}return!0;default:return!0}}var ir={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function or(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};ar(e)||(e=cr(e));var t=$n(e,ir);if("error"===t.result)throw new Error(t.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));return{filter:function(e,n,r){return t.value.evaluate(e,n,{},r)},needGeometry:lr(e)}}function sr(e,t){return e<t?-1:e>t?1:0}function lr(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var t=1;t<e.length;t++)if(lr(e[t]))return!0;return!1}function cr(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?ur(e[1],e[2],"=="):"!="===n?fr(ur(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?ur(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(cr))):"all"===n?["all"].concat(e.slice(1).map(cr)):"none"===n?["all"].concat(e.slice(1).map(cr).map(fr)):"in"===n?dr(e[1],e.slice(2)):"!in"===n?fr(dr(e[1],e.slice(2))):"has"===n?hr(e[1]):"!has"===n?fr(hr(e[1])):"within"!==n||e}function ur(e,t,n){switch(e){case"$type":return["filter-type-".concat(n),t];case"$id":return["filter-id-".concat(n),t];default:return["filter-".concat(n),e,t]}}function dr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(sr)]]:["filter-in-small",e,["literal",t]]}}function hr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function fr(e){return["!",e]}function pr(e){var t=typeof e;if("number"===t||"boolean"===t||"string"===t||null==e)return JSON.stringify(e);if(Array.isArray(e)){var n,r="[",a=f(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;r+="".concat(pr(i),",")}}catch(c){a.e(c)}finally{a.f()}return"".concat(r,"]")}for(var o=Object.keys(e).sort(),s="{",l=0;l<o.length;l++)s+="".concat(JSON.stringify(o[l]),":").concat(pr(e[o[l]]),",");return"".concat(s,"}")}function mr(e){for(var t="",n=0,r=de;n<r.length;n++){var a=r[n];t+="/".concat(pr(e[a]))}return t}function vr(e){var t=e.value;return t?[new we(e.key,t,"constants have been deprecated as of v8")]:[]}function gr(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function yr(e){if(Array.isArray(e))return e.map(yr);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=yr(e[n]);return t}return gr(e)}function xr(e){var t=e.key,n=e.value,r=e.valueSpec||{},a=e.objectElementValidators||{},i=e.style,o=e.styleSpec,s=e.validateSpec,l=[],c=Zn(n);if("object"!==c)return[new we(t,n,"object expected, ".concat(c," found"))];for(var u in n){var d=u.split(".")[0],h=r[d]||r["*"],f=void 0;if(a[d])f=a[d];else if(r[d])f=s;else if(a["*"])f=a["*"];else{if(!r["*"]){l.push(new we(t,n[u],'unknown property "'.concat(u,'"')));continue}f=s}l=l.concat(f({key:(t?"".concat(t,"."):t)+u,value:n[u],valueSpec:h,style:i,styleSpec:o,object:n,objectKey:u,validateSpec:s},n))}for(var p in r)a[p]||r[p].required&&void 0===r[p].default&&void 0===n[p]&&l.push(new we(t,n,'missing required property "'.concat(p,'"')));return l}function br(e){var t=e.value,n=e.valueSpec,r=e.style,a=e.styleSpec,i=e.key,o=e.arrayElementValidator||e.validateSpec;if("array"!==Zn(t))return[new we(i,t,"array expected, ".concat(Zn(t)," found"))];if(n.length&&t.length!==n.length)return[new we(i,t,"array length ".concat(n.length," expected, length ").concat(t.length," found"))];if(n["min-length"]&&t.length<n["min-length"])return[new we(i,t,"array length at least ".concat(n["min-length"]," expected, length ").concat(t.length," found"))];var s={type:n.value,values:n.values};a.$version<7&&(s.function=n.function),"object"===Zn(n.value)&&(s=n.value);for(var l=[],c=0;c<t.length;c++)l=l.concat(o({array:t,arrayIndex:c,value:t[c],valueSpec:s,validateSpec:e.validateSpec,style:r,styleSpec:a,key:"".concat(i,"[").concat(c,"]")}));return l}function _r(e){var t=e.key,n=e.value,r=e.valueSpec,a=Zn(n);return"number"===a&&n!=n&&(a="NaN"),"number"!==a?[new we(t,n,"number expected, ".concat(a," found"))]:"minimum"in r&&n<r.minimum?[new we(t,n,"".concat(n," is less than the minimum value ").concat(r.minimum))]:"maximum"in r&&n>r.maximum?[new we(t,n,"".concat(n," is greater than the maximum value ").concat(r.maximum))]:[]}function wr(e){var t,n,r,a=e.valueSpec,i=gr(e.value.type),o={},s="categorical"!==i&&void 0===e.value.property,l=!s,c="array"===Zn(e.value.stops)&&"array"===Zn(e.value.stops[0])&&"object"===Zn(e.value.stops[0][0]),u=xr({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===i)return[new we(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat(br({key:e.key,value:n,valueSpec:e.valueSpec,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===Zn(n)&&0===n.length&&t.push(new we(e.key,n,"array must have at least one stop")),t},default:function(e){return e.validateSpec({key:e.key,value:e.value,valueSpec:a,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===i&&s&&u.push(new we(e.key,e.value,'missing required property "property"')),"identity"===i||e.value.stops||u.push(new we(e.key,e.value,'missing required property "stops"')),"exponential"===i&&e.valueSpec.expression&&!Bn(e.valueSpec)&&u.push(new we(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Rn(e.valueSpec)?u.push(new we(e.key,e.value,"property functions not supported")):s&&!Fn(e.valueSpec)&&u.push(new we(e.key,e.value,"zoom functions not supported"))),"categorical"!==i&&!c||void 0!==e.value.property||u.push(new we(e.key,e.value,'"property" property is required')),u;function d(e){var t=[],i=e.value,s=e.key;if("array"!==Zn(i))return[new we(s,i,"array expected, ".concat(Zn(i)," found"))];if(2!==i.length)return[new we(s,i,"array length 2 expected, length ".concat(i.length," found"))];if(c){if("object"!==Zn(i[0]))return[new we(s,i,"object expected, ".concat(Zn(i[0])," found"))];if(void 0===i[0].zoom)return[new we(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new we(s,i,"object stop key must have value")];if(r&&r>gr(i[0].zoom))return[new we(s,i[0].zoom,"stop zoom values must appear in ascending order")];gr(i[0].zoom)!==r&&(r=gr(i[0].zoom),n=void 0,o={}),t=t.concat(xr({key:"".concat(s,"[0]"),value:i[0],valueSpec:{zoom:{}},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:_r,value:h}}))}else t=t.concat(h({key:"".concat(s,"[0]"),value:i[0],valueSpec:{},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec},i));return Kn(yr(i[1]))?t.concat([new we("".concat(s,"[1]"),i[1],"expressions are not allowed in function stops.")]):t.concat(e.validateSpec({key:"".concat(s,"[1]"),value:i[1],valueSpec:a,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec}))}function h(e,r){var s=Zn(e.value),l=gr(e.value),c=null!==e.value?e.value:r;if(t){if(s!==t)return[new we(e.key,c,"".concat(s," stop domain type must match previous stop domain type ").concat(t))]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new we(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==i){var u="number expected, ".concat(s," found");return Rn(a)&&void 0===i&&(u+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new we(e.key,c,u)]}return"categorical"!==i||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==i&&"number"===s&&void 0!==n&&l<n?[new we(e.key,c,"stop domain values must appear in ascending order")]:(n=l,"categorical"===i&&l in o?[new we(e.key,c,"stop domain values must be unique")]:(o[l]=!0,[])):[new we(e.key,c,"integer expected, found ".concat(l))]}}function kr(e){var t=("property"===e.expressionContext?tr:$n)(yr(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new we("".concat(e.key).concat(t.key),e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new we(e.key,e.value,'Invalid data expression for "'.concat(e.propertyKey,'". Output values must be contained as literals within the expression.'))];if("property"===e.expressionContext&&"layout"===e.propertyType&&!en(n))return[new we(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!en(n))return[new we(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!tn(n,["zoom","feature-state"]))return[new we(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Qt(n))return[new we(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function jr(e){var t=e.key,n=e.value,r=e.valueSpec,a=[];return Array.isArray(r.values)?-1===r.values.indexOf(gr(n))&&a.push(new we(t,n,"expected one of [".concat(r.values.join(", "),"], ").concat(JSON.stringify(n)," found"))):-1===Object.keys(r.values).indexOf(gr(n))&&a.push(new we(t,n,"expected one of [".concat(Object.keys(r.values).join(", "),"], ").concat(JSON.stringify(n)," found"))),a}function Sr(e){return ar(yr(e.value))?kr(ke({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Cr(e)}function Cr(e){var t=e.value,n=e.key;if("array"!==Zn(t))return[new we(n,t,"array expected, ".concat(Zn(t)," found"))];var r,a=e.styleSpec,i=[];if(t.length<1)return[new we(n,t,"filter array must have at least 1 element")];switch(i=i.concat(jr({key:"".concat(n,"[0]"),value:t[0],valueSpec:a.filter_operator,style:e.style,styleSpec:e.styleSpec})),gr(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===gr(t[1])&&i.push(new we(n,t,'"$type" cannot be use with operator "'.concat(t[0],'"')));case"==":case"!=":3!==t.length&&i.push(new we(n,t,'filter array for operator "'.concat(t[0],'" must have 3 elements')));case"in":case"!in":t.length>=2&&"string"!==(r=Zn(t[1]))&&i.push(new we("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found")));for(var o=2;o<t.length;o++)r=Zn(t[o]),"$type"===gr(t[1])?i=i.concat(jr({key:"".concat(n,"[").concat(o,"]"),value:t[o],valueSpec:a.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&i.push(new we("".concat(n,"[").concat(o,"]"),t[o],"string, number, or boolean expected, ".concat(r," found")));break;case"any":case"all":case"none":for(var s=1;s<t.length;s++)i=i.concat(Cr({key:"".concat(n,"[").concat(s,"]"),value:t[s],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=Zn(t[1]),2!==t.length?i.push(new we(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"string"!==r&&i.push(new we("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found")));break;case"within":r=Zn(t[1]),2!==t.length?i.push(new we(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"object"!==r&&i.push(new we("".concat(n,"[1]"),t[1],"object expected, ".concat(r," found")))}return i}function Nr(e,t){var n=e.key,r=e.validateSpec,a=e.style,i=e.styleSpec,o=e.value,s=e.objectKey,l=i["".concat(t,"_").concat(e.layerType)];if(!l)return[];var c=s.match(/^(.*)-transition$/);if("paint"===t&&c&&l[c[1]]&&l[c[1]].transition)return r({key:n,value:o,valueSpec:i.transition,style:a,styleSpec:i});var u,d=e.valueSpec||l[s];if(!d)return[new we(n,o,'unknown property "'.concat(s,'"'))];if("string"===Zn(o)&&Rn(d)&&!d.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new we(n,o,'"'.concat(s,'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ').concat(JSON.stringify(u[1])," }`."))];var h=[];return"symbol"===e.layerType&&("text-field"===s&&a&&!a.glyphs&&h.push(new we(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===s&&Un(yr(o))&&"identity"===gr(o.type)&&h.push(new we(n,o,'"text-font" does not support identity functions'))),h.concat(r({key:e.key,value:o,valueSpec:d,style:a,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:s}))}function Er(e){return Nr(e,"paint")}function Tr(e){return Nr(e,"layout")}function Ir(e){var t=[],n=e.value,r=e.key,a=e.style,i=e.styleSpec;n.type||n.ref||t.push(new we(r,n,'either "type" or "ref" is required'));var o,s=gr(n.type),l=gr(n.ref);if(n.id)for(var c=gr(n.id),u=0;u<e.arrayIndex;u++){var d=a.layers[u];gr(d.id)===c&&t.push(new we(r,n.id,'duplicate layer id "'.concat(n.id,'", previously used at line ').concat(d.id.__line__)))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(e){e in n&&t.push(new we(r,n[e],'"'.concat(e,'" is prohibited for ref layers')))})),a.layers.forEach((function(e){gr(e.id)===l&&(o=e)})),o?o.ref?t.push(new we(r,n.ref,"ref cannot reference another ref layer")):s=gr(o.type):t.push(new we(r,n.ref,'ref layer "'.concat(l,'" not found')));else if("background"!==s)if(n.source){var h=a.sources&&a.sources[n.source],f=h&&gr(h.type);h?"vector"===f&&"raster"===s?t.push(new we(r,n.source,'layer "'.concat(n.id,'" requires a raster source'))):"raster-dem"!==f&&"hillshade"===s?t.push(new we(r,n.source,'layer "'.concat(n.id,'" requires a raster-dem source'))):"raster"===f&&"raster"!==s?t.push(new we(r,n.source,'layer "'.concat(n.id,'" requires a vector source'))):"vector"!==f||n["source-layer"]?"raster-dem"===f&&"hillshade"!==s?t.push(new we(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===f&&h.lineMetrics||t.push(new we(r,n,'layer "'.concat(n.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):t.push(new we(r,n,'layer "'.concat(n.id,'" must specify a "source-layer"'))):t.push(new we(r,n.source,'source "'.concat(n.source,'" not found')))}else t.push(new we(r,n,'missing required property "source"'));return t=t.concat(xr({key:r,value:n,valueSpec:i.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":function(){return[]},type:function(){return e.validateSpec({key:"".concat(r,".type"),value:n.type,valueSpec:i.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:n,objectKey:"type"})},filter:Sr,layout:function(e){return xr({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":function(e){return Tr(ke({layerType:s},e))}}})},paint:function(e){return xr({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":function(e){return Er(ke({layerType:s},e))}}})}}}))}function Ar(e){var t=e.value,n=e.key,r=Zn(t);return"string"!==r?[new we(n,t,"string expected, ".concat(r," found"))]:[]}var Pr={promoteId:function(e){var t=e.key,n=e.value;if("string"===Zn(n))return Ar({key:t,value:n});var r=[];for(var a in n)r.push.apply(r,d(Ar({key:"".concat(t,".").concat(a),value:n[a]})));return r}};function Mr(e){var t=e.value,n=e.key,r=e.styleSpec,a=e.style,i=e.validateSpec;if(!t.type)return[new we(n,t,'"type" is required')];var o,s=gr(t.type);switch(s){case"vector":case"raster":return o=xr({key:n,value:t,valueSpec:r["source_".concat(s.replace("-","_"))],style:e.style,styleSpec:r,objectElementValidators:Pr,validateSpec:i});case"raster-dem":return o=function(e){var t,n=null!==(t=e.sourceName)&&void 0!==t?t:"",r=e.value,a=e.styleSpec,i=a.source_raster_dem,o=e.style,s=[],l=Zn(r);if(void 0===r)return s;if("object"!==l)return s.push(new we("source_raster_dem",r,"object expected, ".concat(l," found"))),s;var c="custom"===gr(r.encoding),u=["redFactor","greenFactor","blueFactor","baseShift"],d=e.value.encoding?'"'.concat(e.value.encoding,'"'):"Default";for(var h in r)!c&&u.includes(h)?s.push(new we(h,r[h],'In "'.concat(n,'": "').concat(h,'" is only valid when "encoding" is set to "custom". ').concat(d," encoding found"))):i[h]?s=s.concat(e.validateSpec({key:h,value:r[h],valueSpec:i[h],validateSpec:e.validateSpec,style:o,styleSpec:a})):s.push(new we(h,r[h],'unknown property "'.concat(h,'"')));return s}({sourceName:n,value:t,style:e.style,styleSpec:r,validateSpec:i}),o;case"geojson":if(o=xr({key:n,value:t,valueSpec:r.source_geojson,style:a,styleSpec:r,validateSpec:i,objectElementValidators:Pr}),t.cluster)for(var l in t.clusterProperties){var c,u,f=h(t.clusterProperties[l],2),p=f[0],m=f[1],v="string"==typeof p?[p,["accumulated"],["get",l]]:p;(c=o).push.apply(c,d(kr({key:"".concat(n,".").concat(l,".map"),value:m,validateSpec:i,expressionContext:"cluster-map"}))),(u=o).push.apply(u,d(kr({key:"".concat(n,".").concat(l,".reduce"),value:v,validateSpec:i,expressionContext:"cluster-reduce"})))}return o;case"video":return xr({key:n,value:t,valueSpec:r.source_video,style:a,validateSpec:i,styleSpec:r});case"image":return xr({key:n,value:t,valueSpec:r.source_image,style:a,validateSpec:i,styleSpec:r});case"canvas":return[new we(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return jr({key:"".concat(n,".type"),value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:a,validateSpec:i,styleSpec:r})}}function Dr(e){var t=e.value,n=e.styleSpec,r=n.light,a=e.style,i=[],o=Zn(t);if(void 0===t)return i;if("object"!==o)return i=i.concat([new we("light",t,"object expected, ".concat(o," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);i=i.concat(l&&r[l[1]]&&r[l[1]].transition?e.validateSpec({key:s,value:t[s],valueSpec:n.transition,validateSpec:e.validateSpec,style:a,styleSpec:n}):r[s]?e.validateSpec({key:s,value:t[s],valueSpec:r[s],validateSpec:e.validateSpec,style:a,styleSpec:n}):[new we(s,t[s],'unknown property "'.concat(s,'"'))])}return i}function Lr(e){var t=e.value,n=e.styleSpec,r=n.terrain,a=e.style,i=[],o=Zn(t);if(void 0===t)return i;if("object"!==o)return i=i.concat([new we("terrain",t,"object expected, ".concat(o," found"))]);for(var s in t)i=i.concat(r[s]?e.validateSpec({key:s,value:t[s],valueSpec:r[s],validateSpec:e.validateSpec,style:a,styleSpec:n}):[new we(s,t[s],'unknown property "'.concat(s,'"'))]);return i}function Or(e){var t=[],n=e.value,r=e.key;if(Array.isArray(n)){var a=[],i=[];for(var o in n)n[o].id&&a.includes(n[o].id)&&t.push(new we(r,n,"all the sprites' ids must be unique, but ".concat(n[o].id," is duplicated"))),a.push(n[o].id),n[o].url&&i.includes(n[o].url)&&t.push(new we(r,n,"all the sprites' URLs must be unique, but ".concat(n[o].url," is duplicated"))),i.push(n[o].url),t=t.concat(xr({key:"".concat(r,"[").concat(o,"]"),value:n[o],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:e.validateSpec}));return t}return Ar({key:r,value:n})}var zr={"*":function(){return[]},array:br,boolean:function(e){var t=e.value,n=e.key,r=Zn(t);return"boolean"!==r?[new we(n,t,"boolean expected, ".concat(r," found"))]:[]},number:_r,color:function(e){var t=e.key,n=e.value,r=Zn(n);return"string"!==r?[new we(t,n,"color expected, ".concat(r," found"))]:dt.parse(String(n))?[]:[new we(t,n,'color expected, "'.concat(n,'" found'))]},constants:vr,enum:jr,filter:Sr,function:wr,layer:Ir,object:xr,source:Mr,light:Dr,terrain:Lr,string:Ar,formatted:function(e){return 0===Ar(e).length?[]:kr(e)},resolvedImage:function(e){return 0===Ar(e).length?[]:kr(e)},padding:function(e){var t=e.key,n=e.value;if("array"===Zn(n)){if(n.length<1||n.length>4)return[new we(t,n,"padding requires 1 to 4 values; ".concat(n.length," values found"))];for(var r={type:"number"},a=[],i=0;i<n.length;i++)a=a.concat(e.validateSpec({key:"".concat(t,"[").concat(i,"]"),value:n[i],validateSpec:e.validateSpec,valueSpec:r}));return a}return _r({key:t,value:n,valueSpec:{}})},variableAnchorOffsetCollection:function(e){var t=e.key,n=e.value,r=Zn(n),a=e.styleSpec;if("array"!==r||n.length<1||n.length%2!=0)return[new we(t,n,"variableAnchorOffsetCollection requires a non-empty array of even length")];for(var i=[],o=0;o<n.length;o+=2)i=(i=i.concat(jr({key:"".concat(t,"[").concat(o,"]"),value:n[o],valueSpec:a.layout_symbol["text-anchor"]}))).concat(br({key:"".concat(t,"[").concat(o+1,"]"),value:n[o+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:a}));return i},sprite:Or};function Rr(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return e.validateSpec=Rr,n.expression&&Un(gr(t))?wr(e):n.expression&&Kn(yr(t))?kr(e):n.type&&zr[n.type]?zr[n.type](e):xr(ke({},e,{valueSpec:n.type?r[n.type]:n}))}function Fr(e){var t=e.value,n=e.key,r=Ar(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new we(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new we(n,t,'"glyphs" url must include a "{range}" token'))),r}function Br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue,n=[];return n=n.concat(Rr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,validateSpec:Rr,objectElementValidators:{glyphs:Fr,"*":function(){return[]}}})),e.constants&&(n=n.concat(vr({key:"constants",value:e.constants,style:e,styleSpec:t,validateSpec:Rr}))),Ur(n)}function Zr(e){return function(t){return e(l(l({},t),{},{validateSpec:Rr}))}}function Ur(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function Vr(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ur(e.apply(this,n))}}Br.source=Vr(Zr(Mr)),Br.sprite=Vr(Zr(Or)),Br.glyphs=Vr(Zr(Fr)),Br.light=Vr(Zr(Dr)),Br.terrain=Vr(Zr(Lr)),Br.layer=Vr(Zr(Ir)),Br.filter=Vr(Zr(Sr)),Br.paintProperty=Vr(Zr(Er)),Br.layoutProperty=Vr(Zr(Tr));var qr=Br,Hr=qr.light,Wr=qr.paintProperty,Yr=qr.layoutProperty;function Gr(e,t){var n=!1;if(t&&t.length){var r,a=f(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;e.fire(new le(new Error(i.message))),n=!0}}catch(o){a.e(o)}finally{a.f()}}return n}var Jr=function(){function e(t,n,r){m(this,e);var a=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(n=i[1])+2*(r=i[2]);for(var o=0;o<this.d*this.d;o++){var s=i[3+o],l=i[3+o+1];a.push(s===l?null:i.subarray(s,l))}var c=i[3+a.length+1];this.keys=i.subarray(i[3+a.length],c),this.bboxes=i.subarray(c),this.insert=this._insertReadonly}else{this.d=n+2*r;for(var u=0;u<this.d*this.d;u++)a.push([]);this.keys=[],this.bboxes=[]}this.n=n,this.extent=t,this.padding=r,this.scale=n/t,this.uid=0;var d=r/n*t;this.min=-d,this.max=t+d}return p(e,[{key:"insert",value:function(e,t,n,r,a){this._forEachCell(t,n,r,a,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(a)}},{key:"_insertReadonly",value:function(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}},{key:"_insertCell",value:function(e,t,n,r,a,i){this.cells[a].push(i)}},{key:"query",value:function(e,t,n,r,a){var i=this.min,o=this.max;if(e<=i&&t<=i&&o<=n&&o<=r&&!a)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},a),s}},{key:"_queryCell",value:function(e,t,n,r,a,i,o,s){var l=this.cells[a];if(null!==l)for(var c=this.keys,u=this.bboxes,d=0;d<l.length;d++){var h=l[d];if(void 0===o[h]){var f=4*h;(s?s(u[f+0],u[f+1],u[f+2],u[f+3]):e<=u[f+2]&&t<=u[f+3]&&n>=u[f+0]&&r>=u[f+1])?(o[h]=!0,i.push(c[h])):o[h]=!1}}}},{key:"_forEachCell",value:function(e,t,n,r,a,i,o,s){for(var l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(n),d=this._convertToCellCoord(r),h=l;h<=u;h++)for(var f=c;f<=d;f++){var p=this.d*f+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(f),this._convertFromCellCoord(h+1),this._convertFromCellCoord(f+1)))&&a.call(this,e,t,n,r,p,i,o,s))return}}},{key:"_convertFromCellCoord",value:function(e){return(e-this.padding)/this.scale}},{key:"_convertToCellCoord",value:function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}},{key:"toArrayBuffer",value:function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var a=new Int32Array(t+n+this.keys.length+this.bboxes.length);a[0]=this.extent,a[1]=this.n,a[2]=this.padding;for(var i=t,o=0;o<e.length;o++){var s=e[o];a[3+o]=i,a.set(s,i),i+=s.length}return a[3+e.length]=i,a.set(this.keys,i),i+=this.keys.length,a[3+e.length+1]=i,a.set(this.bboxes,i),i+=this.bboxes.length,a.buffer}}],[{key:"serialize",value:function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}}},{key:"deserialize",value:function(t){return new e(t.buffer)}}]),e}(),Xr={};function Kr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Xr[e])throw new Error("".concat(e," is already registered."));Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Xr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var $r in Kr("Object",Object),Kr("TransferableGridIndex",Jr),Kr("Color",dt),Kr("Error",Error),Kr("AJAXError",$),Kr("ResolvedImage",yt),Kr("StylePropertyFunction",nr),Kr("StyleExpression",Xn,{omit:["_evaluator"]}),Kr("ZoomDependentExpression",er),Kr("ZoomConstantExpression",Qn),Kr("CompoundExpression",Kt,{omit:["_evaluate"]}),An)An[$r]._classRegistryKey||Kr("Expression_".concat($r),An[$r]);function Qr(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function ea(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob)return e;if(Qr(e))return t&&t.push(e),e;if(V(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){var r,a=[],i=f(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;a.push(ea(o,t))}}catch(h){i.e(h)}finally{i.f()}return a}if("object"==typeof e){var s=e.constructor,l=s._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class");if(!Xr[l])throw new Error("".concat(l," is not registered."));var c=s.serialize?s.serialize(e,t):{};if(s.serialize){if(t&&c===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(var u in e)if(e.hasOwnProperty(u)&&!(Xr[l].omit.indexOf(u)>=0)){var d=e[u];c[u]=Xr[l].shallow.indexOf(u)>=0?d:ea(d,t)}e instanceof Error&&(c.message=e.message)}if(c.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==l&&(c.$name=l),c}throw new Error("can't serialize object of type "+typeof e)}function ta(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob||Qr(e)||V(e)||ArrayBuffer.isView(e)||e instanceof ImageData)return e;if(Array.isArray(e))return e.map(ta);if("object"==typeof e){var t=e.$name||"Object";if(!Xr[t])throw new Error("can't deserialize unregistered class ".concat(t));var n=Xr[t].klass;if(!n)throw new Error("can't deserialize unregistered class ".concat(t));if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),a=0,i=Object.keys(e);a<i.length;a++){var o=i[a];if("$name"!==o){var s=e[o];r[o]=Xr[t].shallow.indexOf(o)>=0?s:ta(s)}}return r}throw new Error("can't deserialize object of type "+typeof e)}var na=function(){function e(){m(this,e),this.first=!0}return p(e,[{key:"update",value:function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))}}]),e}(),ra={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function aa(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(sa(t.value.charCodeAt(0)))return!0}catch(r){n.e(r)}finally{n.f()}return!1}function ia(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(!oa(t.value.charCodeAt(0)))return!1}catch(r){n.e(r)}finally{n.f()}return!0}function oa(e){return!(ra.Arabic(e)||ra["Arabic Supplement"](e)||ra["Arabic Extended-A"](e)||ra["Arabic Presentation Forms-A"](e)||ra["Arabic Presentation Forms-B"](e))}function sa(e){return!(746!==e&&747!==e&&(e<4352||!(ra["Bopomofo Extended"](e)||ra.Bopomofo(e)||ra["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||ra["CJK Compatibility Ideographs"](e)||ra["CJK Compatibility"](e)||ra["CJK Radicals Supplement"](e)||ra["CJK Strokes"](e)||!(!ra["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||ra["CJK Unified Ideographs Extension A"](e)||ra["CJK Unified Ideographs"](e)||ra["Enclosed CJK Letters and Months"](e)||ra["Hangul Compatibility Jamo"](e)||ra["Hangul Jamo Extended-A"](e)||ra["Hangul Jamo Extended-B"](e)||ra["Hangul Jamo"](e)||ra["Hangul Syllables"](e)||ra.Hiragana(e)||ra["Ideographic Description Characters"](e)||ra.Kanbun(e)||ra["Kangxi Radicals"](e)||ra["Katakana Phonetic Extensions"](e)||ra.Katakana(e)&&12540!==e||!(!ra["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!ra["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||ra["Unified Canadian Aboriginal Syllabics"](e)||ra["Unified Canadian Aboriginal Syllabics Extended"](e)||ra["Vertical Forms"](e)||ra["Yijing Hexagram Symbols"](e)||ra["Yi Syllables"](e)||ra["Yi Radicals"](e))))}function la(e){return!(sa(e)||function(e){return!!(ra["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||ra["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||ra["Letterlike Symbols"](e)||ra["Number Forms"](e)||ra["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||ra["Control Pictures"](e)&&9251!==e||ra["Optical Character Recognition"](e)||ra["Enclosed Alphanumerics"](e)||ra["Geometric Shapes"](e)||ra["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||ra["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||ra["CJK Symbols and Punctuation"](e)||ra.Katakana(e)||ra["Private Use Area"](e)||ra["CJK Compatibility Forms"](e)||ra["Small Form Variants"](e)||ra["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function ca(e){return e>=1424&&e<=2303||ra["Arabic Presentation Forms-A"](e)||ra["Arabic Presentation Forms-B"](e)}function ua(e,t){return!(!t&&ca(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||ra.Khmer(e))}function da(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(ca(t.value.charCodeAt(0)))return!0}catch(r){n.e(r)}finally{n.f()}return!1}var ha="deferred",fa="loading",pa="loaded",ma=null,va="unavailable",ga=null,ya=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(va="error"),ma&&ma(e)};function xa(){ba.fire(new se("pluginStateChange",{pluginStatus:va,pluginURL:ga}))}var ba=new ce,_a=function(){return va},wa=function(){if(va!==ha||!ga)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");va=fa,xa(),ga&&re({url:ga},(function(e){e?ya(e):(va=pa,xa())}))},ka={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return va===pa||null!=ka.applyArabicShaping},isLoading:function(){return va===fa},setState:function(e){if(!Z())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");va=e.pluginStatus,ga=e.pluginURL},isParsed:function(){if(!Z())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=ka.applyArabicShaping&&null!=ka.processBidirectionalText&&null!=ka.processStyledBidirectionalText},getPluginURL:function(){if(!Z())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return ga}},ja=function(){function e(t,n){m(this,e),this.zoom=t,n?(this.now=n.now,this.fadeDuration=n.fadeDuration,this.zoomHistory=n.zoomHistory,this.transition=n.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new na,this.transition={})}return p(e,[{key:"isSupportedScript",value:function(e){return function(e,t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;)if(!ua(n.value.charCodeAt(0),t))return!1}catch(a){r.e(a)}finally{r.f()}return!0}(e,ka.isLoaded())}},{key:"crossFadingFactor",value:function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}},{key:"getCrossfadeParameters",value:function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}}}]),e}(),Sa=function(){function e(t,n){m(this,e),this.property=t,this.value=n,this.expression=function(e,t){if(Un(e))return new nr(e,t);if(Kn(e)){var n=tr(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));return n.value}var r=e;return"color"===t.type&&"string"==typeof e?r=dt.parse(e):"padding"!==t.type||"number"!=typeof e&&!Array.isArray(e)?"variableAnchorOffsetCollection"===t.type&&Array.isArray(e)&&(r=gt.parse(e)):r=mt.parse(e),{kind:"constant",evaluate:function(){return r}}}(void 0===n?t.specification.default:n,t.specification)}return p(e,[{key:"isDataDriven",value:function(){return"source"===this.expression.kind||"composite"===this.expression.kind}},{key:"possiblyEvaluate",value:function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}]),e}(),Ca=function(){function e(t){m(this,e),this.property=t,this.value=new Sa(t,void 0)}return p(e,[{key:"transitioned",value:function(e,t){return new Ea(this.property,this.value,t,P({},e.transition,this.transition),e.now)}},{key:"untransitioned",value:function(){return new Ea(this.property,this.value,null,{},0)}}]),e}(),Na=function(){function e(t){m(this,e),this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}return p(e,[{key:"getValue",value:function(e){return O(this._values[e].value.value)}},{key:"setValue",value:function(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Ca(this._values[e].property)),this._values[e].value=new Sa(this._values[e].property,null===t?void 0:O(t))}},{key:"getTransition",value:function(e){return O(this._values[e].transition)}},{key:"setTransition",value:function(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Ca(this._values[e].property)),this._values[e].transition=O(t)||void 0}},{key:"serialize",value:function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t],a=this.getValue(r);void 0!==a&&(e[r]=a);var i=this.getTransition(r);void 0!==i&&(e["".concat(r,"-transition")]=i)}return e}},{key:"transitioned",value:function(e,t){for(var n=new Ta(this._properties),r=0,a=Object.keys(this._values);r<a.length;r++){var i=a[r];n._values[i]=this._values[i].transitioned(e,t._values[i])}return n}},{key:"untransitioned",value:function(){for(var e=new Ta(this._properties),t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e}}]),e}(),Ea=function(){function e(t,n,r,a,i){m(this,e),this.property=t,this.value=n,this.begin=i+a.delay||0,this.end=this.begin+a.duration||0,t.specification.transition&&(a.delay||a.duration)&&(this.prior=r)}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n){var r=e.now||0,a=this.value.possiblyEvaluate(e,t,n),i=this.prior;if(i){if(r>this.end)return this.prior=null,a;if(this.value.isDataDriven())return this.prior=null,a;if(r<this.begin)return i.possiblyEvaluate(e,t,n);var o=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(i.possiblyEvaluate(e,t,n),a,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(o))}return a}}]),e}(),Ta=function(){function e(t){m(this,e),this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n){for(var r=new Pa(this._properties),a=0,i=Object.keys(this._values);a<i.length;a++){var o=i[a];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r}},{key:"hasTransition",value:function(){for(var e=0,t=Object.keys(this._values);e<t.length;e++){var n=t[e];if(this._values[n].prior)return!0}return!1}}]),e}(),Ia=function(){function e(t){m(this,e),this._properties=t,this._values=Object.create(t.defaultPropertyValues)}return p(e,[{key:"hasValue",value:function(e){return void 0!==this._values[e].value}},{key:"getValue",value:function(e){return O(this._values[e].value)}},{key:"setValue",value:function(e,t){this._values[e]=new Sa(this._values[e].property,null===t?void 0:O(t))}},{key:"serialize",value:function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t],a=this.getValue(r);void 0!==a&&(e[r]=a)}return e}},{key:"possiblyEvaluate",value:function(e,t,n){for(var r=new Pa(this._properties),a=0,i=Object.keys(this._values);a<i.length;a++){var o=i[a];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r}}]),e}(),Aa=function(){function e(t,n,r){m(this,e),this.property=t,this.value=n,this.parameters=r}return p(e,[{key:"isConstant",value:function(){return"constant"===this.value.kind}},{key:"constantOr",value:function(e){return"constant"===this.value.kind?this.value.value:e}},{key:"evaluate",value:function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)}}]),e}(),Pa=function(){function e(t){m(this,e),this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}return p(e,[{key:"get",value:function(e){return this._values[e]}}]),e}(),Ma=function(){function e(t){m(this,e),this.specification=t}return p(e,[{key:"possiblyEvaluate",value:function(e,t){if(e.isDataDriven())throw new Error("Value should not be data driven");return e.expression.evaluate(t)}},{key:"interpolate",value:function(e,t,n){var r=sn[this.specification.type];return r?r(e,t,n):e}}]),e}(),Da=function(){function e(t,n){m(this,e),this.specification=t,this.overrides=n}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){return new Aa(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)}},{key:"interpolate",value:function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new Aa(this,{kind:"constant",value:void 0},e.parameters);var r=sn[this.specification.type];if(r){var a=r(e.value.value,t.value.value,n);return new Aa(this,{kind:"constant",value:a},e.parameters)}return e}},{key:"evaluate",value:function(e,t,n,r,a,i){return"constant"===e.kind?e.value:e.evaluate(t,n,r,a,i)}}]),e}(),La=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"possiblyEvaluate",value:function(e,t,n,r){if(void 0===e.value)return new Aa(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var a=e.expression.evaluate(t,null,{},n,r),i="resolvedImage"===e.property.specification.type&&"string"!=typeof a?a.name:a,o=this._calculate(i,i,i,t);return new Aa(this,{kind:"constant",value:o},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Aa(this,{kind:"constant",value:s},t)}return new Aa(this,e.expression,t)}},{key:"evaluate",value:function(e,t,n,r,a,i){if("source"===e.kind){var o=e.evaluate(t,n,r,a,i);return this._calculate(o,o,o,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value}},{key:"_calculate",value:function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}},{key:"interpolate",value:function(e){return e}}]),n}(Da),Oa=function(){function e(t){m(this,e),this.specification=t}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){var a=e.expression.evaluate(t,null,{},n,r);return this._calculate(a,a,a,t)}return this._calculate(e.expression.evaluate(new ja(Math.floor(t.zoom-1),t)),e.expression.evaluate(new ja(Math.floor(t.zoom),t)),e.expression.evaluate(new ja(Math.floor(t.zoom+1),t)),t)}}},{key:"_calculate",value:function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}},{key:"interpolate",value:function(e){return e}}]),e}(),za=function(){function e(t){m(this,e),this.specification=t}return p(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)}},{key:"interpolate",value:function(){return!1}}]),e}(),Ra=p((function e(t){for(var n in m(this,e),this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var r=t[n];r.specification.overridable&&this.overridableProperties.push(n);var a=this.defaultPropertyValues[n]=new Sa(r,void 0),i=this.defaultTransitionablePropertyValues[n]=new Ca(r);this.defaultTransitioningPropertyValues[n]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[n]=a.possiblyEvaluate({})}}));Kr("DataDrivenProperty",Da),Kr("DataConstantProperty",Ma),Kr("CrossFadedDataDrivenProperty",La),Kr("CrossFadedProperty",Oa),Kr("ColorRampProperty",za);var Fa="-transition",Ba=function(e){v(n,e);var t=g(n);function n(e,r){var a;if(m(this,n),(a=t.call(this)).id=e.id,a.type=e.type,a._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==e.type&&(a.metadata=e.metadata,a.minzoom=e.minzoom,a.maxzoom=e.maxzoom,"background"!==e.type&&(a.source=e.source,a.sourceLayer=e["source-layer"],a.filter=e.filter),r.layout&&(a._unevaluatedLayout=new Ia(r.layout)),r.paint)){for(var i in a._transitionablePaint=new Na(r.paint),e.paint)a.setPaintProperty(i,e.paint[i],{validate:!1});for(var o in e.layout)a.setLayoutProperty(o,e.layout[o],{validate:!1});a._transitioningPaint=a._transitionablePaint.untransitioned(),a.paint=new Pa(r.paint)}return s(a)}return p(n,[{key:"getCrossfadeParameters",value:function(){return this._crossfadeParameters}},{key:"getLayoutProperty",value:function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}},{key:"setLayoutProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=t&&this._validate(Yr,"layers.".concat(this.id,".layout.").concat(e),e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}},{key:"getPaintProperty",value:function(e){return e.endsWith(Fa)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}},{key:"setPaintProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=t&&this._validate(Wr,"layers.".concat(this.id,".paint.").concat(e),e,t,n))return!1;if(e.endsWith(Fa))return this._transitionablePaint.setTransition(e.slice(0,-11),t||void 0),!1;var r=this._transitionablePaint._values[e],a="cross-faded-data-driven"===r.property.specification["property-type"],i=r.value.isDataDriven(),o=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||i||a||this._handleOverridablePaintPropertyUpdate(e,o,s)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,n){return!1}},{key:"isHidden",value:function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}},{key:"updateTransitions",value:function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}},{key:"hasTransition",value:function(){return this._transitioningPaint.hasTransition()}},{key:"recalculate",value:function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}},{key:"serialize",value:function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),L(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))}},{key:"_validate",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!a||!1!==a.validate)&&Gr(this,e.call(qr,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:ue,style:{glyphs:!0,sprite:!0}}))}},{key:"is3D",value:function(){return!1}},{key:"isTileClipped",value:function(){return!1}},{key:"hasOffscreenPass",value:function(){return!1}},{key:"resize",value:function(){}},{key:"isStateDependent",value:function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof Aa&&Rn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}]),n}(ce),Za={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ua=p((function e(t,n){m(this,e),this._structArray=t,this._pos1=n*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8})),Va=function(){function e(){m(this,e),this.isTransferred=!1,this.capacity=-1,this.resize(0)}return p(e,[{key:"_trim",value:function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}},{key:"clear",value:function(){this.length=0}},{key:"resize",value:function(e){this.reserve(e),this.length=e}},{key:"reserve",value:function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}},{key:"_refreshViews",value:function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}],[{key:"serialize",value:function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}},{key:"deserialize",value:function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}}]),e}();function qa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0;return{members:e.map((function(e){var a=Za[e.type].BYTES_PER_ELEMENT,i=n=Ha(n,Math.max(t,a)),o=e.components||1;return r=Math.max(r,a),n+=a*o,{name:e.name,type:e.type,components:o,offset:i}})),size:Ha(n,Math.max(r,t)),alignment:t}}function Ha(e,t){return Math.ceil(e/t)*t}var Wa=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e}}]),n}(Va);Wa.prototype.bytesPerElement=4,Kr("StructArrayLayout2i4",Wa);var Ya=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var a=3*e;return this.int16[a+0]=t,this.int16[a+1]=n,this.int16[a+2]=r,e}}]),n}(Va);Ya.prototype.bytesPerElement=6,Kr("StructArrayLayout3i6",Ya);var Ga=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,a){var i=4*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,this.int16[i+3]=a,e}}]),n}(Va);Ga.prototype.bytesPerElement=8,Kr("StructArrayLayout4i8",Ga);var Ja=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,a,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,a,i)}},{key:"emplace",value:function(e,t,n,r,a,i,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=a,this.int16[s+4]=i,this.int16[s+5]=o,e}}]),n}(Va);Ja.prototype.bytesPerElement=12,Kr("StructArrayLayout2i4i12",Ja);var Xa=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,a,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,a,i)}},{key:"emplace",value:function(e,t,n,r,a,i,o){var s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[l+4]=r,this.uint8[l+5]=a,this.uint8[l+6]=i,this.uint8[l+7]=o,e}}]),n}(Va);Xa.prototype.bytesPerElement=8,Kr("StructArrayLayout2i4ub8",Xa);var Ka=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e}}]),n}(Va);Ka.prototype.bytesPerElement=8,Kr("StructArrayLayout2f8",Ka);var $a=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,a,i,o,s,l,c){var u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,r,a,i,o,s,l,c)}},{key:"emplace",value:function(e,t,n,r,a,i,o,s,l,c,u){var d=10*e;return this.uint16[d+0]=t,this.uint16[d+1]=n,this.uint16[d+2]=r,this.uint16[d+3]=a,this.uint16[d+4]=i,this.uint16[d+5]=o,this.uint16[d+6]=s,this.uint16[d+7]=l,this.uint16[d+8]=c,this.uint16[d+9]=u,e}}]),n}(Va);$a.prototype.bytesPerElement=20,Kr("StructArrayLayout10ui20",$a);var Qa=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,a,i,o,s,l,c,u,d){var h=this.length;return this.resize(h+1),this.emplace(h,e,t,n,r,a,i,o,s,l,c,u,d)}},{key:"emplace",value:function(e,t,n,r,a,i,o,s,l,c,u,d,h){var f=12*e;return this.int16[f+0]=t,this.int16[f+1]=n,this.int16[f+2]=r,this.int16[f+3]=a,this.uint16[f+4]=i,this.uint16[f+5]=o,this.uint16[f+6]=s,this.uint16[f+7]=l,this.int16[f+8]=c,this.int16[f+9]=u,this.int16[f+10]=d,this.int16[f+11]=h,e}}]),n}(Va);Qa.prototype.bytesPerElement=24,Kr("StructArrayLayout4i4ui4i24",Qa);var ei=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var a=3*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,e}}]),n}(Va);ei.prototype.bytesPerElement=12,Kr("StructArrayLayout3f12",ei);var ti=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint32[1*e+0]=t,e}}]),n}(Va);ti.prototype.bytesPerElement=4,Kr("StructArrayLayout1ul4",ti);var ni=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,a,i,o,s,l){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,a,i,o,s,l)}},{key:"emplace",value:function(e,t,n,r,a,i,o,s,l,c){var u=10*e,d=5*e;return this.int16[u+0]=t,this.int16[u+1]=n,this.int16[u+2]=r,this.int16[u+3]=a,this.int16[u+4]=i,this.int16[u+5]=o,this.uint32[d+3]=s,this.uint16[u+8]=l,this.uint16[u+9]=c,e}}]),n}(Va);ni.prototype.bytesPerElement=20,Kr("StructArrayLayout6i1ul2ui20",ni);var ri=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,a,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,a,i)}},{key:"emplace",value:function(e,t,n,r,a,i,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=a,this.int16[s+4]=i,this.int16[s+5]=o,e}}]),n}(Va);ri.prototype.bytesPerElement=12,Kr("StructArrayLayout2i2i2i12",ri);var ai=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,a){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r,a)}},{key:"emplace",value:function(e,t,n,r,a,i){var o=4*e,s=8*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.int16[s+6]=a,this.int16[s+7]=i,e}}]),n}(Va);ai.prototype.bytesPerElement=16,Kr("StructArrayLayout2f1f2i16",ai);var ii=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,a){var i=12*e,o=3*e;return this.uint8[i+0]=t,this.uint8[i+1]=n,this.float32[o+1]=r,this.float32[o+2]=a,e}}]),n}(Va);ii.prototype.bytesPerElement=12,Kr("StructArrayLayout2ub2f12",ii);var oi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var a=3*e;return this.uint16[a+0]=t,this.uint16[a+1]=n,this.uint16[a+2]=r,e}}]),n}(Va);oi.prototype.bytesPerElement=6,Kr("StructArrayLayout3ui6",oi);var si=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,a,i,o,s,l,c,u,d,h,f,p,m,v){var g=this.length;return this.resize(g+1),this.emplace(g,e,t,n,r,a,i,o,s,l,c,u,d,h,f,p,m,v)}},{key:"emplace",value:function(e,t,n,r,a,i,o,s,l,c,u,d,h,f,p,m,v,g){var y=24*e,x=12*e,b=48*e;return this.int16[y+0]=t,this.int16[y+1]=n,this.uint16[y+2]=r,this.uint16[y+3]=a,this.uint32[x+2]=i,this.uint32[x+3]=o,this.uint32[x+4]=s,this.uint16[y+10]=l,this.uint16[y+11]=c,this.uint16[y+12]=u,this.float32[x+7]=d,this.float32[x+8]=h,this.uint8[b+36]=f,this.uint8[b+37]=p,this.uint8[b+38]=m,this.uint32[x+10]=v,this.int16[y+22]=g,e}}]),n}(Va);si.prototype.bytesPerElement=48,Kr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",si);var li=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,a,i,o,s,l,c,u,d,h,f,p,m,v,g,y,x,b,_,w,k,j,S,C,N){var E=this.length;return this.resize(E+1),this.emplace(E,e,t,n,r,a,i,o,s,l,c,u,d,h,f,p,m,v,g,y,x,b,_,w,k,j,S,C,N)}},{key:"emplace",value:function(e,t,n,r,a,i,o,s,l,c,u,d,h,f,p,m,v,g,y,x,b,_,w,k,j,S,C,N,E){var T=32*e,I=16*e;return this.int16[T+0]=t,this.int16[T+1]=n,this.int16[T+2]=r,this.int16[T+3]=a,this.int16[T+4]=i,this.int16[T+5]=o,this.int16[T+6]=s,this.int16[T+7]=l,this.uint16[T+8]=c,this.uint16[T+9]=u,this.uint16[T+10]=d,this.uint16[T+11]=h,this.uint16[T+12]=f,this.uint16[T+13]=p,this.uint16[T+14]=m,this.uint16[T+15]=v,this.uint16[T+16]=g,this.uint16[T+17]=y,this.uint16[T+18]=x,this.uint16[T+19]=b,this.uint16[T+20]=_,this.uint16[T+21]=w,this.uint16[T+22]=k,this.uint32[I+12]=j,this.float32[I+13]=S,this.float32[I+14]=C,this.uint16[T+30]=N,this.uint16[T+31]=E,e}}]),n}(Va);li.prototype.bytesPerElement=64,Kr("StructArrayLayout8i15ui1ul2f2ui64",li);var ci=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.float32[1*e+0]=t,e}}]),n}(Va);ci.prototype.bytesPerElement=4,Kr("StructArrayLayout1f4",ci);var ui=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var a=3*e;return this.uint16[6*e+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,e}}]),n}(Va);ui.prototype.bytesPerElement=12,Kr("StructArrayLayout1ui2f12",ui);var di=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var a=4*e;return this.uint32[2*e+0]=t,this.uint16[a+2]=n,this.uint16[a+3]=r,e}}]),n}(Va);di.prototype.bytesPerElement=8,Kr("StructArrayLayout1ul2ui8",di);var hi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e}}]),n}(Va);hi.prototype.bytesPerElement=4,Kr("StructArrayLayout2ui4",hi);var fi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint16[1*e+0]=t,e}}]),n}(Va);fi.prototype.bytesPerElement=2,Kr("StructArrayLayout1ui2",fi);var pi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,a){var i=4*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,this.float32[i+3]=a,e}}]),n}(Va);pi.prototype.bytesPerElement=16,Kr("StructArrayLayout4f16",pi);var mi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"anchorPointX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"anchorPointY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"x1",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"y1",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"x2",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"y2",get:function(){return this._structArray.int16[this._pos2+5]}},{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+3]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+8]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+9]}},{key:"anchorPoint",get:function(){return new b(this.anchorPointX,this.anchorPointY)}}]),n}(Ua);mi.prototype.size=20;var vi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new mi(this,e)}}]),n}(ni);Kr("CollisionBoxArray",vi);var gi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"anchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"anchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"glyphStartIndex",get:function(){return this._structArray.uint16[this._pos2+2]}},{key:"numGlyphs",get:function(){return this._structArray.uint16[this._pos2+3]}},{key:"vertexStartIndex",get:function(){return this._structArray.uint32[this._pos4+2]}},{key:"lineStartIndex",get:function(){return this._structArray.uint32[this._pos4+3]}},{key:"lineLength",get:function(){return this._structArray.uint32[this._pos4+4]}},{key:"segment",get:function(){return this._structArray.uint16[this._pos2+10]}},{key:"lowerSize",get:function(){return this._structArray.uint16[this._pos2+11]}},{key:"upperSize",get:function(){return this._structArray.uint16[this._pos2+12]}},{key:"lineOffsetX",get:function(){return this._structArray.float32[this._pos4+7]}},{key:"lineOffsetY",get:function(){return this._structArray.float32[this._pos4+8]}},{key:"writingMode",get:function(){return this._structArray.uint8[this._pos1+36]}},{key:"placedOrientation",get:function(){return this._structArray.uint8[this._pos1+37]},set:function(e){this._structArray.uint8[this._pos1+37]=e}},{key:"hidden",get:function(){return this._structArray.uint8[this._pos1+38]},set:function(e){this._structArray.uint8[this._pos1+38]=e}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+10]},set:function(e){this._structArray.uint32[this._pos4+10]=e}},{key:"associatedIconIndex",get:function(){return this._structArray.int16[this._pos2+22]}}]),n}(Ua);gi.prototype.size=48;var yi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new gi(this,e)}}]),n}(si);Kr("PlacedSymbolArray",yi);var xi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"anchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"anchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"rightJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"centerJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"leftJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"verticalPlacedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+5]}},{key:"placedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+6]}},{key:"verticalPlacedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+7]}},{key:"key",get:function(){return this._structArray.uint16[this._pos2+8]}},{key:"textBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+9]}},{key:"textBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+10]}},{key:"verticalTextBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+11]}},{key:"verticalTextBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+12]}},{key:"iconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+13]}},{key:"iconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+14]}},{key:"verticalIconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+15]}},{key:"verticalIconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"featureIndex",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"numHorizontalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"numVerticalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+19]}},{key:"numIconVertices",get:function(){return this._structArray.uint16[this._pos2+20]}},{key:"numVerticalIconVertices",get:function(){return this._structArray.uint16[this._pos2+21]}},{key:"useRuntimeCollisionCircles",get:function(){return this._structArray.uint16[this._pos2+22]}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+12]},set:function(e){this._structArray.uint32[this._pos4+12]=e}},{key:"textBoxScale",get:function(){return this._structArray.float32[this._pos4+13]}},{key:"collisionCircleDiameter",get:function(){return this._structArray.float32[this._pos4+14]}},{key:"textAnchorOffsetStartIndex",get:function(){return this._structArray.uint16[this._pos2+30]}},{key:"textAnchorOffsetEndIndex",get:function(){return this._structArray.uint16[this._pos2+31]}}]),n}(Ua);xi.prototype.size=64;var bi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new xi(this,e)}}]),n}(li);Kr("SymbolInstanceArray",bi);var _i=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getoffsetX",value:function(e){return this.float32[1*e+0]}}]),n}(ci);Kr("GlyphOffsetArray",_i);var wi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getx",value:function(e){return this.int16[3*e+0]}},{key:"gety",value:function(e){return this.int16[3*e+1]}},{key:"gettileUnitDistanceFromAnchor",value:function(e){return this.int16[3*e+2]}}]),n}(Ya);Kr("SymbolLineVertexArray",wi);var ki=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"textAnchor",get:function(){return this._structArray.uint16[this._pos2+0]}},{key:"textOffset0",get:function(){return this._structArray.float32[this._pos4+1]}},{key:"textOffset1",get:function(){return this._structArray.float32[this._pos4+2]}}]),n}(Ua);ki.prototype.size=12;var ji=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new ki(this,e)}}]),n}(ui);Kr("TextAnchorOffsetArray",ji);var Si=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+0]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+2]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+3]}}]),n}(Ua);Si.prototype.size=8;var Ci=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"get",value:function(e){return new Si(this,e)}}]),n}(di);Kr("FeatureIndexArray",Ci);var Ni=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(Wa),Ei=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(Wa),Ti=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(Wa),Ii=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(Ja),Ai=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(Xa),Pi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(Ka),Mi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}($a),Di=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(Qa),Li=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(ei),Oi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(ti),zi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(ri),Ri=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(ii),Fi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(oi),Bi=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(hi),Zi=qa([{name:"a_pos",components:2,type:"Int16"}],4).members,Ui=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,e),this.segments=t}return p(e,[{key:"prepareSegment",value:function(t,n,r,a){var i=this.segments[this.segments.length-1];return t>e.MAX_VERTEX_ARRAY_LENGTH&&R("Max vertices per segment is ".concat(e.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(t)),(!i||i.vertexLength+t>e.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==a)&&(i={vertexOffset:n.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==a&&(i.sortKey=a),this.segments.push(i)),i}},{key:"get",value:function(){return this.segments}},{key:"destroy",value:function(){var e,t=f(this.segments);try{for(t.s();!(e=t.n()).done;){var n=e.value;for(var r in n.vaos)n.vaos[r].destroy()}}catch(a){t.e(a)}finally{t.f()}}}],[{key:"simpleSegment",value:function(t,n,r,a){return new e([{vertexOffset:t,primitiveOffset:n,vertexLength:r,primitiveLength:a,vaos:{},sortKey:0}])}}]),e}();function Vi(e,t){return 256*(e=I(Math.floor(e),0,255))+I(Math.floor(t),0,255)}Ui.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Kr("SegmentVector",Ui);var qi=qa([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Hi={exports:{}},Wi={exports:{}};Wi.exports=function(e,t){var n,r,a,i,o,s,l,c;for(r=e.length-(n=3&e.length),a=t,o=3432918353,s=461845907,c=0;c<r;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,a=27492+(65535&(i=5*(65535&(a=(a^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:a^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295,(a^=a>>>16)>>>0};var Yi=Wi.exports,Gi={exports:{}};Gi.exports=function(e,t){for(var n,r=e.length,a=t^r,i=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(n>>>16)&65535)<<16),a=1540483477*(65535&a)+((1540483477*(a>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++i;switch(r){case 3:a^=(255&e.charCodeAt(i+2))<<16;case 2:a^=(255&e.charCodeAt(i+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(i)))+((1540483477*(a>>>16)&65535)<<16)}return a=1540483477*(65535&(a^=a>>>13))+((1540483477*(a>>>16)&65535)<<16),(a^=a>>>15)>>>0};var Ji=Yi,Xi=Gi.exports;Hi.exports=Ji,Hi.exports.murmur3=Ji,Hi.exports.murmur2=Xi;var Ki=n(Hi.exports),$i=function(){function e(){m(this,e),this.ids=[],this.positions=[],this.indexed=!1}return p(e,[{key:"add",value:function(e,t,n,r){this.ids.push(Qi(e)),this.positions.push(t,n,r)}},{key:"getPositions",value:function(e){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");for(var t=Qi(e),n=0,r=this.ids.length-1;n<r;){var a=n+r>>1;this.ids[a]>=t?r=a:n=a+1}for(var i=[];this.ids[n]===t;)i.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return i}}],[{key:"serialize",value:function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return eo(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}}},{key:"deserialize",value:function(t){var n=new e;return n.ids=t.ids,n.positions=t.positions,n.indexed=!0,n}}]),e}();function Qi(e){var t=+e;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:Ki(String(e))}function eo(e,t,n,r){for(;n<r;){for(var a=e[n+r>>1],i=n-1,o=r+1;;){do{i++}while(e[i]<a);do{o--}while(e[o]>a);if(i>=o)break;to(e,i,o),to(t,3*i,3*o),to(t,3*i+1,3*o+1),to(t,3*i+2,3*o+2)}o-n<r-o?(eo(e,t,n,o),n=o+1):(eo(e,t,o+1,r),r=o)}}function to(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Kr("FeaturePositionMap",$i);var no=p((function e(t,n){m(this,e),this.gl=t.gl,this.location=n})),ro=function(e){v(n,e);var t=g(n);function n(e,r){var a;return m(this,n),(a=t.call(this,e,r)).current=0,a}return p(n,[{key:"set",value:function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}]),n}(no),ao=function(e){v(n,e);var t=g(n);function n(e,r){var a;return m(this,n),(a=t.call(this,e,r)).current=[0,0,0,0],a}return p(n,[{key:"set",value:function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}]),n}(no),io=function(e){v(n,e);var t=g(n);function n(e,r){var a;return m(this,n),(a=t.call(this,e,r)).current=dt.transparent,a}return p(n,[{key:"set",value:function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}]),n}(no),oo=new Float32Array(16);function so(e){return[Vi(255*e.r,255*e.g),Vi(255*e.b,255*e.a)]}var lo=function(){function e(t,n,r){m(this,e),this.value=t,this.uniformNames=n.map((function(e){return"u_".concat(e)})),this.type=r}return p(e,[{key:"setUniform",value:function(e,t,n){e.set(n.constantOr(this.value))}},{key:"getBinding",value:function(e,t,n){return"color"===this.type?new io(e,t):new ro(e,t)}}]),e}(),co=function(){function e(t,n){m(this,e),this.uniformNames=n.map((function(e){return"u_".concat(e)})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}return p(e,[{key:"setConstantPatternPositions",value:function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}},{key:"setUniform",value:function(e,t,n,r){var a="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;a&&e.set(a)}},{key:"getBinding",value:function(e,t,n){return"u_pattern"===n.substr(0,9)?new ao(e,t):new ro(e,t)}}]),e}(),uo=function(){function e(t,n,r,a){m(this,e),this.expression=t,this.type=r,this.maxValue=0,this.paintVertexAttributes=n.map((function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===r?2:1,offset:0}})),this.paintVertexArray=new a}return p(e,[{key:"populatePaintArray",value:function(e,t,n,r,a){var i=this.paintVertexArray.length,o=this.expression.evaluate(new ja(0),t,{},r,[],a);this.paintVertexArray.resize(e),this._setPaintValue(i,e,o)}},{key:"updatePaintArray",value:function(e,t,n,r){var a=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,a)}},{key:"_setPaintValue",value:function(e,t,n){if("color"===this.type)for(var r=so(n),a=e;a<t;a++)this.paintVertexArray.emplace(a,r[0],r[1]);else{for(var i=e;i<t;i++)this.paintVertexArray.emplace(i,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}]),e}(),ho=function(){function e(t,n,r,a,i,o){m(this,e),this.expression=t,this.uniformNames=n.map((function(e){return"u_".concat(e,"_t")})),this.type=r,this.useIntegerZoom=a,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=n.map((function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===r?4:2,offset:0}})),this.paintVertexArray=new o}return p(e,[{key:"populatePaintArray",value:function(e,t,n,r,a){var i=this.expression.evaluate(new ja(this.zoom),t,{},r,[],a),o=this.expression.evaluate(new ja(this.zoom+1),t,{},r,[],a),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,i,o)}},{key:"updatePaintArray",value:function(e,t,n,r){var a=this.expression.evaluate({zoom:this.zoom},n,r),i=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,a,i)}},{key:"_setPaintValue",value:function(e,t,n,r){if("color"===this.type)for(var a=so(n),i=so(r),o=e;o<t;o++)this.paintVertexArray.emplace(o,a[0],a[1],i[0],i[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}},{key:"setUniform",value:function(e,t){var n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=I(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)}},{key:"getBinding",value:function(e,t,n){return new ro(e,t)}}]),e}(),fo=function(){function e(t,n,r,a,i,o){m(this,e),this.expression=t,this.type=n,this.useIntegerZoom=r,this.zoom=a,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i}return p(e,[{key:"populatePaintArray",value:function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)}},{key:"updatePaintArray",value:function(e,t,n,r,a){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],a)}},{key:"_setPaintValues",value:function(e,t,n,r){if(r&&n){var a=n.min,i=n.mid,o=n.max,s=r[a],l=r[i],c=r[o];if(s&&l&&c)for(var u=e;u<t;u++)this.zoomInPaintVertexArray.emplace(u,l.tl[0],l.tl[1],l.br[0],l.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1],l.pixelRatio,s.pixelRatio),this.zoomOutPaintVertexArray.emplace(u,l.tl[0],l.tl[1],l.br[0],l.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1],l.pixelRatio,c.pixelRatio)}}},{key:"upload",value:function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,qi.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,qi.members,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}]),e}(),po=function(){function e(t,n,r){m(this,e),this.binders={},this._buffers=[];var a=[];for(var i in t.paint._values)if(r(i)){var o=t.paint.get(i);if(o instanceof Aa&&Rn(o.property.specification)){var s=vo(i,t.type),l=o.value,c=o.property.specification.type,u=o.property.useIntegerZoom,d=o.property.specification["property-type"],h="cross-faded"===d||"cross-faded-data-driven"===d;if("constant"===l.kind)this.binders[i]=h?new co(l.value,s):new lo(l.value,s,c),a.push("/u_".concat(i));else if("source"===l.kind||h){var f=go(i,c,"source");this.binders[i]=h?new fo(l,c,u,n,f,t.id):new uo(l,s,c,f),a.push("/a_".concat(i))}else{var p=go(i,c,"composite");this.binders[i]=new ho(l,s,c,u,n,p),a.push("/z_".concat(i))}}}this.cacheKey=a.sort().join("")}return p(e,[{key:"getMaxValue",value:function(e){var t=this.binders[e];return t instanceof uo||t instanceof ho?t.maxValue:0}},{key:"populatePaintArrays",value:function(e,t,n,r,a){for(var i in this.binders){var o=this.binders[i];(o instanceof uo||o instanceof ho||o instanceof fo)&&o.populatePaintArray(e,t,n,r,a)}}},{key:"setConstantPatternPositions",value:function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof co&&r.setConstantPatternPositions(e,t)}}},{key:"updatePaintArrays",value:function(e,t,n,r,a){var i=!1;for(var o in e){var s,l=t.getPositions(o),c=f(l);try{for(c.s();!(s=c.n()).done;){var u=s.value,d=n.feature(u.index);for(var h in this.binders){var p=this.binders[h];if((p instanceof uo||p instanceof ho||p instanceof fo)&&!0===p.expression.isStateDependent){var m=r.paint.get(h);p.expression=m.value,p.updatePaintArray(u.start,u.end,d,e[o],a),i=!0}}}}catch(v){c.e(v)}finally{c.f()}}return i}},{key:"defines",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof lo||n instanceof co)&&e.push.apply(e,d(n.uniformNames.map((function(e){return"#define HAS_UNIFORM_".concat(e)}))))}return e}},{key:"getBinderAttributes",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof uo||n instanceof ho)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name);else if(n instanceof fo)for(var a=0;a<qi.members.length;a++)e.push(qi.members[a].name)}return e}},{key:"getBinderUniforms",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof lo||n instanceof co||n instanceof ho){var r,a=f(n.uniformNames);try{for(a.s();!(r=a.n()).done;){var i=r.value;e.push(i)}}catch(o){a.e(o)}finally{a.f()}}}return e}},{key:"getPaintVertexBuffers",value:function(){return this._buffers}},{key:"getUniforms",value:function(e,t){var n=[];for(var r in this.binders){var a=this.binders[r];if(a instanceof lo||a instanceof co||a instanceof ho){var i,o=f(a.uniformNames);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(t[s]){var l=a.getBinding(e,t[s],s);n.push({name:s,property:r,binding:l})}}}catch(c){o.e(c)}finally{o.f()}}}return n}},{key:"setUniforms",value:function(e,t,n,r){var a,i=f(t);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o.name,l=o.property,c=o.binding;this.binders[l].setUniform(c,r,n.get(l),s)}}catch(u){i.e(u)}finally{i.f()}}},{key:"updatePaintBuffers",value:function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof fo){var r=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof uo||n instanceof ho)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}},{key:"upload",value:function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof uo||n instanceof ho||n instanceof fo)&&n.upload(e)}this.updatePaintBuffers()}},{key:"destroy",value:function(){for(var e in this.binders){var t=this.binders[e];(t instanceof uo||t instanceof ho||t instanceof fo)&&t.destroy()}}}]),e}(),mo=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};m(this,e),this.programConfigurations={};var a,i=f(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.programConfigurations[o.id]=new po(o,n,r)}}catch(s){i.e(s)}finally{i.f()}this.needsUpload=!1,this._featureMap=new $i,this._bufferOffset=0}return p(e,[{key:"populatePaintArrays",value:function(e,t,n,r,a,i){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(e,t,r,a,i);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}},{key:"updatePaintArrays",value:function(e,t,n,r){var a,i=f(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,r)||this.needsUpload}}catch(s){i.e(s)}finally{i.f()}}},{key:"get",value:function(e){return this.programConfigurations[e]}},{key:"upload",value:function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}},{key:"destroy",value:function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()}}]),e}();function vo(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace("".concat(t,"-"),"").replace(/-/g,"_")]}function go(e,t,n){var r={color:{source:Ka,composite:pi},number:{source:ci,composite:Ka}},a=function(e){return{"line-pattern":{source:Mi,composite:Mi},"fill-pattern":{source:Mi,composite:Mi},"fill-extrusion-pattern":{source:Mi,composite:Mi}}[e]}(e);return a&&a[n]||r[t][n]}Kr("ConstantBinder",lo),Kr("CrossFadedConstantBinder",co),Kr("SourceExpressionBinder",uo),Kr("CrossFadedCompositeBinder",fo),Kr("CompositeExpressionBinder",ho),Kr("ProgramConfiguration",po,{omit:["_buffers"]}),Kr("ProgramConfigurationSet",mo);var yo=8192,xo=Math.pow(2,14)-1,bo=-xo-1;function _o(e){for(var t=yo/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var a=n[r],i=0;i<a.length;i++){var o=a[i],s=Math.round(o.x*t),l=Math.round(o.y*t);o.x=I(s,bo,xo),o.y=I(l,bo,xo),(s<o.x||s>o.x+1||l<o.y||l>o.y+1)&&R("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function wo(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?_o(e):[]}}function ko(e,t,n,r,a){e.emplaceBack(2*t+(r+1)/2,2*n+(a+1)/2)}var jo,So,Co=function(){function e(t){m(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ei,this.indexArray=new Fi,this.segments=new Ui,this.programConfigurations=new mo(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return p(e,[{key:"populate",value:function(e,t,n){var r=this.layers[0],a=[],i=null,o=!1;"circle"===r.type&&(o=!(i=r.layout.get("circle-sort-key")).isConstant());var s,l=f(e);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=c.feature,d=c.id,h=c.index,p=c.sourceLayerIndex,m=this.layers[0]._featureFilter.needGeometry,v=wo(u,m);if(this.layers[0]._featureFilter.filter(new ja(this.zoom),v,n)){var g=o?i.evaluate(v,{},n):void 0,y={id:d,properties:u.properties,type:u.type,sourceLayerIndex:p,index:h,geometry:m?v.geometry:_o(u),patterns:{},sortKey:g};a.push(y)}}}catch(C){l.e(C)}finally{l.f()}o&&a.sort((function(e,t){return e.sortKey-t.sortKey}));for(var x=0,b=a;x<b.length;x++){var _=b[x],w=_.geometry,k=_.index,j=_.sourceLayerIndex,S=e[k].feature;this.addFeature(_,w,k,n),t.featureIndex.insert(S,w,k,j,this.index)}}},{key:"update",value:function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Zi),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(e,t,n,r){var a,i=f(t);try{for(i.s();!(a=i.n()).done;){var o,s=a.value,l=f(s);try{for(l.s();!(o=l.n()).done;){var c=o.value,u=c.x,d=c.y;if(!(u<0||u>=yo||d<0||d>=yo)){var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),p=h.vertexLength;ko(this.layoutVertexArray,u,d,-1,-1),ko(this.layoutVertexArray,u,d,1,-1),ko(this.layoutVertexArray,u,d,1,1),ko(this.layoutVertexArray,u,d,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),h.vertexLength+=4,h.primitiveLength+=2}}}catch(m){l.e(m)}finally{l.f()}}}catch(m){i.e(m)}finally{i.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)}}]),e}();function No(e,t){for(var n=0;n<e.length;n++)if(Oo(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(Oo(e,t[r]))return!0;return!!Ao(e,t)}function Eo(e,t,n){return!!Oo(e,t)||!!Mo(t,e,n)}function To(e,t){if(1===e.length)return Lo(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],a=0;a<r.length;a++)if(Oo(e,r[a]))return!0;for(var i=0;i<e.length;i++)if(Lo(t,e[i]))return!0;for(var o=0;o<t.length;o++)if(Ao(e,t[o]))return!0;return!1}function Io(e,t,n){if(e.length>1){if(Ao(e,t))return!0;for(var r=0;r<t.length;r++)if(Mo(t[r],e,n))return!0}for(var a=0;a<e.length;a++)if(Mo(e[a],t,n))return!0;return!1}function Ao(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],a=e[n+1],i=0;i<t.length-1;i++)if(Po(r,a,t[i],t[i+1]))return!0;return!1}function Po(e,t,n,r){return F(e,n,r)!==F(t,n,r)&&F(e,t,n)!==F(e,t,r)}function Mo(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var a=1;a<t.length;a++)if(Do(e,t[a-1],t[a])<r)return!0;return!1}function Do(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var a=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(a<0?t:a>1?n:n.sub(t)._mult(a)._add(t))}function Lo(e,t){for(var n,r,a,i=!1,o=0;o<e.length;o++)for(var s=0,l=(n=e[o]).length-1;s<n.length;l=s++)r=n[s],a=n[l],r.y>t.y!=a.y>t.y&&t.x<(a.x-r.x)*(t.y-r.y)/(a.y-r.y)+r.x&&(i=!i);return i}function Oo(e,t){for(var n=!1,r=0,a=e.length-1;r<e.length;a=r++){var i=e[r],o=e[a];i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(n=!n)}return n}function zo(e,t,n){var r=n[0],a=n[2];if(e.x<r.x&&t.x<r.x||e.x>a.x&&t.x>a.x||e.y<r.y&&t.y<r.y||e.y>a.y&&t.y>a.y)return!1;var i=F(e,t,n[0]);return i!==F(e,t,n[1])||i!==F(e,t,n[2])||i!==F(e,t,n[3])}function Ro(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function Fo(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Bo(e,t,n,r,a){if(!t[0]&&!t[1])return e;var i=b.convert(t)._mult(a);"viewport"===n&&i._rotate(-r);for(var o=[],s=0;s<e.length;s++)o.push(e[s].sub(i));return o}Kr("CircleBucket",Co,{omit:["layers"]});var Zo={get paint(){return So=So||new Ra({"circle-radius":new Da(ue.paint_circle["circle-radius"]),"circle-color":new Da(ue.paint_circle["circle-color"]),"circle-blur":new Da(ue.paint_circle["circle-blur"]),"circle-opacity":new Da(ue.paint_circle["circle-opacity"]),"circle-translate":new Ma(ue.paint_circle["circle-translate"]),"circle-translate-anchor":new Ma(ue.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ma(ue.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ma(ue.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Da(ue.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Da(ue.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Da(ue.paint_circle["circle-stroke-opacity"])})},get layout(){return jo=jo||new Ra({"circle-sort-key":new Da(ue.layout_circle["circle-sort-key"])})}},Uo=1e-6,Vo="undefined"!=typeof Float32Array?Float32Array:Array;function qo(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ho(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],f=t[10],p=t[11],m=t[12],v=t[13],g=t[14],y=t[15],x=n[0],b=n[1],_=n[2],w=n[3];return e[0]=x*r+b*s+_*d+w*m,e[1]=x*a+b*l+_*h+w*v,e[2]=x*i+b*c+_*f+w*g,e[3]=x*o+b*u+_*p+w*y,e[4]=(x=n[4])*r+(b=n[5])*s+(_=n[6])*d+(w=n[7])*m,e[5]=x*a+b*l+_*h+w*v,e[6]=x*i+b*c+_*f+w*g,e[7]=x*o+b*u+_*p+w*y,e[8]=(x=n[8])*r+(b=n[9])*s+(_=n[10])*d+(w=n[11])*m,e[9]=x*a+b*l+_*h+w*v,e[10]=x*i+b*c+_*f+w*g,e[11]=x*o+b*u+_*p+w*y,e[12]=(x=n[12])*r+(b=n[13])*s+(_=n[14])*d+(w=n[15])*m,e[13]=x*a+b*l+_*h+w*v,e[14]=x*i+b*c+_*f+w*g,e[15]=x*o+b*u+_*p+w*y,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Wo,Yo=Ho;function Go(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,e}Wo=new Vo(4),Vo!=Float32Array&&(Wo[0]=0,Wo[1]=0,Wo[2]=0,Wo[3]=0);var Jo=function(e){v(n,e);var t=g(n);function n(e){return m(this,n),t.call(this,e,Zo)}return p(n,[{key:"createBucket",value:function(e){return new Co(e)}},{key:"queryRadius",value:function(e){var t=e;return Ro("circle-radius",this,t)+Ro("circle-stroke-width",this,t)+Fo(this.paint.get("circle-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,a,i,o,s){var l,c=Bo(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i.angle,o),u=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),d="map"===this.paint.get("circle-pitch-alignment"),h=d?c:function(e,t){return e.map((function(e){return Xo(e,t)}))}(c,s),p=d?u*o:u,m=f(r);try{for(m.s();!(l=m.n()).done;){var v,g=l.value,y=f(g);try{for(y.s();!(v=y.n()).done;){var x=v.value,b=d?x:Xo(x,s),_=p,w=Go([],[x.x,x.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=w[3]/i.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=i.cameraToCenterDistance/w[3]),Eo(h,b,_))return!0}}catch(k){y.e(k)}finally{y.f()}}}catch(k){m.e(k)}finally{m.f()}return!1}}]),n}(Ba);function Xo(e,t){var n=Go([],[e.x,e.y,0,1],t);return new b(n[0]/n[3],n[1]/n[3])}var Ko,$o=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(Co);Kr("HeatmapBucket",$o,{omit:["layers"]});var Qo={get paint(){return Ko=Ko||new Ra({"heatmap-radius":new Da(ue.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Da(ue.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ma(ue.paint_heatmap["heatmap-intensity"]),"heatmap-color":new za(ue.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ma(ue.paint_heatmap["heatmap-opacity"])})}};function es(e,t,n,r){var a=t.width,i=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==a*i*n)throw new RangeError("mismatched image size. expected: ".concat(r.length," but got: ").concat(a*i*n))}else r=new Uint8Array(a*i*n);return e.width=a,e.height=i,e.data=r,e}function ts(e,t,n){var r=t.width,a=t.height;if(r!==e.width||a!==e.height){var i=es({},{width:r,height:a},n);ns(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,a)},n),e.width=r,e.height=a,e.data=i.data}}function ns(e,t,n,r,a,i){if(0===a.width||0===a.height)return t;if(a.width>e.width||a.height>e.height||n.x>e.width-a.width||n.y>e.height-a.height)throw new RangeError("out of range source coordinates for image copy");if(a.width>t.width||a.height>t.height||r.x>t.width-a.width||r.y>t.height-a.height)throw new RangeError("out of range destination coordinates for image copy");var o=e.data,s=t.data;if(o===s)throw new Error("srcData equals dstData, so image is already copied");for(var l=0;l<a.height;l++)for(var c=((n.y+l)*e.width+n.x)*i,u=((r.y+l)*t.width+r.x)*i,d=0;d<a.width*i;d++)s[u+d]=o[c+d];return t}var rs=function(){function e(t,n){m(this,e),es(this,t,1,n)}return p(e,[{key:"resize",value:function(e){ts(this,e,1)}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,n,r,a){ns(e,t,n,r,a,1)}}]),e}(),as=function(){function e(t,n){m(this,e),es(this,t,4,n)}return p(e,[{key:"resize",value:function(e){ts(this,e,4)}},{key:"replace",value:function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,n,r,a){ns(e,t,n,r,a,4)}}]),e}();function is(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,a=e.image||new as({width:n,height:r});if(Math.log(n)/Math.LN2%1!=0)throw new Error("width is not a power of 2 - ".concat(n));var i=function(n,r,i){t[e.evaluationKey]=i;var o=e.expression.evaluate(t);a.data[n+r+0]=Math.floor(255*o.r/o.a),a.data[n+r+1]=Math.floor(255*o.g/o.a),a.data[n+r+2]=Math.floor(255*o.b/o.a),a.data[n+r+3]=Math.floor(255*o.a)};if(e.clips)for(var o=0,s=0;o<r;++o,s+=4*n)for(var l=0,c=0;l<n;l++,c+=4){var u=l/(n-1),d=e.clips[o];i(s,c,d.start*(1-u)+d.end*u)}else for(var h=0,f=0;h<n;h++,f+=4)i(0,f,h/(n-1));return a}Kr("AlphaImage",rs),Kr("RGBAImage",as);var os,ss=function(e){v(n,e);var t=g(n);function n(e){var r;return m(this,n),(r=t.call(this,e,Qo))._updateColorRamp(),r}return p(n,[{key:"createBucket",value:function(e){return new $o(e)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"heatmap-color"===e&&this._updateColorRamp()}},{key:"_updateColorRamp",value:function(){this.colorRamp=is({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}},{key:"resize",value:function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){return!1}},{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}]),n}(Ba),ls={get paint(){return os=os||new Ra({"hillshade-illumination-direction":new Ma(ue.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ma(ue.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ma(ue.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ma(ue.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ma(ue.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ma(ue.paint_hillshade["hillshade-accent-color"])})}},cs=function(e){v(n,e);var t=g(n);function n(e){return m(this,n),t.call(this,e,ls)}return p(n,[{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}]),n}(Ba),us=qa([{name:"a_pos",components:2,type:"Int16"}],4).members,ds={exports:{}};function hs(e,t,n){n=n||2;var r,a,i,o,s,l,c,u=t&&t.length,d=u?t[0]*n:e.length,h=fs(e,0,d,n,!0),f=[];if(!h||h.next===h.prev)return f;if(u&&(h=function(e,t,n,r){var a,i,o,s=[];for(a=0,i=t.length;a<i;a++)(o=fs(e,t[a]*r,a<i-1?t[a+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(js(o));for(s.sort(bs),a=0;a<s.length;a++)n=_s(s[a],n);return n}(e,t,h,n)),e.length>80*n){r=i=e[0],a=o=e[1];for(var p=n;p<d;p+=n)(s=e[p])<r&&(r=s),(l=e[p+1])<a&&(a=l),s>i&&(i=s),l>o&&(o=l);c=0!==(c=Math.max(i-r,o-a))?32767/c:0}return ms(h,f,n,r,a,c,0),f}function fs(e,t,n,r,a){var i,o;if(a===zs(e,t,n,r)>0)for(i=t;i<n;i+=r)o=Ds(i,e[i],e[i+1],o);else for(i=n-r;i>=t;i-=r)o=Ds(i,e[i],e[i+1],o);return o&&Es(o,o.next)&&(Ls(o),o=o.next),o}function ps(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Es(r,r.next)&&0!==Ns(r.prev,r,r.next))r=r.next;else{if(Ls(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function ms(e,t,n,r,a,i,o){if(e){!o&&i&&function(e,t,n,r){var a=e;do{0===a.z&&(a.z=ks(a.x,a.y,t,n,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,function(e){var t,n,r,a,i,o,s,l,c=1;do{for(n=e,e=null,i=null,o=0;n;){for(o++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(a=n,n=n.nextZ,s--):(a=r,r=r.nextZ,l--),i?i.nextZ=a:e=a,a.prevZ=i,i=a;n=r}i.nextZ=null,c*=2}while(o>1)}(a)}(e,r,a,i);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,i?gs(e,r,a,i):vs(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Ls(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?ms(e=ys(ps(e),t,n),t,n,r,a,i,2):2===o&&xs(e,t,n,r,a,i):ms(ps(e),t,n,r,a,i,1);break}}}function vs(e){var t=e.prev,n=e,r=e.next;if(Ns(t,n,r)>=0)return!1;for(var a=t.x,i=n.x,o=r.x,s=t.y,l=n.y,c=r.y,u=a<i?a<o?a:o:i<o?i:o,d=s<l?s<c?s:c:l<c?l:c,h=a>i?a>o?a:o:i>o?i:o,f=s>l?s>c?s:c:l>c?l:c,p=r.next;p!==t;){if(p.x>=u&&p.x<=h&&p.y>=d&&p.y<=f&&Ss(a,s,i,l,o,c,p.x,p.y)&&Ns(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function gs(e,t,n,r){var a=e.prev,i=e,o=e.next;if(Ns(a,i,o)>=0)return!1;for(var s=a.x,l=i.x,c=o.x,u=a.y,d=i.y,h=o.y,f=s<l?s<c?s:c:l<c?l:c,p=u<d?u<h?u:h:d<h?d:h,m=s>l?s>c?s:c:l>c?l:c,v=u>d?u>h?u:h:d>h?d:h,g=ks(f,p,t,n,r),y=ks(m,v,t,n,r),x=e.prevZ,b=e.nextZ;x&&x.z>=g&&b&&b.z<=y;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=v&&x!==a&&x!==o&&Ss(s,u,l,d,c,h,x.x,x.y)&&Ns(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,b.x>=f&&b.x<=m&&b.y>=p&&b.y<=v&&b!==a&&b!==o&&Ss(s,u,l,d,c,h,b.x,b.y)&&Ns(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;x&&x.z>=g;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=v&&x!==a&&x!==o&&Ss(s,u,l,d,c,h,x.x,x.y)&&Ns(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;b&&b.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=v&&b!==a&&b!==o&&Ss(s,u,l,d,c,h,b.x,b.y)&&Ns(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function ys(e,t,n){var r=e;do{var a=r.prev,i=r.next.next;!Es(a,i)&&Ts(a,r,r.next,i)&&Ps(a,i)&&Ps(i,a)&&(t.push(a.i/n|0),t.push(r.i/n|0),t.push(i.i/n|0),Ls(r),Ls(r.next),r=e=i),r=r.next}while(r!==e);return ps(r)}function xs(e,t,n,r,a,i){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Cs(o,s)){var l=Ms(o,s);return o=ps(o,o.next),l=ps(l,l.next),ms(o,t,n,r,a,i,0),void ms(l,t,n,r,a,i,0)}s=s.next}o=o.next}while(o!==e)}function bs(e,t){return e.x-t.x}function _s(e,t){var n=function(e,t){var n,r=t,a=e.x,i=e.y,o=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>o&&(o=s,n=r.x<r.next.x?r:r.next,s===a))return n}r=r.next}while(r!==t);if(!n)return null;var l,c=n,u=n.x,d=n.y,h=1/0;r=n;do{a>=r.x&&r.x>=u&&a!==r.x&&Ss(i<d?a:o,i,u,d,i<d?o:a,i,r.x,r.y)&&(l=Math.abs(i-r.y)/(a-r.x),Ps(r,e)&&(l<h||l===h&&(r.x>n.x||r.x===n.x&&ws(n,r)))&&(n=r,h=l)),r=r.next}while(r!==c);return n}(e,t);if(!n)return t;var r=Ms(n,e);return ps(r,r.next),ps(n,n.next)}function ws(e,t){return Ns(e.prev,e,t.prev)<0&&Ns(t.next,e,e.next)<0}function ks(e,t,n,r,a){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*a|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*a|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function js(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ss(e,t,n,r,a,i,o,s){return(a-o)*(t-s)>=(e-o)*(i-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(i-s)>=(a-o)*(r-s)}function Cs(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ts(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Ps(e,t)&&Ps(t,e)&&function(e,t){var n=e,r=!1,a=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&a<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Ns(e.prev,e,t.prev)||Ns(e,t.prev,t))||Es(e,t)&&Ns(e.prev,e,e.next)>0&&Ns(t.prev,t,t.next)>0)}function Ns(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Es(e,t){return e.x===t.x&&e.y===t.y}function Ts(e,t,n,r){var a=As(Ns(e,t,n)),i=As(Ns(e,t,r)),o=As(Ns(n,r,e)),s=As(Ns(n,r,t));return a!==i&&o!==s||!(0!==a||!Is(e,n,t))||!(0!==i||!Is(e,r,t))||!(0!==o||!Is(n,e,r))||!(0!==s||!Is(n,t,r))}function Is(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function As(e){return e>0?1:e<0?-1:0}function Ps(e,t){return Ns(e.prev,e,e.next)<0?Ns(e,t,e.next)>=0&&Ns(e,e.prev,t)>=0:Ns(e,t,e.prev)<0||Ns(e,e.next,t)<0}function Ms(e,t){var n=new Os(e.i,e.x,e.y),r=new Os(t.i,t.x,t.y),a=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=a,a.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function Ds(e,t,n,r){var a=new Os(e,t,n);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function Ls(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Os(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function zs(e,t,n,r){for(var a=0,i=t,o=n-r;i<n;i+=r)a+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return a}ds.exports=hs,ds.exports.default=hs,hs.deviation=function(e,t,n,r){var a=t&&t.length,i=Math.abs(zs(e,0,a?t[0]*n:e.length,n));if(a)for(var o=0,s=t.length;o<s;o++)i-=Math.abs(zs(e,t[o]*n,o<s-1?t[o+1]*n:e.length,n));var l=0;for(o=0;o<r.length;o+=3){var c=r[o]*n,u=r[o+1]*n,d=r[o+2]*n;l+=Math.abs((e[c]-e[d])*(e[u+1]-e[c+1])-(e[c]-e[u])*(e[d+1]-e[c+1]))}return 0===i&&0===l?0:Math.abs((l-i)/i)},hs.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,a=0;a<e.length;a++){for(var i=0;i<e[a].length;i++)for(var o=0;o<t;o++)n.vertices.push(e[a][i][o]);a>0&&n.holes.push(r+=e[a-1].length)}return n};var Rs=n(ds.exports);function Fs(e,t,n,r,a){Bs(e,t,n||0,r||e.length-1,a||Us)}function Bs(e,t,n,r,a){for(;r>n;){if(r-n>600){var i=r-n+1,o=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);Bs(e,t,Math.max(n,Math.floor(t-o*l/i+c)),Math.min(r,Math.floor(t+(i-o)*l/i+c)),a)}var u=e[t],d=n,h=r;for(Zs(e,n,t),a(e[r],u)>0&&Zs(e,n,r);d<h;){for(Zs(e,d,h),d++,h--;a(e[d],u)<0;)d++;for(;a(e[h],u)>0;)h--}0===a(e[n],u)?Zs(e,n,h):Zs(e,++h,r),h<=t&&(n=h+1),t<=h&&(r=h-1)}}function Zs(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Us(e,t){return e<t?-1:e>t?1:0}function Vs(e,t){var n=e.length;if(n<=1)return[e];for(var r,a,i=[],o=0;o<n;o++){var s=B(e[o]);0!==s&&(e[o].area=Math.abs(s),void 0===a&&(a=s<0),a===s<0?(r&&i.push(r),r=[e[o]]):r.push(e[o]))}if(r&&i.push(r),t>1)for(var l=0;l<i.length;l++)i[l].length<=t||(Fs(i[l],t,1,i[l].length-1,qs),i[l]=i[l].slice(0,t));return i}function qs(e,t){return t.area-e.area}function Hs(e,t,n){var r,a=n.patternDependencies,i=!1,o=f(t);try{for(o.s();!(r=o.n()).done;){var s=r.value.paint.get("".concat(e,"-pattern"));s.isConstant()||(i=!0);var l=s.constantOr(null);l&&(i=!0,a[l.to]=!0,a[l.from]=!0)}}catch(c){o.e(c)}finally{o.f()}return i}function Ws(e,t,n,r,a){var i,o=a.patternDependencies,s=f(t);try{for(s.s();!(i=s.n()).done;){var l=i.value,c=l.paint.get("".concat(e,"-pattern")).value;if("constant"!==c.kind){var u=c.evaluate({zoom:r-1},n,{},a.availableImages),d=c.evaluate({zoom:r},n,{},a.availableImages),h=c.evaluate({zoom:r+1},n,{},a.availableImages);u=u&&u.name?u.name:u,d=d&&d.name?d.name:d,h=h&&h.name?h.name:h,o[u]=!0,o[d]=!0,o[h]=!0,n.patterns[l.id]={min:u,mid:d,max:h}}}}catch(p){s.e(p)}finally{s.f()}return n}var Ys,Gs,Js=function(){function e(t){m(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ti,this.indexArray=new Fi,this.indexArray2=new Bi,this.programConfigurations=new mo(t.layers,t.zoom),this.segments=new Ui,this.segments2=new Ui,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return p(e,[{key:"populate",value:function(e,t,n){this.hasPattern=Hs("fill",this.layers,t);var r,a=this.layers[0].layout.get("fill-sort-key"),i=!a.isConstant(),o=[],s=f(e);try{for(s.s();!(r=s.n()).done;){var l=r.value,c=l.feature,u=l.id,d=l.index,h=l.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,m=wo(c,p);if(this.layers[0]._featureFilter.filter(new ja(this.zoom),m,n)){var v=i?a.evaluate(m,{},n,t.availableImages):void 0,g={id:u,properties:c.properties,type:c.type,sourceLayerIndex:h,index:d,geometry:p?m.geometry:_o(c),patterns:{},sortKey:v};o.push(g)}}}catch(S){s.e(S)}finally{s.f()}i&&o.sort((function(e,t){return e.sortKey-t.sortKey}));for(var y=0,x=o;y<x.length;y++){var b=x[y],_=b.geometry,w=b.index,k=b.sourceLayerIndex;if(this.hasPattern){var j=Ws("fill",this.layers,b,this.zoom,t);this.patternFeatures.push(j)}else this.addFeature(b,_,w,n,{});t.featureIndex.insert(e[w].feature,_,w,k,this.index)}}},{key:"update",value:function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}},{key:"addFeatures",value:function(e,t,n){var r,a=f(this.patternFeatures);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.addFeature(i,i.geometry,i.index,t,n)}}catch(o){a.e(o)}finally{a.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,us),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}},{key:"addFeature",value:function(e,t,n,r,a){var i,o=f(Vs(t,500));try{for(o.s();!(i=o.n()).done;){var s,l=i.value,c=0,u=f(l);try{for(u.s();!(s=u.n()).done;)c+=s.value.length}catch(j){u.e(j)}finally{u.f()}var d,h=this.segments.prepareSegment(c,this.layoutVertexArray,this.indexArray),p=h.vertexLength,m=[],v=[],g=f(l);try{for(g.s();!(d=g.n()).done;){var y=d.value;if(0!==y.length){y!==l[0]&&v.push(m.length/2);var x=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),b=x.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(b+y.length-1,b),m.push(y[0].x),m.push(y[0].y);for(var _=1;_<y.length;_++)this.layoutVertexArray.emplaceBack(y[_].x,y[_].y),this.indexArray2.emplaceBack(b+_-1,b+_),m.push(y[_].x),m.push(y[_].y);x.vertexLength+=y.length,x.primitiveLength+=y.length}}}catch(j){g.e(j)}finally{g.f()}for(var w=Rs(m,v),k=0;k<w.length;k+=3)this.indexArray.emplaceBack(p+w[k],p+w[k+1],p+w[k+2]);h.vertexLength+=c,h.primitiveLength+=w.length/3}}catch(j){o.e(j)}finally{o.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,a,r)}}]),e}();Kr("FillBucket",Js,{omit:["layers","patternFeatures"]});var Xs={get paint(){return Gs=Gs||new Ra({"fill-antialias":new Ma(ue.paint_fill["fill-antialias"]),"fill-opacity":new Da(ue.paint_fill["fill-opacity"]),"fill-color":new Da(ue.paint_fill["fill-color"]),"fill-outline-color":new Da(ue.paint_fill["fill-outline-color"]),"fill-translate":new Ma(ue.paint_fill["fill-translate"]),"fill-translate-anchor":new Ma(ue.paint_fill["fill-translate-anchor"]),"fill-pattern":new La(ue.paint_fill["fill-pattern"])})},get layout(){return Ys=Ys||new Ra({"fill-sort-key":new Da(ue.layout_fill["fill-sort-key"])})}},Ks=function(e){v(n,e);var t=g(n);function n(e){return m(this,n),t.call(this,e,Xs)}return p(n,[{key:"recalculate",value:function(e,t){i(o(n.prototype),"recalculate",this).call(this,e,t);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}},{key:"createBucket",value:function(e){return new Js(e)}},{key:"queryRadius",value:function(){return Fo(this.paint.get("fill-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,a,i,o){return To(Bo(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i.angle,o),r)}},{key:"isTileClipped",value:function(){return!0}}]),n}(Ba),$s=qa([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Qs=qa([{name:"a_centroid",components:2,type:"Int16"}],4),el=$s.members,tl={},nl=r,rl=al;function al(e,t,n,r,a){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=a,e.readFields(il,this,t)}function il(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],a=t._values[e.readVarint()];t.properties[r]=a}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function ol(e){for(var t,n,r=0,a=0,i=e.length,o=i-1;a<i;o=a++)r+=((n=e[o]).x-(t=e[a]).x)*(t.y+n.y);return r}al.types=["Unknown","Point","LineString","Polygon"],al.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,a=0,i=0,o=0,s=[];e.pos<n;){if(a<=0){var l=e.readVarint();r=7&l,a=l>>3}if(a--,1===r||2===r)i+=e.readSVarint(),o+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new nl(i,o));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},al.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,a=0,i=0,o=1/0,s=-1/0,l=1/0,c=-1/0;e.pos<t;){if(r<=0){var u=e.readVarint();n=7&u,r=u>>3}if(r--,1===n||2===n)(a+=e.readSVarint())<o&&(o=a),a>s&&(s=a),(i+=e.readSVarint())<l&&(l=i),i>c&&(c=i);else if(7!==n)throw new Error("unknown command "+n)}return[o,l,s,c]},al.prototype.toGeoJSON=function(e,t,n){var r,a,i=this.extent*Math.pow(2,n),o=this.extent*e,s=this.extent*t,l=this.loadGeometry(),c=al.types[this.type];function u(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+o)/i-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/i)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(r=0;r<l.length;r++)d[r]=l[r][0];u(l=d);break;case 2:for(r=0;r<l.length;r++)u(l[r]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,a=[],i=0;i<t;i++){var o=ol(e[i]);0!==o&&(void 0===r&&(r=o<0),r===o<0?(n&&a.push(n),n=[e[i]]):n.push(e[i]))}return n&&a.push(n),a}(l),r=0;r<l.length;r++)for(a=0;a<l[r].length;a++)u(l[r][a])}1===l.length?l=l[0]:c="Multi"+c;var h={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var sl=rl,ll=cl;function cl(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(ul,this,t),this.length=this._features.length}function ul(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}cl.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new sl(this._pbf,t,this.extent,this._keys,this._values)};var dl=ll;function hl(e,t,n){if(3===e){var r=new dl(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}tl.VectorTile=function(e,t){this.layers=e.readFields(hl,{},t)},tl.VectorTileFeature=rl,tl.VectorTileLayer=ll;var fl=tl.VectorTileFeature.types,pl=Math.pow(2,13);function ml(e,t,n,r,a,i,o,s){e.emplaceBack(t,n,2*Math.floor(r*pl)+o,a*pl*2,i*pl*2,Math.round(s))}var vl,gl=function(){function e(t){m(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ii,this.centroidVertexArray=new Ni,this.indexArray=new Fi,this.programConfigurations=new mo(t.layers,t.zoom),this.segments=new Ui,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return p(e,[{key:"populate",value:function(e,t,n){this.features=[],this.hasPattern=Hs("fill-extrusion",this.layers,t);var r,a=f(e);try{for(a.s();!(r=a.n()).done;){var i=r.value,o=i.feature,s=i.id,l=i.index,c=i.sourceLayerIndex,u=this.layers[0]._featureFilter.needGeometry,d=wo(o,u);if(this.layers[0]._featureFilter.filter(new ja(this.zoom),d,n)){var h={id:s,sourceLayerIndex:c,index:l,geometry:u?d.geometry:_o(o),properties:o.properties,type:o.type,patterns:{}};this.hasPattern?this.features.push(Ws("fill-extrusion",this.layers,h,this.zoom,t)):this.addFeature(h,h.geometry,l,n,{}),t.featureIndex.insert(o,h.geometry,l,c,this.index,!0)}}}catch(p){a.e(p)}finally{a.f()}}},{key:"addFeatures",value:function(e,t,n){var r,a=f(this.features);try{for(a.s();!(r=a.n()).done;){var i=r.value,o=i.geometry;this.addFeature(i,o,i.index,t,n)}}catch(s){a.e(s)}finally{a.f()}}},{key:"update",value:function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,el),this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Qs.members,!0),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}},{key:"addFeature",value:function(e,t,n,r,a){var i,o={x:0,y:0,vertexCount:0},s=f(Vs(t,500));try{for(s.s();!(i=s.n()).done;){var l,c=i.value,u=0,d=f(c);try{for(d.s();!(l=d.n()).done;)u+=l.value.length}catch(L){d.e(L)}finally{d.f()}var h,p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),m=f(c);try{for(m.s();!(h=m.n()).done;){var v=h.value;if(0!==v.length&&!xl(v))for(var g=0,y=0;y<v.length;y++){var x=v[y];if(y>=1){var b=v[y-1];if(!yl(x,b)){p.vertexLength+4>Ui.MAX_VERTEX_ARRAY_LENGTH&&(p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _=x.sub(b)._perp()._unit(),w=b.dist(x);g+w>32768&&(g=0),ml(this.layoutVertexArray,x.x,x.y,_.x,_.y,0,0,g),ml(this.layoutVertexArray,x.x,x.y,_.x,_.y,0,1,g),o.x+=2*x.x,o.y+=2*x.y,o.vertexCount+=2,g+=w,ml(this.layoutVertexArray,b.x,b.y,_.x,_.y,0,0,g),ml(this.layoutVertexArray,b.x,b.y,_.x,_.y,0,1,g),o.x+=2*b.x,o.y+=2*b.y,o.vertexCount+=2;var k=p.vertexLength;this.indexArray.emplaceBack(k,k+2,k+1),this.indexArray.emplaceBack(k+1,k+2,k+3),p.vertexLength+=4,p.primitiveLength+=2}}}}}catch(L){m.e(L)}finally{m.f()}if(p.vertexLength+u>Ui.MAX_VERTEX_ARRAY_LENGTH&&(p=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray)),"Polygon"===fl[e.type]){var j,S=[],C=[],N=p.vertexLength,E=f(c);try{for(E.s();!(j=E.n()).done;){var T=j.value;if(0!==T.length){T!==c[0]&&C.push(S.length/2);for(var I=0;I<T.length;I++){var A=T[I];ml(this.layoutVertexArray,A.x,A.y,0,0,1,1,0),o.x+=A.x,o.y+=A.y,o.vertexCount+=1,S.push(A.x),S.push(A.y)}}}}catch(L){E.e(L)}finally{E.f()}for(var P=Rs(S,C),M=0;M<P.length;M+=3)this.indexArray.emplaceBack(N+P[M],N+P[M+2],N+P[M+1]);p.primitiveLength+=P.length/3,p.vertexLength+=u}}}catch(L){s.e(L)}finally{s.f()}for(var D=0;D<o.vertexCount;D++)this.centroidVertexArray.emplaceBack(Math.floor(o.x/o.vertexCount),Math.floor(o.y/o.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,a,r)}}]),e}();function yl(e,t){return e.x===t.x&&(e.x<0||e.x>yo)||e.y===t.y&&(e.y<0||e.y>yo)}function xl(e){return e.every((function(e){return e.x<0}))||e.every((function(e){return e.x>yo}))||e.every((function(e){return e.y<0}))||e.every((function(e){return e.y>yo}))}Kr("FillExtrusionBucket",gl,{omit:["layers","features"]});var bl={get paint(){return vl=vl||new Ra({"fill-extrusion-opacity":new Ma(ue["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Da(ue["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ma(ue["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ma(ue["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new La(ue["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Da(ue["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Da(ue["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ma(ue["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}},_l=function(e){v(n,e);var t=g(n);function n(e){return m(this,n),t.call(this,e,bl)}return p(n,[{key:"createBucket",value:function(e){return new gl(e)}},{key:"queryRadius",value:function(){return Fo(this.paint.get("fill-extrusion-translate"))}},{key:"is3D",value:function(){return!0}},{key:"queryIntersectsFeature",value:function(e,t,n,r,a,i,o,s){var l=Bo(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),i.angle,o),c=this.paint.get("fill-extrusion-height").evaluate(t,n),u=this.paint.get("fill-extrusion-base").evaluate(t,n),d=function(e,t,n,r){var a,i=[],o=f(e);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=[s.x,s.y,0,1];Go(l,l,t),i.push(new b(l[0]/l[3],l[1]/l[3]))}}catch(c){o.e(c)}finally{o.f()}return i}(l,s),h=function(e,t,n,r){var a,i=[],o=[],s=r[8]*t,l=r[9]*t,c=r[10]*t,u=r[11]*t,d=r[8]*n,h=r[9]*n,p=r[10]*n,m=r[11]*n,v=f(e);try{for(v.s();!(a=v.n()).done;){var g,y=a.value,x=[],_=[],w=f(y);try{for(w.s();!(g=w.n()).done;){var k=g.value,j=k.x,S=k.y,C=r[0]*j+r[4]*S+r[12],N=r[1]*j+r[5]*S+r[13],E=r[2]*j+r[6]*S+r[14],T=r[3]*j+r[7]*S+r[15],I=E+c,A=T+u,P=C+d,M=N+h,D=E+p,L=T+m,O=new b((C+s)/A,(N+l)/A);O.z=I/A,x.push(O);var z=new b(P/L,M/L);z.z=D/L,_.push(z)}}catch(R){w.e(R)}finally{w.f()}i.push(x),o.push(_)}}catch(R){v.e(R)}finally{v.f()}return[i,o]}(r,u,c,s);return function(e,t,n){var r=1/0;To(n,t)&&(r=kl(n,t[0]));for(var a=0;a<t.length;a++)for(var i=t[a],o=e[a],s=0;s<i.length-1;s++){var l=i[s],c=[l,i[s+1],o[s+1],o[s],l];No(n,c)&&(r=Math.min(r,kl(n,c)))}return r!==1/0&&r}(h[0],h[1],d)}}]),n}(Ba);function wl(e,t){return e.x*t.x+e.y*t.y}function kl(e,t){if(1===e.length){for(var n,r=0,a=t[r++];!n||a.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var i=t[r],o=e[0],s=n.sub(a),l=i.sub(a),c=o.sub(a),u=wl(s,s),d=wl(s,l),h=wl(l,l),p=wl(c,s),m=wl(c,l),v=u*h-d*d,g=(h*p-d*m)/v,y=(u*m-d*p)/v,x=a.z*(1-g-y)+n.z*g+i.z*y;if(isFinite(x))return x}return 1/0}var b,_=1/0,w=f(t);try{for(w.s();!(b=w.n()).done;){var k=b.value;_=Math.min(_,k.z)}}catch(j){w.e(j)}finally{w.f()}return _}var jl,Sl,Cl=qa([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Nl=qa([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,El=tl.VectorTileFeature.types,Tl=Math.cos(Math.PI/180*37.5),Il=Math.pow(2,14)/.5,Al=function(){function e(t){var n=this;m(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){n.gradients[e.id]={}})),this.layoutVertexArray=new Ai,this.layoutVertexArray2=new Pi,this.indexArray=new Fi,this.programConfigurations=new mo(t.layers,t.zoom),this.segments=new Ui,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return p(e,[{key:"populate",value:function(e,t,n){this.hasPattern=Hs("line",this.layers,t);var r,a=this.layers[0].layout.get("line-sort-key"),i=!a.isConstant(),o=[],s=f(e);try{for(s.s();!(r=s.n()).done;){var l=r.value,c=l.feature,u=l.id,d=l.index,h=l.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,m=wo(c,p);if(this.layers[0]._featureFilter.filter(new ja(this.zoom),m,n)){var v=i?a.evaluate(m,{},n):void 0,g={id:u,properties:c.properties,type:c.type,sourceLayerIndex:h,index:d,geometry:p?m.geometry:_o(c),patterns:{},sortKey:v};o.push(g)}}}catch(S){s.e(S)}finally{s.f()}i&&o.sort((function(e,t){return e.sortKey-t.sortKey}));for(var y=0,x=o;y<x.length;y++){var b=x[y],_=b.geometry,w=b.index,k=b.sourceLayerIndex;if(this.hasPattern){var j=Ws("line",this.layers,b,this.zoom,t);this.patternFeatures.push(j)}else this.addFeature(b,_,w,n,{});t.featureIndex.insert(e[w].feature,_,w,k,this.index)}}},{key:"update",value:function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}},{key:"addFeatures",value:function(e,t,n){var r,a=f(this.patternFeatures);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.addFeature(i,i.geometry,i.index,t,n)}}catch(o){a.e(o)}finally{a.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Nl)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Cl),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"lineFeatureClips",value:function(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}},{key:"addFeature",value:function(e,t,n,r,a){var i=this.layers[0].layout,o=i.get("line-join").evaluate(e,{}),s=i.get("line-cap"),l=i.get("line-miter-limit"),c=i.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);var u,d=f(t);try{for(d.s();!(u=d.n()).done;){var h=u.value;this.addLine(h,e,o,s,l,c)}}catch(p){d.e(p)}finally{d.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,a,r)}},{key:"addLine",value:function(e,t,n,r,a,i){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var o=0;o<e.length-1;o++)this.totalDistance+=e[o].dist(e[o+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===El[t.type],l=e.length;l>=2&&e[l-1].equals(e[l-2]);)l--;for(var c=0;c<l-1&&e[c].equals(e[c+1]);)c++;if(!(l<(s?3:2))){"bevel"===n&&(a=1.05);var u,d,h,f,p,m=this.overscaling<=16?15*yo/(512*this.overscaling):0,v=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray);this.e1=this.e2=-1,s&&(u=e[l-2],p=e[c].sub(u)._unit()._perp());for(var g=c;g<l;g++)if(!(h=g===l-1?s?e[c+1]:void 0:e[g+1])||!e[g].equals(h)){p&&(f=p),u&&(d=u),u=e[g],p=h?h.sub(u)._unit()._perp():f;var y=(f=f||p).add(p);0===y.x&&0===y.y||y._unit();var x=f.x*p.x+f.y*p.y,b=y.x*p.x+y.y*p.y,_=0!==b?1/b:1/0,w=2*Math.sqrt(2-2*b),k=b<Tl&&d&&h,j=f.x*p.y-f.y*p.x>0;if(k&&g>c){var S=u.dist(d);if(S>2*m){var C=u.sub(u.sub(d)._mult(m/S)._round());this.updateDistance(d,C),this.addCurrentVertex(C,f,0,0,v),d=C}}var N=d&&h,E=N?n:s?"butt":r;if(N&&"round"===E&&(_<i?E="miter":_<=2&&(E="fakeround")),"miter"===E&&_>a&&(E="bevel"),"bevel"===E&&(_>2&&(E="flipbevel"),_<a&&(E="miter")),d&&this.updateDistance(d,u),"miter"===E)y._mult(_),this.addCurrentVertex(u,y,0,0,v);else if("flipbevel"===E){if(_>100)y=p.mult(-1);else{var T=_*f.add(p).mag()/f.sub(p).mag();y._perp()._mult(T*(j?-1:1))}this.addCurrentVertex(u,y,0,0,v),this.addCurrentVertex(u,y.mult(-1),0,0,v)}else if("bevel"===E||"fakeround"===E){var I=-Math.sqrt(_*_-1),A=j?I:0,P=j?0:I;if(d&&this.addCurrentVertex(u,f,A,P,v),"fakeround"===E)for(var M=Math.round(180*w/Math.PI/20),D=1;D<M;D++){var L=D/M;if(.5!==L){var O=L-.5;L+=L*O*(L-1)*((1.0904+x*(x*(3.55645-1.43519*x)-3.2452))*O*O+(.848013+x*(.215638*x-1.06021)))}var z=p.sub(f)._mult(L)._add(f)._unit()._mult(j?-1:1);this.addHalfVertex(u,z.x,z.y,!1,j,0,v)}h&&this.addCurrentVertex(u,p,-A,-P,v)}else if("butt"===E)this.addCurrentVertex(u,y,0,0,v);else if("square"===E){var R=d?1:-1;this.addCurrentVertex(u,y,R,R,v)}else"round"===E&&(d&&(this.addCurrentVertex(u,f,0,0,v),this.addCurrentVertex(u,f,1,1,v,!0)),h&&(this.addCurrentVertex(u,p,-1,-1,v,!0),this.addCurrentVertex(u,p,0,0,v)));if(k&&g<l-1){var F=u.dist(h);if(F>2*m){var B=u.add(h.sub(u)._mult(m/F)._round());this.updateDistance(u,B),this.addCurrentVertex(B,p,0,0,v),u=B}}}}}},{key:"addCurrentVertex",value:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,i,!1,n,a),this.addHalfVertex(e,o,s,i,!0,-r,a),this.distance>Il/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(e,t,n,r,a,i))}},{key:"addHalfVertex",value:function(e,t,n,r,a,i,o){var s=e.x,l=e.y,c=.5*(this.lineClips?this.scaledDistance*(Il-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s<<1)+(r?1:0),(l<<1)+(a?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===i?0:i<0?-1:1)|(63&c)<<2,c>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var u=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),o.primitiveLength++),a?this.e2=u:this.e1=u}},{key:"updateScaledDistance",value:function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}},{key:"updateDistance",value:function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}]),e}();Kr("LineBucket",Al,{omit:["layers","patternFeatures"]});var Pl,Ml={get paint(){return Sl=Sl||new Ra({"line-opacity":new Da(ue.paint_line["line-opacity"]),"line-color":new Da(ue.paint_line["line-color"]),"line-translate":new Ma(ue.paint_line["line-translate"]),"line-translate-anchor":new Ma(ue.paint_line["line-translate-anchor"]),"line-width":new Da(ue.paint_line["line-width"]),"line-gap-width":new Da(ue.paint_line["line-gap-width"]),"line-offset":new Da(ue.paint_line["line-offset"]),"line-blur":new Da(ue.paint_line["line-blur"]),"line-dasharray":new Oa(ue.paint_line["line-dasharray"]),"line-pattern":new La(ue.paint_line["line-pattern"]),"line-gradient":new za(ue.paint_line["line-gradient"])})},get layout(){return jl=jl||new Ra({"line-cap":new Ma(ue.layout_line["line-cap"]),"line-join":new Da(ue.layout_line["line-join"]),"line-miter-limit":new Ma(ue.layout_line["line-miter-limit"]),"line-round-limit":new Ma(ue.layout_line["line-round-limit"]),"line-sort-key":new Da(ue.layout_line["line-sort-key"])})}},Dl=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"possiblyEvaluate",value:function(e,t){return t=new ja(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),i(o(n.prototype),"possiblyEvaluate",this).call(this,e,t)}},{key:"evaluate",value:function(e,t,r,a){return t=P({},t,{zoom:Math.floor(t.zoom)}),i(o(n.prototype),"evaluate",this).call(this,e,t,r,a)}}]),n}(Da),Ll=function(e){v(n,e);var t=g(n);function n(e){var r;return m(this,n),(r=t.call(this,e,Ml)).gradientVersion=0,Pl||((Pl=new Dl(Ml.paint.properties["line-width"].specification)).useIntegerZoom=!0),r}return p(n,[{key:"_handleSpecialPaintPropertyUpdate",value:function(e){if("line-gradient"===e){var t=this.gradientExpression();this.stepInterpolant=!!function(e){return void 0!==e._styleExpression}(t)&&t._styleExpression.expression instanceof rn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}},{key:"gradientExpression",value:function(){return this._transitionablePaint._values["line-gradient"].value.expression}},{key:"recalculate",value:function(e,t){i(o(n.prototype),"recalculate",this).call(this,e,t),this.paint._values["line-floorwidth"]=Pl.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}},{key:"createBucket",value:function(e){return new Al(e)}},{key:"queryRadius",value:function(e){var t=e,n=Ol(Ro("line-width",this,t),Ro("line-gap-width",this,t)),r=Ro("line-offset",this,t);return n/2+Math.abs(r)+Fo(this.paint.get("line-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,a,i,o){var s=Bo(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),i.angle,o),l=o/2*Ol(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),c=this.paint.get("line-offset").evaluate(t,n);return c&&(r=function(e,t){for(var n=[],r=0;r<e.length;r++){for(var a=e[r],i=[],o=0;o<a.length;o++){var s=a[o-1],l=a[o],c=a[o+1],u=0===o?new b(0,0):l.sub(s)._unit()._perp(),d=o===a.length-1?new b(0,0):c.sub(l)._unit()._perp(),h=u._add(d)._unit(),f=h.x*d.x+h.y*d.y;0!==f&&h._mult(1/f),i.push(h._mult(t)._add(l))}n.push(i)}return n}(r,c*o)),function(e,t,n){for(var r=0;r<t.length;r++){var a=t[r];if(e.length>=3)for(var i=0;i<a.length;i++)if(Oo(e,a[i]))return!0;if(Io(e,a,n))return!0}return!1}(s,r,l)}},{key:"isTileClipped",value:function(){return!0}}]),n}(Ba);function Ol(e,t){return t>0?t+2*e:e}var zl=qa([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Rl=qa([{name:"a_projected_pos",components:3,type:"Float32"}],4);qa([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var Fl=qa([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);qa([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var Bl=qa([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Zl=qa([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Ul(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),ka.applyArabicShaping&&(e=ka.applyArabicShaping(e)),e}(e.text,t,n)})),e}qa([{name:"triangle",components:3,type:"Uint16"}]),qa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),qa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),qa([{type:"Float32",name:"offsetX"}]),qa([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),qa([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);var Vl={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},ql=24,Hl=Gl,Wl=function(e,t,n,r,a){var i,o,s=8*a-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?a-1:0,h=n?-1:1,f=e[t+d];for(d+=h,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=h,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===i)i=1-c;else{if(i===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),i-=c}return(f?-1:1)*o*Math.pow(2,i-r)},Yl=function(e,t,n,r,a,i){var o,s,l,c=8*i-a-1,u=(1<<c)-1,d=u>>1,h=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[n+f]=255&s,f+=p,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;e[n+f]=255&o,f+=p,o/=256,c-=8);e[n+f-p]|=128*m};function Gl(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Gl.Varint=0,Gl.Fixed64=1,Gl.Bytes=2,Gl.Fixed32=5;var Jl=4294967296,Xl=1/Jl,Kl="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function $l(e){return e.type===Gl.Bytes?e.readVarint()+e.pos:e.pos+1}function Ql(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function ec(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var a=n.pos-1;a>=e;a--)n.buf[a+r]=n.buf[a]}function tc(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function nc(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function rc(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function ac(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function ic(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function oc(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function sc(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function lc(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function cc(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function uc(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function dc(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function hc(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}Gl.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),a=r>>3,i=this.pos;this.type=7&r,e(a,t,this),this.pos===i&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=uc(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=hc(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=uc(this.buf,this.pos)+uc(this.buf,this.pos+4)*Jl;return this.pos+=8,e},readSFixed64:function(){var e=uc(this.buf,this.pos)+hc(this.buf,this.pos+4)*Jl;return this.pos+=8,e},readFloat:function(){var e=Wl(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Wl(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,a,i=n.buf;if(r=(112&(a=i[n.pos++]))>>4,a<128)return Ql(e,r,t);if(r|=(127&(a=i[n.pos++]))<<3,a<128)return Ql(e,r,t);if(r|=(127&(a=i[n.pos++]))<<10,a<128)return Ql(e,r,t);if(r|=(127&(a=i[n.pos++]))<<17,a<128)return Ql(e,r,t);if(r|=(127&(a=i[n.pos++]))<<24,a<128)return Ql(e,r,t);if(r|=(1&(a=i[n.pos++]))<<31,a<128)return Ql(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Kl?function(e,t,n){return Kl.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",a=t;a<n;){var i,o,s,l=e[a],c=null,u=l>239?4:l>223?3:l>191?2:1;if(a+u>n)break;1===u?l<128&&(c=l):2===u?128==(192&(i=e[a+1]))&&(c=(31&l)<<6|63&i)<=127&&(c=null):3===u?(o=e[a+2],128==(192&(i=e[a+1]))&&128==(192&o)&&((c=(15&l)<<12|(63&i)<<6|63&o)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(o=e[a+2],s=e[a+3],128==(192&(i=e[a+1]))&&128==(192&o)&&128==(192&s)&&((c=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),a+=u}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Gl.Bytes)return e.push(this.readVarint(t));var n=$l(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Gl.Bytes)return e.push(this.readSVarint());var t=$l(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Gl.Bytes)return e.push(this.readBoolean());var t=$l(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Gl.Bytes)return e.push(this.readFloat());var t=$l(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Gl.Bytes)return e.push(this.readDouble());var t=$l(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Gl.Bytes)return e.push(this.readFixed32());var t=$l(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Gl.Bytes)return e.push(this.readSFixed32());var t=$l(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Gl.Bytes)return e.push(this.readFixed64());var t=$l(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Gl.Bytes)return e.push(this.readSFixed64());var t=$l(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Gl.Varint)for(;this.buf[this.pos++]>127;);else if(t===Gl.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Gl.Fixed32)this.pos+=4;else{if(t!==Gl.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),dc(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),dc(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),dc(this.buf,-1&e,this.pos),dc(this.buf,Math.floor(e*Xl),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),dc(this.buf,-1&e,this.pos),dc(this.buf,Math.floor(e*Xl),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,a,i=0;i<t.length;i++){if((r=t.charCodeAt(i))>55295&&r<57344){if(!a){r>56319||i+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):a=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,a=r;continue}r=a-55296<<10|r-56320|65536,a=null}else a&&(e[n++]=239,e[n++]=191,e[n++]=189,a=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&ec(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Yl(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Yl(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&ec(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,Gl.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,tc,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,nc,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,ic,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,rc,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,ac,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,oc,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,sc,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,lc,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,cc,t)},writeBytesField:function(e,t){this.writeTag(e,Gl.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Gl.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Gl.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Gl.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Gl.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Gl.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Gl.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Gl.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Gl.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Gl.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var fc=n(Hl),pc=3;function mc(e,t,n){1===e&&n.readMessage(vc,t)}function vc(e,t,n){if(3===e){var r=n.readMessage(gc,{}),a=r.id,i=r.bitmap,o=r.width,s=r.height,l=r.left,c=r.top,u=r.advance;t.push({id:a,bitmap:new rs({width:o+2*pc,height:s+2*pc},i),metrics:{width:o,height:s,left:l,top:c,advance:u}})}}function gc(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}var yc=pc;function xc(e){var t,n=0,r=0,a=f(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n+=i.w*i.h,r=Math.max(r,i.w)}}catch(v){a.e(v)}finally{a.f()}e.sort((function(e,t){return t.h-e.h}));var o,s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),r),h:1/0}],l=0,c=0,u=f(e);try{for(u.s();!(o=u.n()).done;)for(var d=o.value,h=s.length-1;h>=0;h--){var p=s[h];if(!(d.w>p.w||d.h>p.h)){if(d.x=p.x,d.y=p.y,c=Math.max(c,d.y+d.h),l=Math.max(l,d.x+d.w),d.w===p.w&&d.h===p.h){var m=s.pop();h<s.length&&(s[h]=m)}else d.h===p.h?(p.x+=d.w,p.w-=d.w):d.w===p.w?(p.y+=d.h,p.h-=d.h):(s.push({x:p.x+d.w,y:p.y,w:p.w-d.w,h:d.h}),p.y+=d.h,p.h-=d.h);break}}}catch(v){u.e(v)}finally{u.f()}return{w:l,h:c,fill:n/(l*c)||0}}var bc,_c=1,wc=function(){function e(t,n){var r=n.pixelRatio,a=n.version,i=n.stretchX,o=n.stretchY,s=n.content;m(this,e),this.paddedRect=t,this.pixelRatio=r,this.stretchX=i,this.stretchY=o,this.content=s,this.version=a}return p(e,[{key:"tl",get:function(){return[this.paddedRect.x+_c,this.paddedRect.y+_c]}},{key:"br",get:function(){return[this.paddedRect.x+this.paddedRect.w-_c,this.paddedRect.y+this.paddedRect.h-_c]}},{key:"tlbr",get:function(){return this.tl.concat(this.br)}},{key:"displaySize",get:function(){return[(this.paddedRect.w-2*_c)/this.pixelRatio,(this.paddedRect.h-2*_c)/this.pixelRatio]}}]),e}(),kc=function(){function e(t,n){m(this,e);var r={},a={};this.haveRenderCallbacks=[];var i=[];this.addImages(t,r,i),this.addImages(n,a,i);var o=xc(i),s=o.w,l=o.h,c=new as({width:s||1,height:l||1});for(var u in t){var d=t[u],h=r[u].paddedRect;as.copy(d.data,c,{x:0,y:0},{x:h.x+_c,y:h.y+_c},d.data)}for(var f in n){var p=n[f],v=a[f].paddedRect,g=v.x+_c,y=v.y+_c,x=p.data.width,b=p.data.height;as.copy(p.data,c,{x:0,y:0},{x:g,y:y},p.data),as.copy(p.data,c,{x:0,y:b-1},{x:g,y:y-1},{width:x,height:1}),as.copy(p.data,c,{x:0,y:0},{x:g,y:y+b},{width:x,height:1}),as.copy(p.data,c,{x:x-1,y:0},{x:g-1,y:y},{width:1,height:b}),as.copy(p.data,c,{x:0,y:0},{x:g+x,y:y},{width:1,height:b})}this.image=c,this.iconPositions=r,this.patternPositions=a}return p(e,[{key:"addImages",value:function(e,t,n){for(var r in e){var a=e[r],i={x:0,y:0,w:a.data.width+2*_c,h:a.data.height+2*_c};n.push(i),t[r]=new wc(i,a),a.hasRenderCallback&&this.haveRenderCallbacks.push(r)}}},{key:"patchUpdatedImages",value:function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}},{key:"patchUpdatedImage",value:function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=h(e.tl,2),a=r[0],i=r[1];n.update(t.data,void 0,{x:a,y:i})}}}]),e}();Kr("ImagePosition",wc),Kr("ImageAtlas",kc),e.ai=void 0,(bc=e.ai||(e.ai={}))[bc.none=0]="none",bc[bc.horizontal=1]="horizontal",bc[bc.vertical=2]="vertical",bc[bc.horizontalOnly=3]="horizontalOnly";var jc=-17,Sc=function(){function e(){m(this,e),this.scale=1,this.fontStack="",this.imageName=null}return p(e,null,[{key:"forText",value:function(t,n){var r=new e;return r.scale=t||1,r.fontStack=n,r}},{key:"forImage",value:function(t){var n=new e;return n.imageName=t,n}}]),e}(),Cc=function(){function e(){m(this,e),this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}return p(e,[{key:"length",value:function(){return this.text.length}},{key:"getSection",value:function(e){return this.sections[this.sectionIndex[e]]}},{key:"getSectionIndex",value:function(e){return this.sectionIndex[e]}},{key:"getCharCode",value:function(e){return this.text.charCodeAt(e)}},{key:"verticalizePunctuation",value:function(){this.text=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,a=e.charCodeAt(n-1)||null;t+=r&&la(r)&&!Vl[e[n+1]]||a&&la(a)&&!Vl[e[n-1]]||!Vl[e[n]]?e[n]:Vl[e[n]]}return t}(this.text)}},{key:"trim",value:function(){for(var e=0,t=0;t<this.text.length&&Ec[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&Ec[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)}},{key:"substring",value:function(t,n){var r=new e;return r.text=this.text.substring(t,n),r.sectionIndex=this.sectionIndex.slice(t,n),r.sections=this.sections,r}},{key:"toString",value:function(){return this.text}},{key:"getMaxScale",value:function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)}},{key:"addTextSection",value:function(e,t){this.text+=e.text,this.sections.push(Sc.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)}},{key:"addImageSection",value:function(e){var t=e.image?e.image.name:"";if(0!==t.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Sc.forImage(t)),this.sectionIndex.push(this.sections.length-1)):R("Reached maximum number of images 6401")}else R("Can't add FormattedSection with an empty image.")}},{key:"getNextImageSectionCharCode",value:function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}],[{key:"fromFeature",value:function(t,n){for(var r=new e,a=0;a<t.sections.length;a++){var i=t.sections[a];i.image?r.addImageSection(i):r.addTextSection(i,n)}return r}}]),e}();function Nc(t,n,r,a,i,o,s,l,c,u,d,h,p,m,v,g){var y,x=Cc.fromFeature(t,i);h===e.ai.vertical&&x.verticalizePunctuation();var b=ka.processBidirectionalText,_=ka.processStyledBidirectionalText;if(b&&1===x.sections.length){y=[];var w,k=b(x.toString(),Lc(x,u,o,n,a,m,v)),j=f(k);try{for(j.s();!(w=j.n()).done;){var S=w.value,C=new Cc;C.text=S,C.sections=x.sections;for(var N=0;N<S.length;N++)C.sectionIndex.push(0);y.push(C)}}catch(L){j.e(L)}finally{j.f()}}else if(_){y=[];var E,T=_(x.text,x.sectionIndex,Lc(x,u,o,n,a,m,v)),I=f(T);try{for(I.s();!(E=I.n()).done;){var A=E.value,P=new Cc;P.text=A[0],P.sectionIndex=A[1],P.sections=x.sections,y.push(P)}}catch(L){I.e(L)}finally{I.f()}}else y=function(e,t){var n,r=[],a=e.text,i=0,o=f(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.push(e.substring(i,s)),i=s}}catch(L){o.e(L)}finally{o.f()}return i<a.length&&r.push(e.substring(i,a.length)),r}(x,Lc(x,u,o,n,a,m,v));var M=[],D={positionedLines:M,text:x.toString(),top:d[1],bottom:d[1],left:d[0],right:d[0],writingMode:h,iconsInText:!1,verticalizable:!1};return function(t,n,r,a,i,o,s,l,c,u,d,h){var p,m,v=0,g=jc,y=0,x=0,b="right"===l?1:"left"===l?0:.5,_=0,w=f(i);try{for(w.s();!(p=w.n()).done;){var k=p.value;k.trim();var j=k.getMaxScale(),S=(j-1)*ql,C={positionedGlyphs:[],lineOffset:0};t.positionedLines[_]=C;var N=C.positionedGlyphs,E=0;if(k.length()){for(var T=0;T<k.length();T++){var I=k.getSection(T),A=k.getSectionIndex(T),P=k.getCharCode(T),M=0,D=null,O=null,z=null,R=ql,F=!(c===e.ai.horizontal||!d&&!sa(P)||d&&(Ec[P]||(m=P,ra.Arabic(m)||ra["Arabic Supplement"](m)||ra["Arabic Extended-A"](m)||ra["Arabic Presentation Forms-A"](m)||ra["Arabic Presentation Forms-B"](m))));if(I.imageName){var B=a[I.imageName];if(!B)continue;z=I.imageName,t.iconsInText=t.iconsInText||!0,O=B.paddedRect;var Z=B.displaySize;I.scale=I.scale*ql/h,D={width:Z[0],height:Z[1],left:_c,top:-yc,advance:F?Z[1]:Z[0]},M=S+(ql-Z[1]*I.scale),R=D.advance;var U=F?Z[0]*I.scale-ql*j:Z[1]*I.scale-ql*j;U>0&&U>E&&(E=U)}else{var V=r[I.fontStack],q=V&&V[P];if(q&&q.rect)O=q.rect,D=q.metrics;else{var H=n[I.fontStack],W=H&&H[P];if(!W)continue;D=W.metrics}M=(j-I.scale)*ql}F?(t.verticalizable=!0,N.push({glyph:P,imageName:z,x:v,y:g+M,vertical:F,scale:I.scale,fontStack:I.fontStack,sectionIndex:A,metrics:D,rect:O}),v+=R*I.scale+u):(N.push({glyph:P,imageName:z,x:v,y:g+M,vertical:F,scale:I.scale,fontStack:I.fontStack,sectionIndex:A,metrics:D,rect:O}),v+=D.advance*I.scale+u)}0!==N.length&&(y=Math.max(v-u,y),zc(N,0,N.length-1,b,E)),v=0;var Y=o*j+E;C.lineOffset=Math.max(E,S),g+=Y,x=Math.max(Y,x),++_}else g+=o,++_}}catch(L){w.e(L)}finally{w.f()}var G=g-jc,J=Oc(s),X=J.horizontalAlign,K=J.verticalAlign;(function(e,t,n,r,a,i,o,s,l){var c=(t-n)*a,u=0;u=i!==o?-s*r-jc:(-r*l+.5)*o;var d,h=f(e);try{for(h.s();!(d=h.n()).done;){var p,m=d.value,v=f(m.positionedGlyphs);try{for(v.s();!(p=v.n()).done;){var g=p.value;g.x+=c,g.y+=u}}catch(L){v.e(L)}finally{v.f()}}}catch(L){h.e(L)}finally{h.f()}})(t.positionedLines,b,X,K,y,x,o,G,i.length),t.top+=-K*G,t.bottom=t.top+G,t.left+=-X*y,t.right=t.left+y}(D,n,r,a,y,s,l,c,h,u,p,g),!function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(0!==t.value.positionedGlyphs.length)return!1}catch(L){n.e(L)}finally{n.f()}return!0}(M)&&D}var Ec={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Tc={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Ic(e,t,n,r,a,i){if(t.imageName){var o=r[t.imageName];return o?o.displaySize[0]*t.scale*ql/i+a:0}var s=n[t.fontStack],l=s&&s[e];return l?l.metrics.advance*t.scale+a:0}function Ac(e,t,n,r){var a=Math.pow(e-t,2);return r?e<t?a/2:2*a:a+Math.abs(n)*n}function Pc(e,t,n){var r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Mc(e,t,n,r,a,i){var o,s=null,l=Ac(t,n,a,i),c=f(r);try{for(c.s();!(o=c.n()).done;){var u=o.value,d=Ac(t-u.x,n,a,i)+u.badness;d<=l&&(s=u,l=d)}}catch(h){c.e(h)}finally{c.f()}return{index:e,x:t,priorBreak:s,badness:l}}function Dc(e){return e?Dc(e.priorBreak).concat(e.index):[]}function Lc(e,t,n,r,a,i,o){if("point"!==i)return[];if(!e)return[];for(var s,l=[],c=function(e,t,n,r,a,i){for(var o=0,s=0;s<e.length();s++){var l=e.getSection(s);o+=Ic(e.getCharCode(s),l,r,a,t,i)}return o/Math.max(1,Math.ceil(o/n))}(e,t,n,r,a,o),u=e.text.indexOf("\u200b")>=0,d=0,h=0;h<e.length();h++){var f=e.getSection(h),p=e.getCharCode(h);if(Ec[p]||(d+=Ic(p,f,r,a,t,o)),h<e.length()-1){var m=!((s=p)<11904||!(ra["Bopomofo Extended"](s)||ra.Bopomofo(s)||ra["CJK Compatibility Forms"](s)||ra["CJK Compatibility Ideographs"](s)||ra["CJK Compatibility"](s)||ra["CJK Radicals Supplement"](s)||ra["CJK Strokes"](s)||ra["CJK Symbols and Punctuation"](s)||ra["CJK Unified Ideographs Extension A"](s)||ra["CJK Unified Ideographs"](s)||ra["Enclosed CJK Letters and Months"](s)||ra["Halfwidth and Fullwidth Forms"](s)||ra.Hiragana(s)||ra["Ideographic Description Characters"](s)||ra["Kangxi Radicals"](s)||ra["Katakana Phonetic Extensions"](s)||ra.Katakana(s)||ra["Vertical Forms"](s)||ra["Yi Radicals"](s)||ra["Yi Syllables"](s)));(Tc[p]||m||f.imageName)&&l.push(Mc(h+1,d,c,l,Pc(p,e.getCharCode(h+1),m&&u),!1))}}return Dc(Mc(e.length(),d,c,l,0,!0))}function Oc(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function zc(e,t,n,r,a){if(r||a)for(var i=e[n],o=(e[n].x+i.metrics.advance*i.scale)*r,s=t;s<=n;s++)e[s].x-=o,e[s].y+=a}function Rc(e,t,n){var r=Oc(n),a=r.horizontalAlign,i=r.verticalAlign,o=t[0]-e.displaySize[0]*a,s=t[1]-e.displaySize[1]*i;return{image:e,top:s,bottom:s+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function Fc(e,t,n,r,a,i){var o,s=e.image;if(s.content){var l=s.content,c=s.pixelRatio||1;o=[l[0]/c,l[1]/c,s.displaySize[0]-l[2]/c,s.displaySize[1]-l[3]/c]}var u,d,h,f,p=t.left*i,m=t.right*i;"width"===n||"both"===n?(f=a[0]+p-r[3],d=a[0]+m+r[1]):d=(f=a[0]+(p+m-s.displaySize[0])/2)+s.displaySize[0];var v=t.top*i,g=t.bottom*i;return"height"===n||"both"===n?(u=a[1]+v-r[0],h=a[1]+g+r[2]):h=(u=a[1]+(v+g-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:u,right:d,bottom:h,left:f,collisionPadding:o}}var Bc=255,Zc=128,Uc=Bc*Zc;function Vc(e,t){var n=t.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new ja(e+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,a=n.interpolationType,i=0;i<r.length&&r[i]<=e;)i++;for(var o=i=Math.max(0,i-1);o<r.length&&r[o]<e+1;)o++;o=Math.min(r.length-1,o);var s=r[i],l=r[o];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:a}:{kind:"camera",minZoom:s,maxZoom:l,minSize:n.evaluate(new ja(s)),maxSize:n.evaluate(new ja(l)),interpolationType:a}}function qc(e,t,n){var r="never",a=e.get(t);return a?r=a:e.get(n)&&(r="always"),r}var Hc=tl.VectorTileFeature.types,Wc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Yc(e,t,n,r,a,i,o,s,l,c,u,d,h){var f=s?Math.min(Uc,Math.round(s[0])):0,p=s?Math.min(Uc,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*a),i,o,(f<<1)+(l?1:0),p,16*c,16*u,256*d,256*h)}function Gc(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function Jc(e){var t,n=f(e.sections);try{for(n.s();!(t=n.n()).done;)if(da(t.value.text))return!0}catch(r){n.e(r)}finally{n.f()}return!1}var Xc=function(){function e(t){m(this,e),this.layoutVertexArray=new Di,this.indexArray=new Fi,this.programConfigurations=t,this.segments=new Ui,this.dynamicLayoutVertexArray=new Li,this.opacityVertexArray=new Oi,this.hasVisibleVertices=!1,this.placedSymbolArray=new yi}return p(e,[{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}},{key:"upload",value:function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,zl.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Rl.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Wc,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}]),e}();Kr("SymbolBuffers",Xc);var Kc=function(){function e(t,n,r){m(this,e),this.layoutVertexArray=new t,this.layoutAttributes=n,this.indexArray=new r,this.segments=new Ui,this.collisionVertexArray=new Ri}return p(e,[{key:"upload",value:function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Fl.members,!0)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}]),e}();Kr("CollisionBuffers",Kc);var $c,Qc,eu=function(){function t(n){m(this,t),this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=qo([]),this.placementViewportMatrix=qo([]);var r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Vc(this.zoom,r["text-size"]),this.iconSizeData=Vc(this.zoom,r["icon-size"]);var a=this.layers[0].layout,i=a.get("symbol-sort-key"),o=a.get("symbol-z-order");this.canOverlap="never"!==qc(a,"text-overlap","text-allow-overlap")||"never"!==qc(a,"icon-overlap","icon-allow-overlap")||a.get("text-ignore-placement")||a.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==o&&!i.isConstant(),this.sortFeaturesByY=("viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===a.get("symbol-placement")&&(this.writingModes=a.get("text-writing-mode").map((function(t){return e.ai[t]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=n.sourceID}return p(t,[{key:"createArrays",value:function(){this.text=new Xc(new mo(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new Xc(new mo(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new _i,this.lineVertexArray=new wi,this.symbolInstances=new bi,this.textAnchorOffsets=new ji}},{key:"calculateGlyphDependencies",value:function(e,t,n,r,a){for(var i=0;i<e.length;i++)if(t[e.charCodeAt(i)]=!0,(n||r)&&a){var o=Vl[e.charAt(i)];o&&(t[o.charCodeAt(0)]=!0)}}},{key:"populate",value:function(t,n,r){var a=this.layers[0],i=a.layout,o=i.get("text-font"),s=i.get("text-field"),l=i.get("icon-image"),c=("constant"!==s.value.kind||s.value.value instanceof pt&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,d=i.get("symbol-sort-key");if(this.features=[],c||u){var h,p=n.iconDependencies,m=n.glyphDependencies,v=n.availableImages,g=new ja(this.zoom),y=f(t);try{for(y.s();!(h=y.n()).done;){var x=h.value,b=x.feature,_=x.id,w=x.index,k=x.sourceLayerIndex,j=a._featureFilter.needGeometry,S=wo(b,j);if(a._featureFilter.filter(g,S,r)){var C=void 0,N=void 0;if(j||(S.geometry=_o(b)),c){var E=a.getValueAndResolveTokens("text-field",S,r,v),T=pt.factory(E);Jc(T)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===_a()||this.hasRTLText&&ka.isParsed())&&(C=Ul(T,a,S))}if(u){var I=a.getValueAndResolveTokens("icon-image",S,r,v);N=I instanceof yt?I:yt.fromString(I)}if(C||N){var A=this.sortFeaturesByKey?d.evaluate(S,{},r):void 0;if(this.features.push({id:_,text:C,icon:N,index:w,sourceLayerIndex:k,geometry:S.geometry,properties:b.properties,type:Hc[b.type],sortKey:A}),N&&(p[N.name]=!0),C){var P=o.evaluate(S,{},r).join(","),M="viewport"!==i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(e.ai.vertical)>=0;var D,L=f(C.sections);try{for(L.s();!(D=L.n()).done;){var O=D.value;if(O.image)p[O.image.name]=!0;else{var z=aa(C.toString()),R=O.fontStack||P,F=m[R]=m[R]||{};this.calculateGlyphDependencies(O.text,F,M,this.allowVerticalPlacement,z)}}}catch(B){L.e(B)}finally{L.f()}}}}}}catch(B){y.e(B)}finally{y.f()}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],a=0;function i(t){r.push(e[t]),a++}function o(e,t,a){var i=n[e];return delete n[e],n[t]=i,r[i].geometry[0].pop(),r[i].geometry[0]=r[i].geometry[0].concat(a[0]),i}function s(e,n,a){var i=t[n];return delete t[n],t[e]=i,r[i].geometry[0].shift(),r[i].geometry[0]=a[0].concat(r[i].geometry[0]),i}function l(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return"".concat(e,":").concat(r.x,":").concat(r.y)}for(var c=0;c<e.length;c++){var u=e[c],d=u.geometry,h=u.text?u.text.toString():null;if(h){var f=l(h,d),p=l(h,d,!0);if(f in n&&p in t&&n[f]!==t[p]){var m=s(f,p,d),v=o(f,p,r[m].geometry);delete t[f],delete n[p],n[l(h,r[v].geometry,!0)]=v,r[m].geometry=null}else f in n?o(f,p,d):p in t?s(f,p,d):(i(c),t[f]=a-1,n[p]=a-1)}else i(c)}return r.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}}},{key:"update",value:function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))}},{key:"isEmpty",value:function(){return 0===this.symbolInstances.length&&!this.hasRTLText}},{key:"uploadPending",value:function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}},{key:"upload",value:function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}},{key:"destroyDebugData",value:function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}},{key:"destroy",value:function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}},{key:"addToLineVertexArray",value:function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){for(var r=e.dist(t[e.segment+1]),a=e.dist(t[e.segment]),i={},o=e.segment+1;o<t.length;o++)i[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:r},o<t.length-1&&(r+=t[o+1].dist(t[o]));for(var s=e.segment||0;s>=0;s--)i[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:a},s>0&&(a+=t[s-1].dist(t[s]));for(var l=0;l<t.length;l++){var c=i[l];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}},{key:"addSymbols",value:function(t,n,r,a,i,o,s,l,c,u,d,h){for(var f=t.indexArray,p=t.layoutVertexArray,m=t.segments.prepareSegment(4*n.length,p,f,this.canOverlap?o.sortKey:void 0),v=this.glyphOffsetArray.length,g=m.vertexLength,y=this.allowVerticalPlacement&&s===e.ai.vertical?Math.PI/2:0,x=o.text&&o.text.sections,b=0;b<n.length;b++){var _=n[b],w=_.tl,k=_.tr,j=_.bl,S=_.br,C=_.tex,N=_.pixelOffsetTL,E=_.pixelOffsetBR,T=_.minFontScaleX,I=_.minFontScaleY,A=_.glyphOffset,P=_.isSDF,M=_.sectionIndex,D=m.vertexLength,L=A[1];Yc(p,l.x,l.y,w.x,L+w.y,C.x,C.y,r,P,N.x,N.y,T,I),Yc(p,l.x,l.y,k.x,L+k.y,C.x+C.w,C.y,r,P,E.x,N.y,T,I),Yc(p,l.x,l.y,j.x,L+j.y,C.x,C.y+C.h,r,P,N.x,E.y,T,I),Yc(p,l.x,l.y,S.x,L+S.y,C.x+C.w,C.y+C.h,r,P,E.x,E.y,T,I),Gc(t.dynamicLayoutVertexArray,l,y),f.emplaceBack(D,D+1,D+2),f.emplaceBack(D+1,D+2,D+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(A[0]),b!==n.length-1&&M===n[b+1].sectionIndex||t.programConfigurations.populatePaintArrays(p.length,o,o.index,{},h,x&&x[M])}t.placedSymbolArray.emplaceBack(l.x,l.y,v,this.glyphOffsetArray.length-v,g,c,u,l.segment,r?r[0]:0,r?r[1]:0,a[0],a[1],s,0,!1,0,d)}},{key:"_addCollisionDebugVertex",value:function(e,t,n,r,a,i){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,a,Math.round(i.x),Math.round(i.y))}},{key:"addCollisionDebugVertices",value:function(e,t,n,r,a,i,o){var s=a.segments.prepareSegment(4,a.layoutVertexArray,a.indexArray),l=s.vertexLength,c=a.layoutVertexArray,u=a.collisionVertexArray,d=o.anchorX,h=o.anchorY;this._addCollisionDebugVertex(c,u,i,d,h,new b(e,t)),this._addCollisionDebugVertex(c,u,i,d,h,new b(n,t)),this._addCollisionDebugVertex(c,u,i,d,h,new b(n,r)),this._addCollisionDebugVertex(c,u,i,d,h,new b(e,r)),s.vertexLength+=4;var f=a.indexArray;f.emplaceBack(l,l+1),f.emplaceBack(l+1,l+2),f.emplaceBack(l+2,l+3),f.emplaceBack(l+3,l),s.primitiveLength+=4}},{key:"addDebugCollisionBoxes",value:function(e,t,n,r){for(var a=e;a<t;a++){var i=this.collisionBoxArray.get(a);this.addCollisionDebugVertices(i.x1,i.y1,i.x2,i.y2,r?this.textCollisionBox:this.iconCollisionBox,i.anchorPoint,n)}}},{key:"generateCollisionDebugBuffers",value:function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Kc(zi,Bl.members,Bi),this.iconCollisionBox=new Kc(zi,Bl.members,Bi);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}}},{key:"_deserializeCollisionBoxesForSymbol",value:function(e,t,n,r,a,i,o,s,l){for(var c={},u=t;u<n;u++){var d=e.get(u);c.textBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},c.textFeatureIndex=d.featureIndex;break}for(var h=r;h<a;h++){var f=e.get(h);c.verticalTextBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},c.verticalTextFeatureIndex=f.featureIndex;break}for(var p=i;p<o;p++){var m=e.get(p);c.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},c.iconFeatureIndex=m.featureIndex;break}for(var v=s;v<l;v++){var g=e.get(v);c.verticalIconBox={x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2,anchorPointX:g.anchorPointX,anchorPointY:g.anchorPointY},c.verticalIconFeatureIndex=g.featureIndex;break}return c}},{key:"deserializeCollisionBoxes",value:function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}},{key:"hasTextData",value:function(){return this.text.segments.get().length>0}},{key:"hasIconData",value:function(){return this.icon.segments.get().length>0}},{key:"hasDebugData",value:function(){return this.textCollisionBox&&this.iconCollisionBox}},{key:"hasTextCollisionBoxData",value:function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}},{key:"hasIconCollisionBoxData",value:function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}},{key:"addIndicesForPlacedSymbol",value:function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,a=n.vertexStartIndex;a<r;a+=4)e.indexArray.emplaceBack(a,a+1,a+2),e.indexArray.emplaceBack(a+1,a+2,a+3)}},{key:"getSortedSymbolIndexes",value:function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],a=[],i=[],o=0;o<this.symbolInstances.length;++o){i.push(o);var s=this.symbolInstances.get(o);r.push(0|Math.round(t*s.anchorX+n*s.anchorY)),a.push(s.featureIndex)}return i.sort((function(e,t){return r[e]-r[t]||a[t]-a[e]})),i}},{key:"addToSortKeyRanges",value:function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}},{key:"sortFeatures",value:function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];var n,r=f(this.symbolInstanceIndexes);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=this.symbolInstances.get(a);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}}catch(o){r.e(o)}finally{r.f()}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}]),t}();Kr("SymbolBucket",eu,{omit:["layers","collisionBoxArray","features","compareText"]}),eu.MAX_GLYPHS=65535,eu.addDynamicAttributes=Gc;var tu={get paint(){return Qc=Qc||new Ra({"icon-opacity":new Da(ue.paint_symbol["icon-opacity"]),"icon-color":new Da(ue.paint_symbol["icon-color"]),"icon-halo-color":new Da(ue.paint_symbol["icon-halo-color"]),"icon-halo-width":new Da(ue.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Da(ue.paint_symbol["icon-halo-blur"]),"icon-translate":new Ma(ue.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ma(ue.paint_symbol["icon-translate-anchor"]),"text-opacity":new Da(ue.paint_symbol["text-opacity"]),"text-color":new Da(ue.paint_symbol["text-color"],{runtimeType:Ie,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new Da(ue.paint_symbol["text-halo-color"]),"text-halo-width":new Da(ue.paint_symbol["text-halo-width"]),"text-halo-blur":new Da(ue.paint_symbol["text-halo-blur"]),"text-translate":new Ma(ue.paint_symbol["text-translate"]),"text-translate-anchor":new Ma(ue.paint_symbol["text-translate-anchor"])})},get layout(){return $c=$c||new Ra({"symbol-placement":new Ma(ue.layout_symbol["symbol-placement"]),"symbol-spacing":new Ma(ue.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ma(ue.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Da(ue.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ma(ue.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ma(ue.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Ma(ue.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Ma(ue.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ma(ue.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ma(ue.layout_symbol["icon-rotation-alignment"]),"icon-size":new Da(ue.layout_symbol["icon-size"]),"icon-text-fit":new Ma(ue.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ma(ue.layout_symbol["icon-text-fit-padding"]),"icon-image":new Da(ue.layout_symbol["icon-image"]),"icon-rotate":new Da(ue.layout_symbol["icon-rotate"]),"icon-padding":new Da(ue.layout_symbol["icon-padding"]),"icon-keep-upright":new Ma(ue.layout_symbol["icon-keep-upright"]),"icon-offset":new Da(ue.layout_symbol["icon-offset"]),"icon-anchor":new Da(ue.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ma(ue.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ma(ue.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ma(ue.layout_symbol["text-rotation-alignment"]),"text-field":new Da(ue.layout_symbol["text-field"]),"text-font":new Da(ue.layout_symbol["text-font"]),"text-size":new Da(ue.layout_symbol["text-size"]),"text-max-width":new Da(ue.layout_symbol["text-max-width"]),"text-line-height":new Ma(ue.layout_symbol["text-line-height"]),"text-letter-spacing":new Da(ue.layout_symbol["text-letter-spacing"]),"text-justify":new Da(ue.layout_symbol["text-justify"]),"text-radial-offset":new Da(ue.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ma(ue.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Da(ue.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Da(ue.layout_symbol["text-anchor"]),"text-max-angle":new Ma(ue.layout_symbol["text-max-angle"]),"text-writing-mode":new Ma(ue.layout_symbol["text-writing-mode"]),"text-rotate":new Da(ue.layout_symbol["text-rotate"]),"text-padding":new Ma(ue.layout_symbol["text-padding"]),"text-keep-upright":new Ma(ue.layout_symbol["text-keep-upright"]),"text-transform":new Da(ue.layout_symbol["text-transform"]),"text-offset":new Da(ue.layout_symbol["text-offset"]),"text-allow-overlap":new Ma(ue.layout_symbol["text-allow-overlap"]),"text-overlap":new Ma(ue.layout_symbol["text-overlap"]),"text-ignore-placement":new Ma(ue.layout_symbol["text-ignore-placement"]),"text-optional":new Ma(ue.layout_symbol["text-optional"])})}},nu=function(){function e(t){if(m(this,e),void 0===t.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t.property.overrides?t.property.overrides.runtimeType:Ce,this.defaultValue=t}return p(e,[{key:"evaluate",value:function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}},{key:"eachChild",value:function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return null}}]),e}();Kr("FormatSectionOverride",nu,{omit:["defaultValue"]});var ru,au,iu=function(e){v(n,e);var t=g(n);function n(e){return m(this,n),t.call(this,e,tu)}return p(n,[{key:"recalculate",value:function(e,t){if(i(o(n.prototype),"recalculate",this).call(this,e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){var a,s=[],l=f(r);try{for(l.s();!(a=l.n()).done;){var c=a.value;s.indexOf(c)<0&&s.push(c)}}catch(u){l.e(u)}finally{l.f()}this.layout._values["text-writing-mode"]=s}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}},{key:"getValueAndResolveTokens",value:function(e,t,n,r){var a=this.layout.get(e).evaluate(t,{},n,r),i=this._unevaluatedLayout._values[e];return i.isDataDriven()||Kn(i.value)||!a?a:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,n){return e&&n in e?String(e[n]):""}))}(t.properties,a)}},{key:"createBucket",value:function(e){return new eu(e)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){throw new Error("Should take a different path in FeatureIndex")}},{key:"_setPaintOverrides",value:function(){var e,t=f(tu.paint.overridableProperties);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(n.hasPaintOverride(this.layout,r)){var a=this.paint.get(r),i=new nu(a),o=new Xn(i,a.property.specification),s=null;s="constant"===a.value.kind||"source"===a.value.kind?new Qn("source",o):new er("composite",o,a.value.zoomStops),this.paint._values[r]=new Aa(a.property,s,a.parameters)}}}catch(l){t.e(l)}finally{t.f()}}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,r){return!(!this.layout||t.isDataDriven()||r.isDataDriven())&&n.hasPaintOverride(this.layout,e)}}],[{key:"hasPaintOverride",value:function(e,t){var n=e.get("text-field"),r=tu.paint.properties[t],a=!1,i=function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(r.overrides&&r.overrides.hasOverride(i))return void(a=!0)}}catch(o){n.e(o)}finally{n.f()}};if("constant"===n.value.kind&&n.value.value instanceof pt)i(n.value.value.sections);else if("source"===n.value.kind){var o=function e(t){a||(t instanceof kt&&_t(t.value)===De?i(t.value.sections):t instanceof En?i(t.sections):t.eachChild(e))},s=n.value;s._styleExpression&&o(s._styleExpression.expression)}return a}}]),n}(Ba),ou={get paint(){return ru=ru||new Ra({"background-color":new Ma(ue.paint_background["background-color"]),"background-pattern":new Oa(ue.paint_background["background-pattern"]),"background-opacity":new Ma(ue.paint_background["background-opacity"])})}},su=function(e){v(n,e);var t=g(n);function n(e){return m(this,n),t.call(this,e,ou)}return p(n)}(Ba),lu={get paint(){return au=au||new Ra({"raster-opacity":new Ma(ue.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ma(ue.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ma(ue.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ma(ue.paint_raster["raster-brightness-max"]),"raster-saturation":new Ma(ue.paint_raster["raster-saturation"]),"raster-contrast":new Ma(ue.paint_raster["raster-contrast"]),"raster-resampling":new Ma(ue.paint_raster["raster-resampling"]),"raster-fade-duration":new Ma(ue.paint_raster["raster-fade-duration"])})}},cu=function(e){v(n,e);var t=g(n);function n(e){return m(this,n),t.call(this,e,lu)}return p(n)}(Ba),uu=function(e){v(n,e);var t=g(n);function n(e){var r;return m(this,n),(r=t.call(this,e,{})).onAdd=function(e){r.implementation.onAdd&&r.implementation.onAdd(e,e.painter.context.gl)},r.onRemove=function(e){r.implementation.onRemove&&r.implementation.onRemove(e,e.painter.context.gl)},r.implementation=e,r}return p(n,[{key:"is3D",value:function(){return"3d"===this.implementation.renderingMode}},{key:"hasOffscreenPass",value:function(){return void 0!==this.implementation.prerender}},{key:"recalculate",value:function(){}},{key:"updateTransitions",value:function(){}},{key:"hasTransition",value:function(){return!1}},{key:"serialize",value:function(){throw new Error("Custom layers cannot be serialized")}}]),n}(Ba),du=function(){function e(t){var n=this;m(this,e),this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){n._triggered=!1,n._callback()})}return p(e,[{key:"trigger",value:function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))}},{key:"remove",value:function(){delete this._channel,this._callback=function(){}}}]),e}(),hu=6371008.8,fu=function(){function e(t,n){if(m(this,e),isNaN(t)||isNaN(n))throw new Error("Invalid LngLat object: (".concat(t,", ").concat(n,")"));if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return p(e,[{key:"wrap",value:function(){return new e(A(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,a=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return hu*Math.acos(Math.min(a,1))}}],[{key:"convert",value:function(t){if(t instanceof e)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new e(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new e(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),e}(),pu=2*Math.PI*hu;function mu(e){return pu*Math.cos(e*Math.PI/180)}function vu(e){return(180+e)/360}function gu(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function yu(e,t){return e/mu(t)}function xu(e){return 360*e-180}function bu(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var _u=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;m(this,e),this.x=+t,this.y=+n,this.z=+r}return p(e,[{key:"toLngLat",value:function(){return new fu(xu(this.x),bu(this.y))}},{key:"toAltitude",value:function(){return this.z*mu(bu(this.y))}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/pu*(e=bu(this.y),1/Math.cos(e*Math.PI/180));var e}}],[{key:"fromLngLat",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=fu.convert(t);return new e(vu(r.lng),gu(r.lat),yu(n,r.lat))}}]),e}();function wu(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}var ku=function(){function e(t,n,r){if(m(this,e),t<0||t>25||r<0||r>=Math.pow(2,t)||n<0||n>=Math.pow(2,t))throw new Error("x=".concat(n,", y=").concat(r,", z=").concat(t," outside of bounds. 0<=x<").concat(Math.pow(2,t),", 0<=y<").concat(Math.pow(2,t)," 0<=z<=25 "));this.z=t,this.x=n,this.y=r,this.key=Cu(0,t,t,n,r)}return p(e,[{key:"equals",value:function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}},{key:"url",value:function(e,t,n){var r,a,i,o,s,l=(a=this.y,i=this.z,o=wu(256*(r=this.x),256*(a=Math.pow(2,i)-a-1),i),s=wu(256*(r+1),256*(a+1),i),o[0]+","+o[1]+","+s[0]+","+s[1]),c=function(e,t,n){for(var r,a="",i=e;i>0;i--)a+=(t&(r=1<<i-1)?1:0)+(n&r?2:0);return a}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===n?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,t>1?"@2x":"").replace(/{quadkey}/g,c).replace(/{bbox-epsg-3857}/g,l)}},{key:"isChildOf",value:function(e){var t=this.z-e.z;return t>0&&e.x===this.x>>t&&e.y===this.y>>t}},{key:"getTilePoint",value:function(e){var t=Math.pow(2,this.z);return new b((e.x*t-this.x)*yo,(e.y*t-this.y)*yo)}},{key:"toString",value:function(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}}]),e}(),ju=p((function e(t,n){m(this,e),this.wrap=t,this.canonical=n,this.key=Cu(t,n.z,n.z,n.x,n.y)})),Su=function(){function e(t,n,r,a,i){if(m(this,e),t<r)throw new Error("overscaledZ should be >= z; overscaledZ = ".concat(t,"; z = ").concat(r));this.overscaledZ=t,this.wrap=n,this.canonical=new ku(r,+a,+i),this.key=Cu(n,t,r,a,i)}return p(e,[{key:"clone",value:function(){return new e(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"equals",value:function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}},{key:"scaledTo",value:function(t){if(t>this.overscaledZ)throw new Error("targetZ > this.overscaledZ; targetZ = ".concat(t,"; overscaledZ = ").concat(this.overscaledZ));var n=this.canonical.z-t;return t>this.canonical.z?new e(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new e(t,this.wrap,t,this.canonical.x>>n,this.canonical.y>>n)}},{key:"calculateScaledKey",value:function(e,t){if(e>this.overscaledZ)throw new Error("targetZ > this.overscaledZ; targetZ = ".concat(e,"; overscaledZ = ").concat(this.overscaledZ));var n=this.canonical.z-e;return e>this.canonical.z?Cu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):Cu(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}},{key:"isChildOf",value:function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}},{key:"children",value:function(t){if(this.overscaledZ>=t)return[new e(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var n=this.canonical.z+1,r=2*this.canonical.x,a=2*this.canonical.y;return[new e(n,this.wrap,n,r,a),new e(n,this.wrap,n,r+1,a),new e(n,this.wrap,n,r,a+1),new e(n,this.wrap,n,r+1,a+1)]}},{key:"isLessThan",value:function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}},{key:"wrapped",value:function(){return new e(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"unwrapTo",value:function(t){return new e(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"overscaleFactor",value:function(){return Math.pow(2,this.overscaledZ-this.canonical.z)}},{key:"toUnwrapped",value:function(){return new ju(this.wrap,this.canonical)}},{key:"toString",value:function(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}},{key:"getTilePoint",value:function(e){return this.canonical.getTilePoint(new _u(e.x-this.wrap,e.y))}}]),e}();function Cu(e,t,n,r,a){(e*=2)<0&&(e=-1*e-1);var i=1<<n;return(i*i*e+i*a+r).toString(36)+n.toString(36)+t.toString(36)}Kr("CanonicalTileID",ku),Kr("OverscaledTileID",Su,{omit:["posMatrix"]});var Nu=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(m(this,e),this.uid=t,n.height!==n.width)throw new RangeError("DEM tiles must be square");if(!r||["mapbox","terrarium","custom"].includes(r)){this.stride=n.height;var l=this.dim=n.height-2;switch(this.data=new Uint32Array(n.data.buffer),r){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=a,this.greenFactor=i,this.blueFactor=o,this.baseShift=s;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(var c=0;c<l;c++)this.data[this._idx(-1,c)]=this.data[this._idx(0,c)],this.data[this._idx(l,c)]=this.data[this._idx(l-1,c)],this.data[this._idx(c,-1)]=this.data[this._idx(c,0)],this.data[this._idx(c,l)]=this.data[this._idx(c,l-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(l,-1)]=this.data[this._idx(l-1,0)],this.data[this._idx(-1,l)]=this.data[this._idx(0,l-1)],this.data[this._idx(l,l)]=this.data[this._idx(l-1,l-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(var u=0;u<l;u++)for(var d=0;d<l;d++){var h=this.get(u,d);h>this.max&&(this.max=h),h<this.min&&(this.min=h)}}else R('"'.concat(r,'" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".'))}return p(e,[{key:"get",value:function(e,t){var n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return this.unpack(n[r],n[r+1],n[r+2])}},{key:"getUnpackVector",value:function(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}},{key:"_idx",value:function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}},{key:"unpack",value:function(e,t,n){return e*this.redFactor+t*this.greenFactor+n*this.blueFactor-this.baseShift}},{key:"getPixels",value:function(){return new as({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}},{key:"backfillBorder",value:function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,a=t*this.dim+this.dim,i=n*this.dim,o=n*this.dim+this.dim;switch(t){case-1:r=a-1;break;case 1:a=r+1}switch(n){case-1:i=o-1;break;case 1:o=i+1}for(var s=-t*this.dim,l=-n*this.dim,c=i;c<o;c++)for(var u=r;u<a;u++)this.data[this._idx(u,c)]=e.data[this._idx(u+s,c+l)]}}]),e}();Kr("DEMData",Nu);var Eu=function(){function e(t){m(this,e),this._stringToNumber={},this._numberToString=[];for(var n=0;n<t.length;n++){var r=t[n];this._stringToNumber[r]=n,this._numberToString[n]=r}}return p(e,[{key:"encode",value:function(e){return this._stringToNumber[e]}},{key:"decode",value:function(e){if(e>=this._numberToString.length)throw new Error("Out of bounds. Index requested n=".concat(e," can't be >= this._numberToString.length ").concat(this._numberToString.length));return this._numberToString[e]}}]),e}(),Tu=function(){function e(t,n,r,a,i){m(this,e),this.type="Feature",this._vectorTileFeature=t,t._z=n,t._x=r,t._y=a,this.properties=t.properties,this.id=i}return p(e,[{key:"geometry",get:function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},set:function(e){this._geometry=e}},{key:"toJSON",value:function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}]),e}(),Iu=function(){function e(t,n){m(this,e),this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Jr(yo,16,0),this.grid3D=new Jr(yo,16,0),this.featureIndexArray=new Ci,this.promoteId=n}return p(e,[{key:"insert",value:function(e,t,n,r,a,i){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,a);for(var s=i?this.grid3D:this.grid,l=0;l<t.length;l++){for(var c=t[l],u=[1/0,1/0,-1/0,-1/0],d=0;d<c.length;d++){var h=c[d];u[0]=Math.min(u[0],h.x),u[1]=Math.min(u[1],h.y),u[2]=Math.max(u[2],h.x),u[3]=Math.max(u[3],h.y)}u[0]<yo&&u[1]<yo&&u[2]>=0&&u[3]>=0&&s.insert(o,u[0],u[1],u[2],u[3])}}},{key:"loadVTLayers",value:function(){return this.vtLayers||(this.vtLayers=new tl.VectorTile(new fc(this.rawTileData)).layers,this.sourceLayerCoder=new Eu(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}},{key:"query",value:function(e,t,n,r){var a=this;this.loadVTLayers();var i,o=e.params||{},s=yo/e.tileSize/e.scale,l=or(o.filter),c=e.queryGeometry,u=e.queryPadding*s,d=Pu(c),h=this.grid.query(d.minX-u,d.minY-u,d.maxX+u,d.maxY+u),p=Pu(e.cameraQueryGeometry),m=this.grid3D.query(p.minX-u,p.minY-u,p.maxX+u,p.maxY+u,(function(t,n,r,a){return function(e,t,n,r,a){var i,o=f(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(t<=s.x&&n<=s.y&&r>=s.x&&a>=s.y)return!0}}catch(h){o.e(h)}finally{o.f()}var l=[new b(t,n),new b(t,a),new b(r,a),new b(r,n)];if(e.length>2){var c,u=f(l);try{for(u.s();!(c=u.n()).done;)if(Oo(e,c.value))return!0}catch(h){u.e(h)}finally{u.f()}}for(var d=0;d<e.length-1;d++)if(zo(e[d],e[d+1],l))return!0;return!1}(e.cameraQueryGeometry,t-u,n-u,r+u,a+u)})),v=f(m);try{for(v.s();!(i=v.n()).done;){var g=i.value;h.push(g)}}catch(k){v.e(k)}finally{v.f()}h.sort(Mu);for(var y,x={},_=function(){var i=h[w];if(i===y)return 1;y=i;var u=a.featureIndexArray.get(i),d=null;a.loadMatchingFeature(x,u.bucketIndex,u.sourceLayerIndex,u.featureIndex,l,o.layers,o.availableImages,t,n,r,(function(t,n,r){return d||(d=_o(t)),n.queryIntersectsFeature(c,t,r,d,a.z,e.transform,s,e.pixelPosMatrix)}))},w=0;w<h.length;w++)_();return x}},{key:"loadMatchingFeature",value:function(e,t,n,r,a,i,o,s,l,c,u){var d=this.bucketLayerIDs[t];if(!i||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(i,d)){var h=this.sourceLayerCoder.decode(n),f=this.vtLayers[h].feature(r);if(a.needGeometry){var p=wo(f,!0);if(!a.filter(new ja(this.tileID.overscaledZ),p,this.tileID.canonical))return}else if(!a.filter(new ja(this.tileID.overscaledZ),f))return;for(var m=this.getId(f,h),v=0;v<d.length;v++){var g=d[v];if(!(i&&i.indexOf(g)<0)){var y=s[g];if(y){var x={};m&&c&&(x=c.getState(y.sourceLayer||"_geojsonTileLayer",m));var b=P({},l[g]);b.paint=Au(b.paint,y.paint,f,x,o),b.layout=Au(b.layout,y.layout,f,x,o);var _=!u||u(f,y,x);if(_){var w=new Tu(f,this.z,this.x,this.y,m);w.layer=b;var k=e[g];void 0===k&&(k=e[g]=[]),k.push({featureIndex:r,feature:w,intersectionZ:_})}}}}}}},{key:"lookupSymbolFeatures",value:function(e,t,n,r,a,i,o,s){var l={};this.loadVTLayers();var c,u=or(a),d=f(e);try{for(d.s();!(c=d.n()).done;){var h=c.value;this.loadMatchingFeature(l,n,r,h,u,i,o,s,t)}}catch(p){d.e(p)}finally{d.f()}return l}},{key:"hasLayer",value:function(e){var t,n=f(this.bucketLayerIDs);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,i=f(a);try{for(i.s();!(r=i.n()).done;)if(e===r.value)return!0}catch(o){i.e(o)}finally{i.f()}}}catch(o){n.e(o)}finally{n.f()}return!1}},{key:"getId",value:function(e,t){var n=e.id;return this.promoteId&&"boolean"==typeof(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(n=Number(n)),n}}]),e}();function Au(e,t,n,r,a){return D(e,(function(e,i){var o=t instanceof Pa?t.get(i):null;return o&&o.evaluate?o.evaluate(n,r,a):o}))}function Pu(e){var t,n=1/0,r=1/0,a=-1/0,i=-1/0,o=f(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;n=Math.min(n,s.x),r=Math.min(r,s.y),a=Math.max(a,s.x),i=Math.max(i,s.y)}}catch(l){o.e(l)}finally{o.f()}return{minX:n,minY:r,maxX:a,maxY:i}}function Mu(e,t){return t-e}function Du(e,t,n,r,a){for(var i=[],o=0;o<e.length;o++)for(var s=e[o],l=void 0,c=0;c<s.length-1;c++){var u=s[c],d=s[c+1];u.x<t&&d.x<t||(u.x<t?u=new b(t,u.y+(t-u.x)/(d.x-u.x)*(d.y-u.y))._round():d.x<t&&(d=new b(t,u.y+(t-u.x)/(d.x-u.x)*(d.y-u.y))._round()),u.y<n&&d.y<n||(u.y<n?u=new b(u.x+(n-u.y)/(d.y-u.y)*(d.x-u.x),n)._round():d.y<n&&(d=new b(u.x+(n-u.y)/(d.y-u.y)*(d.x-u.x),n)._round()),u.x>=r&&d.x>=r||(u.x>=r?u=new b(r,u.y+(r-u.x)/(d.x-u.x)*(d.y-u.y))._round():d.x>=r&&(d=new b(r,u.y+(r-u.x)/(d.x-u.x)*(d.y-u.y))._round()),u.y>=a&&d.y>=a||(u.y>=a?u=new b(u.x+(a-u.y)/(d.y-u.y)*(d.x-u.x),a)._round():d.y>=a&&(d=new b(u.x+(a-u.y)/(d.y-u.y)*(d.x-u.x),a)._round()),l&&u.equals(l[l.length-1])||(l=[u],i.push(l)),l.push(d)))))}return i}Kr("FeatureIndex",Iu,{omit:["rawTileData","sourceLayerCoder"]});var Lu=function(e){v(n,e);var t=g(n);function n(e,r,a,i){var o;return m(this,n),(o=t.call(this,e,r)).angle=a,void 0!==i&&(o.segment=i),o}return p(n,[{key:"clone",value:function(){return new n(this.x,this.y,this.angle,this.segment)}}]),n}(b);function Ou(e,t,n,r,a){if(void 0===t.segment||0===n)return!0;for(var i=t,o=t.segment+1,s=0;s>-n/2;){if(--o<0)return!1;s-=e[o].dist(i),i=e[o]}s+=e[o].dist(e[o+1]),o++;for(var l=[],c=0;s<n/2;){var u=e[o],d=e[o+1];if(!d)return!1;var h=e[o-1].angleTo(u)-u.angleTo(d);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:h}),c+=h;s-l[0].distance>r;)c-=l.shift().angleDelta;if(c>a)return!1;o++,s+=u.dist(d)}return!0}function zu(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Ru(e,t,n){return e?.6*t*n:0}function Fu(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Bu(e,t,n,r,a,i){for(var o=Ru(n,a,i),s=Fu(n,r)*i,l=0,c=zu(e)/2,u=0;u<e.length-1;u++){var d=e[u],h=e[u+1],f=d.dist(h);if(l+f>c){var p=(c-l)/f,m=sn.number(d.x,h.x,p),v=sn.number(d.y,h.y,p),g=new Lu(m,v,h.angleTo(d),u);return g._round(),!o||Ou(e,g,s,o,t)?g:void 0}l+=f}}function Zu(e,t,n,r,a,i,o,s,l){var c=Ru(r,i,o),u=Fu(r,a),d=u*o,h=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-d<t/4&&(t=d+t/4),Uu(e,h?t/2*s%t:(u/2+2*i)*o*s%t,t,c,n,d,h,!1,l)}function Uu(e,t,n,r,a,i,o,s,l){for(var c=i/2,u=zu(e),d=0,h=t-n,f=[],p=0;p<e.length-1;p++){for(var m=e[p],v=e[p+1],g=m.dist(v),y=v.angleTo(m);h+n<d+g;){var x=((h+=n)-d)/g,b=sn.number(m.x,v.x,x),_=sn.number(m.y,v.y,x);if(b>=0&&b<l&&_>=0&&_<l&&h-c>=0&&h+c<=u){var w=new Lu(b,_,y,p);w._round(),r&&!Ou(e,w,i,r,a)||f.push(w)}}d+=g}return s||f.length||o||(f=Uu(e,d/2,n,r,a,i,o,!0,l)),f}Kr("Anchor",Lu);var Vu=_c;function qu(e,t,n,r){var a=[],i=e.image,o=i.pixelRatio,s=i.paddedRect.w-2*Vu,l=i.paddedRect.h-2*Vu,c=e.right-e.left,u=e.bottom-e.top,d=i.stretchX||[[0,s]],h=i.stretchY||[[0,l]],f=function(e,t){return e+t[1]-t[0]},p=d.reduce(f,0),m=h.reduce(f,0),v=s-p,g=l-m,y=0,x=p,_=0,w=m,k=0,j=v,S=0,C=g;if(i.content&&r){var N=i.content;y=Hu(d,0,N[0]),_=Hu(h,0,N[1]),x=Hu(d,N[0],N[2]),w=Hu(h,N[1],N[3]),k=N[0]-y,S=N[1]-_,j=N[2]-N[0]-x,C=N[3]-N[1]-w}var E=function(r,a,s,l){var d=Yu(r.stretch-y,x,c,e.left),h=Gu(r.fixed-k,j,r.stretch,p),f=Yu(a.stretch-_,w,u,e.top),v=Gu(a.fixed-S,C,a.stretch,m),g=Yu(s.stretch-y,x,c,e.left),N=Gu(s.fixed-k,j,s.stretch,p),E=Yu(l.stretch-_,w,u,e.top),T=Gu(l.fixed-S,C,l.stretch,m),I=new b(d,f),A=new b(g,f),P=new b(g,E),M=new b(d,E),D=new b(h/o,v/o),L=new b(N/o,T/o),O=t*Math.PI/180;if(O){var z=Math.sin(O),R=Math.cos(O),F=[R,-z,z,R];I._matMult(F),A._matMult(F),M._matMult(F),P._matMult(F)}var B=r.stretch+r.fixed,Z=a.stretch+a.fixed;return{tl:I,tr:A,bl:M,br:P,tex:{x:i.paddedRect.x+Vu+B,y:i.paddedRect.y+Vu+Z,w:s.stretch+s.fixed-B,h:l.stretch+l.fixed-Z},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:D,pixelOffsetBR:L,minFontScaleX:j/o/c,minFontScaleY:C/o/u,isSDF:n}};if(r&&(i.stretchX||i.stretchY))for(var T=Wu(d,v,p),I=Wu(h,g,m),A=0;A<T.length-1;A++)for(var P=T[A],M=T[A+1],D=0;D<I.length-1;D++)a.push(E(P,I[D],M,I[D+1]));else a.push(E({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return a}function Hu(e,t,n){var r,a=0,i=f(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;a+=Math.max(t,Math.min(n,o[1]))-Math.max(t,Math.min(n,o[0]))}}catch(s){i.e(s)}finally{i.f()}return a}function Wu(e,t,n){var r,a=[{fixed:-Vu,stretch:0}],i=f(e);try{for(i.s();!(r=i.n()).done;){var o=h(r.value,2),s=o[0],l=o[1],c=a[a.length-1];a.push({fixed:s-c.stretch,stretch:c.stretch}),a.push({fixed:s-c.stretch,stretch:c.stretch+(l-s)})}}catch(u){i.e(u)}finally{i.f()}return a.push({fixed:t+Vu,stretch:n}),a}function Yu(e,t,n,r){return e/t*n+r}function Gu(e,t,n,r){return e-t*n/r}var Ju,Xu=p((function e(t,n,r,a,i,o,s,l,c,u){if(m(this,e),this.boxStartIndex=t.length,c){var d=o.top,h=o.bottom,f=o.collisionPadding;f&&(d-=f[1],h+=f[3]);var p=h-d;p>0&&(p=Math.max(10,p),this.circleDiameter=p)}else{var v=o.top*s-l[0],g=o.bottom*s+l[2],y=o.left*s-l[3],x=o.right*s+l[1],_=o.collisionPadding;if(_&&(y-=_[0]*s,v-=_[1]*s,x+=_[2]*s,g+=_[3]*s),u){var w=new b(y,v),k=new b(x,v),j=new b(y,g),S=new b(x,g),C=u*Math.PI/180;w._rotate(C),k._rotate(C),j._rotate(C),S._rotate(C),y=Math.min(w.x,k.x,j.x,S.x),x=Math.max(w.x,k.x,j.x,S.x),v=Math.min(w.y,k.y,j.y,S.y),g=Math.max(w.y,k.y,j.y,S.y)}t.emplaceBack(n.x,n.y,y,v,x,g,r,a,i)}this.boxEndIndex=t.length})),Ku=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$u;if(m(this,e),this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}return p(e,[{key:"push",value:function(e){this.data.push(e),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var a=e-1>>1,i=t[a];if(n(r,i)>=0)break;t[e]=i,e=a}t[e]=r}},{key:"_down",value:function(e){for(var t=this.data,n=this.compare,r=this.length>>1,a=t[e];e<r;){var i=1+(e<<1),o=t[i],s=i+1;if(s<this.length&&n(t[s],o)<0&&(i=s,o=t[s]),n(o,a)>=0)break;t[e]=o,e=i}t[e]=a}}]),e}();function $u(e,t){return e<t?-1:e>t?1:0}function Qu(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=1/0,a=1/0,i=-1/0,o=-1/0,s=e[0],l=0;l<s.length;l++){var c=s[l];(!l||c.x<r)&&(r=c.x),(!l||c.y<a)&&(a=c.y),(!l||c.x>i)&&(i=c.x),(!l||c.y>o)&&(o=c.y)}var u=Math.min(i-r,o-a),d=u/2,h=new Ku([],ed);if(0===u)return new b(r,a);for(var f=r;f<i;f+=u)for(var p=a;p<o;p+=u)h.push(new td(f+d,p+d,d,e));for(var m=function(e){for(var t=0,n=0,r=0,a=e[0],i=0,o=a.length,s=o-1;i<o;s=i++){var l=a[i],c=a[s],u=l.x*c.y-c.x*l.y;n+=(l.x+c.x)*u,r+=(l.y+c.y)*u,t+=3*u}return new td(n/t,r/t,0,e)}(e),v=h.length;h.length;){var g=h.pop();(g.d>m.d||!m.d)&&(m=g,n&&console.log("found best %d after %d probes",Math.round(1e4*g.d)/1e4,v)),g.max-m.d<=t||(d=g.h/2,h.push(new td(g.p.x-d,g.p.y-d,d,e)),h.push(new td(g.p.x+d,g.p.y-d,d,e)),h.push(new td(g.p.x-d,g.p.y+d,d,e)),h.push(new td(g.p.x+d,g.p.y+d,d,e)),v+=4)}return n&&(console.log("num probes: ".concat(v)),console.log("best distance: ".concat(m.d))),m.p}function ed(e,t){return t.max-e.max}function td(e,t,n,r){this.p=new b(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,a=0;a<t.length;a++)for(var i=t[a],o=0,s=i.length,l=s-1;o<s;l=o++){var c=i[o],u=i[l];c.y>e.y!=u.y>e.y&&e.x<(u.x-c.x)*(e.y-c.y)/(u.y-c.y)+c.x&&(n=!n),r=Math.min(r,Do(e,c,u))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}e.aq=void 0,(Ju=e.aq||(e.aq={}))[Ju.center=1]="center",Ju[Ju.left=2]="left",Ju[Ju.right=3]="right",Ju[Ju.top=4]="top",Ju[Ju.bottom=5]="bottom",Ju[Ju["top-left"]=6]="top-left",Ju[Ju["top-right"]=7]="top-right",Ju[Ju["bottom-left"]=8]="bottom-left",Ju[Ju["bottom-right"]=9]="bottom-right";var nd=7,rd=Number.POSITIVE_INFINITY;function ad(e,t){return t[1]!==rd?function(e,t,n){var r=0,a=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":a=n-nd;break;case"bottom-right":case"bottom-left":case"bottom":a=-n+nd}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,a]}(e,t[0],t[1]):function(e,t){var n=0,r=0;t<0&&(t=0);var a=t/Math.SQRT2;switch(e){case"top-right":case"top-left":r=a-nd;break;case"bottom-right":case"bottom-left":r=-a+nd;break;case"bottom":r=-t+nd;break;case"top":r=t-nd}switch(e){case"top-right":case"bottom-right":n=-a;break;case"top-left":case"bottom-left":n=a;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function id(e,t,n){var r,a=e.layout,i=null===(r=a.get("text-variable-anchor-offset"))||void 0===r?void 0:r.evaluate(t,{},n);if(i){for(var o=i.values,s=[],l=0;l<o.length;l+=2){var c=s[l]=o[l],u=o[l+1].map((function(e){return e*ql}));c.startsWith("top")?u[1]-=nd:c.startsWith("bottom")&&(u[1]+=nd),s[l+1]=u}return new gt(s)}var d=a.get("text-variable-anchor");if(d){var h;h=void 0!==e._unevaluatedLayout.getValue("text-radial-offset")?[a.get("text-radial-offset").evaluate(t,{},n)*ql,rd]:a.get("text-offset").evaluate(t,{},n).map((function(e){return e*ql}));var p,m=[],v=f(d);try{for(v.s();!(p=v.n()).done;){var g=p.value;m.push(g,ad(g,h))}}catch(y){v.e(y)}finally{v.f()}return new gt(m)}return null}function od(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function sd(t,n,r,a,i,o,s,l,c,u,d){var p=o.textMaxSize.evaluate(n,{});void 0===p&&(p=s);var m,v=t.layers[0].layout,g=v.get("icon-offset").evaluate(n,{},d),y=cd(r.horizontal),x=s/24,b=t.tilePixelRatio*x,_=t.tilePixelRatio*p/24,w=t.tilePixelRatio*l,k=t.tilePixelRatio*v.get("symbol-spacing"),j=v.get("text-padding")*t.tilePixelRatio,S=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=e.get("icon-padding").evaluate(t,{},n),i=a&&a.values;return[i[0]*r,i[1]*r,i[2]*r,i[3]*r]}(v,n,d,t.tilePixelRatio),C=v.get("text-max-angle")/180*Math.PI,N="viewport"!==v.get("text-rotation-alignment")&&"point"!==v.get("symbol-placement"),E="map"===v.get("icon-rotation-alignment")&&"point"!==v.get("symbol-placement"),T=v.get("symbol-placement"),I=k/2,A=v.get("icon-text-fit");a&&"none"!==A&&(t.allowVerticalPlacement&&r.vertical&&(m=Fc(a,r.vertical,A,v.get("icon-text-fit-padding"),g,x)),y&&(a=Fc(a,y,A,v.get("icon-text-fit-padding"),g,x)));var P=function(l,f){f.x<0||f.x>=yo||f.y<0||f.y>=yo||function(t,n,r,a,i,o,s,l,c,u,d,f,p,m,v,g,y,x,b,_,w,k,j,S,C){var N,E,T,I,A=t.addToLineVertexArray(n,r),P=0,M=0,D=0,L=0,O=-1,z=-1,F={},B=Ki("");if(t.allowVerticalPlacement&&a.vertical){var Z=l.layout.get("text-rotate").evaluate(w,{},S)+90;T=new Xu(c,n,u,d,f,a.vertical,p,m,v,Z),s&&(I=new Xu(c,n,u,d,f,s,y,x,v,Z))}if(i){var U=l.layout.get("icon-rotate").evaluate(w,{}),V="none"!==l.layout.get("icon-text-fit"),q=qu(i,U,j,V),H=s?qu(s,U,j,V):void 0;E=new Xu(c,n,u,d,f,i,y,x,!1,U),P=4*q.length;var W=t.iconSizeData,Y=null;"source"===W.kind?(Y=[Zc*l.layout.get("icon-size").evaluate(w,{})])[0]>Uc&&R("".concat(t.layerIds[0],': Value for "icon-size" is >= ').concat(Bc,'. Reduce your "icon-size".')):"composite"===W.kind&&((Y=[Zc*k.compositeIconSizes[0].evaluate(w,{},S),Zc*k.compositeIconSizes[1].evaluate(w,{},S)])[0]>Uc||Y[1]>Uc)&&R("".concat(t.layerIds[0],': Value for "icon-size" is >= ').concat(Bc,'. Reduce your "icon-size".')),t.addSymbols(t.icon,q,Y,_,b,w,e.ai.none,n,A.lineStartIndex,A.lineLength,-1,S),O=t.icon.placedSymbolArray.length-1,H&&(M=4*H.length,t.addSymbols(t.icon,H,Y,_,b,w,e.ai.vertical,n,A.lineStartIndex,A.lineLength,-1,S),z=t.icon.placedSymbolArray.length-1)}for(var G=Object.keys(a.horizontal),J=0,X=G;J<X.length;J++){var K=X[J],$=a.horizontal[K];if(!N){B=Ki($.text);var Q=l.layout.get("text-rotate").evaluate(w,{},S);N=new Xu(c,n,u,d,f,$,p,m,v,Q)}var ee=1===$.positionedLines.length;if(D+=ld(t,n,$,o,l,v,w,g,A,a.vertical?e.ai.horizontal:e.ai.horizontalOnly,ee?G:[K],F,O,k,S),ee)break}a.vertical&&(L+=ld(t,n,a.vertical,o,l,v,w,g,A,e.ai.vertical,["vertical"],F,z,k,S));var te=N?N.boxStartIndex:t.collisionBoxArray.length,ne=N?N.boxEndIndex:t.collisionBoxArray.length,re=T?T.boxStartIndex:t.collisionBoxArray.length,ae=T?T.boxEndIndex:t.collisionBoxArray.length,ie=E?E.boxStartIndex:t.collisionBoxArray.length,oe=E?E.boxEndIndex:t.collisionBoxArray.length,se=I?I.boxStartIndex:t.collisionBoxArray.length,le=I?I.boxEndIndex:t.collisionBoxArray.length,ce=-1,ue=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};ce=ue(N,ce),ce=ue(T,ce),ce=ue(E,ce);var de=(ce=ue(I,ce))>-1?1:0;de&&(ce*=C/ql),t.glyphOffsetArray.length>=eu.MAX_GLYPHS&&R("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==w.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,w.sortKey);var he=id(l,w,S),fe=function(t,n){var r=t.length,a=null==n?void 0:n.values;if((null==a?void 0:a.length)>0)for(var i=0;i<a.length;i+=2){var o=a[i+1];t.emplaceBack(e.aq[a[i]],o[0],o[1])}return[r,t.length]}(t.textAnchorOffsets,he),pe=h(fe,2),me=pe[0],ve=pe[1];t.symbolInstances.emplaceBack(n.x,n.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical||-1,O,z,B,te,ne,re,ae,ie,oe,se,le,u,D,L,P,M,de,0,p,ce,me,ve)}(t,f,l,r,a,i,m,t.layers[0],t.collisionBoxArray,n.index,n.sourceLayerIndex,t.index,b,[j,j,j,j],N,c,w,S,E,g,n,o,u,d,s)};if("line"===T){var M,D=f(Du(n.geometry,0,0,yo,yo));try{for(D.s();!(M=D.n()).done;){var L,O=M.value,z=Zu(O,k,C,r.vertical||y,a,24,_,t.overscaling,yo),F=f(z);try{for(F.s();!(L=F.n()).done;){var B=L.value;y&&ud(t,y.text,I,B)||P(O,B)}}catch(ae){F.e(ae)}finally{F.f()}}}catch(ae){D.e(ae)}finally{D.f()}}else if("line-center"===T){var Z,U=f(n.geometry);try{for(U.s();!(Z=U.n()).done;){var V=Z.value;if(V.length>1){var q=Bu(V,C,r.vertical||y,a,24,_);q&&P(V,q)}}}catch(ae){U.e(ae)}finally{U.f()}}else if("Polygon"===n.type){var H,W=f(Vs(n.geometry,0));try{for(W.s();!(H=W.n()).done;){var Y=H.value,G=Qu(Y,16);P(Y[0],new Lu(G.x,G.y,0))}}catch(ae){W.e(ae)}finally{W.f()}}else if("LineString"===n.type){var J,X=f(n.geometry);try{for(X.s();!(J=X.n()).done;){var K=J.value;P(K,new Lu(K[0].x,K[0].y,0))}}catch(ae){X.e(ae)}finally{X.f()}}else if("Point"===n.type){var $,Q=f(n.geometry);try{for(Q.s();!($=Q.n()).done;){var ee,te=$.value,ne=f(te);try{for(ne.s();!(ee=ne.n()).done;){var re=ee.value;P([re],new Lu(re.x,re.y,0))}}catch(ae){ne.e(ae)}finally{ne.f()}}}catch(ae){Q.e(ae)}finally{Q.f()}}}function ld(e,t,n,r,a,i,o,s,l,c,h,p,m,v,g){var y=function(e,t,n,r,a,i,o,s){var l,c=r.layout.get("text-rotate").evaluate(i,{})*Math.PI/180,h=[],p=f(t.positionedLines);try{for(p.s();!(l=p.n()).done;){var m,v=l.value,g=f(v.positionedGlyphs);try{for(g.s();!(m=g.n()).done;){var y=m.value;if(y.rect){var x=y.rect||{},_=yc+1,w=!0,k=1,j=0,S=(a||s)&&y.vertical,C=y.metrics.advance*y.scale/2;if(s&&t.verticalizable&&(j=v.lineOffset/2-(y.imageName?-(ql-y.metrics.width*y.scale)/2:(y.scale-1)*ql)),y.imageName){var N=o[y.imageName];w=N.sdf,k=N.pixelRatio,_=_c/k}var E=a?[y.x+C,y.y]:[0,0],T=a?[0,0]:[y.x+C+n[0],y.y+n[1]-j],I=[0,0];S&&(I=T,T=[0,0]);var A=y.metrics.isDoubleResolution?2:1,P=(y.metrics.left-_)*y.scale-C+T[0],M=(-y.metrics.top-_)*y.scale+T[1],D=P+x.w/A*y.scale/k,L=M+x.h/A*y.scale/k,O=new b(P,M),z=new b(D,M),R=new b(P,L),F=new b(D,L);if(S){var B=new b(-C,C-jc),Z=-Math.PI/2,U=ql/2-C,V=new b(5-jc-U,-(y.imageName?U:0)),q=u(b,d(I));O._rotateAround(Z,B)._add(V)._add(q),z._rotateAround(Z,B)._add(V)._add(q),R._rotateAround(Z,B)._add(V)._add(q),F._rotateAround(Z,B)._add(V)._add(q)}if(c){var H=Math.sin(c),W=Math.cos(c),Y=[W,-H,H,W];O._matMult(Y),z._matMult(Y),R._matMult(Y),F._matMult(Y)}var G=new b(0,0),J=new b(0,0);h.push({tl:O,tr:z,bl:R,br:F,tex:x,writingMode:t.writingMode,glyphOffset:E,sectionIndex:y.sectionIndex,isSDF:w,pixelOffsetTL:G,pixelOffsetBR:J,minFontScaleX:0,minFontScaleY:0})}}}catch(X){g.e(X)}finally{g.f()}}}catch(X){p.e(X)}finally{p.f()}return h}(0,n,s,a,i,o,r,e.allowVerticalPlacement),x=e.textSizeData,_=null;"source"===x.kind?(_=[Zc*a.layout.get("text-size").evaluate(o,{})])[0]>Uc&&R("".concat(e.layerIds[0],': Value for "text-size" is >= ').concat(Bc,'. Reduce your "text-size".')):"composite"===x.kind&&((_=[Zc*v.compositeTextSizes[0].evaluate(o,{},g),Zc*v.compositeTextSizes[1].evaluate(o,{},g)])[0]>Uc||_[1]>Uc)&&R("".concat(e.layerIds[0],': Value for "text-size" is >= ').concat(Bc,'. Reduce your "text-size".')),e.addSymbols(e.text,y,_,s,i,o,c,t,l.lineStartIndex,l.lineLength,m,g);var w,k=f(h);try{for(k.s();!(w=k.n()).done;)p[w.value]=e.text.placedSymbolArray.length-1}catch(j){k.e(j)}finally{k.f()}return 4*y.length}function cd(e){for(var t in e)return e[t];return null}function ud(e,t,n,r){var a=e.compareText;if(t in a){for(var i=a[t],o=i.length-1;o>=0;o--)if(r.dist(i[o])<n)return!0}else a[t]=[];return a[t].push(r),!1}var dd,hd=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],fd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,a=arguments.length>3?arguments[3]:void 0;if(m(this,e),isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var i=hd.indexOf(this.ArrayType),o=2*t*this.ArrayType.BYTES_PER_ELEMENT,s=t*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-s%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(r,"."));a&&a instanceof ArrayBuffer?(this.data=a,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+s+l,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+o+s+l),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+s+l,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t)}return p(e,[{key:"add",value:function(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}},{key:"finish",value:function(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return pd(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}},{key:"range",value:function(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var a=this.ids,i=this.coords,o=this.nodeSize,s=[0,a.length-1,0],l=[];s.length;){var c=s.pop()||0,u=s.pop()||0,d=s.pop()||0;if(u-d<=o)for(var h=d;h<=u;h++){var f=i[2*h],p=i[2*h+1];f>=e&&f<=n&&p>=t&&p<=r&&l.push(a[h])}else{var m=d+u>>1,v=i[2*m],g=i[2*m+1];v>=e&&v<=n&&g>=t&&g<=r&&l.push(a[m]),(0===c?e<=v:t<=g)&&(s.push(d),s.push(m-1),s.push(1-c)),(0===c?n>=v:r>=g)&&(s.push(m+1),s.push(u),s.push(1-c))}}return l}},{key:"within",value:function(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var r=this.ids,a=this.coords,i=this.nodeSize,o=[0,r.length-1,0],s=[],l=n*n;o.length;){var c=o.pop()||0,u=o.pop()||0,d=o.pop()||0;if(u-d<=i)for(var h=d;h<=u;h++)yd(a[2*h],a[2*h+1],e,t)<=l&&s.push(r[h]);else{var f=d+u>>1,p=a[2*f],m=a[2*f+1];yd(p,m,e,t)<=l&&s.push(r[f]),(0===c?e-n<=p:t-n<=m)&&(o.push(d),o.push(f-1),o.push(1-c)),(0===c?e+n>=p:t+n>=m)&&(o.push(f+1),o.push(u),o.push(1-c))}}return s}}],[{key:"from",value:function(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var n=new Uint8Array(t,0,2),r=h(n,2),a=r[0],i=r[1];if(219!==a)throw new Error("Data does not appear to be in a KDBush format.");var o=i>>4;if(1!==o)throw new Error("Got v".concat(o," data when expected v1."));var s=hd[15&i];if(!s)throw new Error("Unrecognized array type.");var l=new Uint16Array(t,2,1),c=h(l,1)[0],u=new Uint32Array(t,4,1);return new e(h(u,1)[0],c,s,t)}}]),e}();function pd(e,t,n,r,a,i){if(!(a-r<=n)){var o=r+a>>1;md(e,t,o,r,a,i),pd(e,t,n,r,o-1,1-i),pd(e,t,n,o+1,a,1-i)}}function md(e,t,n,r,a,i){for(;a>r;){if(a-r>600){var o=a-r+1,s=n-r+1,l=Math.log(o),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(o-c)/o)*(s-o/2<0?-1:1);md(e,t,n,Math.max(r,Math.floor(n-s*c/o+u)),Math.min(a,Math.floor(n+(o-s)*c/o+u)),i)}var d=t[2*n+i],h=r,f=a;for(vd(e,t,r,n),t[2*a+i]>d&&vd(e,t,r,a);h<f;){for(vd(e,t,h,f),h++,f--;t[2*h+i]<d;)h++;for(;t[2*f+i]>d;)f--}t[2*r+i]===d?vd(e,t,r,f):vd(e,t,++f,a),f<=n&&(r=f+1),n<=f&&(a=f-1)}}function vd(e,t,n,r){gd(e,n,r),gd(t,2*n,2*r),gd(t,2*n+1,2*r+1)}function gd(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function yd(e,t,n,r){var a=e-n,i=t-r;return a*a+i*i}e.bh=void 0,(dd=e.bh||(e.bh={})).create="create",dd.load="load",dd.fullLoad="fullLoad";var xd=null,bd=[],_d=1e3/60,wd="loadTime",kd="fullLoadTime",jd={mark:function(e){performance.mark(e)},frame:function(e){var t=e;null!=xd&&bd.push(t-xd),xd=t},clearMetrics:function(){for(var t in xd=null,bd=[],performance.clearMeasures(wd),performance.clearMeasures(kd),e.bh)performance.clearMarks(e.bh[t])},getPerformanceMetrics:function(){performance.measure(wd,e.bh.create,e.bh.load),performance.measure(kd,e.bh.create,e.bh.fullLoad);var t=performance.getEntriesByName(wd)[0].duration,n=performance.getEntriesByName(kd)[0].duration,r=bd.length,a=1/(bd.reduce((function(e,t){return e+t}),0)/r/1e3),i=bd.filter((function(e){return e>_d})).reduce((function(e,t){return e+(t-_d)/_d}),0);return{loadTime:t,fullLoadTime:n,fps:a,percentDroppedFrames:i/(r+i)*100,totalFrames:r}}};e.$=function(e,t,n){var r,a,i,o,s,l,c,u,d,h,f,p,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],f=t[10],p=t[11],e[0]=r=t[0],e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=d,e[9]=h,e[10]=f,e[11]=p,e[12]=r*m+s*v+d*g+t[12],e[13]=a*m+l*v+h*g+t[13],e[14]=i*m+c*v+f*g+t[14],e[15]=o*m+u*v+p*g+t[15]),e},e.A=Vo,e.B=sn,e.C=function(){function e(t,n,r){var a=this;m(this,e),this.receive=function(e){var t=e.data,n=t.id;if(n&&(!t.targetMapId||a.mapId===t.targetMapId))if("<cancel>"===t.type){delete a.tasks[n];var r=a.cancelCallbacks[n];delete a.cancelCallbacks[n],r&&r()}else Z()||t.mustQueue?(a.tasks[n]=t,a.taskQueue.push(n),a.invoker.trigger()):a.processTask(n,t)},this.process=function(){if(a.taskQueue.length){var e=a.taskQueue.shift(),t=a.tasks[e];delete a.tasks[e],a.taskQueue.length&&a.invoker.trigger(),t&&a.processTask(e,t)}},this.target=t,this.parent=n,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new du(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Z()?t:window}return p(e,[{key:"send",value:function(e,t,n,r){var a=this,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[o]=n);var s=[],l={id:o,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:ea(t,s)};return this.target.postMessage(l,{transfer:s}),{cancel:function(){n&&delete a.callbacks[o],a.target.postMessage({id:o,type:"<cancel>",targetMapId:r,sourceMapId:a.mapId})}}}},{key:"processTask",value:function(e,t){var n=this;if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(ta(t.error)):r(null,ta(t.data)))}else{var a=!1,i=[],o=t.hasCallback?function(t,r){a=!0,delete n.cancelCallbacks[e];var o={id:e,type:"<response>",sourceMapId:n.mapId,error:t?ea(t):null,data:ea(r,i)};n.target.postMessage(o,{transfer:i})}:function(e){a=!0},s=null,l=ta(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,l,o);else if("getWorkerSource"in this.parent){var c=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,c[0],l.source)[c[1]](l,o)}else o(new Error("Could not find function ".concat(t.type)));!a&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}}},{key:"remove",value:function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}}]),e}(),e.D=Ma,e.E=ce,e.F=function(e,t){for(var n={},r=0;r<t.length;r++){var a=t[r];a in e&&(n[a]=e[a])}return n},e.G=vu,e.H=gu,e.I=wc,e.J=C,e.K=N,e.L=fu,e.M=J,e.N=yo,e.O=Su,e.P=b,e.Q=qa,e.R=as,e.S=Ui,e.T=Na,e.U=_u,e.V=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(Ga),e.W=ku,e.X=function(e,t){var n=window.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(var r=0;r<e.length;r++){var a=window.document.createElement("source");ae(e[r])||(n.crossOrigin="Anonymous"),a.src=e[r],n.appendChild(a)}return{cancel:function(){}}},e.Y=we,e.Z=function(){var e=new Vo(16);return Vo!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e._=t,e.a=V,e.a$=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(fi),e.a0=function(e,t,n){var r=n[0],a=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.a1=Ho,e.a2=function(){return M++},e.a3=vi,e.a4=eu,e.a5=function(){ka.isLoading()||ka.isLoaded()||"deferred"!==_a()||wa()},e.a6=or,e.a7=wo,e.a8=ja,e.a9=Tu,e.aA=ya,e.aB=function(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=he(e[r],t[e[r].ref]));return e},e.aC=function(e){if("custom"===e.type)return new uu(e);switch(e.type){case"background":return new su(e);case"circle":return new Jo(e);case"fill":return new Ks(e);case"fill-extrusion":return new _l(e);case"heatmap":return new ss(e);case"hillshade":return new cs(e);case"line":return new Ll(e);case"raster":return new cu(e);case"symbol":return new iu(e)}},e.aD=O,e.aE=function(e,t){if(!e)return[{command:pe.setStyle,args:[t]}];var n=[];try{if(!fe(e.version,t.version))return[{command:pe.setStyle,args:[t]}];fe(e.center,t.center)||n.push({command:pe.setCenter,args:[t.center]}),fe(e.zoom,t.zoom)||n.push({command:pe.setZoom,args:[t.zoom]}),fe(e.bearing,t.bearing)||n.push({command:pe.setBearing,args:[t.bearing]}),fe(e.pitch,t.pitch)||n.push({command:pe.setPitch,args:[t.pitch]}),fe(e.sprite,t.sprite)||n.push({command:pe.setSprite,args:[t.sprite]}),fe(e.glyphs,t.glyphs)||n.push({command:pe.setGlyphs,args:[t.glyphs]}),fe(e.transition,t.transition)||n.push({command:pe.setTransition,args:[t.transition]}),fe(e.light,t.light)||n.push({command:pe.setLight,args:[t.light]});var r={},a=[];!function(e,t,n,r){var a;for(a in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,a)&&(Object.prototype.hasOwnProperty.call(t,a)||ve(a,n,r));for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&(Object.prototype.hasOwnProperty.call(e,a)?fe(e[a],t[a])||("geojson"===e[a].type&&"geojson"===t[a].type&&ye(e,t,a)?n.push({command:pe.setGeoJSONSourceData,args:[a,t[a].data]}):ge(a,t,n,r)):me(a,t,n))}(e.sources,t.sources,a,r);var i=[];e.layers&&e.layers.forEach((function(e){r[e.source]?n.push({command:pe.removeLayer,args:[e.id]}):i.push(e)})),n=n.concat(a),function(e,t,n){t=t||[];var r,a,i,o,s,l,c,u=(e=e||[]).map(be),d=t.map(be),h=e.reduce(_e,{}),f=t.reduce(_e,{}),p=u.slice(),m=Object.create(null);for(r=0,a=0;r<u.length;r++)i=u[r],Object.prototype.hasOwnProperty.call(f,i)?a++:(n.push({command:pe.removeLayer,args:[i]}),p.splice(p.indexOf(i,a),1));for(r=0,a=0;r<d.length;r++)i=d[d.length-1-r],p[p.length-1-r]!==i&&(Object.prototype.hasOwnProperty.call(h,i)?(n.push({command:pe.removeLayer,args:[i]}),p.splice(p.lastIndexOf(i,p.length-a),1)):a++,l=p[p.length-r],n.push({command:pe.addLayer,args:[f[i],l]}),p.splice(p.length-r,0,i),m[i]=!0);for(r=0;r<d.length;r++)if(o=h[i=d[r]],s=f[i],!m[i]&&!fe(o,s))if(fe(o.source,s.source)&&fe(o["source-layer"],s["source-layer"])&&fe(o.type,s.type)){for(c in xe(o.layout,s.layout,n,i,null,pe.setLayoutProperty),xe(o.paint,s.paint,n,i,null,pe.setPaintProperty),fe(o.filter,s.filter)||n.push({command:pe.setFilter,args:[i,s.filter]}),fe(o.minzoom,s.minzoom)&&fe(o.maxzoom,s.maxzoom)||n.push({command:pe.setLayerZoomRange,args:[i,s.minzoom,s.maxzoom]}),o)Object.prototype.hasOwnProperty.call(o,c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?xe(o[c],s[c],n,i,c.slice(6),pe.setPaintProperty):fe(o[c],s[c])||n.push({command:pe.setLayerProperty,args:[i,c,s[c]]}));for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&!Object.prototype.hasOwnProperty.call(o,c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?xe(o[c],s[c],n,i,c.slice(6),pe.setPaintProperty):fe(o[c],s[c])||n.push({command:pe.setLayerProperty,args:[i,c,s[c]]}))}else n.push({command:pe.removeLayer,args:[i]}),l=p[p.lastIndexOf(i)+1],n.push({command:pe.addLayer,args:[s,l]})}(i,t.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:pe.setStyle,args:[t]}]}return n},e.aF=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers.".concat(n,': missing required property "id"')}),void 0===e.render&&t.push({message:"layers.".concat(n,': missing required method "render"')}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers.".concat(n,': property "renderingMode" must be either "2d" or "3d"')}),t},e.aG=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var a in t)if(!e(t[a],n[a]))return!1;return!0}return t===n},e.aH=D,e.aI=L,e.aJ=ba,e.aK=function(e){return e({pluginStatus:va,pluginURL:ga}),ba.on("pluginStateChange",e),e},e.aL=function(e){v(n,e);var t=g(n);function n(e,r){var a;return m(this,n),(a=t.call(this,e,r)).current=0,a}return p(n,[{key:"set",value:function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}}]),n}(no),e.aM=ro,e.aN=function(e){v(n,e);var t=g(n);function n(e,r){var a;return m(this,n),(a=t.call(this,e,r)).current=oo,a}return p(n,[{key:"set",value:function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}}]),n}(no),e.aO=ao,e.aP=function(e){v(n,e);var t=g(n);function n(e,r){var a;return m(this,n),(a=t.call(this,e,r)).current=[0,0,0],a}return p(n,[{key:"set",value:function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}}]),n}(no),e.aQ=function(e){v(n,e);var t=g(n);function n(e,r){var a;return m(this,n),(a=t.call(this,e,r)).current=[0,0],a}return p(n,[{key:"set",value:function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}}]),n}(no),e.aR=io,e.aS=function(e,t,n,r,a,i,o){var s=1/(t-n),l=1/(r-a),c=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*l,e[14]=(o+i)*c,e[15]=1,e},e.aT=dt,e.aU=Yo,e.aV=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(ai),e.aW=Zl,e.aX=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(oi),e.aY=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.aZ=is,e.a_=Ni,e.aa=function(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,r,a){var i=r||a;return t[n]=!i||i.toLowerCase(),""})),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t},e.ab=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},e.ac=function(e){if(null==U){var t=e.navigator?e.navigator.userAgent:null;U=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return U},e.ad=I,e.ae=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],l=t[3],c=t[4],u=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+c*r,e[1]=o*a+u*r,e[2]=s*a+d*r,e[3]=l*a+h*r,e[4]=c*a-i*r,e[5]=u*a-o*r,e[6]=d*a-s*r,e[7]=h*a-l*r,e},e.af=function(e){var t=new Vo(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.ag=Go,e.ah=function(e,t){var n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){var a=e.interpolationType,i=e.minZoom,o=e.maxZoom,s=a?I(ln.interpolationFactor(a,t,i,o),0,1):0;"camera"===e.kind?r=sn.number(e.minSize,e.maxSize,s):n=s}return{uSizeT:n,uSize:r}},e.aj=function(e,t,n){var r=t.uSize,a=t.uSizeT,i=n.lowerSize,o=n.upperSize;return"source"===e.kind?i/Zc:"composite"===e.kind?sn.number(i/Zc,o/Zc,a):r},e.ak=Gc,e.al=function(e,t,n,r){var a=t.y-e.y,i=t.x-e.x,o=r.y-n.y,s=r.x-n.x,l=o*i-s*a;if(0===l)return null;var c=(s*(e.y-n.y)-o*(e.x-n.x))/l;return new b(e.x+c*i,e.y+c*a)},e.am=Du,e.an=No,e.ao=qo,e.ap=ql,e.ar=qc,e.as=function(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],f=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*o,x=n*l-a*o,b=n*c-i*o,_=r*l-a*s,w=r*c-i*s,k=a*c-i*l,j=u*m-d*p,S=u*v-h*p,C=u*g-f*p,N=d*v-h*m,E=d*g-f*m,T=h*g-f*v,I=y*T-x*E+b*N+_*C-w*S+k*j;return I?(e[0]=(s*T-l*E+c*N)*(I=1/I),e[1]=(a*E-r*T-i*N)*I,e[2]=(m*k-v*w+g*_)*I,e[3]=(h*w-d*k-f*_)*I,e[4]=(l*C-o*T-c*S)*I,e[5]=(n*T-a*C+i*S)*I,e[6]=(v*b-p*k-g*x)*I,e[7]=(u*k-h*b+f*x)*I,e[8]=(o*E-s*C+c*j)*I,e[9]=(r*C-n*E-i*j)*I,e[10]=(p*w-m*b+g*y)*I,e[11]=(d*b-u*w-f*y)*I,e[12]=(s*S-o*N-l*j)*I,e[13]=(n*N-r*S+a*j)*I,e[14]=(m*x-p*_-v*y)*I,e[15]=(u*_-d*x+h*y)*I,e):null},e.at=od,e.au=Oc,e.av=fd,e.aw=function(){var e={},t=ue.$version;for(var n in ue.$root){var r=ue.$root[n];if(r.required){var a=null;null!=(a="version"===n?t:"array"===r.type?[]:{})&&(e[n]=a)}}return e},e.ax=pe,e.ay=na,e.az=Q,e.b=function(e,t){var n=new Blob([new Uint8Array(e)],{type:"image/png"});createImageBitmap(n).then((function(e){t(null,e)})).catch((function(e){t(new Error("Could not load image because of ".concat(e.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")))}))},e.b0=Fi,e.b1=function(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],m=e[13],v=e[14],g=e[15],y=t[0],x=t[1],b=t[2],_=t[3],w=t[4],k=t[5],j=t[6],S=t[7],C=t[8],N=t[9],E=t[10],T=t[11],I=t[12],A=t[13],P=t[14],M=t[15];return Math.abs(n-y)<=Uo*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-x)<=Uo*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(a-b)<=Uo*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(i-_)<=Uo*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-w)<=Uo*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-k)<=Uo*Math.max(1,Math.abs(s),Math.abs(k))&&Math.abs(l-j)<=Uo*Math.max(1,Math.abs(l),Math.abs(j))&&Math.abs(c-S)<=Uo*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(u-C)<=Uo*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(d-N)<=Uo*Math.max(1,Math.abs(d),Math.abs(N))&&Math.abs(h-E)<=Uo*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(f-T)<=Uo*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(p-I)<=Uo*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(m-A)<=Uo*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(v-P)<=Uo*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(g-M)<=Uo*Math.max(1,Math.abs(g),Math.abs(M))},e.b2=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.b3=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},e.b4=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.b5=A,e.b6=ju,e.b7=yu,e.b8=function(e,t,n,r,a){var i,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(e[10]=(a+r)*(i=1/(r-a)),e[14]=2*a*r*i):(e[10]=-1,e[14]=-2*r),e},e.b9=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[4],o=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+c*r,e[5]=o*a+u*r,e[6]=s*a+d*r,e[7]=l*a+h*r,e[8]=c*a-i*r,e[9]=u*a-o*r,e[10]=d*a-s*r,e[11]=h*a-l*r,e},e.bA=r,e.bB=Hl,e.bC=$n,e.bD=ka,e.ba=E,e.bb=T,e.bc=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.bd=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(Ya),e.be=hu,e.bf=xu,e.bg=jd,e.bi=$,e.bj=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(va===ha||va===fa||va===pa)throw new Error("setRTLTextPlugin cannot be called multiple times.");ga=X.resolveURL(e),va=ha,ma=t,xa(),n||wa()},e.bk=_a,e.bl=function(e,t){for(var n={},r=0;r<e.length;r++){var a=t&&t[e[r].id]||mr(e[r]);t&&(t[e[r].id]=a);var i=n[a];i||(i=n[a]=[]),i.push(e[r])}var o=[];for(var s in n)o.push(n[s]);return o},e.bm=Kr,e.bn=Eu,e.bo=Iu,e.bp=kc,e.bq=function(t){t.bucket.createArrays(),t.bucket.tilePixelRatio=yo/(512*t.bucket.overscaling),t.bucket.compareText={},t.bucket.iconsNeedLinear=!1;var n=t.bucket.layers[0],r=n.layout,a=n._unevaluatedLayout._values,i={layoutIconSize:a["icon-size"].possiblyEvaluate(new ja(t.bucket.zoom+1),t.canonical),layoutTextSize:a["text-size"].possiblyEvaluate(new ja(t.bucket.zoom+1),t.canonical),textMaxSize:a["text-size"].possiblyEvaluate(new ja(18))};if("composite"===t.bucket.textSizeData.kind){var o=t.bucket.textSizeData,s=o.minZoom,l=o.maxZoom;i.compositeTextSizes=[a["text-size"].possiblyEvaluate(new ja(s),t.canonical),a["text-size"].possiblyEvaluate(new ja(l),t.canonical)]}if("composite"===t.bucket.iconSizeData.kind){var c=t.bucket.iconSizeData,u=c.minZoom,d=c.maxZoom;i.compositeIconSizes=[a["icon-size"].possiblyEvaluate(new ja(u),t.canonical),a["icon-size"].possiblyEvaluate(new ja(d),t.canonical)]}var h,p=r.get("text-line-height")*ql,m="viewport"!==r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement"),v=r.get("text-keep-upright"),g=r.get("text-size"),y=f(t.bucket.features);try{var x=function(){var a,o=h.value,s=r.get("text-font").evaluate(o,{},t.canonical).join(","),l=g.evaluate(o,{},t.canonical),c=i.layoutTextSize.evaluate(o,{},t.canonical),u=i.layoutIconSize.evaluate(o,{},t.canonical),d={horizontal:{},vertical:void 0},y=o.text,x=[0,0];if(y){var b=y.toString(),_=r.get("text-letter-spacing").evaluate(o,{},t.canonical)*ql,w=ia(b)?_:0,k=r.get("text-anchor").evaluate(o,{},t.canonical),j=id(n,o,t.canonical);if(!j){var S=r.get("text-radial-offset").evaluate(o,{},t.canonical);x=S?ad(k,[S*ql,rd]):r.get("text-offset").evaluate(o,{},t.canonical).map((function(e){return e*ql}))}var C=m?"center":r.get("text-justify").evaluate(o,{},t.canonical),N=r.get("symbol-placement"),E="point"===N?r.get("text-max-width").evaluate(o,{},t.canonical)*ql:0,T=function(){t.bucket.allowVerticalPlacement&&aa(b)&&(d.vertical=Nc(y,t.glyphMap,t.glyphPositions,t.imagePositions,s,E,p,k,"left",w,x,e.ai.vertical,!0,N,c,l))};if(!m&&j){var I=new Set;if("auto"===C)for(var A=0;A<j.values.length;A+=2)I.add(od(j.values[A]));else I.add(C);var P,M=!1,D=f(I);try{for(D.s();!(P=D.n()).done;){var L=P.value;if(!d.horizontal[L])if(M)d.horizontal[L]=d.horizontal[0];else{var O=Nc(y,t.glyphMap,t.glyphPositions,t.imagePositions,s,E,p,"center",L,w,x,e.ai.horizontal,!1,N,c,l);O&&(d.horizontal[L]=O,M=1===O.positionedLines.length)}}}catch(U){D.e(U)}finally{D.f()}T()}else{"auto"===C&&(C=od(k));var z=Nc(y,t.glyphMap,t.glyphPositions,t.imagePositions,s,E,p,k,C,w,x,e.ai.horizontal,!1,N,c,l);z&&(d.horizontal[C]=z),T(),aa(b)&&m&&v&&(d.vertical=Nc(y,t.glyphMap,t.glyphPositions,t.imagePositions,s,E,p,k,C,w,x,e.ai.vertical,!1,N,c,l))}}var F=!1;if(o.icon&&o.icon.name){var B=t.imageMap[o.icon.name];B&&(a=Rc(t.imagePositions[o.icon.name],r.get("icon-offset").evaluate(o,{},t.canonical),r.get("icon-anchor").evaluate(o,{},t.canonical)),F=!!B.sdf,void 0===t.bucket.sdfIcons?t.bucket.sdfIcons=F:t.bucket.sdfIcons!==F&&R("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(B.pixelRatio!==t.bucket.pixelRatio||0!==r.get("icon-rotate").constantOr(1))&&(t.bucket.iconsNeedLinear=!0))}var Z=cd(d.horizontal)||d.vertical;t.bucket.iconsInText=!!Z&&Z.iconsInText,(Z||a)&&sd(t.bucket,o,d,a,t.imageMap,i,c,u,x,F,t.canonical)};for(y.s();!(h=y.n()).done;)x()}catch(b){y.e(b)}finally{y.f()}t.showCollisionBoxes&&t.bucket.generateCollisionDebugBuffers()},e.br=Al,e.bs=Js,e.bt=gl,e.bu=function(){function e(t){m(this,e),this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},performance.mark(this._marks.start)}return p(e,[{key:"finish",value:function(){performance.mark(this._marks.end);var e=performance.getEntriesByName(this._marks.measure);return 0===e.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),e=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),e}}]),e}(),e.bv=fc,e.bw=tl,e.bx=function(e,n,r,a,i){return t(this,void 0,void 0,x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!N()){t.next=9;break}return t.prev=1,t.next=4,J(e,n,r,a,i);case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t.catch(1);case 9:return t.abrupt("return",function(e,t,n,r,a){var i=e.width,o=e.height;q&&H||(q=new OffscreenCanvas(i,o),H=q.getContext("2d",{willReadFrequently:!0})),q.width=i,q.height=o,H.drawImage(e,0,0,i,o);var s=H.getImageData(t,n,r,a);return H.clearRect(0,0,i,o),s.data}(e,n,r,a,i));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))},e.by=Nu,e.bz=n,e.c=K,e.d=function(e,t){var n=new Image;n.onload=function(){t(null,n),URL.revokeObjectURL(n.src),n.onload=null,window.requestAnimationFrame((function(){n.src=G}))},n.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var r=new Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?URL.createObjectURL(r):G},e.e=P,e.f=function(e,t){return ne(P(e,{type:"json"}),t)},e.g=ee,e.h=X,e.i=Z,e.j=le,e.k=se,e.l=re,e.m=ne,e.n=function(e){return new fc(e).readFields(mc,[])},e.o=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,a=new Array(e.length),i=null;e.forEach((function(e,o){t(e,(function(e,t){e&&(i=e),a[o]=t,0==--r&&n(i,a)}))}))},e.p=xc,e.q=rs,e.r=Ra,e.s=ae,e.t=Hr,e.u=ra,e.v=ue,e.w=R,e.x=Gr,e.y=qr,e.z=function(e){var t=h(e,3),n=t[0],r=t[1],a=t[2];return r+=90,r*=Math.PI/180,a*=Math.PI/180,{x:n*Math.cos(r)*Math.sin(a),y:n*Math.sin(r)*Math.sin(a),z:n*Math.cos(a)}}})),b(["./shared"],(function(e){var t=function(){function t(e){m(this,t),this.keyCache={},e&&this.replace(e)}return p(t,[{key:"replace",value:function(e){this._layerConfigs={},this._layers={},this.update(e,[])}},{key:"update",value:function(t,n){var r,a=this,i=f(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;this._layerConfigs[o.id]=o;var s=this._layers[o.id]=e.aC(o);s._featureFilter=e.a6(s.filter),this.keyCache[o.id]&&delete this.keyCache[o.id]}}catch(_){i.e(_)}finally{i.f()}var l,c=f(n);try{for(c.s();!(l=c.n()).done;){var u=l.value;delete this.keyCache[u],delete this._layerConfigs[u],delete this._layers[u]}}catch(_){c.e(_)}finally{c.f()}this.familiesBySource={};var d,h=e.bl(Object.values(this._layerConfigs),this.keyCache),p=f(h);try{for(p.s();!(d=p.n()).done;){var m=d.value.map((function(e){return a._layers[e.id]})),v=m[0];if("none"!==v.visibility){var g=v.source||"",y=this.familiesBySource[g];y||(y=this.familiesBySource[g]={});var x=v.sourceLayer||"_geojsonTileLayer",b=y[x];b||(b=y[x]=[]),b.push(m)}}}catch(_){p.e(_)}finally{p.f()}}}]),t}(),n=p((function t(n){m(this,t);var r={},a=[];for(var i in n){var o=n[i],s=r[i]={};for(var l in o){var c=o[+l];if(c&&0!==c.bitmap.width&&0!==c.bitmap.height){var u={x:0,y:0,w:c.bitmap.width+2,h:c.bitmap.height+2};a.push(u),s[l]={rect:u,metrics:c.metrics}}}}var d=e.p(a),h=d.w,f=d.h,p=new e.q({width:h||1,height:f||1});for(var v in n){var g=n[v];for(var y in g){var x=g[+y];if(x&&0!==x.bitmap.width&&0!==x.bitmap.height){var b=r[v][y].rect;e.q.copy(x.bitmap,p,{x:0,y:0},{x:b.x+1,y:b.y+1},x.bitmap)}}}this.image=p,this.positions=r}));e.bm("GlyphAtlas",n);var r=function(){function t(n){m(this,t),this.tileID=new e.O(n.tileID.overscaledZ,n.tileID.wrap,n.tileID.canonical.z,n.tileID.canonical.x,n.tileID.canonical.y),this.uid=n.uid,this.zoom=n.zoom,this.pixelRatio=n.pixelRatio,this.tileSize=n.tileSize,this.source=n.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=n.showCollisionBoxes,this.collectResourceTiming=!!n.collectResourceTiming,this.returnDependencies=!!n.returnDependencies,this.promoteId=n.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}return p(t,[{key:"parse",value:function(t,r,i,o,s){var l=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.a3;var c=new e.bn(Object.keys(t.layers).sort()),u=new e.bo(this.tileID,this.promoteId);u.bucketLayerIDs=[];var d,h,p,m,v={},g={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:i},y=r.familiesBySource[this.source];for(var x in y){var b=t.layers[x];if(b){1===b.version&&e.w('Vector tile source "'.concat(this.source,'" layer "').concat(x,'" does not use vector tile spec v2 and therefore may have some rendering errors.'));for(var _=c.encode(x),w=[],k=0;k<b.length;k++){var j=b.feature(k),S=u.getId(j,x);w.push({feature:j,id:S,index:k,sourceLayerIndex:_})}var C,N=f(y[x]);try{for(N.s();!(C=N.n()).done;){var E=C.value,T=E[0];T.source!==this.source&&e.w("layer.source = ".concat(T.source," does not equal this.source = ").concat(this.source)),T.minzoom&&this.zoom<Math.floor(T.minzoom)||T.maxzoom&&this.zoom>=T.maxzoom||"none"!==T.visibility&&(a(E,this.zoom,i),(v[T.id]=T.createBucket({index:u.bucketLayerIDs.length,layers:E,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_,sourceID:this.source})).populate(w,g,this.tileID.canonical),u.bucketLayerIDs.push(E.map((function(e){return e.id}))))}}catch(L){N.e(L)}finally{N.f()}}}var I=e.aH(g.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));this.inFlightDependencies.forEach((function(e){return null==e?void 0:e.cancel()})),this.inFlightDependencies=[];var A=++this.dependencySentinel;Object.keys(I).length?this.inFlightDependencies.push(o.send("getGlyphs",{uid:this.uid,stacks:I,source:this.source,tileID:this.tileID,type:"glyphs"},(function(e,t){A===l.dependencySentinel&&(d||(d=e,h=t,D.call(l)))}))):h={};var P=Object.keys(g.iconDependencies);P.length?this.inFlightDependencies.push(o.send("getImages",{icons:P,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){A===l.dependencySentinel&&(d||(d=e,p=t,D.call(l)))}))):p={};var M=Object.keys(g.patternDependencies);function D(){if(d)return s(d);if(h&&p&&m){var t=new n(h),r=new e.bp(p,m);for(var o in v){var l=v[o];l instanceof e.a4?(a(l.layers,this.zoom,i),e.bq({bucket:l,glyphMap:h,glyphPositions:t.positions,imageMap:p,imagePositions:r.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):l.hasPattern&&(l instanceof e.br||l instanceof e.bs||l instanceof e.bt)&&(a(l.layers,this.zoom,i),l.addFeatures(g,this.tileID.canonical,r.patternPositions))}this.status="done",s(null,{buckets:Object.values(v).filter((function(e){return!e.isEmpty()})),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:r,glyphMap:this.returnDependencies?h:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?t.positions:null})}}M.length?this.inFlightDependencies.push(o.send("getImages",{icons:M,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){A===l.dependencySentinel&&(d||(d=e,m=t,D.call(l)))}))):m={},D.call(this)}}]),t}();function a(t,n,r){var a,i=new e.a8(n),o=f(t);try{for(o.s();!(a=o.n()).done;)a.value.recalculate(i,r)}catch(s){o.e(s)}finally{o.f()}}function s(t,n){var r=e.l(t.request,(function(r,a,i,o){if(r)n(r);else if(a)try{var s=new e.bw.VectorTile(new e.bv(a));n(null,{vectorTile:s,rawData:a,cacheControl:i,expires:o})}catch(e){var l=new Uint8Array(a),c="Unable to parse the tile at ".concat(t.request.url,", ");c+=31===l[0]&&139===l[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":"got error: ".concat(e.messge),n(new Error(c))}}));return function(){r.cancel(),n()}}var l=function(){function t(e,n,r,a){m(this,t),this.actor=e,this.layerIndex=n,this.availableImages=r,this.loadVectorData=a||s,this.fetching={},this.loading={},this.loaded={}}return p(t,[{key:"loadTile",value:function(t,n){var a=this,i=t.uid;this.loading||(this.loading={});var o=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.bu(t.request),s=this.loading[i]=new r(t);s.abort=this.loadVectorData(t,(function(t,r){if(delete a.loading[i],t||!r)return s.status="done",a.loaded[i]=s,n(t);var l=r.rawData,c={};r.expires&&(c.expires=r.expires),r.cacheControl&&(c.cacheControl=r.cacheControl);var u={};if(o){var d=o.finish();d&&(u.resourceTiming=JSON.parse(JSON.stringify(d)))}s.vectorTile=r.vectorTile,s.parse(r.vectorTile,a.layerIndex,a.availableImages,a.actor,(function(t,r){if(delete a.fetching[i],t||!r)return n(t);n(null,e.e({rawTileData:l.slice(0)},r,c,u))})),a.loaded=a.loaded||{},a.loaded[i]=s,a.fetching[i]={rawTileData:l,cacheControl:c,resourceTiming:u}}))}},{key:"reloadTile",value:function(t,n){var r=this,a=this.loaded,i=t.uid;if(a&&a[i]){var o=a[i];o.showCollisionBoxes=t.showCollisionBoxes,"parsing"===o.status?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,(function(t,a){if(t||!a)return n(t,a);var o;if(r.fetching[i]){var s=r.fetching[i],l=s.rawTileData,c=s.cacheControl,u=s.resourceTiming;delete r.fetching[i],o=e.e({rawTileData:l.slice(0)},a,c,u)}else o=a;n(null,o)})):"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,n):n())}}},{key:"abortTile",value:function(e,t){var n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()}},{key:"removeTile",value:function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()}}]),t}(),c=function(){function t(){m(this,t),this.loaded={}}return p(t,[{key:"loadTile",value:function(t,n){return e._(this,void 0,void 0,x().mark((function r(){var a,i,o,s,l,c,u,d,h,f,p;return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.uid,i=t.encoding,o=t.rawImageData,s=t.redFactor,l=t.greenFactor,c=t.blueFactor,u=t.baseShift,d=o.width+2,h=o.height+2,!e.a(o)){r.next=18;break}return r.t1=e.R,r.t2={width:d,height:h},r.next=14,e.bx(o,-1,-1,d,h);case 14:r.t3=r.sent,r.t0=new r.t1(r.t2,r.t3),r.next=19;break;case 18:r.t0=o;case 19:f=r.t0,p=new e.by(a,f,i,s,l,c,u),this.loaded=this.loaded||{},this.loaded[a]=p,n(null,p);case 22:case"end":return r.stop()}}),r,this)})))}},{key:"removeTile",value:function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]}}]),t}();function u(e,t){if(0!==e.length){d(e[0],t);for(var n=1;n<e.length;n++)d(e[n],!t)}}function d(e,t){for(var n=0,r=0,a=0,i=e.length,o=i-1;a<i;o=a++){var s=(e[a][0]-e[o][0])*(e[o][1]+e[a][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!t&&e.reverse()}var y=e.bz((function e(t,n){var r,a=t&&t.type;if("FeatureCollection"===a)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===a)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===a)e(t.geometry,n);else if("Polygon"===a)u(t.coordinates,n);else if("MultiPolygon"===a)for(r=0;r<t.coordinates.length;r++)u(t.coordinates[r],n);return t})),b=e.bw.VectorTileFeature.prototype.toGeoJSON,_={exports:{}},w=e.bA,k=e.bw.VectorTileFeature,j=S;function S(e,t){this.options=t||{},this.features=e,this.length=e.length}function C(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}S.prototype.feature=function(e){return new C(this.features[e],this.options.extent)},C.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],a=0;a<n.length;a++)r.push(new w(n[a][0],n[a][1]));this.geometry.push(r)}return this.geometry},C.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,a=-1/0,i=0;i<e.length;i++)for(var o=e[i],s=0;s<o.length;s++){var l=o[s];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),a=Math.max(a,l.y)}return[t,r,n,a]},C.prototype.toGeoJSON=k.prototype.toGeoJSON;var N=e.bB,E=j;function T(e){var t=new N;return function(e,t){for(var n in e.layers)t.writeMessage(3,I,e.layers[n])}(e,t),t.finish()}function I(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,A,r);var a=r.keys;for(n=0;n<a.length;n++)t.writeStringField(3,a[n]);var i=r.values;for(n=0;n<i.length;n++)t.writeMessage(4,O,i[n])}function A(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,P,e),t.writeVarintField(3,n.type),t.writeMessage(4,L,n)}function P(e,t){var n=e.feature,r=e.keys,a=e.values,i=e.keycache,o=e.valuecache;for(var s in n.properties){var l=n.properties[s],c=i[s];if(null!==l){void 0===c&&(r.push(s),i[s]=c=r.length-1),t.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var d=u+":"+l,h=o[d];void 0===h&&(a.push(l),o[d]=h=a.length-1),t.writeVarint(h)}}}function M(e,t){return(t<<3)+(7&e)}function D(e){return e<<1^e>>31}function L(e,t){for(var n=e.loadGeometry(),r=e.type,a=0,i=0,o=n.length,s=0;s<o;s++){var l=n[s],c=1;1===r&&(c=l.length),t.writeVarint(M(1,c));for(var u=3===r?l.length-1:l.length,d=0;d<u;d++){1===d&&1!==r&&t.writeVarint(M(2,u-1));var h=l[d].x-a,f=l[d].y-i;t.writeVarint(D(h)),t.writeVarint(D(f)),a+=h,i+=f}3===r&&t.writeVarint(M(7,1))}}function O(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}_.exports=T,_.exports.fromVectorTileJs=T,_.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new E(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return T({layers:n})},_.exports.GeoJSONWrapper=E;var z,R=e.bz(_.exports),F={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},B=Math.fround||(z=new Float32Array(1),function(e){return z[0]=+e,z[0]}),Z=3,U=5,V=6,q=function(){function t(e){m(this,t),this.options=Object.assign(Object.create(F),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}return p(t,[{key:"load",value:function(e){var t=this.options,n=t.log,r=t.minZoom,a=t.maxZoom;n&&console.time("total time");var i="prepare ".concat(e.length," points");n&&console.time(i),this.points=e;for(var o=[],s=0;s<e.length;s++){var l=e[s];if(l.geometry){var c=h(l.geometry.coordinates,2),u=c[0],d=c[1],f=B(Y(u)),p=B(G(d));o.push(f,p,1/0,s,-1,1),this.options.reduce&&o.push(0)}}var m=this.trees[a+1]=this._createTree(o);n&&console.timeEnd(i);for(var v=a;v>=r;v--){var g=+Date.now();m=this.trees[v]=this._createTree(this._cluster(m,v)),n&&console.log("z%d: %d clusters in %dms",v,m.numItems,+Date.now()-g)}return n&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),a=180===e[2]?180:((e[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,a=180;else if(n>a){var o=this.getClusters([n,r,180,i],t),s=this.getClusters([-180,r,a,i],t);return o.concat(s)}var l,c=this.trees[this._limitZoom(t)],u=c.range(Y(n),G(i),Y(a),G(r)),d=c.data,h=[],p=f(u);try{for(p.s();!(l=p.n()).done;){var m=l.value,v=this.stride*m;h.push(d[v+U]>1?H(d,v,this.clusterProps):this.points[d[v+Z]])}}catch(g){p.e(g)}finally{p.f()}return h}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",a=this.trees[n];if(!a)throw new Error(r);var i=a.data;if(t*this.stride>=i.length)throw new Error(r);var o,s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),l=a.within(i[t*this.stride],i[t*this.stride+1],s),c=[],u=f(l);try{for(u.s();!(o=u.n()).done;){var d=o.value*this.stride;i[d+4]===e&&c.push(i[d+U]>1?H(i,d,this.clusterProps):this.points[i[d+Z]])}}catch(h){u.e(h)}finally{u.f()}if(0===c.length)throw new Error(r);return c}},{key:"getLeaves",value:function(e,t,n){var r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r}},{key:"getTile",value:function(e,t,n){var r=this.trees[this._limitZoom(e)],a=Math.pow(2,e),i=this.options,o=i.extent,s=i.radius/o,l=(n-s)/a,c=(n+1+s)/a,u={features:[]};return this._addTileFeatures(r.range((t-s)/a,l,(t+1+s)/a,c),r.data,t,n,a,u),0===t&&this._addTileFeatures(r.range(1-s/a,l,1,c),r.data,a,n,a,u),t===a-1&&this._addTileFeatures(r.range(0,l,s/a,c),r.data,-1,n,a,u),u.features.length?u:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,n,r,a){var i,o=this.getChildren(t),s=f(o);try{for(s.s();!(i=s.n()).done;){var l=i.value,c=l.properties;if(c&&c.cluster?a+c.point_count<=r?a+=c.point_count:a=this._appendLeaves(e,c.cluster_id,n,r,a):a<r?a++:e.push(l),e.length===n)break}}catch(u){s.e(u)}finally{s.f()}return a}},{key:"_createTree",value:function(t){for(var n=new e.av(t.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<t.length;r+=this.stride)n.add(t[r],t[r+1]);return n.finish(),n.data=t,n}},{key:"_addTileFeatures",value:function(e,t,n,r,a,i){var o,s=f(e);try{for(s.s();!(o=s.n()).done;){var l=o.value*this.stride,c=t[l+U]>1,u=void 0,d=void 0,p=void 0;if(c)u=W(t,l,this.clusterProps),d=t[l],p=t[l+1];else{var m=this.points[t[l+Z]];u=m.properties;var v=h(m.geometry.coordinates,2),g=v[0],y=v[1];d=Y(g),p=G(y)}var x={type:1,geometry:[[Math.round(this.options.extent*(d*a-n)),Math.round(this.options.extent*(p*a-r))]],tags:u},b=void 0;void 0!==(b=c||this.options.generateId?t[l+Z]:this.points[t[l+Z]].id)&&(x.id=b),i.features.push(x)}}catch(_){s.e(_)}finally{s.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var n=this.options,r=n.radius,a=n.extent,i=n.reduce,o=n.minPoints,s=r/(a*Math.pow(2,t)),l=e.data,c=[],u=this.stride,d=0;d<l.length;d+=u)if(!(l[d+2]<=t)){l[d+2]=t;var h,p=l[d],m=l[d+1],v=e.within(l[d],l[d+1],s),g=l[d+U],y=g,x=f(v);try{for(x.s();!(h=x.n()).done;){var b=h.value*u;l[b+2]>t&&(y+=l[b+U])}}catch(L){x.e(L)}finally{x.f()}if(y>g&&y>=o){var _,w=void 0,k=p*g,j=m*g,S=-1,C=((d/u|0)<<5)+(t+1)+this.points.length,N=f(v);try{for(N.s();!(_=N.n()).done;){var E=_.value*u;if(!(l[E+2]<=t)){l[E+2]=t;var T=l[E+U];k+=l[E]*T,j+=l[E+1]*T,l[E+4]=C,i&&(w||(w=this._map(l,d,!0),S=this.clusterProps.length,this.clusterProps.push(w)),i(w,this._map(l,E)))}}}catch(L){N.e(L)}finally{N.f()}l[d+4]=C,c.push(k/y,j/y,1/0,C,-1,y),i&&c.push(S)}else{for(var I=0;I<u;I++)c.push(l[d+I]);if(y>1){var A,P=f(v);try{for(P.s();!(A=P.n()).done;){var M=A.value*u;if(!(l[M+2]<=t)){l[M+2]=t;for(var D=0;D<u;D++)c.push(l[M+D])}}}catch(L){P.e(L)}finally{P.f()}}}}return c}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t,n){if(e[t+U]>1){var r=this.clusterProps[e[t+V]];return n?Object.assign({},r):r}var a=this.points[e[t+Z]].properties,i=this.options.map(a);return n&&i===a?Object.assign({},i):i}}]),t}();function H(e,t,n){return{type:"Feature",id:e[t+Z],properties:W(e,t,n),geometry:{type:"Point",coordinates:[(r=e[t],360*(r-.5)),J(e[t+1])]}};var r}function W(e,t,n){var r=e[t+U],a=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?Math.round(r/100)/10+"k":r,i=e[t+V],o=-1===i?{}:Object.assign({},n[i]);return Object.assign(o,{cluster:!0,cluster_id:e[t+Z],point_count:r,point_count_abbreviated:a})}function Y(e){return e/360+.5}function G(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function J(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function X(e,t,n,r){for(var a,i=r,o=n-t>>1,s=n-t,l=e[t],c=e[t+1],u=e[n],d=e[n+1],h=t+3;h<n;h+=3){var f=K(e[h],e[h+1],l,c,u,d);if(f>i)a=h,i=f;else if(f===i){var p=Math.abs(h-o);p<s&&(a=h,s=p)}}i>r&&(a-t>3&&X(e,t,a,r),e[a+2]=i,n-a>3&&X(e,a,n,r))}function K(e,t,n,r,a,i){var o=a-n,s=i-r;if(0!==o||0!==s){var l=((e-n)*o+(t-r)*s)/(o*o+s*s);l>1?(n=a,r=i):l>0&&(n+=o*l,r+=s*l)}return(o=e-n)*o+(s=t-r)*s}function $(e,t,n,r){var a={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)Q(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)Q(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var a=0;a<t[r].length;a++)Q(e,t[r][a])}(a),a}function Q(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function ee(e,t,n,r){if(t.geometry){var a=t.geometry.coordinates,i=t.geometry.type,o=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===i)te(a,s);else if("MultiPoint"===i)for(var c=0;c<a.length;c++)te(a[c],s);else if("LineString"===i)ne(a,s,o,!1);else if("MultiLineString"===i){if(n.lineMetrics){for(c=0;c<a.length;c++)ne(a[c],s=[],o,!1),e.push($(l,"LineString",s,t.properties));return}re(a,s,o,!1)}else if("Polygon"===i)re(a,s,o,!0);else{if("MultiPolygon"!==i){if("GeometryCollection"===i){for(c=0;c<t.geometry.geometries.length;c++)ee(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<a.length;c++){var u=[];re(a[c],u,o,!0),s.push(u)}}e.push($(l,i,s,t.properties))}}function te(e,t){t.push(ae(e[0])),t.push(ie(e[1])),t.push(0)}function ne(e,t,n,r){for(var a,i,o=0,s=0;s<e.length;s++){var l=ae(e[s][0]),c=ie(e[s][1]);t.push(l),t.push(c),t.push(0),s>0&&(o+=r?(a*c-l*i)/2:Math.sqrt(Math.pow(l-a,2)+Math.pow(c-i,2))),a=l,i=c}var u=t.length-3;t[2]=1,X(t,0,u,n),t[u+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function re(e,t,n,r){for(var a=0;a<e.length;a++){var i=[];ne(e[a],i,n,r),t.push(i)}}function ae(e){return e/360+.5}function ie(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function oe(e,t,n,r,a,i,o,s){if(r/=t,i>=(n/=t)&&o<r)return e;if(o<n||i>=r)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],d=u.geometry,h=u.type,f=0===a?u.minX:u.minY,p=0===a?u.maxX:u.maxY;if(f>=n&&p<r)l.push(u);else if(!(p<n||f>=r)){var m=[];if("Point"===h||"MultiPoint"===h)se(d,m,n,r,a);else if("LineString"===h)le(d,m,n,r,a,!1,s.lineMetrics);else if("MultiLineString"===h)ue(d,m,n,r,a,!1);else if("Polygon"===h)ue(d,m,n,r,a,!0);else if("MultiPolygon"===h)for(var v=0;v<d.length;v++){var g=[];ue(d[v],g,n,r,a,!0),g.length&&m.push(g)}if(m.length){if(s.lineMetrics&&"LineString"===h){for(v=0;v<m.length;v++)l.push($(u.id,h,m[v],u.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===m.length?(h="LineString",m=m[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===m.length?"Point":"MultiPoint"),l.push($(u.id,h,m,u.tags))}}}return l.length?l:null}function se(e,t,n,r,a){for(var i=0;i<e.length;i+=3){var o=e[i+a];o>=n&&o<=r&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]))}}function le(e,t,n,r,a,i,o){for(var s,l,c=ce(e),u=0===a?he:fe,d=e.start,h=0;h<e.length-3;h+=3){var f=e[h],p=e[h+1],m=e[h+2],v=e[h+3],g=e[h+4],y=0===a?f:p,x=0===a?v:g,b=!1;o&&(s=Math.sqrt(Math.pow(f-v,2)+Math.pow(p-g,2))),y<n?x>n&&(l=u(c,f,p,v,g,n),o&&(c.start=d+s*l)):y>r?x<r&&(l=u(c,f,p,v,g,r),o&&(c.start=d+s*l)):de(c,f,p,m),x<n&&y>=n&&(l=u(c,f,p,v,g,n),b=!0),x>r&&y<=r&&(l=u(c,f,p,v,g,r),b=!0),!i&&b&&(o&&(c.end=d+s*l),t.push(c),c=ce(e)),o&&(d+=s)}var _=e.length-3;f=e[_],p=e[_+1],m=e[_+2],(y=0===a?f:p)>=n&&y<=r&&de(c,f,p,m),_=c.length-3,i&&_>=3&&(c[_]!==c[0]||c[_+1]!==c[1])&&de(c,c[0],c[1],c[2]),c.length&&t.push(c)}function ce(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ue(e,t,n,r,a,i){for(var o=0;o<e.length;o++)le(e[o],t,n,r,a,i,!1)}function de(e,t,n,r){e.push(t),e.push(n),e.push(r)}function he(e,t,n,r,a,i){var o=(i-t)/(r-t);return e.push(i),e.push(n+(a-n)*o),e.push(1),o}function fe(e,t,n,r,a,i){var o=(i-n)/(a-n);return e.push(t+(r-t)*o),e.push(i),e.push(1),o}function pe(e,t){for(var n=[],r=0;r<e.length;r++){var a,i=e[r],o=i.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)a=me(i.geometry,t);else if("MultiLineString"===o||"Polygon"===o){a=[];for(var s=0;s<i.geometry.length;s++)a.push(me(i.geometry[s],t))}else if("MultiPolygon"===o)for(a=[],s=0;s<i.geometry.length;s++){for(var l=[],c=0;c<i.geometry[s].length;c++)l.push(me(i.geometry[s][c],t));a.push(l)}n.push($(i.id,o,a,i.tags))}return n}function me(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function ve(e,t){if(e.transformed)return e;var n,r,a,i=1<<e.z,o=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(r=0;r<c.length;r+=2)l.geometry.push(ge(c[r],c[r+1],t,i,o,s));else for(r=0;r<c.length;r++){var d=[];for(a=0;a<c[r].length;a+=2)d.push(ge(c[r][a],c[r][a+1],t,i,o,s));l.geometry.push(d)}}return e.transformed=!0,e}function ge(e,t,n,r,a,i){return[Math.round(n*(e*r-a)),Math.round(n*(t*r-i))]}function ye(e,t,n,r,a){for(var i=t===a.maxZoom?0:a.tolerance/((1<<t)*a.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,xe(o,e[s],i,a);var l=e[s].minX,c=e[s].minY,u=e[s].maxX,d=e[s].maxY;l<o.minX&&(o.minX=l),c<o.minY&&(o.minY=c),u>o.maxX&&(o.maxX=u),d>o.maxY&&(o.maxY=d)}return o}function xe(e,t,n,r){var a=t.geometry,i=t.type,o=[];if("Point"===i||"MultiPoint"===i)for(var s=0;s<a.length;s+=3)o.push(a[s]),o.push(a[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===i)be(o,a,e,n,!1,!1);else if("MultiLineString"===i||"Polygon"===i)for(s=0;s<a.length;s++)be(o,a[s],e,n,"Polygon"===i,0===s);else if("MultiPolygon"===i)for(var l=0;l<a.length;l++){var c=a[l];for(s=0;s<c.length;s++)be(o,c[s],e,n,!0,0===s)}if(o.length){var u=t.tags||null;if("LineString"===i&&r.lineMetrics){for(var d in u={},t.tags)u[d]=t.tags[d];u.mapbox_clip_start=a.start/a.size,u.mapbox_clip_end=a.end/a.size}var h={geometry:o,type:"Polygon"===i||"MultiPolygon"===i?3:"LineString"===i||"MultiLineString"===i?2:1,tags:u};null!==t.id&&(h.id=t.id),e.features.push(h)}}function be(e,t,n,r,a,i){var o=r*r;if(r>0&&t.size<(a?o:r))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===r||t[l+2]>o)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;a&&function(e,t){for(var n=0,r=0,a=e.length,i=a-2;r<a;i=r,r+=2)n+=(e[r]-e[i])*(e[r+1]+e[i+1]);if(n>0===t)for(r=0,a=e.length;r<a/2;r+=2){var o=e[r],s=e[r+1];e[r]=e[a-2-r],e[r+1]=e[a-1-r],e[a-2-r]=o,e[a-1-r]=s}}(s,i),e.push(s)}}function _e(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)ee(n,e.features[r],t,r);else ee(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=function(e,t){var n=t.buffer/t.extent,r=e,a=oe(e,1,-1-n,n,0,-1,2,t),i=oe(e,1,1-n,2+n,0,-1,2,t);return(a||i)&&(r=oe(e,1,-n,1+n,0,-1,2,t)||[],a&&(r=pe(a,1).concat(r)),i&&(r=r.concat(pe(i,-1)))),r}(r,t),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function we(e,t,n){return 32*((1<<e)*n+t)+e}function ke(e,t){return t?e.properties[t]:e.id}function je(e,t){if(null==e)return!0;if("Feature"===e.type)return null!=ke(e,t);if("FeatureCollection"===e.type){var n,r=new Set,a=f(e.features);try{for(a.s();!(n=a.n()).done;){var i=ke(n.value,t);if(null==i)return!1;if(r.has(i))return!1;r.add(i)}}catch(o){a.e(o)}finally{a.f()}return!0}return!1}function Se(e,t){var n=new Map;if(null==e);else if("Feature"===e.type)n.set(ke(e,t),e);else{var r,a=f(e.features);try{for(a.s();!(r=a.n()).done;){var i=r.value;n.set(ke(i,t),i)}}catch(o){a.e(o)}finally{a.f()}}return n}_e.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},_e.prototype.splitTile=function(e,t,n,r,a,i,o){for(var s=[e,t,n,r],l=this.options,c=l.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,d=we(t,n,r),h=this.tiles[d];if(!h&&(c>1&&console.time("creation"),h=this.tiles[d]=ye(e,t,n,r,l),this.tileCoords.push({z:t,x:n,y:r}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var f="z"+t;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(h.source=e,a){if(t===l.maxZoom||t===a)continue;var p=1<<a-t;if(n!==Math.floor(i/p)||r!==Math.floor(o/p))continue}else if(t===l.indexMaxZoom||h.numPoints<=l.indexMaxPoints)continue;if(h.source=null,0!==e.length){c>1&&console.time("clipping");var m,v,g,y,x,b,_=.5*l.buffer/l.extent,w=.5-_,k=.5+_,j=1+_;m=v=g=y=null,x=oe(e,u,n-_,n+k,0,h.minX,h.maxX,l),b=oe(e,u,n+w,n+j,0,h.minX,h.maxX,l),e=null,x&&(m=oe(x,u,r-_,r+k,1,h.minY,h.maxY,l),v=oe(x,u,r+w,r+j,1,h.minY,h.maxY,l),x=null),b&&(g=oe(b,u,r-_,r+k,1,h.minY,h.maxY,l),y=oe(b,u,r+w,r+j,1,h.minY,h.maxY,l),b=null),c>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*r),s.push(v||[],t+1,2*n,2*r+1),s.push(g||[],t+1,2*n+1,2*r),s.push(y||[],t+1,2*n+1,2*r+1)}}},_e.prototype.getTile=function(e,t,n){var r=this.options,a=r.extent,i=r.debug;if(e<0||e>24)return null;var o=1<<e,s=we(e,t=(t%o+o)%o,n);if(this.tiles[s])return ve(this.tiles[s],a);i>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,c=e,u=t,d=n;!l&&c>0;)c--,u=Math.floor(u/2),d=Math.floor(d/2),l=this.tiles[we(c,u,d)];return l&&l.source?(i>1&&console.log("found parent tile z%d-%d-%d",c,u,d),i>1&&console.time("drilling down"),this.splitTile(l.source,c,u,d,e,t,n),i>1&&console.timeEnd("drilling down"),this.tiles[s]?ve(this.tiles[s],a):null):null};var Ce=function(t){v(r,t);var n=g(r);function r(t,a,i,o){var s;return m(this,r),(s=n.call(this,t,a,i))._dataUpdateable=new Map,s.loadGeoJSON=function(t,n){var r=t.promoteId;if(t.request)return e.f(t.request,(function(e,t,a,i){s._dataUpdateable=je(t,r)?Se(t,r):void 0,n(e,t,a,i)}));if("string"==typeof t.data)try{var a=JSON.parse(t.data);s._dataUpdateable=je(a,r)?Se(a,r):void 0,n(null,a)}catch(e){n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")))}else t.dataDiff?s._dataUpdateable?(function(e,t,n){var r,a,i,o;if(t.removeAll&&e.clear(),t.remove){var s,l=f(t.remove);try{for(l.s();!(s=l.n()).done;){var c=s.value;e.delete(c)}}catch(E){l.e(E)}finally{l.f()}}if(t.add){var u,d=f(t.add);try{for(d.s();!(u=d.n()).done;){var h=u.value,p=ke(h,n);null!=p&&e.set(p,h)}}catch(E){d.e(E)}finally{d.f()}}if(t.update){var m,v=f(t.update);try{for(v.s();!(m=v.n()).done;){var g=m.value,y=e.get(g.id);if(null!=y){var x=!g.removeAllProperties&&((null===(r=g.removeProperties)||void 0===r?void 0:r.length)>0||(null===(a=g.addOrUpdateProperties)||void 0===a?void 0:a.length)>0);if((g.newGeometry||g.removeAllProperties||x)&&(y=Object.assign({},y),e.set(g.id,y),x&&(y.properties=Object.assign({},y.properties))),g.newGeometry&&(y.geometry=g.newGeometry),g.removeAllProperties)y.properties={};else if((null===(i=g.removeProperties)||void 0===i?void 0:i.length)>0){var b,_=f(g.removeProperties);try{for(_.s();!(b=_.n()).done;){var w=b.value;Object.prototype.hasOwnProperty.call(y.properties,w)&&delete y.properties[w]}}catch(E){_.e(E)}finally{_.f()}}if((null===(o=g.addOrUpdateProperties)||void 0===o?void 0:o.length)>0){var k,j=f(g.addOrUpdateProperties);try{for(j.s();!(k=j.n()).done;){var S=k.value,C=S.key,N=S.value;y.properties[C]=N}}catch(E){j.e(E)}finally{j.f()}}}}}catch(E){v.e(E)}finally{v.f()}}}(s._dataUpdateable,t.dataDiff,r),n(null,{type:"FeatureCollection",features:Array.from(s._dataUpdateable.values())})):n(new Error("Cannot update existing geojson data in ".concat(t.source))):n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));return{cancel:function(){}}},s.loadVectorData=s.loadGeoJSONTile,o&&(s.loadGeoJSON=o),s}return p(r,[{key:"loadGeoJSONTile",value:function(t,n){var r=t.tileID.canonical;if(!this._geoJSONIndex)return n(null,null);var a=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!a)return n(null,null);var i=new(function(){function t(n){m(this,t),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.N,this.length=n.length,this._features=n}return p(t,[{key:"feature",value:function(t){return new(function(){function t(n){m(this,t),this._feature=n,this.extent=e.N,this.type=n.type,this.properties=n.tags,"id"in n&&!isNaN(n.id)&&(this.id=parseInt(n.id,10))}return p(t,[{key:"loadGeometry",value:function(){if(1===this._feature.type){var t,n=[],r=f(this._feature.geometry);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push([new e.P(a[0],a[1])])}}catch(p){r.e(p)}finally{r.f()}return n}var i,o=[],s=f(this._feature.geometry);try{for(s.s();!(i=s.n()).done;){var l,c=i.value,u=[],d=f(c);try{for(d.s();!(l=d.n()).done;){var h=l.value;u.push(new e.P(h[0],h[1]))}}catch(p){d.e(p)}finally{d.f()}o.push(u)}}catch(p){s.e(p)}finally{s.f()}return o}},{key:"toGeoJSON",value:function(e,t,n){return b.call(this,e,t,n)}}]),t}())(this._features[t])}}]),t}())(a.features),o=R(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),n(null,{vectorTile:i,rawData:o.buffer})}},{key:"loadData",value:function(t,n){var r,a=this;null===(r=this._pendingRequest)||void 0===r||r.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});var i=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.bu(t.request);this._pendingCallback=n,this._pendingRequest=this.loadGeoJSON(t,(function(r,o){if(delete a._pendingCallback,delete a._pendingRequest,r||!o)return n(r);if("object"!=typeof o)return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));y(o,!0);try{if(t.filter){var s=e.bC(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));var l=o.features.filter((function(e){return s.value.evaluate({zoom:0},e)}));o={type:"FeatureCollection",features:l}}a._geoJSONIndex=t.cluster?new q(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var a={},i={},o={accumulated:null,zoom:0},s={properties:null},l=Object.keys(r),c=0,u=l;c<u.length;c++){var d=u[c],f=h(r[d],2),p=f[0],m=f[1],v=e.bC(m),g=e.bC("string"==typeof p?[p,["accumulated"],["get",d]]:p);a[d]=v.value,i[d]=g.value}return n.map=function(e){s.properties=e;for(var t={},n=0,r=l;n<r.length;n++){var i=r[n];t[i]=a[i].evaluate(o,s)}return t},n.reduce=function(e,t){s.properties=t;for(var n=0,r=l;n<r.length;n++){var a=r[n];o.accumulated=e[a],e[a]=i[a].evaluate(o,s)}},n}(t)).load(o.features):function(e,t){return new _e(e,t)}(o,t.geojsonVtOptions)}catch(r){return n(r)}a.loaded={};var c={};if(i){var u=i.finish();u&&(c.resourceTiming={},c.resourceTiming[t.source]=JSON.parse(JSON.stringify(u)))}n(null,c)}))}},{key:"reloadTile",value:function(e,t){var n=this.loaded;return n&&n[e.uid]?i(o(r.prototype),"reloadTile",this).call(this,e,t):this.loadTile(e,t)}},{key:"removeSource",value:function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()}},{key:"getClusterExpansionZoom",value:function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}},{key:"getClusterChildren",value:function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}},{key:"getClusterLeaves",value:function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}]),r}(l),Ne=function(){function n(t){var r=this;m(this,n),this.self=t,this.actor=new e.C(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:Ce},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'.concat(e,'" already registered.'));r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.bD.isParsed())throw new Error("RTL text plugin already registered.");e.bD.applyArabicShaping=t.applyArabicShaping,e.bD.processBidirectionalText=t.processBidirectionalText,e.bD.processStyledBidirectionalText=t.processStyledBidirectionalText}}return p(n,[{key:"setReferrer",value:function(e,t){this.referrer=t}},{key:"setImages",value:function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var a=this.workerSources[e][r];for(var i in a)a[i].availableImages=t}n()}},{key:"setLayers",value:function(e,t,n){this.getLayerIndex(e).replace(t),n()}},{key:"updateLayers",value:function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}},{key:"loadTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)}},{key:"loadDEMTile",value:function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)}},{key:"reloadTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)}},{key:"abortTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}},{key:"removeTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}},{key:"removeDEMTile",value:function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)}},{key:"removeSource",value:function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}}},{key:"loadWorkerSource",value:function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}}},{key:"syncRTLPluginState",value:function(t,n,r){try{e.bD.setState(n);var a=e.bD.getPluginURL();if(e.bD.isLoaded()&&!e.bD.isParsed()&&null!=a){this.self.importScripts(a);var i=e.bD.isParsed();r(i?void 0:new Error("RTL Text Plugin failed to import scripts from ".concat(a)),i)}}catch(e){r(e.toString())}}},{key:"getAvailableImages",value:function(e){var t=this.availableImages[e];return t||(t=[]),t}},{key:"getLayerIndex",value:function(e){var n=this.layerIndexes[e];return n||(n=this.layerIndexes[e]=new t),n}},{key:"getWorkerSource",value:function(e,t,n){var r=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][n]||(this.workerSources[e][t][n]=new this.workerSourceTypes[t]({send:function(t,n,a){r.actor.send(t,n,a,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][n]}},{key:"getDEMWorkerSource",value:function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new c),this.demWorkerSources[e][t]}}]),n}();return e.i()&&(self.worker=new Ne(self)),Ne})),b(["./shared"],(function(e){var t="3.6.2",n=function(){function t(){m(this,t)}return p(t,null,[{key:"testProp",value:function(e){if(!t.docStyle)return e[0];for(var n=0;n<e.length;n++)if(e[n]in t.docStyle)return e[n];return e[0]}},{key:"create",value:function(e,t,n){var r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}},{key:"createNS",value:function(e,t){return window.document.createElementNS(e,t)}},{key:"disableDrag",value:function(){t.docStyle&&t.selectProp&&(t.userSelect=t.docStyle[t.selectProp],t.docStyle[t.selectProp]="none")}},{key:"enableDrag",value:function(){t.docStyle&&t.selectProp&&(t.docStyle[t.selectProp]=t.userSelect)}},{key:"setTransform",value:function(e,n){e.style[t.transformProp]=n}},{key:"addEventListener",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.addEventListener(t,n,"passive"in r?r:r.capture)}},{key:"removeEventListener",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.removeEventListener(t,n,"passive"in r?r:r.capture)}},{key:"suppressClickInternal",value:function(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",t.suppressClickInternal,!0)}},{key:"suppressClick",value:function(){window.addEventListener("click",t.suppressClickInternal,!0),window.setTimeout((function(){window.removeEventListener("click",t.suppressClickInternal,!0)}),0)}},{key:"mousePos",value:function(t,n){var r=t.getBoundingClientRect();return new e.P(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)}},{key:"touchPos",value:function(t,n){for(var r=t.getBoundingClientRect(),a=[],i=0;i<n.length;i++)a.push(new e.P(n[i].clientX-r.left-t.clientLeft,n[i].clientY-r.top-t.clientTop));return a}},{key:"mouseButton",value:function(e){return e.button}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}}]),t}();n.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,n.selectProp=n.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),n.transformProp=n.testProp(["transform","WebkitTransform"]);var l,c,u,y,b={supported:!1,testSupport:function(e){!_&&c&&(w?k(e):l=e)}},_=!1,w=!1;function k(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,c),e.isContextLost())return;b.supported=!0}catch(e){}e.deleteTexture(t),_=!0}"undefined"!=typeof document&&((c=document.createElement("img")).onload=function(){l&&k(l),l=null,w=!0},c.onerror=function(){_=!0,l=null},c.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(t){var n,r,a,i;t.resetRequestQueue=function(){n=[],r=0,a=0,i={}},t.addThrottleControl=function(e){var t=a++;return i[t]=e,t},t.removeThrottleControl=function(e){delete i[e],l()},t.getImage=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*");var i={requestParameters:e,supportImageRefresh:a,callback:t,cancelled:!1,completed:!1,cancel:function(){i.completed||i.cancelled||(i.cancelled=!0,i.innerRequest&&(i.innerRequest.cancel(),r--),l())}};return n.push(i),l(),i};var o=function(t){var n=t.requestParameters,r=t.supportImageRefresh,a=t.callback;return e.e(n,{type:"image"}),(!1!==r||e.i()||e.g(n.url)||n.headers&&!Object.keys(n.headers).reduce((function(e,t){return e&&"accept"===t}),!0)?e.m:c)(n,(function(e,n,r,i){s(t,a,e,n,r,i)}))},s=function(t,n,a,i,o,s){a?n(a):i instanceof HTMLImageElement||e.a(i)?n(null,i):i&&function(t,n){"function"==typeof createImageBitmap?e.b(t,n):e.d(t,n)}(i,(function(e,t){null!=e?n(e):null!=t&&n(null,t,{cacheControl:o,expires:s})})),t.cancelled||(t.completed=!0,r--,l())},l=function(){for(var t=function(){var e=Object.keys(i),t=!1;if(e.length>0){var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(t=i[a]())break}}catch(o){r.e(o)}finally{r.f()}}return t}()?e.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:e.c.MAX_PARALLEL_IMAGE_REQUESTS,a=r;a<t&&n.length>0;a++){var s=n.shift();if(s.cancelled)a--;else{var l=o(s);r++,s.innerRequest=l}}},c=function(t,n){var r=new Image,a=t.url,i=!1,o=t.credentials;return o&&"include"===o?r.crossOrigin="use-credentials":(o&&"same-origin"===o||!e.s(a))&&(r.crossOrigin="anonymous"),r.fetchPriority="high",r.onload=function(){n(null,r),r.onerror=r.onload=null},r.onerror=function(){i||n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),r.onerror=r.onload=null},r.src=a,{cancel:function(){i=!0,r.src=""}}}}(u||(u={})),u.resetRequestQueue(),function(e){e.Glyphs="Glyphs",e.Image="Image",e.Source="Source",e.SpriteImage="SpriteImage",e.SpriteJSON="SpriteJSON",e.Style="Style",e.Tile="Tile",e.Unknown="Unknown"}(y||(y={}));var j=function(){function e(t){m(this,e),this._transformRequestFn=t}return p(e,[{key:"transformRequest",value:function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}},{key:"normalizeSpriteURL",value:function(e,t,n){var r=function(e){var t=e.match(S);if(!t)throw new Error('Unable to parse URL "'.concat(e,'"'));return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}(e);return r.path+="".concat(t).concat(n),function(e){var t=e.params.length?"?".concat(e.params.join("&")):"";return"".concat(e.protocol,"://").concat(e.authority).concat(e.path).concat(t)}(r)}},{key:"setTransformRequest",value:function(e){this._transformRequestFn=e}}]),e}(),S=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function C(t){var n=new e.A(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}var N,E=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e};N=new e.A(3),e.A!=Float32Array&&(N[0]=0,N[1]=0,N[2]=0);var T=function(e){var t=e[0],n=e[1];return t*t+n*n};function I(e){var t=[];if("string"==typeof e)t.push({id:"default",url:e});else if(e&&e.length>0){var n,r=[],a=f(e);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=i.id,s=i.url,l="".concat(o).concat(s);-1===r.indexOf(l)&&(r.push(l),t.push({id:o,url:s}))}}catch(c){a.e(c)}finally{a.f()}}return t}function A(t,n,r,a,i){if(a)t(a);else if(i===Object.values(n).length&&i===Object.values(r).length){var o={};for(var s in n){o[s]={};var l=e.h.getImageCanvasContext(r[s]),c=n[s];for(var u in c){var d=c[u],h=d.width,f=d.height,p=d.x,m=d.y,v=d.sdf,g=d.pixelRatio,y=d.stretchX,x=d.stretchY,b=d.content;o[s][u]={data:null,pixelRatio:g,sdf:v,stretchX:y,stretchY:x,content:b,spriteData:{width:h,height:f,x:p,y:m,context:l}}}}t(null,o)}}!function(){var t=new e.A(2);e.A!=Float32Array&&(t[0]=0,t[1]=0)}();var P=function(){function t(e,n,r,a){m(this,t),this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(n,a)}return p(t,[{key:"update",value:function(t,n,r){var a=t.width,i=t.height,o=!(this.size&&this.size[0]===a&&this.size[1]===i||r),s=this.context,l=s.gl;if(this.useMipmap=Boolean(n&&n.useMipmap),l.bindTexture(l.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===l.RGBA&&(!n||!1!==n.premultiply)),o)this.size=[a,i],t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.a(t)?l.texImage2D(l.TEXTURE_2D,0,this.format,this.format,l.UNSIGNED_BYTE,t):l.texImage2D(l.TEXTURE_2D,0,this.format,a,i,0,this.format,l.UNSIGNED_BYTE,t.data);else{var c=r||{x:0,y:0},u=c.x,d=c.y;t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.a(t)?l.texSubImage2D(l.TEXTURE_2D,0,u,d,l.RGBA,l.UNSIGNED_BYTE,t):l.texSubImage2D(l.TEXTURE_2D,0,u,d,a,i,l.RGBA,l.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&l.generateMipmap(l.TEXTURE_2D)}},{key:"bind",value:function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)}},{key:"isSizePowerOfTwo",value:function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}},{key:"destroy",value:function(){this.context.gl.deleteTexture(this.texture),this.texture=null}}]),t}();function M(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}var D=function(t){v(r,t);var n=g(r);function r(){var t;return m(this,r),(t=n.call(this)).images={},t.updatedImages={},t.callbackDispatchedThisFrame={},t.loaded=!1,t.requestors=[],t.patterns={},t.atlasImage=new e.R({width:1,height:1}),t.dirty=!0,t}return p(r,[{key:"isLoaded",value:function(){return this.loaded}},{key:"setLoaded",value:function(e){if(this.loaded!==e&&(this.loaded=e,e)){var t,n=f(this.requestors);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=r.ids,i=r.callback;this._notify(a,i)}}catch(o){n.e(o)}finally{n.f()}this.requestors=[]}}},{key:"getImage",value:function(t){var n=this.images[t];if(n&&!n.data&&n.spriteData){var r=n.spriteData;n.data=new e.R({width:r.width,height:r.height},r.context.getImageData(r.x,r.y,r.width,r.height).data),n.spriteData=null}return n}},{key:"addImage",value:function(e,t){if(this.images[e])throw new Error("Image id ".concat(e," already exist, use updateImage instead"));this._validate(e,t)&&(this.images[e]=t)}},{key:"_validate",value:function(t,n){var r=!0,a=n.data||n.spriteData;return this._validateStretch(n.stretchX,a&&a.width)||(this.fire(new e.j(new Error('Image "'.concat(t,'" has invalid "stretchX" value')))),r=!1),this._validateStretch(n.stretchY,a&&a.height)||(this.fire(new e.j(new Error('Image "'.concat(t,'" has invalid "stretchY" value')))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.j(new Error('Image "'.concat(t,'" has invalid "content" value')))),r=!1),r}},{key:"_validateStretch",value:function(e,t){if(!e)return!0;var n,r=0,a=f(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i[0]<r||i[1]<i[0]||t<i[1])return!1;r=i[1]}}catch(o){a.e(o)}finally{a.f()}return!0}},{key:"_validateContent",value:function(e,t){if(!e)return!0;if(4!==e.length)return!1;var n=t.spriteData,r=n&&n.width||t.data.width,a=n&&n.height||t.data.height;return!(e[0]<0||r<e[0]||e[1]<0||a<e[1]||e[2]<0||r<e[2]||e[3]<0||a<e[3]||e[2]<e[0]||e[3]<e[1])}},{key:"updateImage",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.getImage(e);if(n&&(r.data.width!==t.data.width||r.data.height!==t.data.height))throw new Error("size mismatch between old image (".concat(r.data.width,"x").concat(r.data.height,") and new image (").concat(t.data.width,"x").concat(t.data.height,")."));t.version=r.version+1,this.images[e]=t,this.updatedImages[e]=!0}},{key:"removeImage",value:function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}},{key:"listImages",value:function(){return Object.keys(this.images)}},{key:"getImages",value:function(e,t){var n=!0;if(!this.isLoaded()){var r,a=f(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.images[i]||(n=!1)}}catch(o){a.e(o)}finally{a.f()}}this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}},{key:"_notify",value:function(t,n){var r,a={},i=f(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=this.getImage(o);s||(this.fire(new e.k("styleimagemissing",{id:o})),s=this.getImage(o)),s?a[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.w('Image "'.concat(o,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}}catch(l){i.e(l)}finally{i.f()}n(null,a)}},{key:"getPixelSize",value:function(){var e=this.atlasImage;return{width:e.width,height:e.height}}},{key:"getPattern",value:function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var a={w:r.data.width+2,h:r.data.height+2,x:0,y:0},i=new e.I(a,r);this.patterns[t]={bin:a,position:i}}return this._updatePatternAtlas(),this.patterns[t].position}},{key:"bind",value:function(e){var t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new P(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)}},{key:"_updatePatternAtlas",value:function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.p(t),a=r.w,i=r.h,o=this.atlasImage;for(var s in o.resize({width:a||1,height:i||1}),this.patterns){var l=this.patterns[s].bin,c=l.x+1,u=l.y+1,d=this.getImage(s).data,h=d.width,f=d.height;e.R.copy(d,o,{x:0,y:0},{x:c,y:u},{width:h,height:f}),e.R.copy(d,o,{x:0,y:f-1},{x:c,y:u-1},{width:h,height:1}),e.R.copy(d,o,{x:0,y:0},{x:c,y:u+f},{width:h,height:1}),e.R.copy(d,o,{x:h-1,y:0},{x:c-1,y:u},{width:1,height:f}),e.R.copy(d,o,{x:0,y:0},{x:c+h,y:u},{width:1,height:f})}this.dirty=!0}},{key:"beginFrame",value:function(){this.callbackDispatchedThisFrame={}}},{key:"dispatchRenderCallbacks",value:function(t){var n,r=f(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!this.callbackDispatchedThisFrame[a]){this.callbackDispatchedThisFrame[a]=!0;var i=this.getImage(a);i||e.w('Image with ID: "'.concat(a,'" was not found')),M(i)&&this.updateImage(a,i)}}}catch(o){r.e(o)}finally{r.f()}}}]),r}(e.E),L=1e20;function O(e,t,n,r,a,i,o,s,l){for(var c=t;c<t+r;c++)z(e,n*i+c,i,a,o,s,l);for(var u=n;u<n+a;u++)z(e,u*i+t,1,r,o,s,l)}function z(e,t,n,r,a,i,o){i[0]=0,o[0]=-L,o[1]=L,a[0]=e[t];for(var s=1,l=0,c=0;s<r;s++){a[s]=e[t+s*n];var u=s*s;do{var d=i[l];c=(a[s]-a[d]+u-d*d)/(s-d)/2}while(c<=o[l]&&--l>-1);i[++l]=s,o[l]=c,o[l+1]=L}for(var h=0,f=0;h<r;h++){for(;o[f+1]<h;)f++;var p=i[f],m=h-p;e[t+h*n]=a[p]+m*m}}var R=function(){function t(e,n){m(this,t),this.requestManager=e,this.localIdeographFontFamily=n,this.entries={}}return p(t,[{key:"setURL",value:function(e){this.url=e}},{key:"getGlyphs",value:function(n,r){var a=this,i=[];for(var o in n){var s,l=f(n[o]);try{for(l.s();!(s=l.n()).done;){var c=s.value;i.push({stack:o,id:c})}}catch(u){l.e(u)}finally{l.f()}}e.o(i,(function(e,n){var r=e.stack,i=e.id,o=a.entries[r];o||(o=a.entries[r]={glyphs:{},requests:{},ranges:{}});var s=o.glyphs[i];if(void 0===s){if(s=a._tinySDF(o,r,i))return o.glyphs[i]=s,void n(null,{stack:r,id:i,glyph:s});var l=Math.floor(i/256);if(256*l>65535)n(new Error("glyphs > 65535 not supported"));else if(o.ranges[l])n(null,{stack:r,id:i,glyph:s});else if(a.url){var c=o.requests[l];c||(c=o.requests[l]=[],t.loadGlyphRange(r,l,a.url,a.requestManager,(function(e,t){if(t){for(var n in t)a._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=t[+n]);o.ranges[l]=!0}var r,i=f(c);try{for(i.s();!(r=i.n()).done;)(0,r.value)(e,t)}catch(u){i.e(u)}finally{i.f()}delete o.requests[l]}))),c.push((function(e,t){e?n(e):t&&n(null,{stack:r,id:i,glyph:t[i]||null})}))}else n(new Error("glyphsUrl is not set"))}else n(null,{stack:r,id:i,glyph:s})}),(function(e,t){if(e)r(e);else if(t){var n,a={},i=f(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=o.stack,l=o.id,c=o.glyph;(a[s]||(a[s]={}))[l]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}}catch(u){i.e(u)}finally{i.f()}r(null,a)}}))}},{key:"_doesCharSupportLocalGlyph",value:function(t){return!!this.localIdeographFontFamily&&(e.u["CJK Unified Ideographs"](t)||e.u["Hangul Syllables"](t)||e.u.Hiragana(t)||e.u.Katakana(t))}},{key:"_tinySDF",value:function(n,r,a){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(a)){var o=n.tinySDF;if(!o){var s="400";/bold/i.test(r)?s="900":/medium/i.test(r)?s="500":/light/i.test(r)&&(s="200"),o=n.tinySDF=new t.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:i,fontWeight:s})}var l=o.draw(String.fromCharCode(a));return{id:a,bitmap:new e.q({width:l.width||60,height:l.height||60},l.data),metrics:{width:l.glyphWidth/2||24,height:l.glyphHeight/2||24,left:l.glyphLeft/2+.5||0,top:l.glyphTop/2-27.5||-8,advance:l.glyphAdvance/2||24,isDoubleResolution:!0}}}}}]),t}();R.loadGlyphRange=function(t,n,r,a,i){var o=256*n,s=o+255,l=a.transformRequest(r.replace("{fontstack}",t).replace("{range}","".concat(o,"-").concat(s)),y.Glyphs);e.l(l,(function(t,n){if(t)i(t);else if(n){var r,a={},o=f(e.n(n));try{for(o.s();!(r=o.n()).done;){var s=r.value;a[s.id]=s}}catch(l){o.e(l)}finally{o.f()}i(null,a)}}))},R.TinySDF=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fontSize,r=void 0===n?24:n,a=t.buffer,i=void 0===a?3:a,o=t.radius,s=void 0===o?8:o,l=t.cutoff,c=void 0===l?.25:l,u=t.fontFamily,d=void 0===u?"sans-serif":u,h=t.fontWeight,f=void 0===h?"normal":h,p=t.fontStyle,v=void 0===p?"normal":p;m(this,e),this.buffer=i,this.cutoff=c,this.radius=s;var g=this.size=r+4*i,y=this._createCanvas(g),x=this.ctx=y.getContext("2d",{willReadFrequently:!0});x.font="".concat(v," ").concat(f," ").concat(r,"px ").concat(d),x.textBaseline="alphabetic",x.textAlign="left",x.fillStyle="black",this.gridOuter=new Float64Array(g*g),this.gridInner=new Float64Array(g*g),this.f=new Float64Array(g),this.z=new Float64Array(g+1),this.v=new Uint16Array(g)}return p(e,[{key:"_createCanvas",value:function(e){var t=document.createElement("canvas");return t.width=t.height=e,t}},{key:"draw",value:function(e){var t=this.ctx.measureText(e),n=t.width,r=t.actualBoundingBoxAscent,a=t.actualBoundingBoxDescent,i=t.actualBoundingBoxLeft,o=t.actualBoundingBoxRight,s=Math.ceil(r),l=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(o-i))),c=Math.min(this.size-this.buffer,s+Math.ceil(a)),u=l+2*this.buffer,d=c+2*this.buffer,h=Math.max(u*d,0),f=new Uint8ClampedArray(h),p={data:f,width:u,height:d,glyphWidth:l,glyphHeight:c,glyphTop:s,glyphLeft:0,glyphAdvance:n};if(0===l||0===c)return p;var m=this.ctx,v=this.buffer,g=this.gridInner,y=this.gridOuter;m.clearRect(v,v,l,c),m.fillText(e,v,v+s);var x=m.getImageData(v,v,l,c);y.fill(L,0,h),g.fill(0,0,h);for(var b=0;b<c;b++)for(var _=0;_<l;_++){var w=x.data[4*(b*l+_)+3]/255;if(0!==w){var k=(b+v)*u+_+v;if(1===w)y[k]=0,g[k]=L;else{var j=.5-w;y[k]=j>0?j*j:0,g[k]=j<0?j*j:0}}}O(y,0,0,u,d,u,this.f,this.v,this.z),O(g,v,v,l,c,u,this.f,this.v,this.z);for(var S=0;S<h;S++){var C=Math.sqrt(y[S])-Math.sqrt(g[S]);f[S]=Math.round(255-255*(C/this.radius+this.cutoff))}return p}}]),e}();var F,B=function(){function t(){m(this,t),this.specification=e.v.light.position}return p(t,[{key:"possiblyEvaluate",value:function(t,n){return e.z(t.expression.evaluate(n))}},{key:"interpolate",value:function(t,n,r){return{x:e.B.number(t.x,n.x,r),y:e.B.number(t.y,n.y,r),z:e.B.number(t.z,n.z,r)}}}]),t}(),Z=function(t){v(r,t);var n=g(r);function r(t){var a;return m(this,r),a=n.call(this),F=F||new e.r({anchor:new e.D(e.v.light.anchor),position:new B,color:new e.D(e.v.light.color),intensity:new e.D(e.v.light.intensity)}),a._transitionable=new e.T(F),a.setLight(t),a._transitioning=a._transitionable.untransitioned(),a}return p(r,[{key:"getLight",value:function(){return this._transitionable.serialize()}},{key:"setLight",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.t,t,n))for(var r in t){var a=t[r];r.endsWith("-transition")?this._transitionable.setTransition(r.slice(0,-11),a):this._transitionable.setValue(r,a)}}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}},{key:"_validate",value:function(t,n,r){return(!r||!1!==r.validate)&&e.x(this,t.call(e.y,e.e({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.v})))}}]),r}(e.E),U=function(){function t(e,n){m(this,t),this.width=e,this.height=n,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}return p(t,[{key:"getDash",value:function(e,t){var n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]}},{key:"getDashRanges",value:function(e,t,n){var r=[],a=e.length%2==1?-e[e.length-1]*n:0,i=e[0]*n,o=!0;r.push({left:a,right:i,isDash:o,zeroLength:0===e[0]});for(var s=e[0],l=1;l<e.length;l++){o=!o;var c=e[l];a=s*n,i=(s+=c)*n,r.push({left:a,right:i,isDash:o,zeroLength:0===c})}return r}},{key:"addRoundDash",value:function(e,t,n){for(var r=t/2,a=-n;a<=n;a++)for(var i=this.width*(this.nextRow+n+a),o=0,s=e[o],l=0;l<this.width;l++){l/s.right>1&&(s=e[++o]);var c=Math.abs(l-s.left),u=Math.abs(l-s.right),d=Math.min(c,u),h=void 0,f=a/n*(r+1);if(s.isDash){var p=r-Math.abs(f);h=Math.sqrt(d*d+p*p)}else h=r-Math.sqrt(d*d+f*f);this.data[i+l]=Math.max(0,Math.min(255,h+128))}}},{key:"addRegularDash",value:function(e){for(var t=e.length-1;t>=0;--t){var n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}var a=e[0],i=e[e.length-1];a.isDash===i.isDash&&(a.left=i.left-this.width,i.right=a.right+this.width);for(var o=this.width*this.nextRow,s=0,l=e[s],c=0;c<this.width;c++){c/l.right>1&&(l=e[++s]);var u=Math.abs(c-l.left),d=Math.abs(c-l.right),h=Math.min(u,d);this.data[o+c]=Math.max(0,Math.min(255,(l.isDash?h:-h)+128))}}},{key:"addDash",value:function(t,n){var r=n?7:0,a=2*r+1;if(this.nextRow+a>this.height)return e.w("LineAtlas out of space"),null;for(var i=0,o=0;o<t.length;o++)i+=t[o];if(0!==i){var s=this.width/i,l=this.getDashRanges(t,this.width,s);n?this.addRoundDash(l,s,r):this.addRegularDash(l)}var c={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:i};return this.nextRow+=a,this.dirty=!0,c}},{key:"bind",value:function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))}}]),t}(),V=function(){function t(n,r,a){m(this,t),this.workerPool=n,this.actors=[],this.currentActor=0,this.id=a;for(var i=this.workerPool.acquire(a),o=0;o<i.length;o++){var s=new e.C(i[o],r,a);s.name="Worker ".concat(o),this.actors.push(s)}if(!this.actors.length)throw new Error("No actors found")}return p(t,[{key:"broadcast",value:function(t,n,r){e.o(this.actors,(function(e,r){e.send(t,n,r)}),r=r||function(){})}},{key:"getActor",value:function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}},{key:"remove",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.actors.forEach((function(e){e.remove()})),this.actors=[],e&&this.workerPool.release(this.id)}}]),t}();function q(t,n,r){var a=function(n,a){if(n)return r(n);if(a){var i=e.F(e.e(a,t),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);a.vector_layers&&(i.vectorLayers=a.vector_layers,i.vectorLayerIds=i.vectorLayers.map((function(e){return e.id}))),r(null,i)}};return t.url?e.f(n.transformRequest(t.url,y.Source),a):e.h.frame((function(){return a(null,t)}))}var H=function(){function t(e,n){m(this,t),e&&(n?this.setSouthWest(e).setNorthEast(n):Array.isArray(e)&&(4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])))}return p(t,[{key:"setNorthEast",value:function(t){return this._ne=t instanceof e.L?new e.L(t.lng,t.lat):e.L.convert(t),this}},{key:"setSouthWest",value:function(t){return this._sw=t instanceof e.L?new e.L(t.lng,t.lat):e.L.convert(t),this}},{key:"extend",value:function(n){var r,a,i=this._sw,o=this._ne;if(n instanceof e.L)r=n,a=n;else{if(!(n instanceof t))return Array.isArray(n)?4===n.length||n.every(Array.isArray)?this.extend(t.convert(n)):this.extend(e.L.convert(n)):n&&("lng"in n||"lon"in n)&&"lat"in n?this.extend(e.L.convert(n)):this;if(r=n._sw,a=n._ne,!r||!a)return this}return i||o?(i.lng=Math.min(r.lng,i.lng),i.lat=Math.min(r.lat,i.lat),o.lng=Math.max(a.lng,o.lng),o.lat=Math.max(a.lat,o.lat)):(this._sw=new e.L(r.lng,r.lat),this._ne=new e.L(a.lng,a.lat)),this}},{key:"getCenter",value:function(){return new e.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}},{key:"getSouthWest",value:function(){return this._sw}},{key:"getNorthEast",value:function(){return this._ne}},{key:"getNorthWest",value:function(){return new e.L(this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new e.L(this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this._sw.lng}},{key:"getSouth",value:function(){return this._sw.lat}},{key:"getEast",value:function(){return this._ne.lng}},{key:"getNorth",value:function(){return this._ne.lat}},{key:"toArray",value:function(){return[this._sw.toArray(),this._ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this._sw&&this._ne)}},{key:"contains",value:function(t){var n=e.L.convert(t),r=n.lng,a=n.lat,i=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=r&&r>=this._ne.lng),this._sw.lat<=a&&a<=this._ne.lat&&i}}],[{key:"convert",value:function(e){return e instanceof t?e:e?new t(e):e}},{key:"fromLngLat",value:function(n){var r=360*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)/40075017,a=r/Math.cos(Math.PI/180*n.lat);return new t(new e.L(n.lng-a,n.lat-r),new e.L(n.lng+a,n.lat+r))}}]),t}(),W=function(){function t(e,n,r){m(this,t),this.bounds=H.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=r||24}return p(t,[{key:"validateBounds",value:function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}},{key:"contains",value:function(t){var n=Math.pow(2,t.z),r=Math.floor(e.G(this.bounds.getWest())*n),a=Math.floor(e.H(this.bounds.getNorth())*n),i=Math.ceil(e.G(this.bounds.getEast())*n),o=Math.ceil(e.H(this.bounds.getSouth())*n);return t.x>=r&&t.x<i&&t.y>=a&&t.y<o}}]),t}(),Y=function(t){v(r,t);var n=g(r);function r(t,i,o,l){var c;if(m(this,r),(c=n.call(this)).load=function(){c._loaded=!1,c.fire(new e.k("dataloading",{dataType:"source"})),c._tileJSONRequest=q(c._options,c.map._requestManager,(function(t,n){c._tileJSONRequest=null,c._loaded=!0,c.map.style.sourceCaches[c.id].clearTiles(),t?c.fire(new e.j(t)):n&&(e.e(a(c),n),n.bounds&&(c.tileBounds=new W(n.bounds,c.minzoom,c.maxzoom)),c.fire(new e.k("data",{dataType:"source",sourceDataType:"metadata"})),c.fire(new e.k("data",{dataType:"source",sourceDataType:"content"})))}))},c.serialize=function(){return e.e({},c._options)},c.id=t,c.dispatcher=o,c.type="vector",c.minzoom=0,c.maxzoom=22,c.scheme="xyz",c.tileSize=512,c.reparseOverscaled=!0,c.isTileClipped=!0,c._loaded=!1,e.e(a(c),e.F(i,["url","scheme","tileSize","promoteId"])),c._options=e.e({type:"vector"},i),c._collectResourceTiming=i.collectResourceTiming,512!==c.tileSize)throw new Error("vector tile sources must have a tileSize of 512");return c.setEventedParent(l),s(c)}return p(r,[{key:"loaded",value:function(){return this._loaded}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"setSourceProperty",value:function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load()}},{key:"setTiles",value:function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this}},{key:"setUrl",value:function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"loadTile",value:function(e,t){var n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),r={request:this.map._requestManager.transformRequest(n,y.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(n,r){return delete e.request,e.aborted?t(null):n&&404!==n.status?t(n):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),t(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}r.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=t:e.request=e.actor.send("reloadTile",r,a.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",r,a.bind(this)))}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)}},{key:"unloadTile",value:function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)}},{key:"hasTransition",value:function(){return!1}}]),r}(e.E),G=function(t){v(r,t);var n=g(r);function r(t,i,o,s){var l;return m(this,r),(l=n.call(this)).id=t,l.dispatcher=o,l.setEventedParent(s),l.type="raster",l.minzoom=0,l.maxzoom=22,l.roundZoom=!0,l.scheme="xyz",l.tileSize=512,l._loaded=!1,l._options=e.e({type:"raster"},i),e.e(a(l),e.F(i,["url","scheme","tileSize"])),l}return p(r,[{key:"load",value:function(){var t=this;this._loaded=!1,this.fire(new e.k("dataloading",{dataType:"source"})),this._tileJSONRequest=q(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.j(n)):r&&(e.e(t,r),r.bounds&&(t.tileBounds=new W(r.bounds,t.minzoom,t.maxzoom)),t.fire(new e.k("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.k("data",{dataType:"source",sourceDataType:"content"})))}))}},{key:"loaded",value:function(){return this._loaded}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"setSourceProperty",value:function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load()}},{key:"setTiles",value:function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this}},{key:"serialize",value:function(){return e.e({},this._options)}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"loadTile",value:function(e,t){var n=this,r=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);e.request=u.getImage(this.map._requestManager.transformRequest(r,y.Tile),(function(r,a,i){if(delete e.request,e.aborted)e.state="unloaded",t(null);else if(r)e.state="errored",t(r);else if(a){n.map._refreshExpiredTiles&&i&&e.setExpiryData(i);var o=n.map.painter.context,s=o.gl;e.texture=n.map.painter.getTileTexture(a.width),e.texture?e.texture.update(a,{useMipmap:!0}):(e.texture=new P(o,a,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),e.state="loaded",t(null)}}),this.map._refreshExpiredTiles)}},{key:"abortTile",value:function(e,t){e.request&&(e.request.cancel(),delete e.request),t()}},{key:"unloadTile",value:function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}},{key:"hasTransition",value:function(){return!1}}]),r}(e.E),J=function(t){v(r,t);var n=g(r);function r(t,a,i,o){var s;return m(this,r),(s=n.call(this,t,a,i,o)).type="raster-dem",s.maxzoom=22,s._options=e.e({type:"raster-dem"},a),s.encoding=a.encoding||"mapbox",s.redFactor=a.redFactor,s.greenFactor=a.greenFactor,s.blueFactor=a.blueFactor,s.baseShift=a.baseShift,s}return p(r,[{key:"loadTile",value:function(t,n){var r=this,a=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),i=this.map._requestManager.transformRequest(a,y.Tile);function o(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.needsTerrainPrepare=!0,t.state="loaded",n(null))}t.neighboringTiles=this._getNeighboringTiles(t.tileID),t.request=u.getImage(i,(function(a,i,s){return e._(r,void 0,void 0,x().mark((function r(){var l,c;return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(delete t.request,!t.aborted){r.next=4;break}t.state="unloaded",n(null),r.next=20;break;case 4:if(!a){r.next=8;break}t.state="errored",n(a),r.next=20;break;case 8:if(!i){r.next=20;break}if(this.map._refreshExpiredTiles&&t.setExpiryData(s),!e.a(i)||!e.J()){r.next=14;break}r.t0=i,r.next=17;break;case 14:return r.next=16,function(t){return e._(this,void 0,void 0,x().mark((function n(){var r,a;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"==typeof VideoFrame||!e.K()){n.next=13;break}return r=t.width+2,a=t.height+2,n.prev=2,n.t0=e.R,n.t1={width:r,height:a},n.next=7,e.M(t,-1,-1,r,a);case 7:return n.t2=n.sent,n.abrupt("return",new n.t0(n.t1,n.t2));case 11:n.prev=11,n.t3=n.catch(2);case 13:return n.abrupt("return",e.h.getImageData(t,1));case 14:case"end":return n.stop()}}),n,null,[[2,11]])})))}(i);case 16:r.t0=r.sent;case 17:l=r.t0,c={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:l,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift},t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",c,o));case 20:case"end":return r.stop()}}),r,this)})))}),this.map._refreshExpiredTiles)}},{key:"_getNeighboringTiles",value:function(t){var n=t.canonical,r=Math.pow(2,n.z),a=(n.x-1+r)%r,i=0===n.x?t.wrap-1:t.wrap,o=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,l={};return l[new e.O(t.overscaledZ,i,n.z,a,n.y).key]={backfilled:!1},l[new e.O(t.overscaledZ,s,n.z,o,n.y).key]={backfilled:!1},n.y>0&&(l[new e.O(t.overscaledZ,i,n.z,a,n.y-1).key]={backfilled:!1},l[new e.O(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.O(t.overscaledZ,s,n.z,o,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new e.O(t.overscaledZ,i,n.z,a,n.y+1).key]={backfilled:!1},l[new e.O(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.O(t.overscaledZ,s,n.z,o,n.y+1).key]={backfilled:!1}),l}},{key:"unloadTile",value:function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})}}]),r}(G),X=function(t){v(r,t);var n=g(r);function r(t,a,i,o){var s;m(this,r),(s=n.call(this)).load=function(){s._updateWorkerData()},s.serialize=function(){return e.e({},s._options,{type:s.type,data:s._data})},s.id=t,s.type="geojson",s.minzoom=0,s.maxzoom=18,s.tileSize=512,s.isTileClipped=!0,s.reparseOverscaled=!0,s._removed=!1,s._pendingLoads=0,s.actor=i.getActor(),s.setEventedParent(o),s._data=a.data,s._options=e.e({},a),s._collectResourceTiming=a.collectResourceTiming,void 0!==a.maxzoom&&(s.maxzoom=a.maxzoom),a.type&&(s.type=a.type),a.attribution&&(s.attribution=a.attribution),s.promoteId=a.promoteId;var l=e.N/s.tileSize;return s.workerOptions=e.e({source:s.id,cluster:a.cluster||!1,geojsonVtOptions:{buffer:(void 0!==a.buffer?a.buffer:128)*l,tolerance:(void 0!==a.tolerance?a.tolerance:.375)*l,extent:e.N,maxZoom:s.maxzoom,lineMetrics:a.lineMetrics||!1,generateId:a.generateId||!1},superclusterOptions:{maxZoom:void 0!==a.clusterMaxZoom?a.clusterMaxZoom:s.maxzoom-1,minPoints:Math.max(2,a.clusterMinPoints||2),extent:e.N,radius:(a.clusterRadius||50)*l,log:!1,generateId:a.generateId||!1},clusterProperties:a.clusterProperties,filter:a.filter},a.workerOptions),"string"==typeof s.promoteId&&(s.workerOptions.promoteId=s.promoteId),s}return p(r,[{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"setData",value:function(e){return this._data=e,this._updateWorkerData(),this}},{key:"updateData",value:function(e){return this._updateWorkerData(e),this}},{key:"setClusterOptions",value:function(e){return this.workerOptions.cluster=e.cluster,e&&(void 0!==e.clusterRadius&&(this.workerOptions.superclusterOptions.radius=e.clusterRadius),void 0!==e.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=e.clusterMaxZoom)),this._updateWorkerData(),this}},{key:"getClusterExpansionZoom",value:function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}},{key:"getClusterChildren",value:function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}},{key:"getClusterLeaves",value:function(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this}},{key:"_updateWorkerData",value:function(t){var n=this,r=e.e({},this.workerOptions);t?r.dataDiff=t:"string"==typeof this._data?(r.request=this.map._requestManager.transformRequest(e.h.resolveURL(this._data),y.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new e.k("dataloading",{dataType:"source"})),this.actor.send("".concat(this.type,".loadData"),r,(function(t,r){if(n._pendingLoads--,n._removed||r&&r.abandoned)n.fire(new e.k("dataabort",{dataType:"source"}));else{var a=null;if(r&&r.resourceTiming&&r.resourceTiming[n.id]&&(a=r.resourceTiming[n.id].slice(0)),t)n.fire(new e.j(t));else{var i={dataType:"source"};n._collectResourceTiming&&a&&a.length>0&&e.e(i,{resourceTiming:a}),n.fire(new e.k("data",Object.assign(Object.assign({},i),{sourceDataType:"metadata"}))),n.fire(new e.k("data",Object.assign(Object.assign({},i),{sourceDataType:"content"})))}}}))}},{key:"loaded",value:function(){return 0===this._pendingLoads}},{key:"loadTile",value:function(e,t){var n=this,r=e.actor?"reloadTile":"loadTile";e.actor=this.actor;var a={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};e.request=this.actor.send(r,a,(function(a,i){return delete e.request,e.unloadVectorData(),e.aborted?t(null):a?t(a):(e.loadVectorData(i,n.map.painter,"reloadTile"===r),t(null))}))}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}},{key:"unloadTile",value:function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"onRemove",value:function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}},{key:"hasTransition",value:function(){return!1}}]),r}(e.E),K=e.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),$=function(t){v(r,t);var n=g(r);function r(t,a,i,o){var s;return m(this,r),(s=n.call(this)).load=function(t,n){s._loaded=!1,s.fire(new e.k("dataloading",{dataType:"source"})),s.url=s.options.url,s._request=u.getImage(s.map._requestManager.transformRequest(s.url,y.Image),(function(r,a){s._request=null,s._loaded=!0,r?s.fire(new e.j(r)):a&&(s.image=a,t&&(s.coordinates=t),n&&n(),s._finishLoading())}))},s.prepare=function(){if(0!==Object.keys(s.tiles).length&&s.image){var t=s.map.painter.context,n=t.gl;s.boundsBuffer||(s.boundsBuffer=t.createVertexBuffer(s._boundsArray,K.members)),s.boundsSegments||(s.boundsSegments=e.S.simpleSegment(0,0,4,2)),s.texture||(s.texture=new P(t,s.image,n.RGBA),s.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));var r=!1;for(var a in s.tiles){var i=s.tiles[a];"loaded"!==i.state&&(i.state="loaded",i.texture=s.texture,r=!0)}r&&s.fire(new e.k("data",{dataType:"source",sourceDataType:"idle",sourceId:s.id}))}},s.serialize=function(){return{type:"image",url:s.options.url,coordinates:s.coordinates}},s.id=t,s.dispatcher=i,s.coordinates=a.coordinates,s.type="image",s.minzoom=0,s.maxzoom=22,s.tileSize=512,s.tiles={},s._loaded=!1,s.setEventedParent(o),s.options=a,s}return p(r,[{key:"loaded",value:function(){return this._loaded}},{key:"updateImage",value:function(e){var t=this;return e.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this}},{key:"_finishLoading",value:function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.k("data",{dataType:"source",sourceDataType:"metadata"})))}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"onRemove",value:function(){this._request&&(this._request.cancel(),this._request=null)}},{key:"setCoordinates",value:function(t){var n=this;this.coordinates=t;var r=t.map(e.U.fromLngLat);this.tileID=function(t){var n,r=1/0,a=1/0,i=-1/0,o=-1/0,s=f(t);try{for(s.s();!(n=s.n()).done;){var l=n.value;r=Math.min(r,l.x),a=Math.min(a,l.y),i=Math.max(i,l.x),o=Math.max(o,l.y)}}catch(h){s.e(h)}finally{s.f()}var c=Math.max(i-r,o-a),u=Math.max(0,Math.floor(-Math.log(c)/Math.LN2)),d=Math.pow(2,u);return new e.W(u,Math.floor((r+i)/2*d),Math.floor((a+o)/2*d))}(r),this.minzoom=this.maxzoom=this.tileID.z;var a=r.map((function(e){return n.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.V,this._boundsArray.emplaceBack(a[0].x,a[0].y,0,0),this._boundsArray.emplaceBack(a[1].x,a[1].y,e.N,0),this._boundsArray.emplaceBack(a[3].x,a[3].y,0,e.N),this._boundsArray.emplaceBack(a[2].x,a[2].y,e.N,e.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.k("data",{dataType:"source",sourceDataType:"content"})),this}},{key:"loadTile",value:function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}},{key:"hasTransition",value:function(){return!1}}]),r}(e.E),Q=function(t){v(r,t);var n=g(r);function r(t,a,i,o){var s;return m(this,r),(s=n.call(this,t,a,i,o)).load=function(){s._loaded=!1;var t=s.options;s.urls=[];var n,r=f(t.urls);try{for(r.s();!(n=r.n()).done;){var a=n.value;s.urls.push(s.map._requestManager.transformRequest(a,y.Source).url)}}catch(i){r.e(i)}finally{r.f()}e.X(s.urls,(function(t,n){s._loaded=!0,t?s.fire(new e.j(t)):n&&(s.video=n,s.video.loop=!0,s.video.addEventListener("playing",(function(){s.map.triggerRepaint()})),s.map&&s.video.play(),s._finishLoading())}))},s.prepare=function(){if(!(0===Object.keys(s.tiles).length||s.video.readyState<2)){var t=s.map.painter.context,n=t.gl;s.boundsBuffer||(s.boundsBuffer=t.createVertexBuffer(s._boundsArray,K.members)),s.boundsSegments||(s.boundsSegments=e.S.simpleSegment(0,0,4,2)),s.texture?s.video.paused||(s.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,s.video)):(s.texture=new P(t,s.video,n.RGBA),s.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));var r=!1;for(var a in s.tiles){var i=s.tiles[a];"loaded"!==i.state&&(i.state="loaded",i.texture=s.texture,r=!0)}r&&s.fire(new e.k("data",{dataType:"source",sourceDataType:"idle",sourceId:s.id}))}},s.serialize=function(){return{type:"video",urls:s.urls,coordinates:s.coordinates}},s.roundZoom=!0,s.type="video",s.options=a,s}return p(r,[{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"play",value:function(){this.video&&this.video.play()}},{key:"seek",value:function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.j(new e.Y("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(n.start(0)," and ").concat(n.end(0),"-second mark.")))):this.video.currentTime=t}}},{key:"getVideo",value:function(){return this.video}},{key:"onAdd",value:function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}},{key:"hasTransition",value:function(){return this.video&&!this.video.paused}}]),r}($),ee=function(t){v(r,t);var n=g(r);function r(t,a,i,o){var s;return m(this,r),(s=n.call(this,t,a,i,o)).load=function(){s._loaded=!0,s.canvas||(s.canvas=s.options.canvas instanceof HTMLCanvasElement?s.options.canvas:document.getElementById(s.options.canvas)),s.width=s.canvas.width,s.height=s.canvas.height,s._hasInvalidDimensions()?s.fire(new e.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(s.play=function(){this._playing=!0,this.map.triggerRepaint()},s.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},s._finishLoading())},s.prepare=function(){var t=!1;if(s.canvas.width!==s.width&&(s.width=s.canvas.width,t=!0),s.canvas.height!==s.height&&(s.height=s.canvas.height,t=!0),!s._hasInvalidDimensions()&&0!==Object.keys(s.tiles).length){var n=s.map.painter.context,r=n.gl;s.boundsBuffer||(s.boundsBuffer=n.createVertexBuffer(s._boundsArray,K.members)),s.boundsSegments||(s.boundsSegments=e.S.simpleSegment(0,0,4,2)),s.texture?(t||s._playing)&&s.texture.update(s.canvas,{premultiply:!0}):s.texture=new P(n,s.canvas,r.RGBA,{premultiply:!0});var a=!1;for(var i in s.tiles){var o=s.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=s.texture,a=!0)}a&&s.fire(new e.k("data",{dataType:"source",sourceDataType:"idle",sourceId:s.id}))}},s.serialize=function(){return{type:"canvas",coordinates:s.coordinates}},a.coordinates?Array.isArray(a.coordinates)&&4===a.coordinates.length&&!a.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||s.fire(new e.j(new e.Y("sources.".concat(t),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):s.fire(new e.j(new e.Y("sources.".concat(t),null,'missing required property "coordinates"'))),a.animate&&"boolean"!=typeof a.animate&&s.fire(new e.j(new e.Y("sources.".concat(t),null,'optional "animate" property must be a boolean value'))),a.canvas?"string"==typeof a.canvas||a.canvas instanceof HTMLCanvasElement||s.fire(new e.j(new e.Y("sources.".concat(t),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):s.fire(new e.j(new e.Y("sources.".concat(t),null,'missing required property "canvas"'))),s.options=a,s.animate=void 0===a.animate||a.animate,s}return p(r,[{key:"getCanvas",value:function(){return this.canvas}},{key:"onAdd",value:function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}},{key:"onRemove",value:function(){this.pause()}},{key:"hasTransition",value:function(){return this._playing}},{key:"_hasInvalidDimensions",value:function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e++){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1}}]),r}($),te={},ne=function(e){switch(e){case"geojson":return X;case"image":return $;case"raster":return G;case"raster-dem":return J;case"vector":return Y;case"video":return Q;case"canvas":return ee}return te[e]};function re(t,n){var r=e.Z();return e.$(r,r,[1,1,0]),e.a0(r,r,[.5*t.width,.5*t.height,1]),e.a1(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function ae(e,t,n,r,a,i){var o=function(e,t,n){if(e){var r,a=f(e);try{for(a.s();!(r=a.n()).done;){var i=t[r.value];if(i&&i.source===n&&"fill-extrusion"===i.type)return!0}}catch(l){a.e(l)}finally{a.f()}}else for(var o in t){var s=t[o];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(a&&a.layers,t,e.id),s=i.maxPitchScaleFactor(),l=e.tilesIn(r,s,o);l.sort(ie);var c,u=[],d=f(l);try{for(d.s();!(c=d.n()).done;){var h=c.value;u.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(t,n,e._state,h.queryGeometry,h.cameraQueryGeometry,h.scale,a,i,s,re(e.transform,h.tileID))})}}catch(v){d.e(v)}finally{d.f()}var p=function(e){var t,n={},r={},a=f(e);try{for(a.s();!(t=a.n()).done;){var i=t.value,o=i.queryResults,s=i.wrappedTileID,l=r[s]=r[s]||{};for(var c in o){var u,d=o[c],h=l[c]=l[c]||{},p=n[c]=n[c]||[],m=f(d);try{for(m.s();!(u=m.n()).done;){var g=u.value;h[g.featureIndex]||(h[g.featureIndex]=!0,p.push(g))}}catch(v){m.e(v)}finally{m.f()}}}}catch(v){a.e(v)}finally{a.f()}return n}(u);for(var m in p)p[m].forEach((function(t){var n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return p}function ie(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var oe=function(){function t(n,r){m(this,t),this.timeAdded=0,this.fadeEndTime=0,this.tileID=n,this.uid=e.a2(),this.uses=0,this.tileSize=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}return p(t,[{key:"registerFadeDuration",value:function(e){var t=e+this.timeAdded;t<this.fadeEndTime||(this.fadeEndTime=t)}},{key:"wasRequested",value:function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}},{key:"clearTextures",value:function(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.demTexture=null}},{key:"loadVectorData",value:function(t,n,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var a in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;var r,a=f(e);try{var i=function(){var e=r.value,a=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==a.length){e.layers=a,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return a.filter((function(t){return t.id===e}))[0]})));var i,o=f(a);try{for(o.s();!(i=o.n()).done;){var s=i.value;n[s.id]=e}}catch(l){o.e(l)}finally{o.f()}}};for(a.s();!(r=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return n}(t.buckets,n.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[a];if(i instanceof e.a4){if(this.hasSymbolBuckets=!0,!r)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var s=this.buckets[o];if(s instanceof e.a4&&s.hasRTLText){this.hasRTLText=!0,e.a5();break}}for(var l in this.queryPadding=0,this.buckets){var c=this.buckets[l];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(l).queryRadius(c))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new e.a3}},{key:"unloadVectorData",value:function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}},{key:"getBucket",value:function(e){return this.buckets[e.id]}},{key:"upload",value:function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new P(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new P(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)}},{key:"prepare",value:function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}},{key:"queryRenderedFeatures",value:function(e,t,n,r,a,i,o,s,l,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:a,scale:i,tileSize:this.tileSize,pixelPosMatrix:c,transform:s,params:o,queryPadding:this.queryPadding*l},e,t,n):{}}},{key:"querySourceFeatures",value:function(t,n){var r=this.latestFeatureIndex;if(r&&r.rawTileData){var a=r.loadVTLayers(),i=n&&n.sourceLayer?n.sourceLayer:"",o=a._geojsonTileLayer||a[i];if(o)for(var s=e.a6(n&&n.filter),l=this.tileID.canonical,c=l.z,u=l.x,d=l.y,h={z:c,x:u,y:d},f=0;f<o.length;f++){var p=o.feature(f);if(s.needGeometry){var m=e.a7(p,!0);if(!s.filter(new e.a8(this.tileID.overscaledZ),m,this.tileID.canonical))continue}else if(!s.filter(new e.a8(this.tileID.overscaledZ),p))continue;var v=r.getId(p,i),g=new e.a9(p,c,u,d,v);g.tile=h,t.push(g)}}}},{key:"hasData",value:function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}},{key:"patternsLoaded",value:function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}},{key:"setExpiryData",value:function(t){var n=this.expirationTime;if(t.cacheControl){var r=e.aa(t.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var a=Date.now(),i=!1;if(this.expirationTime>a)i=!1;else if(n)if(this.expirationTime<n)i=!0;else{var o=this.expirationTime-n;o?this.expirationTime=a+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}},{key:"getExpiryTimeout",value:function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}},{key:"setFeatureState",value:function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(t.style.hasLayer(r)){var a=this.buckets[r],i=a.layers[0].sourceLayer||"_geojsonTileLayer",o=n[i],s=e[i];if(o&&s&&0!==Object.keys(s).length){a.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{});var l=t&&t.style&&t.style.getLayer(r);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(a)))}}}}},{key:"holdingForFade",value:function(){return void 0!==this.symbolFadeHoldUntil}},{key:"symbolFadeFinished",value:function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<e.h.now()}},{key:"clearFadeHold",value:function(){this.symbolFadeHoldUntil=void 0}},{key:"setHoldDuration",value:function(t){this.symbolFadeHoldUntil=e.h.now()+t}},{key:"setDependencies",value:function(e,t){var n,r={},a=f(t);try{for(a.s();!(n=a.n()).done;)r[n.value]=!0}catch(i){a.e(i)}finally{a.f()}this.dependencies[e]=r}},{key:"hasDependency",value:function(e,t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=this.dependencies[a];if(i){var o,s=f(t);try{for(s.s();!(o=s.n()).done;)if(i[o.value])return!0}catch(l){s.e(l)}finally{s.f()}}}}catch(l){r.e(l)}finally{r.f()}return!1}}]),t}(),se=function(){function e(t,n){m(this,e),this.max=t,this.onRemove=n,this.reset()}return p(e,[{key:"reset",value:function(){for(var e in this.data){var t,n=f(this.data[e]);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}}catch(a){n.e(a)}finally{n.f()}}return this.data={},this.order=[],this}},{key:"add",value:function(e,t,n){var r=this,a=e.wrapped().key;void 0===this.data[a]&&(this.data[a]=[]);var i={value:t,timeout:void 0};if(void 0!==n&&(i.timeout=setTimeout((function(){r.remove(e,i)}),n)),this.data[a].push(i),this.order.push(a),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}},{key:"has",value:function(e){return e.wrapped().key in this.data}},{key:"getAndRemove",value:function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}},{key:"_getAndRemoveByKey",value:function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}},{key:"getByKey",value:function(e){var t=this.data[e];return t?t[0].value:null}},{key:"get",value:function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}},{key:"remove",value:function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),a=this.data[n][r];return this.data[n].splice(r,1),a.timeout&&clearTimeout(a.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(a.value),this.order.splice(this.order.indexOf(n),1),this}},{key:"setMaxSize",value:function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}},{key:"filter",value:function(e){var t=[];for(var n in this.data){var r,a=f(this.data[n]);try{for(a.s();!(r=a.n()).done;){var i=r.value;e(i.value)||t.push(i)}}catch(c){a.e(c)}finally{a.f()}}for(var o=0,s=t;o<s.length;o++){var l=s[o];this.remove(l.value.tileID,l)}}}]),e}(),le=function(){function t(){m(this,t),this.state={},this.stateChanges={},this.deletedStates={}}return p(t,[{key:"updateState",value:function(t,n,r){var a=String(n);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][a]=this.stateChanges[t][a]||{},e.e(this.stateChanges[t][a],r),null===this.deletedStates[t])for(var i in this.deletedStates[t]={},this.state[t])i!==a&&(this.deletedStates[t][i]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][a])for(var o in this.deletedStates[t][a]={},this.state[t][a])r[o]||(this.deletedStates[t][a][o]=null);else for(var s in r)this.deletedStates[t]&&this.deletedStates[t][a]&&null===this.deletedStates[t][a][s]&&delete this.deletedStates[t][a][s]}},{key:"removeFeatureState",value:function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}}},{key:"getState",value:function(t,n){var r=String(n),a=e.e({},(this.state[t]||{})[r],(this.stateChanges[t]||{})[r]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var i=this.deletedStates[t][n];if(null===i)return{};for(var o in i)delete a[o]}return a}},{key:"initializeTileState",value:function(e,t){e.setFeatureState(this.state,t)}},{key:"coalesceChanges",value:function(t,n){var r={};for(var a in this.stateChanges){this.state[a]=this.state[a]||{};var i={};for(var o in this.stateChanges[a])this.state[a][o]||(this.state[a][o]={}),e.e(this.state[a][o],this.stateChanges[a][o]),i[o]=this.state[a][o];r[a]=i}for(var s in this.deletedStates){this.state[s]=this.state[s]||{};var l={};if(null===this.deletedStates[s])for(var c in this.state[s])l[c]={},this.state[s][c]={};else for(var u in this.deletedStates[s]){if(null===this.deletedStates[s][u])this.state[s][u]={};else for(var d=0,h=Object.keys(this.deletedStates[s][u]);d<h.length;d++){var f=h[d];delete this.state[s][u][f]}l[u]=this.state[s][u]}r[s]=r[s]||{},e.e(r[s],l)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var p in t)t[p].setFeatureState(r,n)}}]),t}(),ce=function(t){v(r,t);var n=g(r);function r(e,t,i){var o;return m(this,r),(o=n.call(this)).id=e,o.dispatcher=i,o.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform,o.terrain),o._didEmitContent=!0)})),o.on("dataloading",(function(){o._sourceErrored=!1})),o.on("error",(function(){o._sourceErrored=o._source.loaded()})),o._source=function(e,t,n,r){var a=new(ne(t.type))(e,t,n,r);if(a.id!==e)throw new Error("Expected Source id to be ".concat(e," instead of ").concat(a.id));return a}(e,t,i,a(o)),o._tiles={},o._cache=new se(0,o._unloadTile.bind(a(o))),o._timers={},o._cacheTimers={},o._maxTileCacheSize=null,o._maxTileCacheZoomLevels=null,o._loadedParentTiles={},o._coveredTiles={},o._state=new le,o._didEmitContent=!1,o._updated=!1,o}return p(r,[{key:"onAdd",value:function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._maxTileCacheZoomLevels=e?e._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}},{key:"onRemove",value:function(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}},{key:"loaded",value:function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}},{key:"getSource",value:function(){return this._source}},{key:"pause",value:function(){this._paused=!0}},{key:"resume",value:function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}}},{key:"_loadTile",value:function(e,t){return this._source.loadTile(e,t)}},{key:"_unloadTile",value:function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))}},{key:"_abortTile",value:function(t){this._source.abortTile&&this._source.abortTile(t,(function(){})),this._source.fire(new e.k("dataabort",{tile:t,coord:t.tileID,dataType:"source"}))}},{key:"serialize",value:function(){return this._source.serialize()}},{key:"prepare",value:function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}},{key:"getIds",value:function(){return Object.values(this._tiles).map((function(e){return e.tileID})).sort(ue).map((function(e){return e.key}))}},{key:"getRenderableIds",value:function(t){var n=this,r=[];for(var a in this._tiles)this._isIdRenderable(a,t)&&r.push(this._tiles[a]);return t?r.sort((function(t,r){var a=t.tileID,i=r.tileID,o=new e.P(a.canonical.x,a.canonical.y)._rotate(n.transform.angle),s=new e.P(i.canonical.x,i.canonical.y)._rotate(n.transform.angle);return a.overscaledZ-i.overscaledZ||s.y-o.y||s.x-o.x})).map((function(e){return e.tileID.key})):r.map((function(e){return e.tileID})).sort(ue).map((function(e){return e.key}))}},{key:"hasRenderableParent",value:function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}},{key:"_isIdRenderable",value:function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}},{key:"reload",value:function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")}},{key:"_reloadTile",value:function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}},{key:"_tileLoaded",value:function(t,n,r,a){if(a)return t.state="errored",void(404!==a.status?this._source.fire(new e.j(a,{tile:t})):this.update(this.transform,this.terrain));t.timeAdded=e.h.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),t.aborted||this._source.fire(new e.k("data",{dataType:"source",tile:t,coord:t.tileID}))}},{key:"_backfillDEM",value:function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var a=this.getTileByID(r);i(e,a),i(a,e)}}function i(e,t){e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,a=Math.pow(2,e.tileID.canonical.z),i=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+a)?n+=a:1===Math.abs(n-a)&&(n-=a)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[i]&&(e.neighboringTiles[i].backfilled=!0)))}}},{key:"getTile",value:function(e){return this.getTileByID(e.key)}},{key:"getTileByID",value:function(e){return this._tiles[e]}},{key:"_retainLoadedChildren",value:function(e,t,n,r){for(var a in this._tiles){var i=this._tiles[a];if(!(r[a]||!i.hasData()||i.tileID.overscaledZ<=t||i.tileID.overscaledZ>n)){for(var o=i.tileID;i&&i.tileID.overscaledZ>t+1;){var s=i.tileID.scaledTo(i.tileID.overscaledZ-1);(i=this._tiles[s.key])&&i.hasData()&&(o=s)}for(var l=o;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){r[o.key]=o;break}}}}},{key:"findLoadedParent",value:function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var a=e.scaledTo(r),i=this._getLoadedTile(a);if(i)return i}}},{key:"_getLoadedTile",value:function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)}},{key:"updateCacheSize",value:function(t){var n=Math.ceil(t.width/this._source.tileSize)+1,r=Math.ceil(t.height/this._source.tileSize)+1,a=Math.floor(n*r*(null===this._maxTileCacheZoomLevels?e.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,a):a;this._cache.setMaxSize(i)}},{key:"handleWrapJump",value:function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var n={};for(var r in this._tiles){var a=this._tiles[r];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),n[a.tileID.key]=a}for(var i in this._tiles=n,this._timers)clearTimeout(this._timers[i]),delete this._timers[i];for(var o in this._tiles)this._setTileReloadTimer(o,this._tiles[o])}}},{key:"update",value:function(t,n){var a=this;if(this.transform=t,this.terrain=n,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.O(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(i=t.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:n}),this._source.hasTile&&(i=i.filter((function(e){return a._source.hasTile(e)})))):i=[];var o=t.coveringZoomLevel(this._source),s=Math.max(o-r.maxOverzooming,this._source.minzoom),l=Math.max(o+r.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){var c,u={},d=f(i);try{for(d.s();!(c=d.n()).done;){var h=c.value;if(h.canonical.z>this._source.minzoom){var p=h.scaledTo(h.canonical.z-1);u[p.key]=p;var m=h.scaledTo(Math.max(this._source.minzoom,Math.min(h.canonical.z,5)));u[m.key]=m}}}catch(W){d.e(W)}finally{d.f()}i=i.concat(Object.values(u))}var v=0===i.length&&!this._updated&&this._didEmitContent;this._updated=!0,v&&this.fire(new e.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));var g=this._updateRetainedTiles(i,o);if(de(this._source.type)){for(var y={},x={},b=Object.keys(g),_=e.h.now(),w=0,k=b;w<k.length;w++){var j=k[w],S=g[j],C=this._tiles[j];if(C&&!(0!==C.fadeEndTime&&C.fadeEndTime<=_)){var N=this.findLoadedParent(S,s);N&&(this._addTile(N.tileID),y[N.tileID.key]=N.tileID),x[j]=S}}for(var E in this._retainLoadedChildren(x,o,l,g),y)g[E]||(this._coveredTiles[E]=!0,g[E]=y[E]);if(n){var T,I={},A={},P=f(i);try{for(P.s();!(T=P.n()).done;){var M=T.value;this._tiles[M.key].hasData()?I[M.key]=M:A[M.key]=M}}catch(W){P.e(W)}finally{P.f()}for(var D in A){var L=A[D].children(this._source.maxzoom);this._tiles[L[0].key]&&this._tiles[L[1].key]&&this._tiles[L[2].key]&&this._tiles[L[3].key]&&(I[L[0].key]=g[L[0].key]=L[0],I[L[1].key]=g[L[1].key]=L[1],I[L[2].key]=g[L[2].key]=L[2],I[L[3].key]=g[L[3].key]=L[3],delete A[D])}for(var O in A){var z=this.findLoadedParent(A[O],this._source.minzoom);if(z)for(var R in I[z.tileID.key]=g[z.tileID.key]=z.tileID,I)I[R].isChildOf(z.tileID)&&delete I[R]}for(var F in this._tiles)I[F]||(this._coveredTiles[F]=!0)}}for(var B in g)this._tiles[B].clearFadeHold();var Z,U=e.ab(this._tiles,g),V=f(U);try{for(V.s();!(Z=V.n()).done;){var q=Z.value,H=this._tiles[q];H.hasSymbolBuckets&&!H.holdingForFade()?H.setHoldDuration(this.map._fadeDuration):H.hasSymbolBuckets&&!H.symbolFadeFinished()||this._removeTile(q)}}catch(W){V.e(W)}finally{V.f()}this._updateLoadedParentTileCache()}}},{key:"releaseSymbolFadeTiles",value:function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}},{key:"_updateRetainedTiles",value:function(e,t){var n,a={},i={},o=Math.max(t-r.maxOverzooming,this._source.minzoom),s=Math.max(t+r.maxUnderzooming,this._source.minzoom),l={},c=f(e);try{for(c.s();!(n=c.n()).done;){var u=n.value,d=this._addTile(u);a[u.key]=u,d.hasData()||t<this._source.maxzoom&&(l[u.key]=u)}}catch(j){c.e(j)}finally{c.f()}this._retainLoadedChildren(l,t,s,a);var h,p=f(e);try{for(p.s();!(h=p.n()).done;){var m=h.value,v=this._tiles[m.key];if(!v.hasData()){if(t+1>this._source.maxzoom){var g=m.children(this._source.maxzoom)[0],y=this.getTile(g);if(y&&y.hasData()){a[g.key]=g;continue}}else{var x=m.children(this._source.maxzoom);if(a[x[0].key]&&a[x[1].key]&&a[x[2].key]&&a[x[3].key])continue}for(var b=v.wasRequested(),_=m.overscaledZ-1;_>=o;--_){var w=m.scaledTo(_);if(i[w.key])break;if(i[w.key]=!0,!(v=this.getTile(w))&&b&&(v=this._addTile(w)),v){var k=v.hasData();if((b||k)&&(a[w.key]=w),b=v.wasRequested(),k)break}}}}}catch(j){p.e(j)}finally{p.f()}return a}},{key:"_updateLoadedParentTileCache",value:function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var a=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(a))break;r=a}for(var i=0,o=t;i<o.length;i++){var s=o[i];this._loadedParentTiles[s]=n}}}},{key:"_addTile",value:function(t){var n=this._tiles[t.key];if(n)return n;(n=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));var r=n;return n||(n=new oe(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.k("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n}},{key:"_setTileReloadTimer",value:function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout((function(){n._reloadTile(e,"expired"),delete n._timers[e]}),r))}},{key:"_removeTile",value:function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}},{key:"clearTiles",value:function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()}},{key:"tilesIn",value:function(t,n,r){var a=this,i=[],o=this.transform;if(!o)return i;var s,l=r?o.getCameraQueryGeometry(t):t,c=t.map((function(e){return o.pointCoordinate(e,a.terrain)})),u=l.map((function(e){return o.pointCoordinate(e,a.terrain)})),d=this.getIds(),h=1/0,p=1/0,m=-1/0,v=-1/0,g=f(u);try{for(g.s();!(s=g.n()).done;){var y=s.value;h=Math.min(h,y.x),p=Math.min(p,y.y),m=Math.max(m,y.x),v=Math.max(v,y.y)}}catch(_){g.e(_)}finally{g.f()}for(var x=function(){var t=a._tiles[d[b]];if(t.holdingForFade())return 1;var r=t.tileID,s=Math.pow(2,o.zoom-t.tileID.overscaledZ),l=n*t.queryPadding*e.N/t.tileSize/s,f=[r.getTilePoint(new e.U(h,p)),r.getTilePoint(new e.U(m,v))];if(f[0].x-l<e.N&&f[0].y-l<e.N&&f[1].x+l>=0&&f[1].y+l>=0){var g=c.map((function(e){return r.getTilePoint(e)})),y=u.map((function(e){return r.getTilePoint(e)}));i.push({tile:t,tileID:r,queryGeometry:g,cameraQueryGeometry:y,scale:s})}},b=0;b<d.length;b++)x();return i}},{key:"getVisibleCoordinates",value:function(e){var t,n=this,r=this.getRenderableIds(e).map((function(e){return n._tiles[e].tileID})),a=f(r);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.posMatrix=this.transform.calculatePosMatrix(i.toUnwrapped())}}catch(o){a.e(o)}finally{a.f()}return r}},{key:"hasTransition",value:function(){if(this._source.hasTransition())return!0;if(de(this._source.type)){var t=e.h.now();for(var n in this._tiles)if(this._tiles[n].fadeEndTime>=t)return!0}return!1}},{key:"setFeatureState",value:function(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}},{key:"removeFeatureState",value:function(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}},{key:"getFeatureState",value:function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}},{key:"setDependencies",value:function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)}},{key:"reloadTilesForDependencies",value:function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(e,t)}))}}]),r}(e.E);function ue(e,t){var n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function de(e){return"raster"===e||"image"===e||"video"===e}ce.maxOverzooming=10,ce.maxUnderzooming=3;var he,fe="mapboxgl_preloaded_worker_pool",pe=function(){function t(){m(this,t),this.active={}}return p(t,[{key:"acquire",value:function(n){if(!this.workers)for(this.workers=[];this.workers.length<t.workerCount;)this.workers.push(new Worker(e.c.WORKER_URL));return this.active[n]=!0,this.workers.slice()}},{key:"release",value:function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)}},{key:"isPreloaded",value:function(){return!!this.active[fe]}},{key:"numActive",value:function(){return Object.keys(this.active).length}}]),t}(),me=Math.floor(e.h.hardwareConcurrency/2);function ve(){return he||(he=new pe),he}pe.workerCount=e.ac(globalThis)?Math.max(Math.min(me,3),1):1;var ge=function(){function t(e,n){m(this,t),this.reset(e,n)}return p(t,[{key:"reset",value:function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}},{key:"lerp",value:function(t){if(1===this.points.length)return this.points[0];t=e.ad(t,0,1);for(var n=1,r=this._distances[n],a=t*this.paddedLength+this.padding;r<a&&n<this._distances.length;)r=this._distances[++n];var i=n-1,o=this._distances[i],s=r-o,l=s>0?(a-o)/s:0;return this.points[i].mult(1-l).add(this.points[n].mult(l))}}]),t}();function ye(e,t){var n=!0;return"always"===e||"never"!==e&&"never"!==t||(n=!1),n}var xe=function(){function e(t,n,r){m(this,e);var a=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(n/r);for(var o=0;o<this.xCellCount*this.yCellCount;o++)a.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=n,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/n,this.boxUid=0,this.circleUid=0}return p(e,[{key:"keysLength",value:function(){return this.boxKeys.length+this.circleKeys.length}},{key:"insert",value:function(e,t,n,r,a){this._forEachCell(t,n,r,a,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(a)}},{key:"insertCircle",value:function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)}},{key:"_insertBoxCell",value:function(e,t,n,r,a,i){this.boxCells[a].push(i)}},{key:"_insertCircleCell",value:function(e,t,n,r,a,i){this.circleCells[a].push(i)}},{key:"_query",value:function(e,t,n,r,a,i,o){if(n<0||e>this.width||r<0||t>this.height)return[];var s=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(a)return[{key:null,x1:e,y1:t,x2:n,y2:r}];for(var l=0;l<this.boxKeys.length;l++)s.push({key:this.boxKeys[l],x1:this.bboxes[4*l],y1:this.bboxes[4*l+1],x2:this.bboxes[4*l+2],y2:this.bboxes[4*l+3]});for(var c=0;c<this.circleKeys.length;c++){var u=this.circles[3*c],d=this.circles[3*c+1],h=this.circles[3*c+2];s.push({key:this.circleKeys[c],x1:u-h,y1:d-h,x2:u+h,y2:d+h})}}else this._forEachCell(e,t,n,r,this._queryCell,s,{hitTest:a,overlapMode:i,seenUids:{box:{},circle:{}}},o);return s}},{key:"query",value:function(e,t,n,r){return this._query(e,t,n,r,!1,null)}},{key:"hitTest",value:function(e,t,n,r,a,i){return this._query(e,t,n,r,!0,a,i).length>0}},{key:"hitTestCircle",value:function(e,t,n,r,a){var i=e-n,o=e+n,s=t-n,l=t+n;if(o<0||i>this.width||l<0||s>this.height)return!1;var c=[];return this._forEachCell(i,s,o,l,this._queryCellCircle,c,{hitTest:!0,overlapMode:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},a),c.length>0}},{key:"_queryCell",value:function(e,t,n,r,a,i,o,s){var l=o.seenUids,c=o.hitTest,u=o.overlapMode,d=this.boxCells[a];if(null!==d){var h,p=this.bboxes,m=f(d);try{for(m.s();!(h=m.n()).done;){var v=h.value;if(!l.box[v]){l.box[v]=!0;var g=4*v,y=this.boxKeys[v];if(e<=p[g+2]&&t<=p[g+3]&&n>=p[g+0]&&r>=p[g+1]&&(!s||s(y))&&(!c||!ye(u,y.overlapMode))&&(i.push({key:y,x1:p[g],y1:p[g+1],x2:p[g+2],y2:p[g+3]}),c))return!0}}}catch(T){m.e(T)}finally{m.f()}}var x=this.circleCells[a];if(null!==x){var b,_=this.circles,w=f(x);try{for(w.s();!(b=w.n()).done;){var k=b.value;if(!l.circle[k]){l.circle[k]=!0;var j=3*k,S=this.circleKeys[k];if(this._circleAndRectCollide(_[j],_[j+1],_[j+2],e,t,n,r)&&(!s||s(S))&&(!c||!ye(u,S.overlapMode))){var C=_[j],N=_[j+1],E=_[j+2];if(i.push({key:S,x1:C-E,y1:N-E,x2:C+E,y2:N+E}),c)return!0}}}}catch(T){w.e(T)}finally{w.f()}}return!1}},{key:"_queryCellCircle",value:function(e,t,n,r,a,i,o,s){var l=o.circle,c=o.seenUids,u=o.overlapMode,d=this.boxCells[a];if(null!==d){var h,p=this.bboxes,m=f(d);try{for(m.s();!(h=m.n()).done;){var v=h.value;if(!c.box[v]){c.box[v]=!0;var g=4*v,y=this.boxKeys[v];if(this._circleAndRectCollide(l.x,l.y,l.radius,p[g+0],p[g+1],p[g+2],p[g+3])&&(!s||s(y))&&!ye(u,y.overlapMode))return i.push(!0),!0}}}catch(C){m.e(C)}finally{m.f()}}var x=this.circleCells[a];if(null!==x){var b,_=this.circles,w=f(x);try{for(w.s();!(b=w.n()).done;){var k=b.value;if(!c.circle[k]){c.circle[k]=!0;var j=3*k,S=this.circleKeys[k];if(this._circlesCollide(_[j],_[j+1],_[j+2],l.x,l.y,l.radius)&&(!s||s(S))&&!ye(u,S.overlapMode))return i.push(!0),!0}}}catch(C){w.e(C)}finally{w.f()}}}},{key:"_forEachCell",value:function(e,t,n,r,a,i,o,s){for(var l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(n),d=this._convertToYCellCoord(r),h=l;h<=u;h++)for(var f=c;f<=d;f++)if(a.call(this,e,t,n,r,this.xCellCount*f+h,i,o,s))return}},{key:"_convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"_convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}},{key:"_circlesCollide",value:function(e,t,n,r,a,i){var o=r-e,s=a-t,l=n+i;return l*l>o*o+s*s}},{key:"_circleAndRectCollide",value:function(e,t,n,r,a,i,o){var s=(i-r)/2,l=Math.abs(e-(r+s));if(l>s+n)return!1;var c=(o-a)/2,u=Math.abs(t-(a+c));if(u>c+n)return!1;if(l<=s||u<=c)return!0;var d=l-s,h=u-c;return d*d+h*h<=n*n}}]),e}();function be(t,n,r,a,i){var o=e.Z();return n?(e.a0(o,o,[1/i,1/i,1]),r||e.ae(o,o,a.angle)):e.a1(o,a.labelPlaneMatrix,t),o}function _e(t,n,r,a,i){if(n){var o=e.af(t);return e.a0(o,o,[i,i,1]),r||e.ae(o,o,-a.angle),o}return a.glCoordMatrix}function we(t,n,r){var a;r?(a=[t.x,t.y,r(t.x,t.y),1],e.ag(a,a,n)):Oe(a=[t.x,t.y,0,1],a,n);var i=a[3];return{point:new e.P(a[0]/i,a[1]/i),signedDistanceFromCamera:i}}function ke(e,t){return.5+e/t*.5}function je(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function Se(t,n,r,a,i,o,s,l,c,u){var d=a?t.textSizeData:t.iconSizeData,h=e.ah(d,r.transform.zoom),f=[256/r.width*2+1,256/r.height*2+1],p=a?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;p.clear();for(var m=t.lineVertexArray,v=a?t.text.placedSymbolArray:t.icon.placedSymbolArray,g=r.transform.width/r.transform.height,y=!1,x=0;x<v.length;x++){var b=v.get(x);if(b.hidden||b.writingMode===e.ai.vertical&&!y)Le(b.numGlyphs,p);else{var _=void 0;if(y=!1,u?(_=[b.anchorX,b.anchorY,u(b.anchorX,b.anchorY),1],e.ag(_,_,n)):Oe(_=[b.anchorX,b.anchorY,0,1],_,n),je(_,f)){var w=ke(r.transform.cameraToCenterDistance,_[3]),k=e.aj(d,h,b),j=s?k/w:k*w,S=new e.P(b.anchorX,b.anchorY),C=we(S,i,u).point,N={projections:{},offsets:{}},E=Ee(b,j,!1,l,n,i,o,t.glyphOffsetArray,m,p,C,S,N,g,c,u);y=E.useVertical,(E.notEnoughRoom||y||E.needsFlipping&&Ee(b,j,!0,l,n,i,o,t.glyphOffsetArray,m,p,C,S,N,g,c,u).notEnoughRoom)&&Le(b.numGlyphs,p)}else Le(b.numGlyphs,p)}}a?t.text.dynamicLayoutVertexBuffer.updateData(p):t.icon.dynamicLayoutVertexBuffer.updateData(p)}function Ce(e,t,n,r,a,i,o,s,l,c,u,d,h){var f=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,m=s.lineStartIndex+s.lineLength,v=t.getoffsetX(s.glyphStartIndex),g=t.getoffsetX(f-1),y=Me(e*v,n,r,a,i,o,s.segment,p,m,l,c,u,d,h);if(!y)return null;var x=Me(e*g,n,r,a,i,o,s.segment,p,m,l,c,u,d,h);return x?{first:y,last:x}:null}function Ne(t,n,r,a){return t===e.ai.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*a?{useVertical:!0}:(t===e.ai.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function Ee(t,n,r,a,i,o,s,l,c,u,d,h,p,m,v,g){var y,x=n/24,b=t.lineOffsetX*x,_=t.lineOffsetY*x;if(t.numGlyphs>1){var w=t.glyphStartIndex+t.numGlyphs,k=t.lineStartIndex,j=t.lineStartIndex+t.lineLength,S=Ce(x,l,b,_,r,d,h,t,c,o,p,v,g);if(!S)return{notEnoughRoom:!0};var C=we(S.first.point,s,g).point,N=we(S.last.point,s,g).point;if(a&&!r){var E=Ne(t.writingMode,C,N,m);if(E)return E}y=[S.first];for(var T=t.glyphStartIndex+1;T<w-1;T++)y.push(Me(x*l.getoffsetX(T),b,_,r,d,h,t.segment,k,j,c,o,p,v,g));y.push(S.last)}else{if(a&&!r){var I=we(h,i,g).point,A=t.lineStartIndex+t.segment+1,P=new e.P(c.getx(A),c.gety(A)),M=we(P,i,g),D=M.signedDistanceFromCamera>0?M.point:Te(h,P,I,1,i,g),L=Ne(t.writingMode,I,D,m);if(L)return L}var O=Me(x*l.getoffsetX(t.glyphStartIndex),b,_,r,d,h,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,o,p,v,g);if(!O)return{notEnoughRoom:!0};y=[O]}var z,R=f(y);try{for(R.s();!(z=R.n()).done;){var F=z.value;e.ak(u,F.point,F.angle)}}catch(B){R.e(B)}finally{R.f()}return{}}function Te(e,t,n,r,a,i){var o=we(e.add(e.sub(t)._unit()),a,i).point,s=n.sub(o);return n.add(s._mult(r/s.mag()))}function Ie(t,n){var r=n.projectionCache,a=n.lineVertexArray,i=n.labelPlaneMatrix,o=n.tileAnchorPoint,s=n.distanceFromAnchor,l=n.getElevation,c=n.previousVertex,u=n.direction,d=n.absOffsetX;if(r.projections[t])return r.projections[t];var h=new e.P(a.getx(t),a.gety(t)),f=we(h,i,l);if(f.signedDistanceFromCamera>0)return r.projections[t]=f.point,f.point;var p=t-u;return Te(0===s?o:new e.P(a.getx(p),a.gety(p)),h,c,d-s+1,i,l)}function Ae(e,t,n){return e._unit()._perp()._mult(t*n)}function Pe(t,n,r,a,i,o,s,l){var c=l.projectionCache,u=l.direction;if(c.offsets[t])return c.offsets[t];var d=r.add(n);if(t+u<a||t+u>=i)return c.offsets[t]=d,d;var h=Ie(t+u,l),f=Ae(h.sub(r),s,u),p=r.add(f),m=h.add(f);return c.offsets[t]=e.al(o,d,p,m)||d,c.offsets[t]}function Me(e,t,n,r,a,i,o,s,l,c,u,d,h,f){var p=r?e-t:e+t,m=p>0?1:-1,v=0;r&&(m*=-1,v=Math.PI),m<0&&(v+=Math.PI);for(var g,y,x,b=m>0?s+o:s+o+1,_=a,w=a,k=0,j=0,S=Math.abs(p),C=[];k+j<=S;){if((b+=m)<s||b>=l)return null;y=g;var N={projectionCache:d,lineVertexArray:c,labelPlaneMatrix:u,tileAnchorPoint:i,distanceFromAnchor:k+=j,getElevation:f,previousVertex:w=_,direction:m,absOffsetX:S};if(_=Ie(b,N),0===n)C.push(w),x=_.sub(w);else{var E=void 0,T=_.sub(w);E=0===T.mag()?Ae(Ie(b+m,N).sub(_),n,m):Ae(T,n,m),y||(y=w.add(E)),g=Pe(b,E,_,s,l,y,n,N),C.push(y),x=g.sub(y)}j=x.mag()}var I=x._mult((S-k)/j)._add(y||w),A=v+Math.atan2(_.y-w.y,_.x-w.x);return C.push(I),{point:I,angle:h?A:0,path:C}}var De=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Le(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(De,3*r)}}function Oe(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[4]*a+n[12],e[1]=n[1]*r+n[5]*a+n[13],e[3]=n[3]*r+n[7]*a+n[15],e}var ze=100,Re=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xe(e.width+200,e.height+200,25),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xe(e.width+200,e.height+200,25);m(this,t),this.transform=e,this.grid=n,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+ze,this.screenBottomBoundary=e.height+ze,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6}return p(t,[{key:"placeCollisionBox",value:function(e,t,n,r,a,i){var o=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY,i),s=n*o.perspectiveRatio,l=e.x1*s+o.point.x,c=e.y1*s+o.point.y,u=e.x2*s+o.point.x,d=e.y2*s+o.point.y;return!this.isInsideGrid(l,c,u,d)||"always"!==t&&this.grid.hitTest(l,c,u,d,t,a)||o.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[l,c,u,d],offscreen:this.isOffscreen(l,c,u,d)}}},{key:"placeCollisionCircles",value:function(t,n,r,a,i,o,s,l,c,u,d,h,p,m){var v=[],g=new e.P(n.anchorX,n.anchorY),y=we(g,o,m),x=ke(this.transform.cameraToCenterDistance,y.signedDistanceFromCamera),b=(u?i/x:i*x)/e.ap,_=we(g,s,m).point,w=Ce(b,a,n.lineOffsetX*b,n.lineOffsetY*b,!1,_,g,n,r,s,{projections:{},offsets:{}},!1,m),k=!1,j=!1,S=!0;if(w){for(var C=.5*h*x+p,N=new e.P(-100,-100),E=new e.P(this.screenRightBoundary,this.screenBottomBoundary),T=new ge,I=w.first,A=w.last,P=[],M=I.path.length-1;M>=1;M--)P.push(I.path[M]);for(var D=1;D<A.path.length;D++)P.push(A.path[D]);var L=2.5*C;if(l){var O=P.map((function(e){return we(e,l,m)}));P=O.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:O.map((function(e){return e.point}))}var z=[];if(P.length>0){for(var R=P[0].clone(),F=P[0].clone(),B=1;B<P.length;B++)R.x=Math.min(R.x,P[B].x),R.y=Math.min(R.y,P[B].y),F.x=Math.max(F.x,P[B].x),F.y=Math.max(F.y,P[B].y);z=R.x>=N.x&&F.x<=E.x&&R.y>=N.y&&F.y<=E.y?[P]:F.x<N.x||R.x>E.x||F.y<N.y||R.y>E.y?[]:e.am([P],N.x,N.y,E.x,E.y)}var Z,U=f(z);try{for(U.s();!(Z=U.n()).done;){var V=Z.value;T.reset(V,.25*C);var q=0;q=T.length<=.5*C?1:Math.ceil(T.paddedLength/L)+1;for(var H=0;H<q;H++){var W=H/Math.max(q-1,1),Y=T.lerp(W),G=Y.x+ze,J=Y.y+ze;v.push(G,J,C,0);var X=G-C,K=J-C,$=G+C,Q=J+C;if(S=S&&this.isOffscreen(X,K,$,Q),j=j||this.isInsideGrid(X,K,$,Q),"always"!==t&&this.grid.hitTestCircle(G,J,C,t,d)&&(k=!0,!c))return{circles:[],offscreen:!1,collisionDetected:k}}}}catch(ee){U.e(ee)}finally{U.f()}}return{circles:!c&&k||!j||x<this.perspectiveRatioCutoff?[]:v,offscreen:S,collisionDetected:k}}},{key:"queryRenderedSymbols",value:function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};var n,r=[],a=1/0,i=1/0,o=-1/0,s=-1/0,l=f(t);try{for(l.s();!(n=l.n()).done;){var c=n.value,u=new e.P(c.x+ze,c.y+ze);a=Math.min(a,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),s=Math.max(s,u.y),r.push(u)}}catch(b){l.e(b)}finally{l.f()}var d,h=this.grid.query(a,i,o,s).concat(this.ignoredGrid.query(a,i,o,s)),p={},m={},v=f(h);try{for(v.s();!(d=v.n()).done;){var g=d.value,y=g.key;if(void 0===p[y.bucketInstanceId]&&(p[y.bucketInstanceId]={}),!p[y.bucketInstanceId][y.featureIndex]){var x=[new e.P(g.x1,g.y1),new e.P(g.x2,g.y1),new e.P(g.x2,g.y2),new e.P(g.x1,g.y2)];e.an(r,x)&&(p[y.bucketInstanceId][y.featureIndex]=!0,void 0===m[y.bucketInstanceId]&&(m[y.bucketInstanceId]=[]),m[y.bucketInstanceId].push(y.featureIndex))}}}catch(b){v.e(b)}finally{v.f()}return m}},{key:"insertCollisionBox",value:function(e,t,n,r,a,i){(n?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:a,collisionGroupID:i,overlapMode:t},e[0],e[1],e[2],e[3])}},{key:"insertCollisionCircles",value:function(e,t,n,r,a,i){for(var o=n?this.ignoredGrid:this.grid,s={bucketInstanceId:r,featureIndex:a,collisionGroupID:i,overlapMode:t},l=0;l<e.length;l+=4)o.insertCircle(s,e[l],e[l+1],e[l+2])}},{key:"projectAndGetPerspectiveRatio",value:function(t,n,r,a){var i;return a?(i=[n,r,a(n,r),1],e.ag(i,i,t)):Oe(i=[n,r,0,1],i,t),{point:new e.P((i[0]/i[3]+1)/2*this.transform.width+ze,(-i[1]/i[3]+1)/2*this.transform.height+ze),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}}},{key:"isOffscreen",value:function(e,t,n,r){return n<ze||e>=this.screenRightBoundary||r<ze||t>this.screenBottomBoundary}},{key:"isInsideGrid",value:function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}},{key:"getViewportMatrix",value:function(){var t=e.ao([]);return e.$(t,t,[-100,-100,0]),t}}]),t}();function Fe(t,n,r){return n*(e.N/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}var Be=function(){function e(t,n,r,a){m(this,e),this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?n:-n))):a&&r?1:0,this.placed=r}return p(e,[{key:"isHidden",value:function(){return 0===this.opacity&&!this.placed}}]),e}(),Ze=function(){function e(t,n,r,a,i){m(this,e),this.text=new Be(t?t.text:null,n,r,i),this.icon=new Be(t?t.icon:null,n,a,i)}return p(e,[{key:"isHidden",value:function(){return this.text.isHidden()&&this.icon.isHidden()}}]),e}(),Ue=p((function e(t,n,r){m(this,e),this.text=t,this.icon=n,this.skipFade=r})),Ve=p((function t(){m(this,t),this.invProjMatrix=e.Z(),this.viewportMatrix=e.Z(),this.circles=[]})),qe=p((function e(t,n,r,a,i){m(this,e),this.bucketInstanceId=t,this.featureIndex=n,this.sourceLayerIndex=r,this.bucketIndex=a,this.tileID=i})),He=function(){function e(t){m(this,e),this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}return p(e,[{key:"get",value:function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]}}]),e}();function We(t,n,r,a,i){var o=e.au(t),s=o.horizontalAlign,l=o.verticalAlign;return new e.P(-(s-.5)*n+a[0]*i,-(l-.5)*r+a[1]*i)}function Ye(t,n,r,a,i,o){var s=t.x1,l=t.x2,c=t.y1,u=t.y2,d=t.anchorPointX,h=t.anchorPointY,f=new e.P(n,r);return a&&f._rotate(i?o:-o),{x1:s+f.x,y1:c+f.y,x2:l+f.x,y2:u+f.y,anchorPointX:d,anchorPointY:h}}var Ge=function(){function t(e,n,r,a,i){m(this,t),this.transform=e.clone(),this.terrain=n,this.collisionIndex=new Re(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=r,this.retainedQueryData={},this.collisionGroups=new He(a),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}return p(t,[{key:"getBucketParts",value:function(t,n,r,a){var i=r.getBucket(n),o=r.latestFeatureIndex;if(i&&o&&n.id===i.layerIds[0]){var s=r.collisionBoxArray,l=i.layers[0].layout,c=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),u=r.tileSize/e.N,d=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),h="map"===l.get("text-pitch-alignment"),p="map"===l.get("text-rotation-alignment"),m=Fe(r,1,this.transform.zoom),v=be(d,h,p,this.transform,m),g=null;if(h){var y=_e(d,h,p,this.transform,m);g=e.a1([],this.transform.labelPlaneMatrix,y)}this.retainedQueryData[i.bucketInstanceId]=new qe(i.bucketInstanceId,o,i.sourceLayerIndex,i.index,r.tileID);var x={bucket:i,layout:l,posMatrix:d,textLabelPlaneMatrix:v,labelToScreenMatrix:g,scale:c,textPixelRatio:u,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.ah(i.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(i.sourceID)};if(a){var b,_=f(i.sortKeyRanges);try{for(_.s();!(b=_.n()).done;){var w=b.value,k=w.sortKey,j=w.symbolInstanceStart,S=w.symbolInstanceEnd;t.push({sortKey:k,symbolInstanceStart:j,symbolInstanceEnd:S,parameters:x})}}catch(C){_.e(C)}finally{_.f()}}else t.push({symbolInstanceStart:0,symbolInstanceEnd:i.symbolInstances.length,parameters:x})}}},{key:"attemptAnchorPlacement",value:function(t,n,r,a,i,o,s,l,c,u,d,h,f,p,m,v){var g=e.aq[t.textAnchor],y=[t.textOffset0,t.textOffset1],x=We(g,r,a,y,i),b=this.collisionIndex.placeCollisionBox(Ye(n,x.x,x.y,o,s,this.transform.angle),d,l,c,u.predicate,v);if((!m||0!==this.collisionIndex.placeCollisionBox(Ye(m,x.x,x.y,o,s,this.transform.angle),d,l,c,u.predicate,v).box.length)&&b.box.length>0){var _;if(this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(_=this.prevPlacement.variableOffsets[h.crossTileID].anchor),0===h.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[h.crossTileID]={textOffset:y,width:r,height:a,anchor:g,textBoxScale:i,prevAnchor:_},this.markUsedJustification(f,g,h,p),f.allowVerticalPlacement&&(this.markUsedOrientation(f,p,h),this.placedOrientations[h.crossTileID]=p),{shift:x,placedGlyphBoxes:b}}}},{key:"placeLayerBucketPart",value:function(t,n,r){var a=this,i=t.parameters,o=i.bucket,s=i.layout,l=i.posMatrix,c=i.textLabelPlaneMatrix,u=i.labelToScreenMatrix,d=i.textPixelRatio,h=i.holdingForFade,p=i.collisionBoxArray,m=i.partiallyEvaluatedTextSize,v=i.collisionGroup,g=s.get("text-optional"),y=s.get("icon-optional"),x=e.ar(s,"text-overlap","text-allow-overlap"),b="always"===x,_=e.ar(s,"icon-overlap","icon-allow-overlap"),w="always"===_,k="map"===s.get("text-rotation-alignment"),j="map"===s.get("text-pitch-alignment"),S="none"!==s.get("icon-text-fit"),C="viewport-y"===s.get("symbol-z-order"),N=b&&(w||!o.hasIconData()||y),E=w&&(b||!o.hasTextData()||g);!o.collisionArrays&&p&&o.deserializeCollisionBoxes(p);var T=this.retainedQueryData[o.bucketInstanceId].tileID,I=this.terrain?function(e,t){return a.terrain.getElevation(T,e,t)}:null,A=function(t,i){var p,w;if(!n[t.crossTileID])if(h)a.placements[t.crossTileID]=new Ue(!1,!1,!1);else{var C=!1,T=!1,A=!0,P=null,M={box:null,offscreen:null},D={box:null,offscreen:null},L=null,O=null,z=null,R=0,F=0,B=0;i.textFeatureIndex?R=i.textFeatureIndex:t.useRuntimeCollisionCircles&&(R=t.featureIndex),i.verticalTextFeatureIndex&&(F=i.verticalTextFeatureIndex);var Z=i.textBox;if(Z){var U=function(n){var r=e.ai.horizontal;if(o.allowVerticalPlacement&&!n&&a.prevPlacement){var i=a.prevPlacement.placedOrientations[t.crossTileID];i&&(a.placedOrientations[t.crossTileID]=i,r=i,a.markUsedOrientation(o,r,t))}return r},V=function(n,r){if(o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&i.verticalTextBox){var a,s=f(o.writingModes);try{for(s.s();!(a=s.n()).done&&(a.value===e.ai.vertical?(M=r(),D=M):M=n(),!(M&&M.box&&M.box.length)););}catch(l){s.e(l)}finally{s.f()}}else M=n()},q=t.textAnchorOffsetStartIndex,H=t.textAnchorOffsetEndIndex;if(H===q){var W=function(e,n){var r=a.collisionIndex.placeCollisionBox(e,x,d,l,v.predicate,I);return r&&r.box&&r.box.length&&(a.markUsedOrientation(o,n,t),a.placedOrientations[t.crossTileID]=n),r};V((function(){return W(Z,e.ai.horizontal)}),(function(){var n=i.verticalTextBox;return o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?W(n,e.ai.vertical):{box:null,offscreen:null}})),U(M&&M.box&&M.box.length)}else{var Y=e.aq[null===(w=null===(p=a.prevPlacement)||void 0===p?void 0:p.variableOffsets[t.crossTileID])||void 0===w?void 0:w.anchor],G=function(e,n,r){var i=e.x2-e.x1,s=e.y2-e.y1,c=t.textBoxScale,u=S&&"never"===_?n:null,h={box:[],offscreen:!1},f="never"===x?1:2,p="never";Y&&f++;for(var m=0;m<f;m++){for(var g=q;g<H;g++){var y=o.textAnchorOffsets.get(g);if(!Y||y.textAnchor===Y){var b=a.attemptAnchorPlacement(y,e,i,s,c,k,j,d,l,v,p,t,o,r,u,I);if(b&&(h=b.placedGlyphBoxes)&&h.box&&h.box.length)return C=!0,P=b.shift,h}}Y?Y=null:p=x}return h};V((function(){return G(Z,i.iconBox,e.ai.horizontal)}),(function(){var n=i.verticalTextBox;return o.allowVerticalPlacement&&!(M&&M.box&&M.box.length)&&t.numVerticalGlyphVertices>0&&n?G(n,i.verticalIconBox,e.ai.vertical):{box:null,offscreen:null}})),M&&(C=M.box,A=M.offscreen);var J=U(M&&M.box);if(!C&&a.prevPlacement){var X=a.prevPlacement.variableOffsets[t.crossTileID];X&&(a.variableOffsets[t.crossTileID]=X,a.markUsedJustification(o,X.anchor,t,J))}}}if(C=(L=M)&&L.box&&L.box.length>0,A=L&&L.offscreen,t.useRuntimeCollisionCircles){var K=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),$=e.aj(o.textSizeData,m,K),Q=s.get("text-padding");(O=a.collisionIndex.placeCollisionCircles(x,K,o.lineVertexArray,o.glyphOffsetArray,$,l,c,u,r,j,v.predicate,t.collisionCircleDiameter,Q,I)).circles.length&&O.collisionDetected&&!r&&e.w("Collisions detected, but collision boxes are not shown"),C=b||O.circles.length>0&&!O.collisionDetected,A=A&&O.offscreen}if(i.iconFeatureIndex&&(B=i.iconFeatureIndex),i.iconBox){var ee=function(e){var t=S&&P?Ye(e,P.x,P.y,k,j,a.transform.angle):e;return a.collisionIndex.placeCollisionBox(t,_,d,l,v.predicate,I)};T=D&&D.box&&D.box.length&&i.verticalIconBox?(z=ee(i.verticalIconBox)).box.length>0:(z=ee(i.iconBox)).box.length>0,A=A&&z.offscreen}var te=g||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,ne=y||0===t.numIconVertices;if(te||ne?ne?te||(T=T&&C):C=T&&C:T=C=T&&C,C&&L&&L.box&&a.collisionIndex.insertCollisionBox(L.box,x,s.get("text-ignore-placement"),o.bucketInstanceId,D&&D.box&&F?F:R,v.ID),T&&z&&a.collisionIndex.insertCollisionBox(z.box,_,s.get("icon-ignore-placement"),o.bucketInstanceId,B,v.ID),O&&(C&&a.collisionIndex.insertCollisionCircles(O.circles,x,s.get("text-ignore-placement"),o.bucketInstanceId,R,v.ID),r)){var re=o.bucketInstanceId,ae=a.collisionCircleArrays[re];void 0===ae&&(ae=a.collisionCircleArrays[re]=new Ve);for(var ie=0;ie<O.circles.length;ie+=4)ae.circles.push(O.circles[ie+0]),ae.circles.push(O.circles[ie+1]),ae.circles.push(O.circles[ie+2]),ae.circles.push(O.collisionDetected?1:0)}if(0===t.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===o.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");a.placements[t.crossTileID]=new Ue(C||N,T||E,A||o.justReloaded),n[t.crossTileID]=!0}};if(C){if(0!==t.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");for(var P=o.getSortedSymbolIndexes(this.transform.angle),M=P.length-1;M>=0;--M){var D=P[M];A(o.symbolInstances.get(D),o.collisionArrays[D])}}else for(var L=t.symbolInstanceStart;L<t.symbolInstanceEnd;L++)A(o.symbolInstances.get(L),o.collisionArrays[L]);if(r&&o.bucketInstanceId in this.collisionCircleArrays){var O=this.collisionCircleArrays[o.bucketInstanceId];e.as(O.invProjMatrix,l),O.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1}},{key:"markUsedJustification",value:function(t,n,r,a){var i;i=a===e.ai.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.at(n)];for(var o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];o<s.length;o++){var l=s[o];l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=i>=0&&l!==i?0:r.crossTileID)}}},{key:"markUsedOrientation",value:function(t,n,r){for(var a=n===e.ai.horizontal||n===e.ai.horizontalOnly?n:0,i=n===e.ai.vertical?n:0,o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];o<s.length;o++){var l=s[o];t.text.placedSymbolArray.get(l).placedOrientation=a}r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=i)}},{key:"commit",value:function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,a=t?t.opacities:{},i=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],c=a[s];c?(this.opacities[s]=new Ze(c,r,l.text,l.icon),n=n||l.text!==c.text.placed||l.icon!==c.icon.placed):(this.opacities[s]=new Ze(null,r,l.text,l.icon,l.skipFade),n=n||l.text||l.icon)}for(var u in a){var d=a[u];if(!this.opacities[u]){var h=new Ze(d,r,!1,!1);h.isHidden()||(this.opacities[u]=h,n=n||d.text.placed||d.icon.placed)}}for(var f in i)this.variableOffsets[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.variableOffsets[f]=i[f]);for(var p in o)this.placedOrientations[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.placedOrientations[p]=o[p]);if(t&&void 0===t.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}},{key:"updateLayerOpacities",value:function(e,t){var n,r={},a=f(t);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=i.getBucket(e);o&&i.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,r,i.collisionBoxArray)}}catch(s){a.e(s)}finally{a.f()}}},{key:"updateBucketOpacities",value:function(t,n,r){var a=this;t.hasTextData()&&(t.text.opacityVertexArray.clear(),t.text.hasVisibleVertices=!1),t.hasIconData()&&(t.icon.opacityVertexArray.clear(),t.icon.hasVisibleVertices=!1),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var i=t.layers[0],o=i.layout,s=new Ze(null,0,!1,!1,!0),l=o.get("text-allow-overlap"),c=o.get("icon-allow-overlap"),u=i._unevaluatedLayout.hasValue("text-variable-anchor")||i._unevaluatedLayout.hasValue("text-variable-anchor-offset"),d="map"===o.get("text-rotation-alignment"),h="map"===o.get("text-pitch-alignment"),f="none"!==o.get("icon-text-fit"),p=new Ze(null,0,l&&(c||!t.hasIconData()||o.get("icon-optional")),c&&(l||!t.hasTextData()||o.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var m=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n);e.hasVisibleVertices=e.hasVisibleVertices||n!==at},v=function(){var r=t.symbolInstances.get(g),i=r.numHorizontalGlyphVertices,o=r.numVerticalGlyphVertices,l=r.crossTileID,c=a.opacities[l];n[l]?c=s:c||(c=p,a.opacities[l]=c),n[l]=!0;var v=r.numIconVertices>0,y=a.placedOrientations[r.crossTileID],x=y===e.ai.vertical,b=y===e.ai.horizontal||y===e.ai.horizontalOnly;if(i>0||o>0){var _=rt(c.text);m(t.text,i,x?at:_),m(t.text,o,b?at:_);var w=c.text.isHidden();[r.rightJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=w||x?1:0)})),r.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).hidden=w||b?1:0);var k=a.variableOffsets[r.crossTileID];k&&a.markUsedJustification(t,k.anchor,r,y);var j=a.placedOrientations[r.crossTileID];j&&(a.markUsedJustification(t,"left",r,j),a.markUsedOrientation(t,j,r))}if(v){var S=rt(c.icon),C=!(f&&r.verticalPlacedIconSymbolIndex&&x);r.placedIconSymbolIndex>=0&&(m(t.icon,r.numIconVertices,C?S:at),t.icon.placedSymbolArray.get(r.placedIconSymbolIndex).hidden=c.icon.isHidden()),r.verticalPlacedIconSymbolIndex>=0&&(m(t.icon,r.numVerticalIconVertices,C?at:S),t.icon.placedSymbolArray.get(r.verticalPlacedIconSymbolIndex).hidden=c.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var N=t.collisionArrays[g];if(N){var E=new e.P(0,0);if(N.textBox||N.verticalTextBox){var T=!0;if(u){var I=a.variableOffsets[l];I?(E=We(I.anchor,I.width,I.height,I.textOffset,I.textBoxScale),d&&E._rotate(h?a.transform.angle:-a.transform.angle)):T=!1}N.textBox&&Je(t.textCollisionBox.collisionVertexArray,c.text.placed,!T||x,E.x,E.y),N.verticalTextBox&&Je(t.textCollisionBox.collisionVertexArray,c.text.placed,!T||b,E.x,E.y)}var A=Boolean(!b&&N.verticalIconBox);N.iconBox&&Je(t.iconCollisionBox.collisionVertexArray,c.icon.placed,A,f?E.x:0,f?E.y:0),N.verticalIconBox&&Je(t.iconCollisionBox.collisionVertexArray,c.icon.placed,!A,f?E.x:0,f?E.y:0)}}},g=0;g<t.symbolInstances.length;g++)v();if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.text.opacityVertexArray.length!==t.text.layoutVertexArray.length/4)throw new Error("bucket.text.opacityVertexArray.length (= ".concat(t.text.opacityVertexArray.length,") !== bucket.text.layoutVertexArray.length (= ").concat(t.text.layoutVertexArray.length,") / 4"));if(t.icon.opacityVertexArray.length!==t.icon.layoutVertexArray.length/4)throw new Error("bucket.icon.opacityVertexArray.length (= ".concat(t.icon.opacityVertexArray.length,") !== bucket.icon.layoutVertexArray.length (= ").concat(t.icon.layoutVertexArray.length,") / 4"));if(t.bucketInstanceId in this.collisionCircleArrays){var y=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=y.invProjMatrix,t.placementViewportMatrix=y.viewportMatrix,t.collisionCircleArray=y.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}},{key:"symbolFadeChange",value:function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}},{key:"zoomAdjustment",value:function(e){return Math.max(0,(this.transform.zoom-e)/1.5)}},{key:"hasTransitions",value:function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}},{key:"stillRecent",value:function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}},{key:"setStale",value:function(){this.stale=!0}}]),t}();function Je(e,t,n,r,a){e.emplaceBack(t?1:0,n?1:0,r||0,a||0),e.emplaceBack(t?1:0,n?1:0,r||0,a||0),e.emplaceBack(t?1:0,n?1:0,r||0,a||0),e.emplaceBack(t?1:0,n?1:0,r||0,a||0)}var Xe=Math.pow(2,25),Ke=Math.pow(2,24),$e=Math.pow(2,17),Qe=Math.pow(2,16),et=Math.pow(2,9),tt=Math.pow(2,8),nt=Math.pow(2,1);function rt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*Xe+t*Ke+n*$e+t*Qe+n*et+t*tt+n*nt+t}var at=0,it=function(){function e(t){m(this,e),this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&!t.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}return p(e,[{key:"continuePlacement",value:function(e,t,n,r,a){for(var i=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(i,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,a())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,i.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<i.length;)if(t.placeLayerBucketPart(i[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,a())return!0;return!1}}]),e}(),ot=function(){function t(e,n,r,a,i,o,s,l){m(this,t),this.placement=new Ge(e,n,o,s,l),this._currentPlacementIndex=r.length-1,this._forceFullPlacement=a,this._showCollisionBoxes=i,this._done=!1}return p(t,[{key:"isDone",value:function(){return this._done}},{key:"continuePlacement",value:function(t,n,r){for(var a=this,i=e.h.now(),o=function(){return!a._forceFullPlacement&&e.h.now()-i>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new it(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}},{key:"commit",value:function(e){return this.placement.commit(e),this.placement}}]),t}(),st=512/e.N/2,lt=function(){function t(n,r,a){m(this,t),this.tileID=n,this.bucketInstanceId=a,this._symbolsByKey={};for(var i=new Map,o=0;o<r.length;o++){var s=r.get(o),l=s.key,c=i.get(l);c?c.push(s):i.set(l,[s])}var u,d=f(i);try{for(d.s();!(u=d.n()).done;){var p=h(u.value,2),v=p[0],g=p[1],y={positions:g.map((function(e){return{x:Math.floor(e.anchorX*st),y:Math.floor(e.anchorY*st)}})),crossTileIDs:g.map((function(e){return e.crossTileID}))};if(y.positions.length>128){var x,b=new e.av(y.positions.length,16,Uint16Array),_=f(y.positions);try{for(_.s();!(x=_.n()).done;){var w=x.value,k=w.x,j=w.y;b.add(k,j)}}catch(S){_.e(S)}finally{_.f()}b.finish(),delete y.positions,y.index=b}this._symbolsByKey[v]=y}}catch(S){d.e(S)}finally{d.f()}}return p(t,[{key:"getScaledCoordinates",value:function(t,n){var r=this.tileID.canonical,a=r.x,i=r.y,o=r.z,s=n.canonical,l=s.x,c=s.y,u=s.z,d=st/Math.pow(2,u-o),h=(c*e.N+t.anchorY)*d,f=i*e.N*st;return{x:Math.floor((l*e.N+t.anchorX)*d-a*e.N*st),y:Math.floor(h-f)}}},{key:"findMatches",value:function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),a=0;a<e.length;a++){var i=e.get(a);if(!i.crossTileID){var o=this._symbolsByKey[i.key];if(o){var s=this.getScaledCoordinates(i,t);if(o.index){var l,c=o.index.range(s.x-r,s.y-r,s.x+r,s.y+r).sort(),u=f(c);try{for(u.s();!(l=u.n()).done;){var d=l.value,h=o.crossTileIDs[d];if(!n[h]){n[h]=!0,i.crossTileID=h;break}}}catch(g){u.e(g)}finally{u.f()}}else if(o.positions)for(var p=0;p<o.positions.length;p++){var m=o.positions[p],v=o.crossTileIDs[p];if(Math.abs(m.x-s.x)<=r&&Math.abs(m.y-s.y)<=r&&!n[v]){n[v]=!0,i.crossTileID=v;break}}}}}}},{key:"getCrossTileIDsLists",value:function(){return Object.values(this._symbolsByKey).map((function(e){return e.crossTileIDs}))}}]),t}(),ct=function(){function e(){m(this,e),this.maxCrossTileID=0}return p(e,[{key:"generate",value:function(){return++this.maxCrossTileID}}]),e}(),ut=function(){function e(){m(this,e),this.indexes={},this.usedCrossTileIDs={},this.lng=0}return p(e,[{key:"handleWrapJump",value:function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var r=this.indexes[n],a={};for(var i in r){var o=r[i];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),a[o.tileID.key]=o}this.indexes[n]=a}this.lng=e}},{key:"addBucket",value:function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var a=this.usedCrossTileIDs[e.overscaledZ];for(var i in this.indexes){var o=this.indexes[i];if(Number(i)>e.overscaledZ)for(var s in o){var l=o[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,a)}else{var c=o[e.scaledTo(Number(i)).key];c&&c.findMatches(t.symbolInstances,e,a)}}for(var u=0;u<t.symbolInstances.length;u++){var d=t.symbolInstances.get(u);d.crossTileID||(d.crossTileID=n.generate(),a[d.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new lt(e,t.symbolInstances,t.bucketInstanceId),!0}},{key:"removeBucketCrossTileIDs",value:function(e,t){var n,r=f(t.getCrossTileIDsLists());try{for(r.s();!(n=r.n()).done;){var a,i=n.value,o=f(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;delete this.usedCrossTileIDs[e][s]}}catch(l){o.e(l)}finally{o.f()}}}catch(l){r.e(l)}finally{r.f()}}},{key:"removeStaleBuckets",value:function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var a in r)e[r[a].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[a]),delete r[a],t=!0)}return t}}]),e}(),dt=function(){function e(){m(this,e),this.layerIndexes={},this.crossTileIDs=new ct,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}return p(e,[{key:"addLayer",value:function(e,t,n){var r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new ut);var a=!1,i={};r.handleWrapJump(n);var o,s=f(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=l.getBucket(e);c&&e.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(l.tileID,c,this.crossTileIDs)&&(a=!0),i[c.bucketInstanceId]=!0)}}catch(u){s.e(u)}finally{s.f()}return r.removeStaleBuckets(i)&&(a=!0),a}},{key:"pruneUnusedLayers",value:function(e){var t={};for(var n in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[n]||delete this.layerIndexes[n]}}]),e}(),ht=function(t,n){return e.x(t,n&&n.filter((function(e){return"source.canvas"!==e.identifier})))},ft=e.F(e.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),pt=e.F(e.ax,["setCenter","setZoom","setBearing","setPitch"]),mt=e.aw(),vt=function(t){v(r,t);var n=g(r);function r(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(this,r),(i=n.call(this)).map=t,i.dispatcher=new V(ve(),a(i),t._getMapId()),i.imageManager=new D,i.imageManager.setEventedParent(a(i)),i.glyphManager=new R(t._requestManager,o.localIdeographFontFamily),i.lineAtlas=new U(256,512),i.crossTileSymbolIndex=new dt,i._spritesImagesIds={},i._layers={},i._order=[],i.sourceCaches={},i.zoomHistory=new e.ay,i._loaded=!1,i._availableImages=[],i._resetUpdates(),i.dispatcher.broadcast("setReferrer",e.az());var s=a(i);return i._rtlTextPluginCallback=r.registerForPluginStateChange((function(t){s.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,n){if(e.aA(t),n&&n.every((function(e){return e})))for(var r in s.sourceCaches){var a=s.sourceCaches[r].getSource().type;"vector"!==a&&"geojson"!==a||s.sourceCaches[r].reload()}}))})),i.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=i.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(n&&n.vectorLayerIds)for(var r in i._layers){var a=i._layers[r];a.source===n.id&&i._validateLayer(a)}}}})),i}return p(r,[{key:"loadURL",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;this.fire(new e.k("dataloading",{dataType:"style"})),r.validate="boolean"!=typeof r.validate||r.validate;var i=this.map._requestManager.transformRequest(t,y.Style);this._request=e.f(i,(function(t,i){n._request=null,t?n.fire(new e.j(t)):i&&n._load(i,r,a)}))}},{key:"loadJSON",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;this.fire(new e.k("dataloading",{dataType:"style"})),this._request=e.h.frame((function(){n._request=null,r.validate=!1!==r.validate,n._load(t,r,a)}))}},{key:"loadEmpty",value:function(){this.fire(new e.k("dataloading",{dataType:"style"})),this._load(mt,{validate:!1})}},{key:"_load",value:function(t,n,r){var a,i=n.transformStyle?n.transformStyle(r,t):t;if(!n.validate||!ht(this,e.y(i))){for(var o in this._loaded=!0,this.stylesheet=i,i.sources)this.addSource(o,i.sources[o],{validate:!1});i.sprite?this._loadSprite(i.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(i.glyphs),this._createLayers(),this.light=new Z(this.stylesheet.light),this.map.setTerrain(null!==(a=this.stylesheet.terrain)&&void 0!==a?a:null),this.fire(new e.k("data",{dataType:"style"})),this.fire(new e.k("style.load"))}}},{key:"_createLayers",value:function(){var t=e.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",t),this._order=t.map((function(e){return e.id})),this._layers={},this._serializedLayers=null;var n,r=f(t);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=e.aC(a);i.setEventedParent(this,{layer:{id:a.id}}),this._layers[a.id]=i}}catch(o){r.e(o)}finally{r.f()}}},{key:"_loadSprite",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.imageManager.setLoaded(!1),this._spriteRequest=function(t,n,r,a){var i,o=I(t),s=o.length,l=r>1?"@2x":"",c={},d={},h={},p=f(o);try{var m=function(){var t=i.value,r=t.id,o=t.url,f=n.transformRequest(n.normalizeSpriteURL(o,l,".json"),y.SpriteJSON),p="".concat(r,"_").concat(f.url);c[p]=e.f(f,(function(e,t){delete c[p],d[r]=t,A(a,d,h,e,s)}));var m=n.transformRequest(n.normalizeSpriteURL(o,l,".png"),y.SpriteImage),v="".concat(r,"_").concat(m.url);c[v]=u.getImage(m,(function(e,t){delete c[v],h[r]=t,A(a,d,h,e,s)}))};for(p.s();!(i=p.n()).done;)m()}catch(v){p.e(v)}finally{p.f()}return{cancel:function(){for(var e=0,t=Object.values(c);e<t.length;e++)t[e].cancel()}}}(t,this.map._requestManager,this.map.getPixelRatio(),(function(t,i){if(n._spriteRequest=null,t)n.fire(new e.j(t));else if(i)for(var o in i){n._spritesImagesIds[o]=[];var s,l=n._spritesImagesIds[o]?n._spritesImagesIds[o].filter((function(e){return!(e in i)})):[],c=f(l);try{for(c.s();!(s=c.n()).done;){var u=s.value;n.imageManager.removeImage(u),n._changedImages[u]=!0}}catch(p){c.e(p)}finally{c.f()}for(var d in i[o]){var h="default"===o?d:"".concat(o,":").concat(d);n._spritesImagesIds[o].push(h),h in n.imageManager.images?n.imageManager.updateImage(h,i[o][d],!1):n.imageManager.addImage(h,i[o][d]),r&&(n._changedImages[h]=!0)}}n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),r&&(n._changed=!0),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new e.k("data",{dataType:"style"})),a&&a(t)}))}},{key:"_unloadSprite",value:function(){var t,n=f(Object.values(this._spritesImagesIds).flat());try{for(n.s();!(t=n.n()).done;){var r=t.value;this.imageManager.removeImage(r),this._changedImages[r]=!0}}catch(a){n.e(a)}finally{n.f()}this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.k("data",{dataType:"style"}))}},{key:"_validateLayer",value:function(t){var n=this.sourceCaches[t.source];if(n){var r=t.sourceLayer;if(r){var a=n.getSource();("geojson"===a.type||a.vectorLayerIds&&-1===a.vectorLayerIds.indexOf(r))&&this.fire(new e.j(new Error('Source layer "'.concat(r,'" does not exist on source "').concat(a.id,'" as specified by style layer "').concat(t.id,'".'))))}}}},{key:"loaded",value:function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}},{key:"_serializeByIds",value:function(e){var t=this._serializedAllLayers();if(!e||0===e.length)return Object.values(t);var n,r=[],a=f(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;t[i]&&r.push(t[i])}}catch(o){a.e(o)}finally{a.f()}return r}},{key:"_serializedAllLayers",value:function(){var e=this._serializedLayers;if(e)return e;e=this._serializedLayers={};for(var t=0,n=Object.keys(this._layers);t<n.length;t++){var r=n[t],a=this._layers[r];"custom"!==a.type&&(e[r]=a.serialize())}return e}},{key:"hasTransitions",value:function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}},{key:"_checkLoaded",value:function(){if(!this._loaded)throw new Error("Style is not done loading.")}},{key:"update",value:function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),a=Object.keys(this._removedLayers);for(var i in(r.length||a.length)&&this._updateWorkerLayers(r,a),this._updatedSources){var o=this._updatedSources[i];if("reload"===o)this._reloadSource(i);else{if("clear"!==o)throw new Error("Invalid action ".concat(o));this._clearSource(i)}}for(var s in this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var l={};for(var c in this.sourceCaches){var u=this.sourceCaches[c];l[c]=u.used,u.used=!1}var d,h=f(this._order);try{for(h.s();!(d=h.n()).done;){var p=d.value,m=this._layers[p];m.recalculate(t,this._availableImages),!m.isHidden(t.zoom)&&m.source&&(this.sourceCaches[m.source].used=!0)}}catch(y){h.e(y)}finally{h.f()}for(var v in l){var g=this.sourceCaches[v];l[v]!==g.used&&g.fire(new e.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.k("data",{dataType:"style"}))}}},{key:"_updateTilesForChangedImages",value:function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}},{key:"_updateTilesForChangedGlyphs",value:function(){if(this._glyphsDidChange){for(var e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}},{key:"_updateWorkerLayers",value:function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(e),removedIds:t})}},{key:"_resetUpdates",value:function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}},{key:"setState",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();var r=this.serialize();if(t=n.transformStyle?n.transformStyle(r,t):t,ht(this,e.y(t)))return!1;(t=e.aD(t)).layers=e.aB(t.layers);var a=e.aE(r,t).filter((function(e){return!(e.command in pt)}));if(0===a.length)return!1;var i=a.filter((function(e){return!(e.command in ft)}));if(i.length>0)throw new Error("Unimplemented: ".concat(i.map((function(e){return e.command})).join(", "),"."));var o,s=f(a);try{for(s.s();!(o=s.n()).done;){var l=o.value;"setTransition"!==l.command&&this[l.command].apply(this,l.args)}}catch(c){s.e(c)}finally{s.f()}return this.stylesheet=t,this._serializedLayers=null,!0}},{key:"addImage",value:function(t,n){if(this.getImage(t))return this.fire(new e.j(new Error('An image named "'.concat(t,'" already exists.'))));this.imageManager.addImage(t,n),this._afterImageUpdated(t)}},{key:"updateImage",value:function(e,t){this.imageManager.updateImage(e,t)}},{key:"getImage",value:function(e){return this.imageManager.getImage(e)}},{key:"removeImage",value:function(t){if(!this.getImage(t))return this.fire(new e.j(new Error('An image named "'.concat(t,'" does not exist.'))));this.imageManager.removeImage(t),this._afterImageUpdated(t)}},{key:"_afterImageUpdated",value:function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.k("data",{dataType:"style"}))}},{key:"listImages",value:function(){return this._checkLoaded(),this.imageManager.listImages()}},{key:"addSource",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error('Source "'.concat(t,'" already exists.'));if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(n).join(", "),"."));if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.y.source,"sources.".concat(t),n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var a=this.sourceCaches[t]=new ce(t,n,this.dispatcher);a.style=this,a.setEventedParent(this,(function(){return{isSourceLoaded:a.loaded(),source:a.serialize(),sourceId:t}})),a.onAdd(this.map),this._changed=!0}}},{key:"removeSource",value:function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.j(new Error('Source "'.concat(t,'" cannot be removed while layer "').concat(n,'" is using it.'))));var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),r.setEventedParent(null),r.onRemove(this.map),this._changed=!0}},{key:"setGeoJSONSourceData",value:function(e,t){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID=".concat(e));var n=this.sourceCaches[e].getSource();if("geojson"!==n.type)throw new Error("geojsonSource.type is ".concat(n.type,", which is !== 'geojson"));n.setData(t),this._changed=!0}},{key:"getSource",value:function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}},{key:"addLayer",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var a=t.id;if(this.getLayer(a))this.fire(new e.j(new Error('Layer "'.concat(a,'" already exists on this map.'))));else{var i;if("custom"===t.type){if(ht(this,e.aF(t)))return;i=e.aC(t)}else{if("source"in t&&"object"==typeof t.source&&(this.addSource(a,t.source),t=e.aD(t),t=e.e(t,{source:a})),this._validate(e.y.layer,"layers.".concat(a),t,{arrayIndex:-1},r))return;i=e.aC(t),this._validateLayer(i),i.setEventedParent(this,{layer:{id:a}})}var o=n?this._order.indexOf(n):this._order.length;if(n&&-1===o)this.fire(new e.j(new Error('Cannot add layer "'.concat(a,'" before non-existing layer "').concat(n,'".'))));else{if(this._order.splice(o,0,a),this._layerOrderChanged=!0,this._layers[a]=i,this._removedLayers[a]&&i.source&&"custom"!==i.type){var s=this._removedLayers[a];delete this._removedLayers[a],s.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i),i.onAdd&&i.onAdd(this.map)}}}},{key:"moveLayer",value:function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var a=n?this._order.indexOf(n):this._order.length;n&&-1===a?this.fire(new e.j(new Error('Cannot move layer "'.concat(t,'" before non-existing layer "').concat(n,'".')))):(this._order.splice(a,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.j(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be moved."))))}},{key:"removeLayer",value:function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],this._serializedLayers&&delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}else this.fire(new e.j(new Error('Cannot remove non-existing layer "'.concat(t,'".'))))}},{key:"getLayer",value:function(e){return this._layers[e]}},{key:"getLayersOrder",value:function(){return d(this._order)}},{key:"hasLayer",value:function(e){return e in this._layers}},{key:"setLayerZoomRange",value:function(t,n,r){this._checkLoaded();var a=this.getLayer(t);a?a.minzoom===n&&a.maxzoom===r||(null!=n&&(a.minzoom=n),null!=r&&(a.maxzoom=r),this._updateLayer(a)):this.fire(new e.j(new Error('Cannot set the zoom range of non-existing layer "'.concat(t,'".'))))}},{key:"setFilter",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var a=this.getLayer(t);if(a){if(!e.aG(a.filter,n))return null==n?(a.filter=void 0,void this._updateLayer(a)):void(this._validate(e.y.filter,"layers.".concat(a.id,".filter"),n,null,r)||(a.filter=e.aD(n),this._updateLayer(a)))}else this.fire(new e.j(new Error('Cannot filter non-existing layer "'.concat(t,'".'))))}},{key:"getFilter",value:function(t){return e.aD(this.getLayer(t).filter)}},{key:"setLayoutProperty",value:function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var i=this.getLayer(t);i?e.aG(i.getLayoutProperty(n),r)||(i.setLayoutProperty(n,r,a),this._updateLayer(i)):this.fire(new e.j(new Error('Cannot style non-existing layer "'.concat(t,'".'))))}},{key:"getLayoutProperty",value:function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.j(new Error('Cannot get style of non-existing layer "'.concat(t,'".'))))}},{key:"setPaintProperty",value:function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var i=this.getLayer(t);i?e.aG(i.getPaintProperty(n),r)||(i.setPaintProperty(n,r,a)&&this._updateLayer(i),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.j(new Error('Cannot style non-existing layer "'.concat(t,'".'))))}},{key:"getPaintProperty",value:function(e,t){return this.getLayer(e).getPaintProperty(t)}},{key:"setFeatureState",value:function(t,n){this._checkLoaded();var r=t.source,a=t.sourceLayer,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type;"geojson"===o&&a?this.fire(new e.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==o||a?(void 0===t.id&&this.fire(new e.j(new Error("The feature id parameter must be provided."))),i.setFeatureState(a,t.id,n)):this.fire(new e.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.j(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"removeFeatureState",value:function(t,n){this._checkLoaded();var r=t.source,a=this.sourceCaches[r];if(void 0!==a){var i=a.getSource().type,o="vector"===i?t.sourceLayer:void 0;"vector"!==i||o?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.j(new Error("A feature id is required to remove its specific state property."))):a.removeFeatureState(o,t.id,n):this.fire(new e.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.j(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"getFeatureState",value:function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,a=this.sourceCaches[n];if(void 0!==a)return"vector"!==a.getSource().type||r?(void 0===t.id&&this.fire(new e.j(new Error("The feature id parameter must be provided."))),a.getFeatureState(r,t.id)):void this.fire(new e.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new e.j(new Error("The source '".concat(n,"' does not exist in the map's style."))))}},{key:"getTransition",value:function(){return e.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}},{key:"serialize",value:function(){if(this._loaded){var t=e.aH(this.sourceCaches,(function(e){return e.serialize()})),n=this._serializeByIds(this._order),r=this.map.getTerrain()||void 0,a=this.stylesheet;return e.aI({version:a.version,name:a.name,metadata:a.metadata,light:a.light,center:a.center,zoom:a.zoom,bearing:a.bearing,pitch:a.pitch,sprite:a.sprite,glyphs:a.glyphs,transition:a.transition,sources:t,layers:n,terrain:r},(function(e){return void 0!==e}))}}},{key:"_updateLayer",value:function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._serializedLayers=null,this._changed=!0}},{key:"_flattenAndSortRenderedFeatures",value:function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},r={},a=[],i=this._order.length-1;i>=0;i--){var o=this._order[i];if(n(o)){r[o]=i;var s,l=f(e);try{for(l.s();!(s=l.n()).done;){var c=s.value[o];if(c){var u,d=f(c);try{for(d.s();!(u=d.n()).done;){var h=u.value;a.push(h)}}catch(S){d.e(S)}finally{d.f()}}}}catch(S){l.e(S)}finally{l.f()}}}a.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var p=[],m=this._order.length-1;m>=0;m--){var v=this._order[m];if(n(v))for(var g=a.length-1;g>=0;g--){var y=a[g].feature;if(r[y.layer.id]<m)break;p.push(y),a.pop()}else{var x,b=f(e);try{for(b.s();!(x=b.n()).done;){var _=x.value[v];if(_){var w,k=f(_);try{for(k.s();!(w=k.n()).done;){var j=w.value;p.push(j.feature)}}catch(S){k.e(S)}finally{k.f()}}}}catch(S){b.e(S)}finally{b.f()}}}return p}},{key:"queryRenderedFeatures",value:function(t,n,r){n&&n.filter&&this._validate(e.y.filter,"queryRenderedFeatures.filter",n.filter,null,n);var a={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.j(new Error("parameters.layers must be an Array."))),[];var i,o=f(n.layers);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=this._layers[s];if(!l)return this.fire(new e.j(new Error("The layer '".concat(s,"' does not exist in the map's style and cannot be queried for features.")))),[];a[l.source]=!0}}catch(h){o.e(h)}finally{o.f()}}var c=[];n.availableImages=this._availableImages;var u=this._serializedAllLayers();for(var d in this.sourceCaches)n.layers&&!a[d]||c.push(ae(this.sourceCaches[d],this._layers,u,t,n,r));return this.placement&&c.push(function(e,t,n,r,a,i,o){var s,l={},c=i.queryRenderedSymbols(r),u=[],d=f(Object.keys(c).map(Number));try{for(d.s();!(s=d.n()).done;){var p=s.value;u.push(o[p])}}catch(h){d.e(h)}finally{d.f()}u.sort(ie);for(var m=function(){var n=g[v],r=n.featureIndex.lookupSymbolFeatures(c[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,a.filter,a.layers,a.availableImages,e);for(var i in r){var o=l[i]=l[i]||[],s=r[i];s.sort((function(e,t){var r=n.featureSortOrder;if(r){var a=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-a}return t.featureIndex-e.featureIndex}));var u,d=f(s);try{for(d.s();!(u=d.n()).done;){var p=u.value;o.push(p)}}catch(h){d.e(h)}finally{d.f()}}},v=0,g=u;v<g.length;v++)m();var y=function(t){l[t].forEach((function(r){var a=r.feature,i=n[e[t].source].getFeatureState(a.layer["source-layer"],a.id);a.source=a.layer.source,a.layer["source-layer"]&&(a.sourceLayer=a.layer["source-layer"]),a.state=i}))};for(var x in l)y(x);return l}(this._layers,u,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(c)}},{key:"querySourceFeatures",value:function(t,n){n&&n.filter&&this._validate(e.y.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[t];return r?function(e,t){for(var n=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),r=[],a={},i=0;i<n.length;i++){var o=n[i],s=o.tileID.canonical.key;a[s]||(a[s]=!0,o.querySourceFeatures(r,t))}return r}(r,n):[]}},{key:"addSourceType",value:function(e,t,n){return ne(e)?n(new Error('A source type called "'.concat(e,'" already exists.'))):(function(e,t){te[e]=t}(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}},{key:"getLight",value:function(){return this.light.getLight()}},{key:"setLight",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();var r=this.light.getLight(),a=!1;for(var i in t)if(!e.aG(t[i],r[i])){a=!0;break}if(a){var o={now:e.h.now(),transition:e.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(o)}}},{key:"_validate",value:function(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!i||!1!==i.validate)&&ht(this,t.call(e.y,e.e({key:n,style:this.serialize(),value:r,styleSpec:e.v},a)))}},{key:"_remove",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var n in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.aJ.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[n].setEventedParent(null);for(var r in this.sourceCaches){var a=this.sourceCaches[r];a.setEventedParent(null),a.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(t)}},{key:"_clearSource",value:function(e){this.sourceCaches[e].clearTiles()}},{key:"_reloadSource",value:function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}},{key:"_updateSources",value:function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e,this.map.terrain)}},{key:"_generateCollisionBoxes",value:function(){for(var e in this.sourceCaches)this._reloadSource(e)}},{key:"_updatePlacement",value:function(t,n,r,a){var i,o=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=!1,c=!1,u={},d=f(this._order);try{var h=function(){var e=i.value,n=o._layers[e];if("symbol"!==n.type)return 1;if(!u[n.source]){var r=o.sourceCaches[n.source];u[n.source]=r.getRenderableIds(!0).map((function(e){return r.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var a=o.crossTileSymbolIndex.addLayer(n,u[n.source],t.center.lng);l=l||a};for(d.s();!(i=d.n()).done;)h()}catch(y){d.e(y)}finally{d.f()}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((s=s||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.h.now(),t.zoom))&&(this.pauseablePlacement=new ot(t,this.map.terrain,this._order,s,n,r,a,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,u),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.h.now()),c=!0),l&&this.pauseablePlacement.placement.setStale()),c||l){var p,m=f(this._order);try{for(m.s();!(p=m.n()).done;){var v=p.value,g=this._layers[v];"symbol"===g.type&&this.placement.updateLayerOpacities(g,u[g.source])}}catch(y){m.e(y)}finally{m.f()}}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.h.now())}},{key:"_releaseSymbolFadeTiles",value:function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}},{key:"getImages",value:function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)}},{key:"getGlyphs",value:function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n);var r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,[""])}},{key:"getResource",value:function(t,n,r){return e.m(n,r)}},{key:"getGlyphsUrl",value:function(){return this.stylesheet.glyphs||null}},{key:"setGlyphs",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded(),t&&this._validate(e.y.glyphs,"glyphs",t,null,n)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=t,this.glyphManager.entries={},this.glyphManager.setURL(t))}},{key:"addSprite",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;this._checkLoaded();var i=[{id:t,url:n}],o=[].concat(d(I(this.stylesheet.sprite)),i);this._validate(e.y.sprite,"sprite",o,null,r)||(this.stylesheet.sprite=o,this._loadSprite(i,!0,a))}},{key:"removeSprite",value:function(t){this._checkLoaded();var n=I(this.stylesheet.sprite);if(n.find((function(e){return e.id===t}))){if(this._spritesImagesIds[t]){var r,a=f(this._spritesImagesIds[t]);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.imageManager.removeImage(i),this._changedImages[i]=!0}}catch(o){a.e(o)}finally{a.f()}}n.splice(n.findIndex((function(e){return e.id===t})),1),this.stylesheet.sprite=n.length>0?n:void 0,delete this._spritesImagesIds[t],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.k("data",{dataType:"style"}))}else this.fire(new e.j(new Error('Sprite "'.concat(t,"\" doesn't exists on this map."))))}},{key:"getSprite",value:function(){return I(this.stylesheet.sprite)}},{key:"setSprite",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this._checkLoaded(),t&&this._validate(e.y.sprite,"sprite",t,null,n)||(this.stylesheet.sprite=t,t?this._loadSprite(t,!0,r):(this._unloadSprite(),r&&r(null)))}}]),r}(e.E);vt.registerForPluginStateChange=e.aK;var gt=e.Q([{name:"a_pos",type:"Int16",components:2}]),yt="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}",xt={prelude:bt("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:bt("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:bt("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:bt("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:bt("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:bt("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:bt("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:bt("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:bt("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:bt("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:bt("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:bt("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:bt("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:bt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:bt("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:bt("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:bt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:bt("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:bt("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:bt("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:bt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:bt("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:bt("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:bt("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:bt("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:bt("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:bt("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",yt),terrainDepth:bt("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",yt),terrainCoords:bt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",yt)};function bt(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute ([\w]+) ([\w]+)/g),a=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),i=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=i?i.concat(a):a,s={};return{fragmentSource:e=e.replace(n,(function(e,t,n,r,a){return s[a]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\nvarying ").concat(n," ").concat(r," ").concat(a,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(a,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(a,"\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n")})),vertexSource:t=t.replace(n,(function(e,t,n,r,a){var i="float"===r?"vec2":"vec4",o=a.match(/color/)?"color":i;return s[a]?"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\nuniform lowp float u_").concat(a,"_t;\nattribute ").concat(n," ").concat(i," a_").concat(a,";\nvarying ").concat(n," ").concat(r," ").concat(a,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(a,";\n#endif\n"):"vec4"===o?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(a," = a_").concat(a,";\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(a," = unpack_mix_").concat(o,"(a_").concat(a,", u_").concat(a,"_t);\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n"):"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\nuniform lowp float u_").concat(a,"_t;\nattribute ").concat(n," ").concat(i," a_").concat(a,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(a,";\n#endif\n"):"vec4"===o?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(n," ").concat(r," ").concat(a," = a_").concat(a,";\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(n," ").concat(r," ").concat(a," = unpack_mix_").concat(o,"(a_").concat(a,", u_").concat(a,"_t);\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n")})),staticAttributes:r,staticUniforms:o}}var _t=function(){function e(){m(this,e),this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}return p(e,[{key:"bind",value:function(e,t,n,r,a,i,o,s,l){this.context=e;for(var c=this.boundPaintVertexBuffers.length!==r.length,u=0;!c&&u<r.length;u++)this.boundPaintVertexBuffers[u]!==r[u]&&(c=!0);!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||c||this.boundIndexBuffer!==a||this.boundVertexOffset!==i||this.boundDynamicVertexBuffer!==o||this.boundDynamicVertexBuffer2!==s||this.boundDynamicVertexBuffer3!==l?this.freshBind(t,n,r,a,i,o,s,l):(e.bindVertexArray.set(this.vao),o&&o.bind(),a&&a.dynamicDraw&&a.bind(),s&&s.bind(),l&&l.bind())}},{key:"freshBind",value:function(e,t,n,r,a,i,o,s){var l=e.numAttributes,c=this.context,u=c.gl;this.vao&&this.destroy(),this.vao=c.createVertexArray(),c.bindVertexArray.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=a,this.boundDynamicVertexBuffer=i,this.boundDynamicVertexBuffer2=o,this.boundDynamicVertexBuffer3=s,t.enableAttributes(u,e);var d,h=f(n);try{for(h.s();!(d=h.n()).done;)d.value.enableAttributes(u,e)}catch(g){h.e(g)}finally{h.f()}i&&i.enableAttributes(u,e),o&&o.enableAttributes(u,e),s&&s.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,a);var p,m=f(n);try{for(m.s();!(p=m.n()).done;){var v=p.value;v.bind(),v.setVertexAttribPointers(u,e,a)}}catch(g){m.e(g)}finally{m.f()}i&&(i.bind(),i.setVertexAttribPointers(u,e,a)),r&&r.bind(),o&&(o.bind(),o.setVertexAttribPointers(u,e,a)),s&&(s.bind(),s.setVertexAttribPointers(u,e,a)),c.currentNumAttributes=l}},{key:"destroy",value:function(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}]),e}();function wt(e){for(var t=[],n=0;n<e.length;n++)if(null!==e[n]){var r=e[n].split(" ");t.push(r.pop())}return t}var kt=function(){function t(n,r,a,i,o,s){m(this,t);var l=n.gl;this.program=l.createProgram();var c,u=wt(r.staticAttributes),d=a?a.getBinderAttributes():[],h=u.concat(d),p=xt.prelude.staticUniforms?wt(xt.prelude.staticUniforms):[],v=r.staticUniforms?wt(r.staticUniforms):[],g=a?a.getBinderUniforms():[],y=p.concat(v).concat(g),x=[],b=f(y);try{for(b.s();!(c=b.n()).done;){var _=c.value;x.indexOf(_)<0&&x.push(_)}}catch(P){b.e(P)}finally{b.f()}var w=a?a.defines():[];o&&w.push("#define OVERDRAW_INSPECTOR;"),s&&w.push("#define TERRAIN3D;");var k=w.concat(xt.prelude.fragmentSource,r.fragmentSource).join("\n"),j=w.concat(xt.prelude.vertexSource,r.vertexSource).join("\n"),S=l.createShader(l.FRAGMENT_SHADER);if(l.isContextLost())this.failedToCreate=!0;else{if(l.shaderSource(S,k),l.compileShader(S),!l.getShaderParameter(S,l.COMPILE_STATUS))throw new Error("Could not compile fragment shader: ".concat(l.getShaderInfoLog(S)));l.attachShader(this.program,S);var C=l.createShader(l.VERTEX_SHADER);if(l.isContextLost())this.failedToCreate=!0;else{if(l.shaderSource(C,j),l.compileShader(C),!l.getShaderParameter(C,l.COMPILE_STATUS))throw new Error("Could not compile vertex shader: ".concat(l.getShaderInfoLog(C)));l.attachShader(this.program,C),this.attributes={};var N={};this.numAttributes=h.length;for(var E=0;E<this.numAttributes;E++)h[E]&&(l.bindAttribLocation(this.program,E,h[E]),this.attributes[h[E]]=E);if(l.linkProgram(this.program),!l.getProgramParameter(this.program,l.LINK_STATUS))throw new Error("Program failed to link: ".concat(l.getProgramInfoLog(this.program)));l.deleteShader(C),l.deleteShader(S);for(var T=0;T<x.length;T++){var I=x[T];if(I&&!N[I]){var A=l.getUniformLocation(this.program,I);A&&(N[I]=A)}}this.fixedUniforms=i(n,N),this.terrainUniforms=function(t,n){return{u_depth:new e.aL(t,n.u_depth),u_terrain:new e.aL(t,n.u_terrain),u_terrain_dim:new e.aM(t,n.u_terrain_dim),u_terrain_matrix:new e.aN(t,n.u_terrain_matrix),u_terrain_unpack:new e.aO(t,n.u_terrain_unpack),u_terrain_exaggeration:new e.aM(t,n.u_terrain_exaggeration)}}(n,N),this.binderUniforms=a?a.getUniforms(n,N):[]}}}return p(t,[{key:"draw",value:function(e,t,n,r,a,i,o,s,l,c,u,d,h,p,m,v,g,y){var x=e.gl;if(!this.failedToCreate){if(e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(a),e.setCullFace(i),s)for(var b in e.activeTexture.set(x.TEXTURE2),x.bindTexture(x.TEXTURE_2D,s.depthTexture),e.activeTexture.set(x.TEXTURE3),x.bindTexture(x.TEXTURE_2D,s.texture),this.terrainUniforms)this.terrainUniforms[b].set(s[b]);for(var _ in this.fixedUniforms)this.fixedUniforms[_].set(o[_]);m&&m.setUniforms(e,this.binderUniforms,h,{zoom:p});var w=0;switch(t){case x.LINES:w=2;break;case x.TRIANGLES:w=3;break;case x.LINE_STRIP:w=1}var k,j=f(d.get());try{for(j.s();!(k=j.n()).done;){var S=k.value,C=S.vaos||(S.vaos={});(C[l]||(C[l]=new _t)).bind(e,this,c,m?m.getPaintVertexBuffers():[],u,S.vertexOffset,v,g,y),x.drawElements(t,S.primitiveLength*w,x.UNSIGNED_SHORT,S.primitiveOffset*w*2)}}catch(N){j.e(N)}finally{j.f()}}}}]),t}();function jt(e,t,n){var r=1/Fe(n,1,t.transform.tileZoom),a=Math.pow(2,n.tileID.overscaledZ),i=n.tileSize*Math.pow(2,t.transform.tileZoom)/a,o=i*(n.tileID.canonical.x+n.tileID.wrap*a),s=i*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[65535&o,65535&s]}}var St=function(t,n,r,a){var i=n.style.light,o=i.properties.get("position"),s=[o.x,o.y,o.z],l=function(){var t=new e.A(9);return e.A!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}();"viewport"===i.properties.get("anchor")&&function(e,t){var n=Math.sin(t),r=Math.cos(t);e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1}(l,-n.transform.angle),function(e,t,n){var r=t[0],a=t[1],i=t[2];e[0]=r*n[0]+a*n[3]+i*n[6],e[1]=r*n[1]+a*n[4]+i*n[7],e[2]=r*n[2]+a*n[5]+i*n[8]}(s,s,l);var c=i.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:i.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+r,u_opacity:a}},Ct=function(t,n,r,a,i,o,s){return e.e(St(t,n,r,a),jt(o,n,s),{u_height_factor:-Math.pow(2,i.overscaledZ)/s.tileSize/8})},Nt=function(e){return{u_matrix:e}},Et=function(t,n,r,a){return e.e(Nt(t),jt(r,n,a))},Tt=function(e,t){return{u_matrix:e,u_world:t}},It=function(t,n,r,a,i){return e.e(Et(t,n,r,a),{u_world:i})},At=function(e,t,n,r){var a,i,o=e.transform;if("map"===r.paint.get("circle-pitch-alignment")){var s=Fe(n,1,o.zoom);a=!0,i=[s,s]}else a=!1,i=o.pixelsToGLUnits;return{u_camera_to_center_distance:o.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+a,u_device_pixel_ratio:e.pixelRatio,u_extrude_scale:i}},Pt=function(e,t,n){var r=Fe(n,1,t.zoom),a=Math.pow(2,t.zoom-n.tileID.overscaledZ),i=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*a),t.pixelsToGLUnits[1]/(r*a)],u_overscale_factor:i}},Mt=function(e,t){return{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}},Dt=function(e){return{u_matrix:e}},Lt=function(e,t,n,r){return{u_matrix:e,u_extrude_scale:Fe(t,1,n),u_intensity:r}};function Ot(t,n){var r=Math.pow(2,n.canonical.z),a=n.canonical.y;return[new e.U(0,a/r).toLngLat().lat,new e.U(0,(a+1)/r).toLngLat().lat]}var zt=function(e,t,n,r){var a=e.transform;return{u_matrix:Ut(e,t,n,r),u_ratio:1/Fe(t,1,a.zoom),u_device_pixel_ratio:e.pixelRatio,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},Rt=function(t,n,r,a,i){return e.e(zt(t,n,r,i),{u_image:0,u_image_height:a})},Ft=function(e,t,n,r,a){var i=e.transform,o=Zt(t,i);return{u_matrix:Ut(e,t,n,a),u_texsize:t.imageAtlasTexture.size,u_ratio:1/Fe(t,1,i.zoom),u_device_pixel_ratio:e.pixelRatio,u_image:0,u_scale:[o,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Bt=function(t,n,r,a,i,o){var s=t.lineAtlas,l=Zt(n,t.transform),c="round"===r.layout.get("line-cap"),u=s.getDash(a.from,c),d=s.getDash(a.to,c),h=u.width*i.fromScale,f=d.width*i.toScale;return e.e(zt(t,n,r,o),{u_patternscale_a:[l/h,-u.height/2],u_patternscale_b:[l/f,-d.height/2],u_sdfgamma:s.width/(256*Math.min(h,f)*t.pixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:d.y,u_mix:i.t})};function Zt(e,t){return 1/Fe(e,1,t.tileZoom)}function Ut(e,t,n,r){return e.translatePosMatrix(r?r.posMatrix:t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Vt=function(e,t,n,r,a){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*a.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:a.paint.get("raster-brightness-min"),u_brightness_high:a.paint.get("raster-brightness-max"),u_saturation_factor:(o=a.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(i=a.paint.get("raster-contrast"),i>0?1/(1-i):1+i),u_spin_weights:qt(a.paint.get("raster-hue-rotate"))};var i,o};function qt(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var Ht=function(e,t,n,r,a,i,o,s,l,c){var u=a.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:u.width/u.height,u_fade_change:a.options.fadeDuration?a.symbolFadeChange:1,u_matrix:i,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:c,u_texture:0}},Wt=function(t,n,r,a,i,o,s,l,c,u,d){var h=i.transform;return e.e(Ht(t,n,r,a,i,o,s,l,c,u),{u_gamma_scale:a?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_device_pixel_ratio:i.pixelRatio,u_is_halo:+d})},Yt=function(t,n,r,a,i,o,s,l,c,u){return e.e(Wt(t,n,r,a,i,o,s,l,!0,c,!0),{u_texsize_icon:u,u_texture_icon:1})},Gt=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},Jt=function(t,n,r,a,i,o){return e.e(function(e,t,n,r){var a=n.imageManager.getPattern(e.from.toString()),i=n.imageManager.getPattern(e.to.toString()),o=n.imageManager.getPixelSize(),s=o.width,l=o.height,c=Math.pow(2,r.tileID.overscaledZ),u=r.tileSize*Math.pow(2,n.transform.tileZoom)/c,d=u*(r.tileID.canonical.x+r.tileID.wrap*c),h=u*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:a.tl,u_pattern_br_a:a.br,u_pattern_tl_b:i.tl,u_pattern_br_b:i.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:a.displaySize,u_pattern_size_b:i.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/Fe(r,1,n.transform.tileZoom),u_pixel_coord_upper:[d>>16,h>>16],u_pixel_coord_lower:[65535&d,65535&h]}}(a,o,r,i),{u_matrix:t,u_opacity:n})},Xt={fillExtrusion:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_lightpos:new e.aP(t,n.u_lightpos),u_lightintensity:new e.aM(t,n.u_lightintensity),u_lightcolor:new e.aP(t,n.u_lightcolor),u_vertical_gradient:new e.aM(t,n.u_vertical_gradient),u_opacity:new e.aM(t,n.u_opacity)}},fillExtrusionPattern:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_lightpos:new e.aP(t,n.u_lightpos),u_lightintensity:new e.aM(t,n.u_lightintensity),u_lightcolor:new e.aP(t,n.u_lightcolor),u_vertical_gradient:new e.aM(t,n.u_vertical_gradient),u_height_factor:new e.aM(t,n.u_height_factor),u_image:new e.aL(t,n.u_image),u_texsize:new e.aQ(t,n.u_texsize),u_pixel_coord_upper:new e.aQ(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.aQ(t,n.u_pixel_coord_lower),u_scale:new e.aP(t,n.u_scale),u_fade:new e.aM(t,n.u_fade),u_opacity:new e.aM(t,n.u_opacity)}},fill:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix)}},fillPattern:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_image:new e.aL(t,n.u_image),u_texsize:new e.aQ(t,n.u_texsize),u_pixel_coord_upper:new e.aQ(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.aQ(t,n.u_pixel_coord_lower),u_scale:new e.aP(t,n.u_scale),u_fade:new e.aM(t,n.u_fade)}},fillOutline:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_world:new e.aQ(t,n.u_world)}},fillOutlinePattern:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_world:new e.aQ(t,n.u_world),u_image:new e.aL(t,n.u_image),u_texsize:new e.aQ(t,n.u_texsize),u_pixel_coord_upper:new e.aQ(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.aQ(t,n.u_pixel_coord_lower),u_scale:new e.aP(t,n.u_scale),u_fade:new e.aM(t,n.u_fade)}},circle:function(t,n){return{u_camera_to_center_distance:new e.aM(t,n.u_camera_to_center_distance),u_scale_with_map:new e.aL(t,n.u_scale_with_map),u_pitch_with_map:new e.aL(t,n.u_pitch_with_map),u_extrude_scale:new e.aQ(t,n.u_extrude_scale),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_matrix:new e.aN(t,n.u_matrix)}},collisionBox:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_camera_to_center_distance:new e.aM(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.aM(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.aQ(t,n.u_extrude_scale),u_overscale_factor:new e.aM(t,n.u_overscale_factor)}},collisionCircle:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_inv_matrix:new e.aN(t,n.u_inv_matrix),u_camera_to_center_distance:new e.aM(t,n.u_camera_to_center_distance),u_viewport_size:new e.aQ(t,n.u_viewport_size)}},debug:function(t,n){return{u_color:new e.aR(t,n.u_color),u_matrix:new e.aN(t,n.u_matrix),u_overlay:new e.aL(t,n.u_overlay),u_overlay_scale:new e.aM(t,n.u_overlay_scale)}},clippingMask:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix)}},heatmap:function(t,n){return{u_extrude_scale:new e.aM(t,n.u_extrude_scale),u_intensity:new e.aM(t,n.u_intensity),u_matrix:new e.aN(t,n.u_matrix)}},heatmapTexture:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_world:new e.aQ(t,n.u_world),u_image:new e.aL(t,n.u_image),u_color_ramp:new e.aL(t,n.u_color_ramp),u_opacity:new e.aM(t,n.u_opacity)}},hillshade:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_image:new e.aL(t,n.u_image),u_latrange:new e.aQ(t,n.u_latrange),u_light:new e.aQ(t,n.u_light),u_shadow:new e.aR(t,n.u_shadow),u_highlight:new e.aR(t,n.u_highlight),u_accent:new e.aR(t,n.u_accent)}},hillshadePrepare:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_image:new e.aL(t,n.u_image),u_dimension:new e.aQ(t,n.u_dimension),u_zoom:new e.aM(t,n.u_zoom),u_unpack:new e.aO(t,n.u_unpack)}},line:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_ratio:new e.aM(t,n.u_ratio),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.aQ(t,n.u_units_to_pixels)}},lineGradient:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_ratio:new e.aM(t,n.u_ratio),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.aQ(t,n.u_units_to_pixels),u_image:new e.aL(t,n.u_image),u_image_height:new e.aM(t,n.u_image_height)}},linePattern:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_texsize:new e.aQ(t,n.u_texsize),u_ratio:new e.aM(t,n.u_ratio),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_image:new e.aL(t,n.u_image),u_units_to_pixels:new e.aQ(t,n.u_units_to_pixels),u_scale:new e.aP(t,n.u_scale),u_fade:new e.aM(t,n.u_fade)}},lineSDF:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_ratio:new e.aM(t,n.u_ratio),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.aQ(t,n.u_units_to_pixels),u_patternscale_a:new e.aQ(t,n.u_patternscale_a),u_patternscale_b:new e.aQ(t,n.u_patternscale_b),u_sdfgamma:new e.aM(t,n.u_sdfgamma),u_image:new e.aL(t,n.u_image),u_tex_y_a:new e.aM(t,n.u_tex_y_a),u_tex_y_b:new e.aM(t,n.u_tex_y_b),u_mix:new e.aM(t,n.u_mix)}},raster:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_tl_parent:new e.aQ(t,n.u_tl_parent),u_scale_parent:new e.aM(t,n.u_scale_parent),u_buffer_scale:new e.aM(t,n.u_buffer_scale),u_fade_t:new e.aM(t,n.u_fade_t),u_opacity:new e.aM(t,n.u_opacity),u_image0:new e.aL(t,n.u_image0),u_image1:new e.aL(t,n.u_image1),u_brightness_low:new e.aM(t,n.u_brightness_low),u_brightness_high:new e.aM(t,n.u_brightness_high),u_saturation_factor:new e.aM(t,n.u_saturation_factor),u_contrast_factor:new e.aM(t,n.u_contrast_factor),u_spin_weights:new e.aP(t,n.u_spin_weights)}},symbolIcon:function(t,n){return{u_is_size_zoom_constant:new e.aL(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.aL(t,n.u_is_size_feature_constant),u_size_t:new e.aM(t,n.u_size_t),u_size:new e.aM(t,n.u_size),u_camera_to_center_distance:new e.aM(t,n.u_camera_to_center_distance),u_pitch:new e.aM(t,n.u_pitch),u_rotate_symbol:new e.aL(t,n.u_rotate_symbol),u_aspect_ratio:new e.aM(t,n.u_aspect_ratio),u_fade_change:new e.aM(t,n.u_fade_change),u_matrix:new e.aN(t,n.u_matrix),u_label_plane_matrix:new e.aN(t,n.u_label_plane_matrix),u_coord_matrix:new e.aN(t,n.u_coord_matrix),u_is_text:new e.aL(t,n.u_is_text),u_pitch_with_map:new e.aL(t,n.u_pitch_with_map),u_texsize:new e.aQ(t,n.u_texsize),u_texture:new e.aL(t,n.u_texture)}},symbolSDF:function(t,n){return{u_is_size_zoom_constant:new e.aL(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.aL(t,n.u_is_size_feature_constant),u_size_t:new e.aM(t,n.u_size_t),u_size:new e.aM(t,n.u_size),u_camera_to_center_distance:new e.aM(t,n.u_camera_to_center_distance),u_pitch:new e.aM(t,n.u_pitch),u_rotate_symbol:new e.aL(t,n.u_rotate_symbol),u_aspect_ratio:new e.aM(t,n.u_aspect_ratio),u_fade_change:new e.aM(t,n.u_fade_change),u_matrix:new e.aN(t,n.u_matrix),u_label_plane_matrix:new e.aN(t,n.u_label_plane_matrix),u_coord_matrix:new e.aN(t,n.u_coord_matrix),u_is_text:new e.aL(t,n.u_is_text),u_pitch_with_map:new e.aL(t,n.u_pitch_with_map),u_texsize:new e.aQ(t,n.u_texsize),u_texture:new e.aL(t,n.u_texture),u_gamma_scale:new e.aM(t,n.u_gamma_scale),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_is_halo:new e.aL(t,n.u_is_halo)}},symbolTextAndIcon:function(t,n){return{u_is_size_zoom_constant:new e.aL(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.aL(t,n.u_is_size_feature_constant),u_size_t:new e.aM(t,n.u_size_t),u_size:new e.aM(t,n.u_size),u_camera_to_center_distance:new e.aM(t,n.u_camera_to_center_distance),u_pitch:new e.aM(t,n.u_pitch),u_rotate_symbol:new e.aL(t,n.u_rotate_symbol),u_aspect_ratio:new e.aM(t,n.u_aspect_ratio),u_fade_change:new e.aM(t,n.u_fade_change),u_matrix:new e.aN(t,n.u_matrix),u_label_plane_matrix:new e.aN(t,n.u_label_plane_matrix),u_coord_matrix:new e.aN(t,n.u_coord_matrix),u_is_text:new e.aL(t,n.u_is_text),u_pitch_with_map:new e.aL(t,n.u_pitch_with_map),u_texsize:new e.aQ(t,n.u_texsize),u_texsize_icon:new e.aQ(t,n.u_texsize_icon),u_texture:new e.aL(t,n.u_texture),u_texture_icon:new e.aL(t,n.u_texture_icon),u_gamma_scale:new e.aM(t,n.u_gamma_scale),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_is_halo:new e.aL(t,n.u_is_halo)}},background:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_opacity:new e.aM(t,n.u_opacity),u_color:new e.aR(t,n.u_color)}},backgroundPattern:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_opacity:new e.aM(t,n.u_opacity),u_image:new e.aL(t,n.u_image),u_pattern_tl_a:new e.aQ(t,n.u_pattern_tl_a),u_pattern_br_a:new e.aQ(t,n.u_pattern_br_a),u_pattern_tl_b:new e.aQ(t,n.u_pattern_tl_b),u_pattern_br_b:new e.aQ(t,n.u_pattern_br_b),u_texsize:new e.aQ(t,n.u_texsize),u_mix:new e.aM(t,n.u_mix),u_pattern_size_a:new e.aQ(t,n.u_pattern_size_a),u_pattern_size_b:new e.aQ(t,n.u_pattern_size_b),u_scale_a:new e.aM(t,n.u_scale_a),u_scale_b:new e.aM(t,n.u_scale_b),u_pixel_coord_upper:new e.aQ(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.aQ(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.aM(t,n.u_tile_units_to_pixels)}},terrain:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_texture:new e.aL(t,n.u_texture),u_ele_delta:new e.aM(t,n.u_ele_delta)}},terrainDepth:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_ele_delta:new e.aM(t,n.u_ele_delta)}},terrainCoords:function(t,n){return{u_matrix:new e.aN(t,n.u_matrix),u_texture:new e.aL(t,n.u_texture),u_terrain_coords_id:new e.aM(t,n.u_terrain_coords_id),u_ele_delta:new e.aM(t,n.u_ele_delta)}}},Kt=function(){function e(t,n,r){m(this,e),this.context=t;var a=t.gl;this.buffer=a.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?a.DYNAMIC_DRAW:a.STATIC_DRAW),this.dynamicDraw||delete n.arrayBuffer}return p(e,[{key:"bind",value:function(){this.context.bindElementBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),$t={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Qt=function(){function e(t,n,r,a){m(this,e),this.length=n.length,this.attributes=r,this.itemSize=n.bytesPerElement,this.dynamicDraw=a,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete n.arrayBuffer}return p(e,[{key:"bind",value:function(){this.context.bindVertexBuffer.set(this.buffer)}},{key:"updateData",value:function(e){if(e.length!==this.length)throw new Error("Length of new data is ".concat(e.length,", which doesn't match current length of ").concat(this.length));var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"enableAttributes",value:function(e,t){for(var n=0;n<this.attributes.length;n++){var r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}}},{key:"setVertexAttribPointers",value:function(e,t,n){for(var r=0;r<this.attributes.length;r++){var a=this.attributes[r],i=t.attributes[a.name];void 0!==i&&e.vertexAttribPointer(i,a.components,e[$t[a.type]],!1,this.itemSize,a.offset+this.itemSize*(n||0))}}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),en=new WeakMap;function tn(e){var t;if(en.has(e))return en.get(e);var n=null===(t=e.getParameter(e.VERSION))||void 0===t?void 0:t.startsWith("WebGL 2.0");return en.set(e,n),n}var nn=function(){function e(t){m(this,e),this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}return p(e,[{key:"get",value:function(){return this.current}},{key:"set",value:function(e){}},{key:"getDefault",value:function(){return this.default}},{key:"setDefault",value:function(){this.set(this.default)}}]),e}(),rn=function(t){v(r,t);var n=g(r);function r(){return m(this,r),n.apply(this,arguments)}return p(r,[{key:"getDefault",value:function(){return e.aT.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),r}(nn),an=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return 1}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}]),n}(nn),on=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return 0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}]),n}(nn),sn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return[!0,!0,!0,!0]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),n}(nn),ln=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}]),n}(nn),cn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return 255}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}]),n}(nn),un=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return{func:this.gl.ALWAYS,ref:0,mask:255}}},{key:"set",value:function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}]),n}(nn),dn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}]),n}(nn),hn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}}]),n}(nn),fn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return[0,1]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}]),n}(nn),pn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}}]),n}(nn),mn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.LESS}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}]),n}(nn),vn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}}]),n}(nn),gn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){var e=this.gl;return[e.ONE,e.ZERO]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}]),n}(nn),yn=function(t){v(r,t);var n=g(r);function r(){return m(this,r),n.apply(this,arguments)}return p(r,[{key:"getDefault",value:function(){return e.aT.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),r}(nn),xn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.FUNC_ADD}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}]),n}(nn),bn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}}]),n}(nn),_n=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.BACK}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}]),n}(nn),wn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.CCW}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}]),n}(nn),kn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}]),n}(nn),jn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return this.gl.TEXTURE0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}]),n}(nn),Sn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),n}(nn),Cn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(nn),Nn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(nn),En=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}}]),n}(nn),Tn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}}]),n}(nn),In=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}]),n}(nn),An=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){var t;if(e!==this.current||this.dirty){var n=this.gl;tn(n)?n.bindVertexArray(e):null===(t=n.getExtension("OES_vertex_array_object"))||void 0===t||t.bindVertexArrayOES(e),this.current=e,this.dirty=!1}}}]),n}(nn),Pn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return 4}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}}]),n}(nn),Mn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}}]),n}(nn),Dn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}}]),n}(nn),Ln=function(e){v(n,e);var t=g(n);function n(e,r){var a;return m(this,n),(a=t.call(this,e)).context=e,a.parent=r,a}return p(n,[{key:"getDefault",value:function(){return null}}]),n}(nn),On=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"setDirty",value:function(){this.dirty=!0}},{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}}]),n}(Ln),zn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(Ln),Rn=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(Ln),Fn=function(){function e(t,n,r,a,i){m(this,e),this.context=t,this.width=n,this.height=r;var o=t.gl,s=this.framebuffer=o.createFramebuffer();if(this.colorAttachment=new On(t,s),a)this.depthAttachment=i?new Rn(t,s):new zn(t,s);else if(i)throw new Error("Stencil cannot be setted without depth");if(o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}return p(e,[{key:"destroy",value:function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)}}]),e}(),Bn=p((function e(t,n,r){m(this,e),this.blendFunction=t,this.blendColor=n,this.mask=r}));Bn.Replace=[1,0],Bn.disabled=new Bn(Bn.Replace,e.aT.transparent,[!1,!1,!1,!1]),Bn.unblended=new Bn(Bn.Replace,e.aT.transparent,[!0,!0,!0,!0]),Bn.alphaBlended=new Bn([1,771],e.aT.transparent,[!0,!0,!0,!0]);var Zn=function(){function t(e){var n,r;if(m(this,t),this.gl=e,this.clearColor=new rn(this),this.clearDepth=new an(this),this.clearStencil=new on(this),this.colorMask=new sn(this),this.depthMask=new ln(this),this.stencilMask=new cn(this),this.stencilFunc=new un(this),this.stencilOp=new dn(this),this.stencilTest=new hn(this),this.depthRange=new fn(this),this.depthTest=new pn(this),this.depthFunc=new mn(this),this.blend=new vn(this),this.blendFunc=new gn(this),this.blendColor=new yn(this),this.blendEquation=new xn(this),this.cullFace=new bn(this),this.cullFaceSide=new _n(this),this.frontFace=new wn(this),this.program=new kn(this),this.activeTexture=new jn(this),this.viewport=new Sn(this),this.bindFramebuffer=new Cn(this),this.bindRenderbuffer=new Nn(this),this.bindTexture=new En(this),this.bindVertexBuffer=new Tn(this),this.bindElementBuffer=new In(this),this.bindVertexArray=new An(this),this.pixelStoreUnpack=new Pn(this),this.pixelStoreUnpackPremultiplyAlpha=new Mn(this),this.pixelStoreUnpackFlipY=new Dn(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),tn(e)){this.HALF_FLOAT=e.HALF_FLOAT;var a=e.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(n=e.RGBA16F)&&void 0!==n?n:null==a?void 0:a.RGBA16F_EXT,this.RGB16F=null!==(r=e.RGB16F)&&void 0!==r?r:null==a?void 0:a.RGB16F_EXT,e.getExtension("EXT_color_buffer_float")}else{e.getExtension("EXT_color_buffer_half_float"),e.getExtension("OES_texture_half_float_linear");var i=e.getExtension("OES_texture_half_float");this.HALF_FLOAT=null==i?void 0:i.HALF_FLOAT_OES}}return p(t,[{key:"setDefault",value:function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}},{key:"setDirty",value:function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}},{key:"createIndexBuffer",value:function(e,t){return new Kt(this,e,t)}},{key:"createVertexBuffer",value:function(e,t,n){return new Qt(this,e,t,n)}},{key:"createRenderbuffer",value:function(e,t,n){var r=this.gl,a=r.createRenderbuffer();return this.bindRenderbuffer.set(a),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),a}},{key:"createFramebuffer",value:function(e,t,n,r){return new Fn(this,e,t,n,r)}},{key:"clear",value:function(e){var t=e.color,n=e.depth,r=e.stencil,a=this.gl,i=0;t&&(i|=a.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=a.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),void 0!==r&&(i|=a.STENCIL_BUFFER_BIT,this.clearStencil.set(r),this.stencilMask.set(255)),a.clear(i)}},{key:"setCullFace",value:function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}},{key:"setDepthMode",value:function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}},{key:"setStencilMode",value:function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}},{key:"setColorMode",value:function(t){e.aG(t.blendFunction,Bn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)}},{key:"createVertexArray",value:function(){var e;return tn(this.gl)?this.gl.createVertexArray():null===(e=this.gl.getExtension("OES_vertex_array_object"))||void 0===e?void 0:e.createVertexArrayOES()}},{key:"deleteVertexArray",value:function(e){var t;return tn(this.gl)?this.gl.deleteVertexArray(e):null===(t=this.gl.getExtension("OES_vertex_array_object"))||void 0===t?void 0:t.deleteVertexArrayOES(e)}},{key:"unbindVAO",value:function(){this.bindVertexArray.set(null)}}]),t}(),Un=p((function e(t,n,r){m(this,e),this.func=t,this.mask=n,this.range=r}));Un.ReadOnly=!1,Un.ReadWrite=!0,Un.disabled=new Un(519,Un.ReadOnly,[0,1]);var Vn=7680,qn=p((function e(t,n,r,a,i,o){m(this,e),this.test=t,this.ref=n,this.mask=r,this.fail=a,this.depthFail=i,this.pass=o}));qn.disabled=new qn({func:519,mask:0},0,0,Vn,Vn,Vn);var Hn,Wn=p((function e(t,n,r){m(this,e),this.enable=t,this.mode=n,this.frontFace=r}));function Yn(t,n,r,a,i,o,s){for(var l=t.context,c=l.gl,u=t.useProgram("collisionBox"),d=[],h=0,f=0,p=0;p<a.length;p++){var m=a[p],v=n.getTile(m),g=v.getBucket(r);if(g){var y=m.posMatrix;0===i[0]&&0===i[1]||(y=t.translatePosMatrix(m.posMatrix,v,i,o));var x=s?g.textCollisionBox:g.iconCollisionBox,b=g.collisionCircleArray;if(b.length>0){var _=e.Z(),w=y;e.aU(_,g.placementInvProjMatrix,t.transform.glCoordMatrix),e.aU(_,_,g.placementViewportMatrix),d.push({circleArray:b,circleOffset:f,transform:w,invTransform:_,coord:m}),f=h+=b.length/4}x&&u.draw(l,c.LINES,Un.disabled,qn.disabled,t.colorModeForRenderPass(),Wn.disabled,Pt(y,t.transform,v),t.style.map.terrain&&t.style.map.terrain.getTerrainData(m),r.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,null,t.transform.zoom,null,null,x.collisionVertexBuffer)}}if(s&&d.length){var k=t.useProgram("collisionCircle"),j=new e.aV;j.resize(4*h),j._trim();for(var S=0,C=0,N=d;C<N.length;C++)for(var E=N[C],T=0;T<E.circleArray.length/4;T++){var I=4*T,A=E.circleArray[I+0],P=E.circleArray[I+1],M=E.circleArray[I+2],D=E.circleArray[I+3];j.emplace(S++,A,P,M,D,0),j.emplace(S++,A,P,M,D,1),j.emplace(S++,A,P,M,D,2),j.emplace(S++,A,P,M,D,3)}(!Hn||Hn.length<2*h)&&(Hn=function(t){var n=2*t,r=new e.aX;r.resize(n),r._trim();for(var a=0;a<n;a++){var i=6*a;r.uint16[i+0]=4*a+0,r.uint16[i+1]=4*a+1,r.uint16[i+2]=4*a+2,r.uint16[i+3]=4*a+2,r.uint16[i+4]=4*a+3,r.uint16[i+5]=4*a+0}return r}(h));for(var L,O=l.createIndexBuffer(Hn,!0),z=l.createVertexBuffer(j,e.aW.members,!0),R=0,F=d;R<F.length;R++){var B=F[R],Z={u_matrix:B.transform,u_inv_matrix:B.invTransform,u_camera_to_center_distance:(L=t.transform).cameraToCenterDistance,u_viewport_size:[L.width,L.height]};k.draw(l,c.TRIANGLES,Un.disabled,qn.disabled,t.colorModeForRenderPass(),Wn.disabled,Z,t.style.map.terrain&&t.style.map.terrain.getTerrainData(B.coord),r.id,z,O,e.S.simpleSegment(0,2*B.circleOffset,B.circleArray.length,B.circleArray.length/2),null,t.transform.zoom,null,null,null)}z.destroy(),O.destroy()}}Wn.disabled=new Wn(!1,1029,2305),Wn.backCCW=new Wn(!0,1029,2305);var Gn=e.ao(new Float32Array(16));function Jn(t,n,r,a,i,o){var s=e.au(t),l=s.horizontalAlign,c=s.verticalAlign;return new e.P((-(l-.5)*n/i+a[0])*o,(-(c-.5)*r/i+a[1])*o)}function Xn(t,n,r,a,i,o,s,l,c,u,d){var h=t.text.placedSymbolArray,f=t.text.dynamicLayoutVertexArray,p=t.icon.dynamicLayoutVertexArray,m={};f.clear();for(var v=0;v<h.length;v++){var g=h.get(v),y=g.hidden||!g.crossTileID||t.allowVerticalPlacement&&!g.placedOrientation?null:a[g.crossTileID];if(y){var x=new e.P(g.anchorX,g.anchorY),b=we(x,r?s:o,d),_=ke(i.cameraToCenterDistance,b.signedDistanceFromCamera),w=e.aj(t.textSizeData,c,g)*_/e.ap;r&&(w*=t.tilePixelRatio/l);for(var k=y.width,j=y.height,S=Jn(y.anchor,k,j,y.textOffset,y.textBoxScale,w),C=r?we(x.add(S),o,d).point:b.point.add(n?S.rotate(-i.angle):S),N=t.allowVerticalPlacement&&g.placedOrientation===e.ai.vertical?Math.PI/2:0,E=0;E<g.numGlyphs;E++)e.ak(f,C,N);u&&g.associatedIconIndex>=0&&(m[g.associatedIconIndex]={shiftedAnchor:C,angle:N})}else Le(g.numGlyphs,f)}if(u){p.clear();for(var T=t.icon.placedSymbolArray,I=0;I<T.length;I++){var A=T.get(I);if(A.hidden)Le(A.numGlyphs,p);else{var P=m[I];if(P)for(var M=0;M<A.numGlyphs;M++)e.ak(p,P.shiftedAnchor,P.angle);else Le(A.numGlyphs,p)}}t.icon.dynamicLayoutVertexBuffer.updateData(p)}t.text.dynamicLayoutVertexBuffer.updateData(f)}function Kn(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function $n(t,n,r,a,i,o,s,l,c,u,d,h){var p,m=t.context,v=m.gl,g=t.transform,y="map"===l,x="map"===c,b="viewport"!==l&&"point"!==r.layout.get("symbol-placement"),_=y&&!x&&!b,w=!r.layout.get("symbol-sort-key").isConstant(),k=!1,j=t.depthModeForSublayer(0,Un.ReadOnly),S=r._unevaluatedLayout.hasValue("text-variable-anchor")||r._unevaluatedLayout.hasValue("text-variable-anchor-offset"),C=[],N=f(a);try{var E=function(){var a=p.value,l=n.getTile(a),c=l.getBucket(r);if(!c)return 0;var d=i?c.text:c.icon;if(!d||!d.segments.get().length||!d.hasVisibleVertices)return 0;var h,m,j,N,E=d.programConfigurations.get(r.id),T=i||c.sdfIcons,I=i?c.textSizeData:c.iconSizeData,A=x||0!==g.pitch,P=t.useProgram(Kn(T,i,c),E),M=e.ah(I,g.zoom),D=t.style.map.terrain&&t.style.map.terrain.getTerrainData(a),L=[0,0],O=null;if(i)m=l.glyphAtlasTexture,j=v.LINEAR,h=l.glyphAtlasTexture.size,c.iconsInText&&(L=l.imageAtlasTexture.size,O=l.imageAtlasTexture,N=A||t.options.rotating||t.options.zooming||"composite"===I.kind||"camera"===I.kind?v.LINEAR:v.NEAREST);else{var z=1!==r.layout.get("icon-size").constantOr(0)||c.iconsNeedLinear;m=l.imageAtlasTexture,j=T||t.options.rotating||t.options.zooming||z||A?v.LINEAR:v.NEAREST,h=l.imageAtlasTexture.size}var R=Fe(l,1,t.transform.zoom),F=be(a.posMatrix,x,y,t.transform,R),B=_e(a.posMatrix,x,y,t.transform,R),Z=S&&c.hasTextData(),U="none"!==r.layout.get("icon-text-fit")&&Z&&c.hasIconData();if(b){var V=t.style.map.terrain?function(e,n){return t.style.map.terrain.getElevation(a,e,n)}:null,q="map"===r.layout.get("text-rotation-alignment");Se(c,a.posMatrix,t,i,F,B,x,u,q,V)}var H=t.translatePosMatrix(a.posMatrix,l,o,s),W=b||i&&S||U?Gn:F,Y=t.translatePosMatrix(B,l,o,s,!0),G=T&&0!==r.paint.get(i?"text-halo-width":"icon-halo-width").constantOr(1),J={program:P,buffers:d,uniformValues:T?c.iconsInText?Yt(I.kind,M,_,x,t,H,W,Y,h,L):Wt(I.kind,M,_,x,t,H,W,Y,i,h,!0):Ht(I.kind,M,_,x,t,H,W,Y,i,h),atlasTexture:m,atlasTextureIcon:O,atlasInterpolation:j,atlasInterpolationIcon:N,isSDF:T,hasHalo:G};if(w&&c.canOverlap){k=!0;var X,K=d.segments.get(),$=f(K);try{for($.s();!(X=$.n()).done;){var Q=X.value;C.push({segments:new e.S([Q]),sortKey:Q.sortKey,state:J,terrainData:D})}}catch(ee){$.e(ee)}finally{$.f()}}else C.push({segments:d.segments,sortKey:0,state:J,terrainData:D})};for(N.s();!(p=N.n()).done;)E()}catch(D){N.e(D)}finally{N.f()}k&&C.sort((function(e,t){return e.sortKey-t.sortKey}));for(var T=0,I=C;T<I.length;T++){var A=I[T],P=A.state;if(m.activeTexture.set(v.TEXTURE0),P.atlasTexture.bind(P.atlasInterpolation,v.CLAMP_TO_EDGE),P.atlasTextureIcon&&(m.activeTexture.set(v.TEXTURE1),P.atlasTextureIcon&&P.atlasTextureIcon.bind(P.atlasInterpolationIcon,v.CLAMP_TO_EDGE)),P.isSDF){var M=P.uniformValues;P.hasHalo&&(M.u_is_halo=1,Qn(P.buffers,A.segments,r,t,P.program,j,d,h,M,A.terrainData)),M.u_is_halo=0}Qn(P.buffers,A.segments,r,t,P.program,j,d,h,P.uniformValues,A.terrainData)}}function Qn(e,t,n,r,a,i,o,s,l,c){var u=r.context;a.draw(u,u.gl.TRIANGLES,i,o,s,Wn.disabled,l,c,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function er(e,t,n,r,a){if(n&&r&&r.imageAtlas){var i=r.imageAtlas.patternPositions,o=i[n.to.toString()],s=i[n.from.toString()];if(!o&&s&&(o=s),!s&&o&&(s=o),!o||!s){var l=a.getPaintProperty(t);o=i[l],s=i[l]}o&&s&&e.setConstantPatternPositions(o,s)}}function tr(e,t,n,r,a,i,o){var s,l,c,u,d,h=e.context.gl,p="fill-pattern",m=n.paint.get(p),v=m&&m.constantOr(1),g=n.getCrossfadeParameters();o?(l=v&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=h.LINES):(l=v?"fillPattern":"fill",s=h.TRIANGLES);var y,x=m.constantOr(null),b=f(r);try{for(b.s();!(y=b.n()).done;){var _=y.value,w=t.getTile(_);if(!v||w.patternsLoaded()){var k=w.getBucket(n);if(k){var j=k.programConfigurations.get(n.id),S=e.useProgram(l,j),C=e.style.map.terrain&&e.style.map.terrain.getTerrainData(_);v&&(e.context.activeTexture.set(h.TEXTURE0),w.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),j.updatePaintBuffers(g)),er(j,p,x,w,n);var N=C?_:null,E=e.translatePosMatrix(N?N.posMatrix:_.posMatrix,w,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(o){u=k.indexBuffer2,d=k.segments2;var T=[h.drawingBufferWidth,h.drawingBufferHeight];c="fillOutlinePattern"===l&&v?It(E,e,g,w,T):Tt(E,T)}else u=k.indexBuffer,d=k.segments,c=v?Et(E,e,g,w):Nt(E);S.draw(e.context,s,a,e.stencilModeForClipping(_),i,Wn.disabled,c,C,n.id,k.layoutVertexBuffer,u,d,n.paint,e.transform.zoom,j)}}}}catch(I){b.e(I)}finally{b.f()}}function nr(e,t,n,r,a,i,o){var s,l=e.context,c=l.gl,u="fill-extrusion-pattern",d=n.paint.get(u),h=d.constantOr(1),p=n.getCrossfadeParameters(),m=n.paint.get("fill-extrusion-opacity"),v=d.constantOr(null),g=f(r);try{for(g.s();!(s=g.n()).done;){var y=s.value,x=t.getTile(y),b=x.getBucket(n);if(b){var _=e.style.map.terrain&&e.style.map.terrain.getTerrainData(y),w=b.programConfigurations.get(n.id),k=e.useProgram(h?"fillExtrusionPattern":"fillExtrusion",w);h&&(e.context.activeTexture.set(c.TEXTURE0),x.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),w.updatePaintBuffers(p)),er(w,u,v,x,n);var j=e.translatePosMatrix(y.posMatrix,x,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),S=n.paint.get("fill-extrusion-vertical-gradient"),C=h?Ct(j,e,S,m,y,p,x):St(j,e,S,m);k.draw(l,l.gl.TRIANGLES,a,i,o,Wn.backCCW,C,_,n.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,n.paint,e.transform.zoom,w,e.style.map.terrain&&b.centroidVertexBuffer)}}}catch(N){g.e(N)}finally{g.f()}}function rr(e,t,n,r,a,i,o){var s=e.context,l=s.gl,c=n.fbo;if(c){var u=e.useProgram("hillshade"),d=e.style.map.terrain&&e.style.map.terrain.getTerrainData(t);s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,c.colorAttachment.get()),u.draw(s,l.TRIANGLES,a,i,o,Wn.disabled,function(e,t,n,r){var a=n.paint.get("hillshade-shadow-color"),i=n.paint.get("hillshade-highlight-color"),o=n.paint.get("hillshade-accent-color"),s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var l=!e.options.moving;return{u_matrix:r?r.posMatrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:Ot(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:a,u_highlight:i,u_accent:o}}(e,n,r,d?t:null),d,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function ar(t,n,r,a,i,o){var s=t.context,l=s.gl,c=n.dem;if(c&&c.data){var u=c.dim,d=c.stride,h=c.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(d),n.demTexture){var f=n.demTexture;f.update(h,{premultiply:!1}),f.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new P(s,h,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);var p=n.fbo;if(!p){var m=new P(s,{width:u,height:u,data:null},l.RGBA);m.bind(l.LINEAR,l.CLAMP_TO_EDGE),(p=n.fbo=s.createFramebuffer(u,u,!0,!1)).colorAttachment.set(m.texture)}s.bindFramebuffer.set(p.framebuffer),s.viewport.set([0,0,u,u]),t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,a,i,o,Wn.disabled,function(t,n){var r=n.stride,a=e.Z();return e.aS(a,0,e.N,-e.N,0,0,1),e.$(a,a,[0,-e.N,0]),{u_matrix:a,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,c),null,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function ir(t,n,r,a,i,o){var s=a.paint.get("raster-fade-duration");if(!o&&s>0){var l=e.h.now(),c=(l-t.timeAdded)/s,u=n?(l-n.timeAdded)/s:-1,d=r.getSource(),h=i.coveringZoomLevel({tileSize:d.tileSize,roundZoom:d.roundZoom}),f=!n||Math.abs(n.tileID.overscaledZ-h)>Math.abs(t.tileID.overscaledZ-h),p=f&&t.refreshedUponExpiration?1:e.ad(f?c:1-u,0,1);return t.refreshedUponExpiration&&c>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}var or=new e.aT(1,0,0,1),sr=new e.aT(0,1,0,1),lr=new e.aT(0,0,1,1),cr=new e.aT(1,0,1,1),ur=new e.aT(0,1,1,1);function dr(e,t,n,r){fr(e,0,t+n/2,e.transform.width,n,r)}function hr(e,t,n,r){fr(e,t-n/2,0,n,e.transform.height,r)}function fr(e,t,n,r,a,i){var o=e.context,s=o.gl;s.enable(s.SCISSOR_TEST),s.scissor(t*e.pixelRatio,n*e.pixelRatio,r*e.pixelRatio,a*e.pixelRatio),o.clear({color:i}),s.disable(s.SCISSOR_TEST)}function pr(t,n,r){var a=t.context,i=a.gl,o=r.posMatrix,s=t.useProgram("debug"),l=Un.disabled,c=qn.disabled,u=t.colorModeForRenderPass(),d="$debug",h=t.style.map.terrain&&t.style.map.terrain.getTerrainData(r);a.activeTexture.set(i.TEXTURE0);var f=n.getTileByID(r.key).latestRawTileData,p=Math.floor((f&&f.byteLength||0)/1024),m=n.getTile(r).tileSize,v=512/Math.min(m,512)*(r.overscaledZ/t.transform.zoom)*.5,g=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(g+=" => ".concat(r.overscaledZ)),function(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,a=e.debugOverlayCanvas.getContext("2d");a.clearRect(0,0,n.width,n.height),a.shadowColor="white",a.shadowBlur=2,a.lineWidth=1.5,a.strokeStyle="white",a.textBaseline="top",a.font="bold 36px Open Sans, sans-serif",a.fillText(t,5,5),a.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,"".concat(g," ").concat(p,"kB")),s.draw(a,i.TRIANGLES,l,c,Bn.alphaBlended,Wn.disabled,Mt(o,e.aT.transparent,v),null,d,t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments),s.draw(a,i.LINE_STRIP,l,c,u,Wn.disabled,Mt(o,e.aT.red),h,d,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments)}function mr(e,t,n){var r=e.context,a=r.gl,i=e.colorModeForRenderPass(),o=new Un(a.LEQUAL,Un.ReadWrite,e.depthRangeFor3D),s=e.useProgram("terrain"),l=t.getTerrainMesh();r.bindFramebuffer.set(null),r.viewport.set([0,0,e.width,e.height]);var c,u=f(n);try{for(u.s();!(c=u.n()).done;){var d=c.value,h=e.renderToTexture.getTexture(d),p=t.getTerrainData(d.tileID);r.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,h.texture);var m={u_matrix:e.transform.calculatePosMatrix(d.tileID.toUnwrapped()),u_texture:0,u_ele_delta:t.getMeshFrameDelta(e.transform.zoom)};s.draw(r,a.TRIANGLES,o,qn.disabled,i,Wn.backCCW,m,p,"terrain",l.vertexBuffer,l.indexBuffer,l.segments)}}catch(v){u.e(v)}finally{u.f()}}var vr=function(){function t(n,r){m(this,t),this.context=new Zn(n),this.transform=r,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:e.Z(),renderTime:0},this.setup(),this.numSublayers=ce.maxUnderzooming+ce.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new dt}return p(t,[{key:"resize",value:function(e,t,n){if(this.width=Math.floor(e*n),this.height=Math.floor(t*n),this.pixelRatio=n,this.context.viewport.set([0,0,this.width,this.height]),this.style){var r,a=f(this.style._order);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.style._layers[i].resize()}}catch(o){a.e(o)}finally{a.f()}}}},{key:"setup",value:function(){var t=this.context,n=new e.a_;n.emplaceBack(0,0),n.emplaceBack(e.N,0),n.emplaceBack(0,e.N),n.emplaceBack(e.N,e.N),this.tileExtentBuffer=t.createVertexBuffer(n,gt.members),this.tileExtentSegments=e.S.simpleSegment(0,0,4,2);var r=new e.a_;r.emplaceBack(0,0),r.emplaceBack(e.N,0),r.emplaceBack(0,e.N),r.emplaceBack(e.N,e.N),this.debugBuffer=t.createVertexBuffer(r,gt.members),this.debugSegments=e.S.simpleSegment(0,0,4,5);var a=new e.V;a.emplaceBack(0,0,0,0),a.emplaceBack(e.N,0,e.N,0),a.emplaceBack(0,e.N,0,e.N),a.emplaceBack(e.N,e.N,e.N,e.N),this.rasterBoundsBuffer=t.createVertexBuffer(a,K.members),this.rasterBoundsSegments=e.S.simpleSegment(0,0,4,2);var i=new e.a_;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,gt.members),this.viewportSegments=e.S.simpleSegment(0,0,4,2);var o=new e.a$;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(o);var s=new e.b0;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s);var l=this.context.gl;this.stencilClearMode=new qn({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)}},{key:"clearStencil",value:function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=e.Z();e.aS(r,0,this.width,this.height,0,0,1),e.a0(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,Un.disabled,this.stencilClearMode,Bn.disabled,Wn.disabled,Dt(r),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}},{key:"_renderTileClippingMasks",value:function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(Bn.disabled),n.setDepthMode(Un.disabled);var a=this.useProgram("clippingMask");this._tileClippingMaskIDs={};var i,o=f(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++,c=this.style.map.terrain&&this.style.map.terrain.getTerrainData(s);a.draw(n,r.TRIANGLES,Un.disabled,new qn({func:r.ALWAYS,mask:0},l,255,r.KEEP,r.KEEP,r.REPLACE),Bn.disabled,Wn.disabled,Dt(s.posMatrix),c,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}catch(u){o.e(u)}finally{o.f()}}}},{key:"stencilModeFor3D",value:function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new qn({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}},{key:"stencilModeForClipping",value:function(e){var t=this.context.gl;return new qn({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}},{key:"stencilConfigForOverlap",value:function(e){var t=this.context.gl,n=e.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),a=n[n.length-1].overscaledZ,i=n[0].overscaledZ-a+1;if(i>1){this.currentStencilSource=void 0,this.nextStencilID+i>256&&this.clearStencil();for(var o={},s=0;s<i;s++)o[s+a]=new qn({func:t.GEQUAL,mask:255},s+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=i,[o,n]}return[r({},a,qn.disabled),n]}},{key:"colorModeForRenderPass",value:function(){var t=this.context.gl;if(this._showOverdrawInspector){var n=1/8;return new Bn([t.CONSTANT_COLOR,t.ONE],new e.aT(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?Bn.unblended:Bn.alphaBlended}},{key:"depthModeForSublayer",value:function(e,t,n){if(!this.opaquePassEnabledForLayer())return Un.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new Un(n||this.context.gl.LEQUAL,t,[r,r])}},{key:"opaquePassEnabledForLayer",value:function(){return this.currentLayer<this.opaquePassCutoff}},{key:"render",value:function(t,n){this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.h.now()),this.imageManager.beginFrame();var r=this.style._order,a=this.style.sourceCaches,i={},o={},s={};for(var l in a){var c=a[l];c.used&&c.prepare(this.context),i[l]=c.getVisibleCoordinates(),o[l]=i[l].slice().reverse(),s[l]=c.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var u=0;u<r.length;u++)if(this.style._layers[r[u]].is3D()){this.opaquePassCutoff=u;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;var d=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!e.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||d.length)&&(e.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(t,n){var r=t.context,a=r.gl,i=Bn.unblended,o=new Un(a.LEQUAL,Un.ReadWrite,[0,1]),s=n.getTerrainMesh(),l=n.sourceCache.getRenderableTiles(),c=t.useProgram("terrainDepth");r.bindFramebuffer.set(n.getFramebuffer("depth").framebuffer),r.viewport.set([0,0,t.width/devicePixelRatio,t.height/devicePixelRatio]),r.clear({color:e.aT.transparent,depth:1});var u,d=f(l);try{for(d.s();!(u=d.n()).done;){var h=u.value,p=n.getTerrainData(h.tileID),m={u_matrix:t.transform.calculatePosMatrix(h.tileID.toUnwrapped()),u_ele_delta:n.getMeshFrameDelta(t.transform.zoom)};c.draw(r,a.TRIANGLES,o,qn.disabled,i,Wn.backCCW,m,p,"terrain",s.vertexBuffer,s.indexBuffer,s.segments)}}catch(v){d.e(v)}finally{d.f()}r.bindFramebuffer.set(null),r.viewport.set([0,0,t.width,t.height])}(this,this.style.map.terrain),function(t,n){var r=t.context,a=r.gl,i=Bn.unblended,o=new Un(a.LEQUAL,Un.ReadWrite,[0,1]),s=n.getTerrainMesh(),l=n.getCoordsTexture(),c=n.sourceCache.getRenderableTiles(),u=t.useProgram("terrainCoords");r.bindFramebuffer.set(n.getFramebuffer("coords").framebuffer),r.viewport.set([0,0,t.width/devicePixelRatio,t.height/devicePixelRatio]),r.clear({color:e.aT.transparent,depth:1}),n.coordsIndex=[];var d,h=f(c);try{for(h.s();!(d=h.n()).done;){var p=d.value,m=n.getTerrainData(p.tileID);r.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,l.texture);var v={u_matrix:t.transform.calculatePosMatrix(p.tileID.toUnwrapped()),u_terrain_coords_id:(255-n.coordsIndex.length)/255,u_texture:0,u_ele_delta:n.getMeshFrameDelta(t.transform.zoom)};u.draw(r,a.TRIANGLES,o,qn.disabled,i,Wn.backCCW,v,m,"terrain",s.vertexBuffer,s.indexBuffer,s.segments),n.coordsIndex.push(p.tileID.key)}}catch(g){h.e(g)}finally{h.f()}r.bindFramebuffer.set(null),r.viewport.set([0,0,t.width,t.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";var h,p=f(r);try{for(p.s();!(h=p.n()).done;){var m=h.value,v=this.style._layers[m];if(v.hasOffscreenPass()&&!v.isHidden(this.transform.zoom)){var g=o[v.source];("custom"===v.type||g.length)&&this.renderLayer(this,a[v.source],v,g)}}}catch(S){p.e(S)}finally{p.f()}if(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.aT.black:e.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){var y=this.style._layers[r[this.currentLayer]],x=a[y.source],b=i[y.source];this._renderTileClippingMasks(y,b),this.renderLayer(this,x,y,b)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){var _=this.style._layers[r[this.currentLayer]],w=a[_.source];if(!this.renderToTexture||!this.renderToTexture.renderLayer(_)){var k=("symbol"===_.type?s:o)[_.source];this._renderTileClippingMasks(_,i[_.source]),this.renderLayer(this,w,_,k)}}if(this.options.showTileBoundaries){var j=function(e,t){var n=null,r=Object.values(e._layers).flatMap((function(n){return n.source&&!n.isHidden(t)?[e.sourceCaches[n.source]]:[]})),a=r.filter((function(e){return"vector"===e.getSource().type})),i=r.filter((function(e){return"vector"!==e.getSource().type})),o=function(e){(!n||n.getSource().maxzoom<e.getSource().maxzoom)&&(n=e)};return a.forEach((function(e){return o(e)})),n||i.forEach((function(e){return o(e)})),n}(this.style,this.transform.zoom);j&&function(e,t,n){for(var r=0;r<n.length;r++)pr(e,t,n[r])}(this,j,j.getVisibleCoordinates())}this.options.showPadding&&function(e){var t=e.transform.padding;dr(e,e.transform.height-(t.top||0),3,or),dr(e,t.bottom||0,3,sr),hr(e,t.left||0,3,lr),hr(e,e.transform.width-(t.right||0),3,cr);var n=e.transform.centerPoint;!function(e,t,n,r){fr(e,t-1,n-10,2,20,r),fr(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,ur)}(this),this.context.setDefault()}},{key:"renderLayer",value:function(t,n,r,a){if(!r.isHidden(this.transform.zoom)&&("background"===r.type||"custom"===r.type||(a||[]).length))switch(this.id=r.id,r.type){case"symbol":!function(t,n,r,a,i){if("translucent"===t.renderPass){var o=qn.disabled,s=t.colorModeForRenderPass();(r._unevaluatedLayout.hasValue("text-variable-anchor")||r._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(t,n,r,a,i,o,s){var l,c=n.transform,u="map"===i,d="map"===o,h=f(t);try{var p=function(){var t=l.value,i=a.getTile(t),o=i.getBucket(r);if(!o||!o.text||!o.text.segments.get().length)return 1;var h=e.ah(o.textSizeData,c.zoom),f=Fe(i,1,n.transform.zoom),p=be(t.posMatrix,d,u,n.transform,f),m="none"!==r.layout.get("icon-text-fit")&&o.hasIconData();if(h){var v=Math.pow(2,c.zoom-i.tileID.overscaledZ);Xn(o,u,d,s,c,p,t.posMatrix,v,h,m,n.style.map.terrain?function(e,r){return n.style.map.terrain.getElevation(t,e,r)}:null)}};for(h.s();!(l=h.n()).done;)p()}catch(m){h.e(m)}finally{h.f()}}(a,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),i),0!==r.paint.get("icon-opacity").constantOr(1)&&$n(t,n,r,a,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),o,s),0!==r.paint.get("text-opacity").constantOr(1)&&$n(t,n,r,a,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),o,s),n.map.showCollisionBoxes&&(Yn(t,n,r,a,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Yn(t,n,r,a,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}}(t,n,r,a,this.style.placement.variableOffsets);break;case"circle":!function(t,n,r,a){if("translucent"===t.renderPass){var i=r.paint.get("circle-opacity"),o=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=!r.layout.get("circle-sort-key").isConstant();if(0!==i.constantOr(1)||0!==o.constantOr(1)&&0!==s.constantOr(1)){for(var c=t.context,u=c.gl,d=t.depthModeForSublayer(0,Un.ReadOnly),h=qn.disabled,p=t.colorModeForRenderPass(),m=[],v=0;v<a.length;v++){var g=a[v],y=n.getTile(g),x=y.getBucket(r);if(x){var b=x.programConfigurations.get(r.id),_=t.useProgram("circle",b),w=x.layoutVertexBuffer,k=x.indexBuffer,j=t.style.map.terrain&&t.style.map.terrain.getTerrainData(g),S={programConfiguration:b,program:_,layoutVertexBuffer:w,indexBuffer:k,uniformValues:At(t,g,y,r),terrainData:j};if(l){var C,N=x.segments.get(),E=f(N);try{for(E.s();!(C=E.n()).done;){var T=C.value;m.push({segments:new e.S([T]),sortKey:T.sortKey,state:S})}}catch(B){E.e(B)}finally{E.f()}}else m.push({segments:x.segments,sortKey:0,state:S})}}l&&m.sort((function(e,t){return e.sortKey-t.sortKey}));for(var I=0,A=m;I<A.length;I++){var P=A[I],M=P.state,D=M.programConfiguration,L=M.program,O=M.layoutVertexBuffer,z=M.indexBuffer,R=M.uniformValues,F=M.terrainData;L.draw(c,u.TRIANGLES,d,h,p,Wn.disabled,R,F,r.id,O,z,P.segments,r.paint,t.transform.zoom,D)}}}}(t,n,r,a);break;case"heatmap":!function(t,n,r,a){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var i=t.context,o=i.gl,s=qn.disabled,l=new Bn([o.ONE,o.ONE],e.aT.transparent,[!0,!0,!0,!0]);!function(e,t,n){var r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var a=n.heatmapFbo;if(a)r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),e.bindFramebuffer.set(a.framebuffer);else{var i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),a=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1,!1),function(e,t,n,r){var a,i,o=e.gl,s=null!==(a=e.HALF_FLOAT)&&void 0!==a?a:o.UNSIGNED_BYTE,l=null!==(i=e.RGBA16F)&&void 0!==i?i:o.RGBA;o.texImage2D(o.TEXTURE_2D,0,l,t.width/4,t.height/4,0,o.RGBA,s,null),r.colorAttachment.set(n)}(e,t,i,a)}}(i,t,r),i.clear({color:e.aT.transparent});for(var c=0;c<a.length;c++){var u=a[c];if(!n.hasRenderableParent(u)){var d=n.getTile(u),h=d.getBucket(r);if(h){var f=h.programConfigurations.get(r.id),p=t.useProgram("heatmap",f),m=t.transform.zoom;p.draw(i,o.TRIANGLES,Un.disabled,s,l,Wn.disabled,Lt(u.posMatrix,d,m,r.paint.get("heatmap-intensity")),null,r.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,r.paint,t.transform.zoom,f)}}}i.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,a=r.gl,i=n.heatmapFbo;if(i){r.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,i.colorAttachment.get()),r.activeTexture.set(a.TEXTURE1);var o=n.colorRampTexture;o||(o=n.colorRampTexture=new P(r,n.colorRamp,a.RGBA)),o.bind(a.LINEAR,a.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,a.TRIANGLES,Un.disabled,qn.disabled,t.colorModeForRenderPass(),Wn.disabled,function(t,n,r,a){var i=e.Z();e.aS(i,0,t.width,t.height,0,0,1);var o=t.context.gl;return{u_matrix:i,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(t,n),null,n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))}(t,n,r,a);break;case"line":!function(t,n,r,a){if("translucent"===t.renderPass){var i=r.paint.get("line-opacity"),o=r.paint.get("line-width");if(0!==i.constantOr(1)&&0!==o.constantOr(1)){var s,l=t.depthModeForSublayer(0,Un.ReadOnly),c=t.colorModeForRenderPass(),u=r.paint.get("line-dasharray"),d=r.paint.get("line-pattern"),h=d.constantOr(1),p=r.paint.get("line-gradient"),m=r.getCrossfadeParameters(),v=h?"linePattern":u?"lineSDF":p?"lineGradient":"line",g=t.context,y=g.gl,x=!0,b=f(a);try{for(b.s();!(s=b.n()).done;){var _=s.value,w=n.getTile(_);if(!h||w.patternsLoaded()){var k=w.getBucket(r);if(k){var j=k.programConfigurations.get(r.id),S=t.context.program.get(),C=t.useProgram(v,j),N=x||C.program!==S,E=t.style.map.terrain&&t.style.map.terrain.getTerrainData(_),T=d.constantOr(null);if(T&&w.imageAtlas){var I=w.imageAtlas,A=I.patternPositions[T.to.toString()],M=I.patternPositions[T.from.toString()];A&&M&&j.setConstantPatternPositions(A,M)}var D=E?_:null,L=h?Ft(t,w,r,m,D):u?Bt(t,w,r,u,m,D):p?Rt(t,w,r,k.lineClipsArray.length,D):zt(t,w,r,D);if(h)g.activeTexture.set(y.TEXTURE0),w.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),j.updatePaintBuffers(m);else if(u&&(N||t.lineAtlas.dirty))g.activeTexture.set(y.TEXTURE0),t.lineAtlas.bind(g);else if(p){var O=k.gradients[r.id],z=O.texture;if(r.gradientVersion!==O.version){var R=256;if(r.stepInterpolant){var F=n.getSource().maxzoom,B=_.canonical.z===F?Math.ceil(1<<t.transform.maxZoom-_.canonical.z):1;R=e.ad(e.aY(k.maxLineLength/e.N*1024*B),256,g.maxTextureSize)}O.gradient=e.aZ({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:R,image:O.gradient||void 0,clips:k.lineClipsArray}),O.texture?O.texture.update(O.gradient):O.texture=new P(g,O.gradient,y.RGBA),O.version=r.gradientVersion,z=O.texture}g.activeTexture.set(y.TEXTURE0),z.bind(r.stepInterpolant?y.NEAREST:y.LINEAR,y.CLAMP_TO_EDGE)}C.draw(g,y.TRIANGLES,l,t.stencilModeForClipping(_),c,Wn.disabled,L,E,r.id,k.layoutVertexBuffer,k.indexBuffer,k.segments,r.paint,t.transform.zoom,j,k.layoutVertexBuffer2),x=!1}}}}catch(Z){b.e(Z)}finally{b.f()}}}}(t,n,r,a);break;case"fill":!function(t,n,r,a){var i=r.paint.get("fill-color"),o=r.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=t.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===i.constantOr(e.aT.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){var u=t.depthModeForSublayer(1,"opaque"===t.renderPass?Un.ReadWrite:Un.ReadOnly);tr(t,n,r,a,u,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){var d=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Un.ReadOnly);tr(t,n,r,a,d,s,!0)}}}(t,n,r,a);break;case"fill-extrusion":!function(e,t,n,r){var a=n.paint.get("fill-extrusion-opacity");if(0!==a&&"translucent"===e.renderPass){var i=new Un(e.context.gl.LEQUAL,Un.ReadWrite,e.depthRangeFor3D);if(1!==a||n.paint.get("fill-extrusion-pattern").constantOr(1))nr(e,t,n,r,i,qn.disabled,Bn.disabled),nr(e,t,n,r,i,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var o=e.colorModeForRenderPass();nr(e,t,n,r,i,qn.disabled,o)}}}(t,n,r,a);break;case"hillshade":!function(e,t,n,r){if("offscreen"===e.renderPass||"translucent"===e.renderPass){var a,i=e.context,o=e.depthModeForSublayer(0,Un.ReadOnly),s=e.colorModeForRenderPass(),l="translucent"===e.renderPass?e.stencilConfigForOverlap(r):[{},r],c=h(l,2),u=c[0],d=c[1],p=f(d);try{for(p.s();!(a=p.n()).done;){var m=a.value,v=t.getTile(m);void 0!==v.needsHillshadePrepare&&v.needsHillshadePrepare&&"offscreen"===e.renderPass?ar(e,v,n,o,qn.disabled,s):"translucent"===e.renderPass&&rr(e,m,v,n,o,u[m.overscaledZ],s)}}catch(g){p.e(g)}finally{p.f()}i.viewport.set([0,0,e.width,e.height])}}(t,n,r,a);break;case"raster":!function(e,t,n,r){if("translucent"===e.renderPass&&0!==n.paint.get("raster-opacity")&&r.length){var a,i=e.context,o=i.gl,s=t.getSource(),l=e.useProgram("raster"),c=e.colorModeForRenderPass(),u=s instanceof $?[{},r]:e.stencilConfigForOverlap(r),d=h(u,2),p=d[0],m=d[1],v=m[m.length-1].overscaledZ,g=!e.options.moving,y=f(m);try{for(y.s();!(a=y.n()).done;){var x=a.value,b=e.depthModeForSublayer(x.overscaledZ-v,1===n.paint.get("raster-opacity")?Un.ReadWrite:Un.ReadOnly,o.LESS),_=t.getTile(x);_.registerFadeDuration(n.paint.get("raster-fade-duration"));var w=t.findLoadedParent(x,0),k=ir(_,w,t,n,e.transform,e.style.map.terrain),j=void 0,S=void 0,C="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),_.texture.bind(C,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),w?(w.texture.bind(C,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),j=Math.pow(2,w.tileID.overscaledZ-_.tileID.overscaledZ),S=[_.tileID.canonical.x*j%1,_.tileID.canonical.y*j%1]):_.texture.bind(C,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var N=e.style.map.terrain&&e.style.map.terrain.getTerrainData(x),E=N?x:null,T=E?E.posMatrix:e.transform.calculatePosMatrix(x.toUnwrapped(),g),I=Vt(T,S||[0,0],j||1,k,n);s instanceof $?l.draw(i,o.TRIANGLES,b,qn.disabled,c,Wn.disabled,I,N,n.id,s.boundsBuffer,e.quadTriangleIndexBuffer,s.boundsSegments):l.draw(i,o.TRIANGLES,b,p[x.overscaledZ],c,Wn.disabled,I,N,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}catch(A){y.e(A)}finally{y.f()}}}(t,n,r,a);break;case"background":!function(e,t,n,r){var a=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=e.context,s=o.gl,l=e.transform,c=l.tileSize,u=n.paint.get("background-pattern");if(!e.isPatternMissing(u)){var d=!u&&1===a.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===d){var h=qn.disabled,p=e.depthModeForSublayer(0,"opaque"===d?Un.ReadWrite:Un.ReadOnly),m=e.colorModeForRenderPass(),v=e.useProgram(u?"backgroundPattern":"background"),g=r||l.coveringTiles({tileSize:c,terrain:e.style.map.terrain});u&&(o.activeTexture.set(s.TEXTURE0),e.imageManager.bind(e.context));var y,x=n.getCrossfadeParameters(),b=f(g);try{for(b.s();!(y=b.n()).done;){var _=y.value,w=r?_.posMatrix:e.transform.calculatePosMatrix(_.toUnwrapped()),k=u?Jt(w,i,e,u,{tileID:_,tileSize:c},x):Gt(w,i,a),j=e.style.map.terrain&&e.style.map.terrain.getTerrainData(_);v.draw(o,s.TRIANGLES,p,h,m,Wn.disabled,k,j,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}catch(S){b.e(S)}finally{b.f()}}}}}(t,0,r,a);break;case"custom":!function(e,t,n){var r=e.context,a=n.implementation;if("offscreen"===e.renderPass){var i=a.prerender;i&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),i.call(a,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(qn.disabled);var o="3d"===a.renderingMode?new Un(e.context.gl.LEQUAL,Un.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,Un.ReadOnly);r.setDepthMode(o),a.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}(t,0,r)}}},{key:"translatePosMatrix",value:function(t,n,r,a,i){if(!r[0]&&!r[1])return t;var o=i?"map"===a?this.transform.angle:0:"viewport"===a?-this.transform.angle:0;if(o){var s=Math.sin(o),l=Math.cos(o);r=[r[0]*l-r[1]*s,r[0]*s+r[1]*l]}var c=[i?r[0]:Fe(n,r[0],this.transform.zoom),i?r[1]:Fe(n,r[1],this.transform.zoom),0],u=new Float32Array(16);return e.$(u,t,c),u}},{key:"saveTileTexture",value:function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}},{key:"getTileTexture",value:function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null}},{key:"isPatternMissing",value:function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n}},{key:"useProgram",value:function(e,t){this.cache=this.cache||{};var n=e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[n]||(this.cache[n]=new kt(this.context,xt[e],t,Xt[e],this._showOverdrawInspector,this.style.map.terrain)),this.cache[n]}},{key:"setCustomLayerDefaults",value:function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}},{key:"setBaseState",value:function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}},{key:"initDebugOverlayCanvas",value:function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new P(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}},{key:"destroy",value:function(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}},{key:"overLimit",value:function(){var e=this.context.gl,t=e.drawingBufferWidth,n=e.drawingBufferHeight;return this.width!==t||this.height!==n}}]),t}(),gr=function(){function t(e,n){m(this,t),this.points=e,this.planes=n}return p(t,null,[{key:"fromInvProjectionMatrix",value:function(n,r,a){var i=Math.pow(2,a),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(t){var a=1/(t=e.ag([],t,n))[3]/r*i;return e.b3(t,t,[a,a,1/t[3],a])})),s=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var t,n,r=function(e,t){var n=t[0],r=t[1],a=t[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}([],function(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],s=n[1],l=n[2];return e[0]=a*l-i*s,e[1]=i*o-r*l,e[2]=r*s-a*o,e}([],E([],o[e[0]],o[e[1]]),E([],o[e[2]],o[e[1]]))),a=-((t=r)[0]*(n=o[e[1]])[0]+t[1]*n[1]+t[2]*n[2]);return r.concat(a)}));return new t(o,s)}}]),t}(),yr=function(){function t(e,n){m(this,t),this.min=e,this.max=n,this.center=function(e,t,n){return e[0]=.5*t[0],e[1]=.5*t[1],e[2]=.5*t[2],e}([],function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}([],this.min,this.max))}return p(t,[{key:"quadrant",value:function(e){for(var n=[e%2==0,e<2],r=C(this.min),a=C(this.max),i=0;i<n.length;i++)r[i]=n[i]?this.min[i]:this.center[i],a[i]=n[i]?this.center[i]:this.max[i];return a[2]=this.max[2],new t(r,a)}},{key:"distanceX",value:function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}},{key:"distanceY",value:function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}},{key:"intersects",value:function(t){for(var n=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]],r=!0,a=0;a<t.planes.length;a++){for(var i=t.planes[a],o=0,s=0;s<n.length;s++)e.b4(i,n[s])>=0&&o++;if(0===o)return 0;o!==n.length&&(r=!1)}if(r)return 2;for(var l=0;l<3;l++){for(var c=Number.MAX_VALUE,u=-Number.MAX_VALUE,d=0;d<t.points.length;d++){var h=t.points[d][l]-this.min[l];c=Math.min(c,h),u=Math.max(u,h)}if(u<0||c>this.max[l]-this.min[l])return 0}return 1}}]),t}(),xr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(m(this,t),isNaN(e)||e<0||isNaN(n)||n<0||isNaN(r)||r<0||isNaN(a)||a<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=n,this.left=r,this.right=a}return p(t,[{key:"interpolate",value:function(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.B.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.B.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.B.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.B.number(t.right,n.right,r)),this}},{key:"getCenter",value:function(t,n){var r=e.ad((this.left+t-this.right)/2,0,t),a=e.ad((this.top+n-this.bottom)/2,0,n);return new e.P(r,a)}},{key:"equals",value:function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}},{key:"clone",value:function(){return new t(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),t}(),br=function(){function t(n,r,a,i,o){m(this,t),this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||!!o,this._minZoom=n||0,this._maxZoom=r||22,this._minPitch=null==a?0:a,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new xr,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}return p(t,[{key:"clone",value:function(){var e=new t(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.apply(this),e}},{key:"apply",value:function(e){this.tileSize=e.tileSize,this.latRange=e.latRange,this.width=e.width,this.height=e.height,this._center=e._center,this._elevation=e._elevation,this._minEleveationForCurrentTile=e._minEleveationForCurrentTile,this.zoom=e.zoom,this.angle=e.angle,this._fov=e._fov,this._pitch=e._pitch,this._unmodified=e._unmodified,this._edgeInsets=e._edgeInsets.clone(),this._calcMatrices()}},{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}},{key:"minPitch",get:function(){return this._minPitch},set:function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies},set:function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new e.P(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(t){var n=-e.b5(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=function(){var t=new e.A(4);return e.A!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}(),function(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=r*l+i*s,e[1]=a*l+o*s,e[2]=r*-s+i*l,e[3]=a*-s+o*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(t){var n=e.ad(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}},{key:"fov",get:function(){return this._fov/Math.PI*180},set:function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.tileZoom=Math.max(0,Math.floor(t)),this.scale=this.zoomScale(t),this._constrain(),this._calcMatrices())}},{key:"center",get:function(){return this._center},set:function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}},{key:"elevation",get:function(){return this._elevation},set:function(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}},{key:"padding",get:function(){return this._edgeInsets.toJSON()},set:function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}},{key:"centerPoint",get:function(){return this._edgeInsets.getCenter(this.width,this.height)}},{key:"isPaddingEqual",value:function(e){return this._edgeInsets.equals(e)}},{key:"interpolatePadding",value:function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}},{key:"coveringZoomLevel",value:function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}},{key:"getVisibleUnwrappedCoordinates",value:function(t){var n=[new e.b6(0,t)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new e.P(0,0)),a=this.pointCoordinate(new e.P(this.width,0)),i=this.pointCoordinate(new e.P(this.width,this.height)),o=this.pointCoordinate(new e.P(0,this.height)),s=Math.floor(Math.min(r.x,a.x,i.x,o.x)),l=Math.floor(Math.max(r.x,a.x,i.x,o.x)),c=1,u=s-c;u<=l+c;u++)0!==u&&n.push(new e.b6(u,t));return n}},{key:"coveringTiles",value:function(t){var n,r,a=this.coveringZoomLevel(t),i=a;if(void 0!==t.minzoom&&a<t.minzoom)return[];void 0!==t.maxzoom&&a>t.maxzoom&&(a=t.maxzoom);var o=this.pointCoordinate(this.getCameraPoint()),s=e.U.fromLngLat(this.center),l=Math.pow(2,a),c=[l*o.x,l*o.y,0],u=[l*s.x,l*s.y,0],d=gr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,a),h=t.minzoom||0;!t.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(h=a);var f=t.terrain?2/Math.min(this.tileSize,t.tileSize)*this.tileSize:3,p=function(e){return{aabb:new yr([e*l,0,0],[(e+1)*l,l,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},m=[],v=[],g=a,y=t.reparseOverscaled?i:a;if(this._renderWorldCopies)for(var x=1;x<=3;x++)m.push(p(-x)),m.push(p(x));for(m.push(p(0));m.length>0;){var b=m.pop(),_=b.x,w=b.y,k=b.fullyVisible;if(!k){var j=b.aabb.intersects(d);if(0===j)continue;k=2===j}var S=t.terrain?c:u,C=b.aabb.distanceX(S),N=b.aabb.distanceY(S),E=Math.max(Math.abs(C),Math.abs(N));if(b.zoom===g||E>f+(1<<g-b.zoom)-2&&b.zoom>=h){var I=g-b.zoom,A=c[0]-.5-(_<<I),P=c[1]-.5-(w<<I);v.push({tileID:new e.O(b.zoom===g?y:b.zoom,b.wrap,b.zoom,_,w),distanceSq:T([u[0]-.5-_,u[1]-.5-w]),tileDistanceToCamera:Math.sqrt(A*A+P*P)})}else for(var M=0;M<4;M++){var D=(_<<1)+M%2,L=(w<<1)+(M>>1),O=b.zoom+1,z=b.aabb.quadrant(M);if(t.terrain){var R=new e.O(O,b.wrap,O,D,L),F=t.terrain.getMinMaxElevation(R),B=null!==(n=F.minElevation)&&void 0!==n?n:this.elevation,Z=null!==(r=F.maxElevation)&&void 0!==r?r:this.elevation;z=new yr([z.min[0],z.min[1],B],[z.max[0],z.max[1],Z])}m.push({aabb:z,zoom:O,x:D,y:L,wrap:b.wrap,fullyVisible:k})}}return v.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}},{key:"unmodified",get:function(){return this._unmodified}},{key:"zoomScale",value:function(e){return Math.pow(2,e)}},{key:"scaleZoom",value:function(e){return Math.log(e)/Math.LN2}},{key:"project",value:function(t){var n=e.ad(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.P(e.G(t.lng)*this.worldSize,e.H(n)*this.worldSize)}},{key:"unproject",value:function(t){return new e.U(t.x/this.worldSize,t.y/this.worldSize).toLngLat()}},{key:"point",get:function(){return this.project(this.center)}},{key:"getCameraPosition",value:function(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}},{key:"recalculateZoom",value:function(t){var n=this.pointLocation(this.centerPoint,t),r=t.getElevationForLngLatZoom(n,this.tileZoom);if(this.elevation-r){var a=this.getCameraPosition(),i=e.U.fromLngLat(a.lngLat,a.altitude),o=e.U.fromLngLat(n,r),s=i.x-o.x,l=i.y-o.y,c=i.z-o.z,u=Math.sqrt(s*s+l*l+c*c),d=this.scaleZoom(this.cameraToCenterDistance/u/this.tileSize);this._elevation=r,this._center=n,this.zoom=d}}},{key:"setLocationAtPoint",value:function(t,n){var r=this.pointCoordinate(n),a=this.pointCoordinate(this.centerPoint),i=this.locationCoordinate(t),o=new e.U(i.x-(r.x-a.x),i.y-(r.y-a.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())}},{key:"locationPoint",value:function(e,t){return t?this.coordinatePoint(this.locationCoordinate(e),t.getElevationForLngLatZoom(e,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(e))}},{key:"pointLocation",value:function(e,t){return this.coordinateLocation(this.pointCoordinate(e,t))}},{key:"locationCoordinate",value:function(t){return e.U.fromLngLat(t)}},{key:"coordinateLocation",value:function(e){return e&&e.toLngLat()}},{key:"pointCoordinate",value:function(t,n){if(n){var r=n.pointCoordinate(t);if(null!=r)return r}var a=[t.x,t.y,0,1],i=[t.x,t.y,1,1];e.ag(a,a,this.pixelMatrixInverse),e.ag(i,i,this.pixelMatrixInverse);var o=a[3],s=i[3],l=a[1]/o,c=i[1]/s,u=a[2]/o,d=i[2]/s,h=u===d?0:(0-u)/(d-u);return new e.U(e.B.number(a[0]/o,i[0]/s,h)/this.worldSize,e.B.number(l,c,h)/this.worldSize)}},{key:"coordinatePoint",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pixelMatrix,a=[t.x*this.worldSize,t.y*this.worldSize,n,1];return e.ag(a,a,r),new e.P(a[0]/a[3],a[1]/a[3])}},{key:"getBounds",value:function(){var t=Math.max(0,this.height/2-this.getHorizon());return(new H).extend(this.pointLocation(new e.P(0,t))).extend(this.pointLocation(new e.P(this.width,t))).extend(this.pointLocation(new e.P(this.width,this.height))).extend(this.pointLocation(new e.P(0,this.height)))}},{key:"getMaxBounds",value:function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new H([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}},{key:"getHorizon",value:function(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}},{key:"setMaxBounds",value:function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}},{key:"calculatePosMatrix",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.key,a=n?this._alignedPosMatrixCache:this._posMatrixCache;if(a[r])return a[r];var i=t.canonical,o=this.worldSize/this.zoomScale(i.z),s=i.x+Math.pow(2,i.z)*t.wrap,l=e.ao(new Float64Array(16));return e.$(l,l,[s*o,i.y*o,0]),e.a0(l,l,[o/e.N,o/e.N,1]),e.a1(l,n?this.alignedProjMatrix:this.projMatrix,l),a[r]=new Float32Array(l),a[r]}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"_constrain",value:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,n,r,a,i=-90,o=90,s=-180,l=180,c=this.size,u=this._unmodified;if(this.latRange){var d=this.latRange;i=e.H(d[1])*this.worldSize,t=(o=e.H(d[0])*this.worldSize)-i<c.y?c.y/(o-i):0}if(this.lngRange){var h=this.lngRange;s=e.b5(e.G(h[0])*this.worldSize,0,this.worldSize),(l=e.b5(e.G(h[1])*this.worldSize,0,this.worldSize))<s&&(l+=this.worldSize),n=l-s<c.x?c.x/(l-s):0}var f=this.point,p=Math.max(n||0,t||0);if(p)return this.center=this.unproject(new e.P(n?(l+s)/2:f.x,t?(o+i)/2:f.y)),this.zoom+=this.scaleZoom(p),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var m=f.y,v=c.y/2;m-v<i&&(a=i+v),m+v>o&&(a=o-v)}if(this.lngRange){var g=(s+l)/2,y=e.b5(f.x,g-this.worldSize/2,g+this.worldSize/2),x=c.x/2;y-x<s&&(r=s+x),y+x>l&&(r=l-x)}void 0===r&&void 0===a||(this.center=this.unproject(new e.P(void 0!==r?r:f.x,void 0!==a?a:f.y)).wrap()),this._unmodified=u,this._constraining=!1}}},{key:"_calcMatrices",value:function(){if(this.height){var t=this.centerOffset,n=this.point.x,r=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=e.b7(1,this.center.lat)*this.worldSize;var a=e.ao(new Float64Array(16));e.a0(a,a,[this.width/2,-this.height/2,1]),e.$(a,a,[1,-1,0]),this.labelPlaneMatrix=a,a=e.ao(new Float64Array(16)),e.a0(a,a,[1,-1,1]),e.$(a,a,[-1,-1,0]),e.a0(a,a,[2/this.width,2/this.height,1]),this.glCoordMatrix=a;var i=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),o=Math.min(this.elevation,this._minEleveationForCurrentTile),s=i-o*this._pixelPerMeter/Math.cos(this._pitch),l=o<0?s:i,c=Math.PI/2+this._pitch,u=this._fov*(.5+t.y/this.height),d=Math.sin(u)*l/Math.sin(e.ad(Math.PI-c-u,.01,Math.PI-.01)),h=this.getHorizon(),f=2*Math.atan(h/this.cameraToCenterDistance)*(.5+t.y/(2*h)),p=Math.sin(f)*l/Math.sin(e.ad(Math.PI-c-f,.01,Math.PI-.01)),m=Math.min(d,p),v=1.01*(Math.cos(Math.PI/2-this._pitch)*m+l),g=this.height/50;a=new Float64Array(16),e.b8(a,this._fov,this.width/this.height,g,v),a[8]=2*-t.x/this.width,a[9]=2*t.y/this.height,e.a0(a,a,[1,-1,1]),e.$(a,a,[0,0,-this.cameraToCenterDistance]),e.b9(a,a,this._pitch),e.ae(a,a,this.angle),e.$(a,a,[-n,-r,0]),this.mercatorMatrix=e.a0([],a,[this.worldSize,this.worldSize,this.worldSize]),e.a0(a,a,[1,1,this._pixelPerMeter]),this.pixelMatrix=e.a1(new Float64Array(16),this.labelPlaneMatrix,a),e.$(a,a,[0,0,-this.elevation]),this.projMatrix=a,this.invProjMatrix=e.as([],a),this.pixelMatrix3D=e.a1(new Float64Array(16),this.labelPlaneMatrix,a);var y=this.width%2/2,x=this.height%2/2,b=Math.cos(this.angle),_=Math.sin(this.angle),w=n-Math.round(n)+b*y+_*x,k=r-Math.round(r)+b*x+_*y,j=new Float64Array(a);if(e.$(j,j,[w>.5?w-1:w,k>.5?k-1:k,0]),this.alignedProjMatrix=j,!(a=e.as(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=a,this._posMatrixCache={},this._alignedPosMatrixCache={}}}},{key:"maxPitchScaleFactor",value:function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.P(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.ag(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance}},{key:"getCameraPoint",value:function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.P(0,t))}},{key:"getCameraQueryGeometry",value:function(t){var n=this.getCameraPoint();if(1===t.length)return[t[0],n];var r,a=n.x,i=n.y,o=n.x,s=n.y,l=f(t);try{for(l.s();!(r=l.n()).done;){var c=r.value;a=Math.min(a,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),s=Math.max(s,c.y)}}catch(u){l.e(u)}finally{l.f()}return[new e.P(a,i),new e.P(o,i),new e.P(o,s),new e.P(a,s),new e.P(a,i)]}}]),t}();function _r(e,t){var n,r=this,a=!1,i=null,o=null,s=function r(){i=null,a&&(e.apply(o,n),i=setTimeout(r,t),a=!1)};return function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return a=!0,o=r,n=t,i||s(),i}}var wr=function(){function e(t){var n=this;m(this,e),this._getCurrentHash=function(){var e,t=window.location.hash.replace("#","");return n._hashName?(t.split("&").map((function(e){return e.split("=")})).forEach((function(t){t[0]===n._hashName&&(e=t)})),(e&&e[1]||"").split("/")):t.split("/")},this._onHashChange=function(){var e=n._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=n._map.dragRotate.isEnabled()&&n._map.touchZoomRotate.isEnabled()?+(e[3]||0):n._map.getBearing();return n._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},this._updateHashUnthrottled=function(){var e=window.location.href.replace(/(#.+)?$/,n.getHashString());try{window.history.replaceState(window.history.state,null,e)}catch(e){}},this._updateHash=_r(this._updateHashUnthrottled,300),this._hashName=t&&encodeURIComponent(t)}return p(e,[{key:"addTo",value:function(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}},{key:"remove",value:function(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}},{key:"getHashString",value:function(e){var t=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,r),i=Math.round(t.lng*a)/a,o=Math.round(t.lat*a)/a,s=this._map.getBearing(),l=this._map.getPitch(),c="";if(c+=e?"/".concat(i,"/").concat(o,"/").concat(n):"".concat(n,"/").concat(o,"/").concat(i),(s||l)&&(c+="/"+Math.round(10*s)/10),l&&(c+="/".concat(Math.round(l))),this._hashName){var u=this._hashName,d=!1,h=window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===u?(d=!0,"".concat(t,"=").concat(c)):e})).filter((function(e){return e}));return d||h.push("".concat(u,"=").concat(c)),"#".concat(h.join("&"))}return"#".concat(c)}}]),e}(),kr={linearity:.3,easing:e.ba(0,0,.3,1)},jr=e.e({deceleration:2500,maxSpeed:1400},kr),Sr=e.e({deceleration:20,maxSpeed:1400},kr),Cr=e.e({deceleration:1e3,maxSpeed:360},kr),Nr=e.e({deceleration:1e3,maxSpeed:90},kr),Er=function(){function t(e){m(this,t),this._map=e,this.clear()}return p(t,[{key:"clear",value:function(){this._inertiaBuffer=[]}},{key:"record",value:function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.h.now(),settings:t})}},{key:"_drainInertiaBuffer",value:function(){for(var t=this._inertiaBuffer,n=e.h.now();t.length>0&&n-t[0].time>160;)t.shift()}},{key:"_onMoveEnd",value:function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){var n,r={zoom:0,bearing:0,pitch:0,pan:new e.P(0,0),pinchAround:void 0,around:void 0},a=f(this._inertiaBuffer);try{for(a.s();!(n=a.n()).done;){var i=n.value.settings;r.zoom+=i.zoomDelta||0,r.bearing+=i.bearingDelta||0,r.pitch+=i.pitchDelta||0,i.panDelta&&r.pan._add(i.panDelta),i.around&&(r.around=i.around),i.pinchAround&&(r.pinchAround=i.pinchAround)}}catch(p){a.e(p)}finally{a.f()}var o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(r.pan.mag()){var l=Ir(r.pan.mag(),o,e.e({},jr,t||{}));s.offset=r.pan.mult(l.amount/r.pan.mag()),s.center=this._map.transform.center,Tr(s,l)}if(r.zoom){var c=Ir(r.zoom,o,Sr);s.zoom=this._map.transform.zoom+c.amount,Tr(s,c)}if(r.bearing){var u=Ir(r.bearing,o,Cr);s.bearing=this._map.transform.bearing+e.ad(u.amount,-179,179),Tr(s,u)}if(r.pitch){var d=Ir(r.pitch,o,Nr);s.pitch=this._map.transform.pitch+d.amount,Tr(s,d)}if(s.zoom||s.bearing){var h=void 0===r.pinchAround?r.around:r.pinchAround;s.around=h?this._map.unproject(h):this._map.getCenter()}return this.clear(),e.e(s,{noMoveStart:!0})}}}]),t}();function Tr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Ir(t,n,r){var a=r.maxSpeed,i=r.linearity,o=r.deceleration,s=e.ad(t*i/(n/1e3),-a,a),l=Math.abs(s)/(o*i);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}var Ar=function(t){v(a,t);var r=g(a);function a(t,i,o){var s,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};m(this,a);var c=n.mousePos(i.getCanvasContainer(),o),u=i.unproject(c);return(s=r.call(this,t,e.e({point:c,lngLat:u,originalEvent:o},l)))._defaultPrevented=!1,s.target=i,s}return p(a,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),a}(e.k),Pr=function(t){v(a,t);var r=g(a);function a(t,i,o){var s;m(this,a);var l="touchend"===t?o.changedTouches:o.touches,c=n.touchPos(i.getCanvasContainer(),l),u=c.map((function(e){return i.unproject(e)})),d=c.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new e.P(0,0));return(s=r.call(this,t,{points:c,point:d,lngLats:u,lngLat:i.unproject(d),originalEvent:o}))._defaultPrevented=!1,s}return p(a,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),a}(e.k),Mr=function(e){v(n,e);var t=g(n);function n(e,r,a){var i;return m(this,n),(i=t.call(this,e,{originalEvent:a}))._defaultPrevented=!1,i}return p(n,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),n}(e.k),Dr=function(){function e(t,n){m(this,e),this._map=t,this._clickTolerance=n.clickTolerance}return p(e,[{key:"reset",value:function(){delete this._mousedownPos}},{key:"wheel",value:function(e){return this._firePreventable(new Mr(e.type,this._map,e))}},{key:"mousedown",value:function(e,t){return this._mousedownPos=t,this._firePreventable(new Ar(e.type,this._map,e))}},{key:"mouseup",value:function(e){this._map.fire(new Ar(e.type,this._map,e))}},{key:"click",value:function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new Ar(e.type,this._map,e))}},{key:"dblclick",value:function(e){return this._firePreventable(new Ar(e.type,this._map,e))}},{key:"mouseover",value:function(e){this._map.fire(new Ar(e.type,this._map,e))}},{key:"mouseout",value:function(e){this._map.fire(new Ar(e.type,this._map,e))}},{key:"touchstart",value:function(e){return this._firePreventable(new Pr(e.type,this._map,e))}},{key:"touchmove",value:function(e){this._map.fire(new Pr(e.type,this._map,e))}},{key:"touchend",value:function(e){this._map.fire(new Pr(e.type,this._map,e))}},{key:"touchcancel",value:function(e){this._map.fire(new Pr(e.type,this._map,e))}},{key:"_firePreventable",value:function(e){if(this._map.fire(e),e.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),e}(),Lr=function(){function e(t){m(this,e),this._map=t}return p(e,[{key:"reset",value:function(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}},{key:"mousemove",value:function(e){this._map.fire(new Ar(e.type,this._map,e))}},{key:"mousedown",value:function(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}},{key:"mouseup",value:function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ar("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}},{key:"contextmenu",value:function(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new Ar(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),e}(),Or=function(){function t(e){m(this,t),this._map=e}return p(t,[{key:"transform",get:function(){return this._map._requestedCameraState||this._map.transform}},{key:"center",get:function(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}},{key:"zoom",get:function(){return this.transform.zoom}},{key:"pitch",get:function(){return this.transform.pitch}},{key:"bearing",get:function(){return this.transform.bearing}},{key:"unproject",value:function(t){return this.transform.pointLocation(e.P.convert(t),this._map.terrain)}}]),t}(),zr=function(){function t(e,n){m(this,t),this._map=e,this._tr=new Or(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1}return p(t,[{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active}},{key:"enable",value:function(){this.isEnabled()||(this._enabled=!0)}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1)}},{key:"mousedown",value:function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(n.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}},{key:"mousemoveWindow",value:function(e,t){if(this._active){var r=t;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var a=this._startPos;this._lastPos=r,this._box||(this._box=n.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",e));var i=Math.min(a.x,r.x),o=Math.max(a.x,r.x),s=Math.min(a.y,r.y),l=Math.max(a.y,r.y);n.setTransform(this._box,"translate(".concat(i,"px,").concat(s,"px)")),this._box.style.width=o-i+"px",this._box.style.height=l-s+"px"}}}},{key:"mouseupWindow",value:function(t,r){var a=this;if(this._active&&0===t.button){var i=this._startPos,o=r;if(this.reset(),n.suppressClick(),i.x!==o.x||i.y!==o.y)return this._map.fire(new e.k("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(i,o,a._tr.bearing,{linear:!0})}};this._fireEvent("boxzoomcancel",t)}}},{key:"keydown",value:function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}},{key:"reset",value:function(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos}},{key:"_fireEvent",value:function(t,n){return this._map.fire(new e.k(t,{originalEvent:n}))}}]),t}();function Rr(e,t){if(e.length!==t.length)throw new Error("The number of touches and points are not equal - touches ".concat(e.length,", points ").concat(t.length));for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}var Fr=function(){function t(e){m(this,t),this.reset(),this.numTouches=e.numTouches}return p(t,[{key:"reset",value:function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}},{key:"touchstart",value:function(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){var n,r=new e.P(0,0),a=f(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;r._add(i)}}catch(o){a.e(o)}finally{a.f()}return r.div(t.length)}(n),this.touches=Rr(r,n)))}},{key:"touchmove",value:function(e,t,n){if(!this.aborted&&this.centroid){var r=Rr(n,t);for(var a in this.touches){var i=r[a];(!i||i.dist(this.touches[a])>30)&&(this.aborted=!0)}}}},{key:"touchend",value:function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}}}]),t}(),Br=function(){function e(t){m(this,e),this.singleTap=new Fr(t),this.numTaps=t.numTaps,this.reset()}return p(e,[{key:"reset",value:function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(e,t,n){this.singleTap.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this.singleTap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var a=e.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(r)<30;if(a&&i||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}]),e}(),Zr=function(){function e(t){m(this,e),this._tr=new Or(t),this._zoomIn=new Br({numTouches:1,numTaps:2}),this._zoomOut=new Br({numTouches:2,numTaps:1}),this.reset()}return p(e,[{key:"reset",value:function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}},{key:"touchstart",value:function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this,a=this._zoomIn.touchend(e,t,n),i=this._zoomOut.touchend(e,t,n),o=this._tr;return a?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:o.zoom+1,around:o.unproject(a)},{originalEvent:e})}}):i?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:o.zoom-1,around:o.unproject(i)},{originalEvent:e})}}):void 0}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Ur=function(){function e(t){m(this,e),this._enabled=!!t.enable,this._moveStateManager=t.moveStateManager,this._clickTolerance=t.clickTolerance||1,this._moveFunction=t.move,this._activateOnStart=!!t.activateOnStart,t.assignEvents(this),this.reset()}return p(e,[{key:"reset",value:function(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e)}},{key:"_move",value:function(){var e=this._moveFunction.apply(this,arguments);if(e.bearingDelta||e.pitchDelta||e.around||e.panDelta)return this._active=!0,e}},{key:"dragStart",value:function(e,t){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=t.length?t[0]:t,this._activateOnStart&&this._lastPoint&&(this._active=!0))}},{key:"dragMove",value:function(e,t){if(this.isEnabled()){var n=this._lastPoint;if(n){if(e.preventDefault(),this._moveStateManager.isValidMoveEvent(e)){var r=t.length?t[0]:t;return!this._moved&&r.dist(n)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=r,this._move(n,r))}this.reset(e)}}}},{key:"dragEnd",value:function(e){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e)&&(this._moved&&n.suppressClick(),this.reset(e))}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}},{key:"getClickTolerance",value:function(){return this._clickTolerance}}]),e}(),Vr={0:1,2:2},qr=function(){function e(t){m(this,e),this._correctEvent=t.checkCorrectEvent}return p(e,[{key:"startMove",value:function(e){var t=n.mouseButton(e);this._eventButton=t}},{key:"endMove",value:function(e){delete this._eventButton}},{key:"isValidStartEvent",value:function(e){return this._correctEvent(e)}},{key:"isValidMoveEvent",value:function(e){return!function(e,t){var n=Vr[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton)}},{key:"isValidEndEvent",value:function(e){return n.mouseButton(e)===this._eventButton}}]),e}(),Hr=function(){function e(){m(this,e),this._firstTouch=void 0}return p(e,[{key:"_isOneFingerTouch",value:function(e){return 1===e.targetTouches.length}},{key:"_isSameTouchEvent",value:function(e){return e.targetTouches[0].identifier===this._firstTouch}},{key:"startMove",value:function(e){this._firstTouch=e.targetTouches[0].identifier}},{key:"endMove",value:function(e){delete this._firstTouch}},{key:"isValidStartEvent",value:function(e){return this._isOneFingerTouch(e)}},{key:"isValidMoveEvent",value:function(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}},{key:"isValidEndEvent",value:function(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}}]),e}(),Wr=function(e){e.mousedown=e.dragStart,e.mousemoveWindow=e.dragMove,e.mouseup=e.dragEnd,e.contextmenu=function(e){e.preventDefault()}},Yr=function(e){var t=e.enable,r=e.clickTolerance,a=e.bearingDegreesPerPixelMoved,i=void 0===a?.8:a,o=new qr({checkCorrectEvent:function(e){return 0===n.mouseButton(e)&&e.ctrlKey||2===n.mouseButton(e)}});return new Ur({clickTolerance:r,move:function(e,t){return{bearingDelta:(t.x-e.x)*i}},moveStateManager:o,enable:t,assignEvents:Wr})},Gr=function(e){var t=e.enable,r=e.clickTolerance,a=e.pitchDegreesPerPixelMoved,i=void 0===a?-.5:a,o=new qr({checkCorrectEvent:function(e){return 0===n.mouseButton(e)&&e.ctrlKey||2===n.mouseButton(e)}});return new Ur({clickTolerance:r,move:function(e,t){return{pitchDelta:(t.y-e.y)*i}},moveStateManager:o,enable:t,assignEvents:Wr})},Jr=function(){function t(e,n){m(this,t),this._minTouches=e.cooperativeGestures?2:1,this._clickTolerance=e.clickTolerance||1,this._map=n,this.reset()}return p(t,[{key:"reset",value:function(){var t=this;this._active=!1,this._touches={},this._sum=new e.P(0,0),setTimeout((function(){t._cancelCooperativeMessage=!1}),200)}},{key:"touchstart",value:function(e,t,n){return this._calculateTransform(e,t,n)}},{key:"touchmove",value:function(e,t,n){if(this._map._cooperativeGestures&&(2===this._minTouches&&n.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(e,!1,n.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)}},{key:"touchend",value:function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"_calculateTransform",value:function(t,n,r){r.length>0&&(this._active=!0);var a=Rr(r,n),i=new e.P(0,0),o=new e.P(0,0),s=0;for(var l in a){var c=a[l],u=this._touches[l];u&&(i._add(c),o._add(c.sub(u)),s++,a[l]=c)}if(this._touches=a,!(s<this._minTouches)&&o.mag()){var d=o.div(s);return this._sum._add(d),this._sum.mag()<this._clickTolerance?void 0:{around:i.div(s),panDelta:d}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),t}(),Xr=function(){function e(){m(this,e),this.reset()}return p(e,[{key:"reset",value:function(){this._active=!1,delete this._firstTwoTouches}},{key:"touchstart",value:function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}},{key:"touchmove",value:function(e,t,n){if(this._firstTwoTouches){e.preventDefault();var r=h(this._firstTwoTouches,2),a=r[0],i=r[1],o=Kr(n,t,a),s=Kr(n,t,i);if(o&&s){var l=this._aroundCenter?null:o.add(s).div(2);return this._move([o,s],l,e)}}}},{key:"touchend",value:function(e,t,r){if(this._firstTwoTouches){var a=h(this._firstTwoTouches,2),i=a[0],o=a[1],s=Kr(r,t,i),l=Kr(r,t,o);s&&l||(this._active&&n.suppressClick(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}();function Kr(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function $r(e,t){return Math.log(e/t)/Math.LN2}var Qr=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"reset",value:function(){i(o(n.prototype),"reset",this).call(this),delete this._distance,delete this._startDistance}},{key:"_start",value:function(e){this._startDistance=this._distance=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs($r(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:$r(this._distance,n),pinchAround:t}}}]),n}(Xr);function ea(e,t){return 180*e.angleWith(t)/Math.PI}var ta=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n,[{key:"reset",value:function(){i(o(n.prototype),"reset",this).call(this),delete this._minDiameter,delete this._startVector,delete this._vector}},{key:"_start",value:function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ea(this._vector,n),pinchAround:t}}},{key:"_isBelowThreshold",value:function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,n=ea(e,this._startVector);return Math.abs(n)<t}}]),n}(Xr);function na(e){return Math.abs(e.y)>Math.abs(e.x)}var ra=function(e){v(n,e);var t=g(n);function n(e){var r;return m(this,n),(r=t.call(this))._map=e,r}return p(n,[{key:"reset",value:function(){i(o(n.prototype),"reset",this).call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints}},{key:"touchstart",value:function(e,t,r){i(o(n.prototype),"touchstart",this).call(this,e,t,r),this._currentTouchCount=r.length}},{key:"_start",value:function(e){this._lastPoints=e,na(e[0].sub(e[1]))&&(this._valid=!1)}},{key:"_move",value:function(e,t,n){if(!(this._map._cooperativeGestures&&this._currentTouchCount<3)){var r=e[0].sub(this._lastPoints[0]),a=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(r,a,n.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+a.y)/2*-.5}):void 0}}},{key:"gestureBeginsVertically",value:function(e,t,n){if(void 0!==this._valid)return this._valid;var r=e.mag()>=2,a=t.mag()>=2;if(r||a){if(!r||!a)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var i=e.y>0==t.y>0;return na(e)&&na(t)&&i}}}]),n}(Xr),aa={panStep:100,bearingStep:15,pitchStep:10},ia=function(){function e(t){m(this,e),this._tr=new Or(t);var n=aa;this._panStep=n.panStep,this._bearingStep=n.bearingStep,this._pitchStep=n.pitchStep,this._rotationDisabled=!1}return p(e,[{key:"reset",value:function(){this._active=!1}},{key:"keydown",value:function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,a=0,i=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?a=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?a=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(r=0,a=0),{cameraAnimation:function(s){var l=t._tr;s.easeTo({duration:300,easeId:"keyboardHandler",easing:oa,zoom:n?Math.round(l.zoom)+n*(e.shiftKey?2:1):l.zoom,bearing:l.bearing+r*t._bearingStep,pitch:l.pitch+a*t._pitchStep,offset:[-i*t._panStep,-o*t._panStep],center:l.center},{originalEvent:e})}}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}},{key:"disableRotation",value:function(){this._rotationDisabled=!0}},{key:"enableRotation",value:function(){this._rotationDisabled=!1}}]),e}();function oa(e){return e*(2-e)}var sa=4.000244140625,la=function(){function t(e,n){var r=this;m(this,t),this._onTimeout=function(e){r._type="wheel",r._delta-=r._lastValue,r._active||r._start(e)},this._map=e,this._tr=new Or(e),this._el=e.getCanvasContainer(),this._triggerRenderFrame=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}return p(t,[{key:"setZoomRate",value:function(e){this._defaultZoomRate=e}},{key:"setWheelZoomRate",value:function(e){this._wheelZoomRate=e}},{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active||void 0!==this._finishTimeout}},{key:"isZooming",value:function(){return!!this._zooming}},{key:"enable",value:function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1)}},{key:"wheel",value:function(t){if(this.isEnabled()){if(this._map._cooperativeGestures){if(!t[this._map._metaKey])return;t.preventDefault()}var n=t.deltaMode===WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.h.now(),a=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%sa==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":a>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(a*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}}},{key:"_start",value:function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,t),a=this._tr;this._around=e.L.convert(this._aroundCenter?a.center:a.unproject(r)),this._aroundPoint=a.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}}},{key:"renderFrame",value:function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._tr.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>sa?this._wheelZoomRate:this._defaultZoomRate,a=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==a&&(a=1/a);var i="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(i*a))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,l=this._startZoom,c=this._easing,u=!1;if("wheel"===this._type&&l&&c){var d=Math.min((e.h.now()-this._lastWheelEventTime)/200,1),h=c(d);o=e.B.number(l,s,h),d<1?this._frameId||(this._frameId=!0):u=!0}else o=s,u=!0;return this._active=!0,u&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!u,zoomDelta:o-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}}},{key:"_smoothOutEasing",value:function(t){var n=e.bb;if(this._prevEase){var r=this._prevEase,a=(e.h.now()-r.start)/r.duration,i=r.easing(a+.01)-r.easing(a),o=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-o*o);n=e.ba(o,s,.25,1)}return this._prevEase={start:e.h.now(),duration:t,easing:n},n}},{key:"reset",value:function(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}]),t}(),ca=function(){function e(t,n){m(this,e),this._clickZoom=t,this._tapZoom=n}return p(e,[{key:"enable",value:function(){this._clickZoom.enable(),this._tapZoom.enable()}},{key:"disable",value:function(){this._clickZoom.disable(),this._tapZoom.disable()}},{key:"isEnabled",value:function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}},{key:"isActive",value:function(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}]),e}(),ua=function(){function e(t){m(this,e),this._tr=new Or(t),this.reset()}return p(e,[{key:"reset",value:function(){this._active=!1}},{key:"dblclick",value:function(e,t){var n=this;return e.preventDefault(),{cameraAnimation:function(r){r.easeTo({duration:300,zoom:n._tr.zoom+(e.shiftKey?-1:1),around:n._tr.unproject(t)},{originalEvent:e})}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),da=function(){function e(){m(this,e),this._tap=new Br({numTouches:1,numTaps:1}),this.reset()}return p(e,[{key:"reset",value:function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}},{key:"touchstart",value:function(e,t,n){if(!this._swipePoint)if(this._tapTime){var r=t[0],a=e.timeStamp-this._tapTime<500,i=this._tapPoint.dist(r)<30;a&&i?n.length>0&&(this._swipePoint=r,this._swipeTouch=n[0].identifier):this.reset()}else this._tap.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],a=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:a/128}}}else this._tap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){if(this._tapTime)this._swipePoint&&0===n.length&&this.reset();else{var r=this._tap.touchend(e,t,n);r&&(this._tapTime=e.timeStamp,this._tapPoint=r)}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),ha=function(){function e(t,n,r){m(this,e),this._el=t,this._mousePan=n,this._touchPan=r}return p(e,[{key:"enable",value:function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}},{key:"disable",value:function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}},{key:"isEnabled",value:function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}},{key:"isActive",value:function(){return this._mousePan.isActive()||this._touchPan.isActive()}}]),e}(),fa=function(){function e(t,n,r){m(this,e),this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=n,this._mousePitch=r}return p(e,[{key:"enable",value:function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}},{key:"disable",value:function(){this._mouseRotate.disable(),this._mousePitch.disable()}},{key:"isEnabled",value:function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}},{key:"isActive",value:function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}]),e}(),pa=function(){function e(t,n,r,a){m(this,e),this._el=t,this._touchZoom=n,this._touchRotate=r,this._tapDragZoom=a,this._rotationDisabled=!1,this._enabled=!0}return p(e,[{key:"enable",value:function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}},{key:"disable",value:function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this._rotationDisabled=!0,this._touchRotate.disable()}},{key:"enableRotation",value:function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}]),e}(),ma=function(e){return e.zoom||e.drag||e.pitch||e.rotate},va=function(e){v(n,e);var t=g(n);function n(){return m(this,n),t.apply(this,arguments)}return p(n)}(e.k);function ga(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var ya,xa=function(){function t(e,r){var a=this;m(this,t),this.handleWindowEvent=function(e){a.handleEvent(e,"".concat(e.type,"Window"))},this.handleEvent=function(e,t){if("blur"!==e.type){a._updatingCamera=!0;var r,i="renderFrame"===e.type?void 0:e,o={needsRenderFrame:!1},s={},l={},c=e.touches,u=c?a._getMapTouches(c):void 0,d=u?n.touchPos(a._el,u):n.mousePos(a._el,e),h=f(a._handlers);try{for(h.s();!(r=h.n()).done;){var p=r.value,m=p.handlerName,v=p.handler,g=p.allowed;if(v.isEnabled()){var y=void 0;a._blockedByActive(l,g,m)?v.reset():v[t||e.type]&&(y=v[t||e.type](e,d,u),a.mergeHandlerResult(o,s,y,m,i),y&&y.needsRenderFrame&&a._triggerRenderFrame()),(y||v.isActive())&&(l[m]=v)}}}catch(w){h.e(w)}finally{h.f()}var x={};for(var b in a._previousActiveHandlers)l[b]||(x[b]=i);a._previousActiveHandlers=l,(Object.keys(x).length||ga(o))&&(a._changes.push([o,s,x]),a._triggerRenderFrame()),(Object.keys(l).length||ga(o))&&a._map._stop(!0),a._updatingCamera=!1;var _=o.cameraAnimation;_&&(a._inertia.clear(),a._fireEvents({},{},!0),a._changes=[],_(a._map))}else a.stop(!0)},this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Er(e),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[window,"blur",void 0]];var o,s=f(this._listeners);try{for(s.s();!(o=s.n()).done;){var l=h(o.value,3),c=l[0],u=l[1],d=l[2];n.addEventListener(c,u,c===document?this.handleWindowEvent:this.handleEvent,d)}}catch(p){s.e(p)}finally{s.f()}}return p(t,[{key:"destroy",value:function(){var e,t=f(this._listeners);try{for(t.s();!(e=t.n()).done;){var r=h(e.value,3),a=r[0],i=r[1],o=r[2];n.removeEventListener(a,i,a===document?this.handleWindowEvent:this.handleEvent,o)}}catch(s){t.e(s)}finally{t.f()}}},{key:"_addDefaultHandlers",value:function(e){var t=this,r=this._map,a=r.getCanvasContainer();this._add("mapEvent",new Dr(r,e));var i=r.boxZoom=new zr(r,e);this._add("boxZoom",i),e.interactive&&e.boxZoom&&i.enable();var o=new Zr(r),s=new ua(r);r.doubleClickZoom=new ca(s,o),this._add("tapZoom",o),this._add("clickZoom",s),e.interactive&&e.doubleClickZoom&&r.doubleClickZoom.enable();var l=new da;this._add("tapDragZoom",l);var c=r.touchPitch=new ra(r);this._add("touchPitch",c),e.interactive&&e.touchPitch&&r.touchPitch.enable(e.touchPitch);var u=Yr(e),d=Gr(e);r.dragRotate=new fa(e,u,d),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",d,["mouseRotate"]),e.interactive&&e.dragRotate&&r.dragRotate.enable();var h=function(e){var t=e.enable,r=e.clickTolerance,a=new qr({checkCorrectEvent:function(e){return 0===n.mouseButton(e)&&!e.ctrlKey}});return new Ur({clickTolerance:r,move:function(e,t){return{around:t,panDelta:t.sub(e)}},activateOnStart:!0,moveStateManager:a,enable:t,assignEvents:Wr})}(e),f=new Jr(e,r);r.dragPan=new ha(a,h,f),this._add("mousePan",h),this._add("touchPan",f,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&r.dragPan.enable(e.dragPan);var p=new ta,m=new Qr;r.touchZoomRotate=new pa(a,m,p,l),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",m,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&r.touchZoomRotate.enable(e.touchZoomRotate);var v=r.scrollZoom=new la(r,(function(){return t._triggerRenderFrame()}));this._add("scrollZoom",v,["mousePan"]),e.interactive&&e.scrollZoom&&r.scrollZoom.enable(e.scrollZoom);var g=r.keyboard=new ia(r);this._add("keyboard",g),e.interactive&&e.keyboard&&r.keyboard.enable(),this._add("blockableMapEvent",new Lr(r))}},{key:"_add",value:function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}},{key:"stop",value:function(e){if(!this._updatingCamera){var t,n=f(this._handlers);try{for(n.s();!(t=n.n()).done;)t.value.handler.reset()}catch(r){n.e(r)}finally{n.f()}this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}},{key:"isActive",value:function(){var e,t=f(this._handlers);try{for(t.s();!(e=t.n()).done;)if(e.value.handler.isActive())return!0}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"isZooming",value:function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this._eventsInProgress.rotate}},{key:"isMoving",value:function(){return Boolean(ma(this._eventsInProgress))||this.isZooming()}},{key:"_blockedByActive",value:function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}},{key:"_getMapTouches",value:function(e){var t,n=[],r=f(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;this._el.contains(a.target)&&n.push(a)}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"mergeHandlerResult",value:function(t,n,r,a,i){if(r){e.e(t,r);var o={handlerName:a,originalEvent:r.originalEvent||i};void 0!==r.zoomDelta&&(n.zoom=o),void 0!==r.panDelta&&(n.drag=o),void 0!==r.pitchDelta&&(n.pitch=o),void 0!==r.bearingDelta&&(n.rotate=o)}}},{key:"_applyChanges",value:function(){var t,n={},r={},a={},i=f(this._changes);try{for(i.s();!(t=i.n()).done;){var o=h(t.value,3),s=o[0],l=o[1],c=o[2];s.panDelta&&(n.panDelta=(n.panDelta||new e.P(0,0))._add(s.panDelta)),s.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(n.around=s.around),void 0!==s.pinchAround&&(n.pinchAround=s.pinchAround),s.noInertia&&(n.noInertia=s.noInertia),e.e(r,l),e.e(a,c)}}catch(u){i.e(u)}finally{i.f()}this._updateMapTransform(n,r,a),this._changes=[]}},{key:"_updateMapTransform",value:function(e,t,n){var r=this,a=this._map,i=a._getTransformForUpdate(),o=a.terrain;if(!(ga(e)||o&&this._terrainMovement))return this._fireEvents(t,n,!0);var s=e.panDelta,l=e.zoomDelta,c=e.bearingDelta,u=e.pitchDelta,d=e.around,h=e.pinchAround;void 0!==h&&(d=h),a._stop(!0),d=d||a.transform.centerPoint;var f=i.pointLocation(s?d.sub(s):d);c&&(i.bearing+=c),u&&(i.pitch+=u),l&&(i.zoom+=l),o?this._terrainMovement||!t.drag&&!t.zoom?t.drag&&this._terrainMovement?i.center=i.pointLocation(i.centerPoint.sub(s)):i.setLocationAtPoint(f,d):(this._terrainMovement=!0,this._map._elevationFreeze=!0,i.setLocationAtPoint(f,d),this._map.once("moveend",(function(){r._map._elevationFreeze=!1,r._terrainMovement=!1,i.recalculateZoom(a.terrain)}))):i.setLocationAtPoint(f,d),a._applyUpdatedTransform(i),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)}},{key:"_fireEvents",value:function(t,n,r){var a=this,i=ma(this._eventsInProgress),o=ma(t),s={};for(var l in t){var c=t[l].originalEvent;this._eventsInProgress[l]||(s["".concat(l,"start")]=c),this._eventsInProgress[l]=t[l]}for(var u in!i&&o&&this._fireEvent("movestart",o.originalEvent),s)this._fireEvent(u,s[u]);for(var d in o&&this._fireEvent("move",o.originalEvent),t){var h=t[d].originalEvent;this._fireEvent(d,h)}var f,p={};for(var m in this._eventsInProgress){var v=this._eventsInProgress[m],g=v.handlerName,y=v.originalEvent;this._handlersById[g].isActive()||(delete this._eventsInProgress[m],f=n[g]||y,p["".concat(m,"end")]=f)}for(var x in p)this._fireEvent(x,p[x]);var b=ma(this._eventsInProgress);if(r&&(i||o)&&!b){this._updatingCamera=!0;var _=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),w=function(e){return 0!==e&&-a._bearingSnap<e&&e<a._bearingSnap};!_||!_.essential&&e.h.prefersReducedMotion?(this._map.fire(new e.k("moveend",{originalEvent:f})),w(this._map.getBearing())&&this._map.resetNorth()):(w(_.bearing||this._map.getBearing())&&(_.bearing=0),_.freezeElevation=!0,this._map.easeTo(_,{originalEvent:f})),this._updatingCamera=!1}}},{key:"_fireEvent",value:function(t,n){this._map.fire(new e.k(t,n?{originalEvent:n}:{}))}},{key:"_requestFrame",value:function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new va("renderFrame",{timeStamp:t})),e._applyChanges()}))}},{key:"_triggerRenderFrame",value:function(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}]),t}(),ba=function(t){v(r,t);var n=g(r);function r(t,a){var i;return m(this,r),(i=n.call(this))._renderFrameCallback=function(){var t=Math.min((e.h.now()-i._easeStart)/i._easeOptions.duration,1);i._onEaseFrame(i._easeOptions.easing(t)),t<1&&i._easeFrameId?i._easeFrameId=i._requestRenderFrame(i._renderFrameCallback):i.stop()},i._moving=!1,i._zooming=!1,i.transform=t,i._bearingSnap=a.bearingSnap,i.on("moveend",(function(){delete i._requestedCameraState})),i}return p(r,[{key:"getCenter",value:function(){return new e.L(this.transform.center.lng,this.transform.center.lat)}},{key:"setCenter",value:function(e,t){return this.jumpTo({center:e},t)}},{key:"panBy",value:function(t,n,r){return t=e.P.convert(t).mult(-1),this.panTo(this.transform.center,e.e({offset:t},n),r)}},{key:"panTo",value:function(t,n,r){return this.easeTo(e.e({center:t},n),r)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"setZoom",value:function(e,t){return this.jumpTo({zoom:e},t),this}},{key:"zoomTo",value:function(t,n,r){return this.easeTo(e.e({zoom:t},n),r)}},{key:"zoomIn",value:function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}},{key:"zoomOut",value:function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"setBearing",value:function(e,t){return this.jumpTo({bearing:e},t),this}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(e,t){return this.jumpTo({padding:e},t),this}},{key:"rotateTo",value:function(t,n,r){return this.easeTo(e.e({bearing:t},n),r)}},{key:"resetNorth",value:function(t,n){return this.rotateTo(0,e.e({duration:1e3},t),n),this}},{key:"resetNorthPitch",value:function(t,n){return this.easeTo(e.e({bearing:0,pitch:0,duration:1e3},t),n),this}},{key:"snapToNorth",value:function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setPitch",value:function(e,t){return this.jumpTo({pitch:e},t),this}},{key:"cameraForBounds",value:function(e,t){e=H.convert(e);var n=t&&t.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),n,t)}},{key:"_cameraForBoxAndBearing",value:function(t,n,r,a){var i={top:0,bottom:0,right:0,left:0};if("number"==typeof(a=e.e({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},a)).padding){var o=a.padding;a.padding={top:o,bottom:o,right:o,left:o}}a.padding=e.e(i,a.padding);var s=this.transform,l=s.padding,c=s.project(e.L.convert(t)),u=s.project(e.L.convert(n)),d=c.rotate(-r*Math.PI/180),h=u.rotate(-r*Math.PI/180),f=new e.P(Math.max(d.x,h.x),Math.max(d.y,h.y)),p=new e.P(Math.min(d.x,h.x),Math.min(d.y,h.y)),m=f.sub(p),v=(s.width-(l.left+l.right+a.padding.left+a.padding.right))/m.x,g=(s.height-(l.top+l.bottom+a.padding.top+a.padding.bottom))/m.y;if(!(g<0||v<0)){var y=Math.min(s.scaleZoom(s.scale*Math.min(v,g)),a.maxZoom),x=e.P.convert(a.offset),b=new e.P((a.padding.left-a.padding.right)/2,(a.padding.top-a.padding.bottom)/2).rotate(r*Math.PI/180),_=x.add(b).mult(s.scale/s.zoomScale(y));return{center:s.unproject(c.add(u).div(2).sub(_)),zoom:y,bearing:r}}e.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}},{key:"fitBounds",value:function(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)}},{key:"fitScreenCoordinates",value:function(t,n,r,a,i){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.P.convert(t)),this.transform.pointLocation(e.P.convert(n)),r,a),a,i)}},{key:"_fitInternal",value:function(t,n,r){return t?(delete(n=e.e(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this}},{key:"jumpTo",value:function(t,n){this.stop();var r=this._getTransformForUpdate(),a=!1,i=!1,o=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(a=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.L.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(i=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(o=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this._applyUpdatedTransform(r),this.fire(new e.k("movestart",n)).fire(new e.k("move",n)),a&&this.fire(new e.k("zoomstart",n)).fire(new e.k("zoom",n)).fire(new e.k("zoomend",n)),i&&this.fire(new e.k("rotatestart",n)).fire(new e.k("rotate",n)).fire(new e.k("rotateend",n)),o&&this.fire(new e.k("pitchstart",n)).fire(new e.k("pitch",n)).fire(new e.k("pitchend",n)),this.fire(new e.k("moveend",n))}},{key:"calculateCameraOptionsFromTo",value:function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=e.U.fromLngLat(t,n),o=e.U.fromLngLat(r,a),s=o.x-i.x,l=o.y-i.y,c=o.z-i.z,u=Math.hypot(s,l,c);if(0===u)throw new Error("Can't calculate camera options with same From and To");var d=Math.hypot(s,l),h=this.transform.scaleZoom(this.transform.cameraToCenterDistance/u/this.transform.tileSize),f=180*Math.atan2(s,-l)/Math.PI,p=180*Math.acos(d/u)/Math.PI;return p=c<0?90-p:90+p,{center:o.toLngLat(),zoom:h,pitch:p,bearing:f}}},{key:"easeTo",value:function(t,n){var r=this;this._stop(!1,t.easeId),(!1===(t=e.e({offset:[0,0],duration:500,easing:e.bb},t)).animate||!t.essential&&e.h.prefersReducedMotion)&&(t.duration=0);var a=this._getTransformForUpdate(),i=this.getZoom(),o=this.getBearing(),s=this.getPitch(),l=this.getPadding(),c="zoom"in t?+t.zoom:i,u="bearing"in t?this._normalizeBearing(t.bearing,o):o,d="pitch"in t?+t.pitch:s,h="padding"in t?t.padding:a.padding,f=e.P.convert(t.offset),p=a.centerPoint.add(f),m=a.pointLocation(p),v=e.L.convert(t.center||m);this._normalizeCenter(v);var g,y,x=a.project(m),b=a.project(v).sub(x),_=a.zoomScale(c-i);t.around&&(g=e.L.convert(t.around),y=a.locationPoint(g));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||c!==i,this._rotating=this._rotating||o!==u,this._pitching=this._pitching||d!==s,this._padding=!a.isPaddingEqual(h),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,w),this.terrain&&this._prepareElevation(v),this._ease((function(m){if(r._zooming&&(a.zoom=e.B.number(i,c,m)),r._rotating&&(a.bearing=e.B.number(o,u,m)),r._pitching&&(a.pitch=e.B.number(s,d,m)),r._padding&&(a.interpolatePadding(l,h,m),p=a.centerPoint.add(f)),r.terrain&&!t.freezeElevation&&r._updateElevation(m),g)a.setLocationAtPoint(g,y);else{var v=a.zoomScale(a.zoom-i),w=c>i?Math.min(2,_):Math.max(.5,_),k=Math.pow(w,1-m),j=a.unproject(x.add(b.mult(m*k)).mult(v));a.setLocationAtPoint(a.renderWorldCopies?j.wrap():j,p)}r._applyUpdatedTransform(a),r._fireMoveEvents(n)}),(function(e){r.terrain&&r._finalizeElevation(),r._afterEase(n,e)}),t),this}},{key:"_prepareEase",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._moving=!0,n||r.moving||this.fire(new e.k("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.k("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.k("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.k("pitchstart",t))}},{key:"_prepareElevation",value:function(e){this._elevationCenter=e,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(e,this.transform.tileZoom),this._elevationFreeze=!0}},{key:"_updateElevation",value:function(t){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);var n=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(t<1&&n!==this._elevationTarget){var r=this._elevationTarget-this._elevationStart;this._elevationStart+=t*(r-(n-(r*t+this._elevationStart))/(1-t)),this._elevationTarget=n}this.transform.elevation=e.B.number(this._elevationStart,this._elevationTarget,t)}},{key:"_finalizeElevation",value:function(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}},{key:"_getTransformForUpdate",value:function(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}},{key:"_applyUpdatedTransform",value:function(e){if(this.transformCameraUpdate){var t=e.clone(),n=this.transformCameraUpdate(t),r=n.center,a=n.zoom,i=n.pitch,o=n.bearing,s=n.elevation;r&&(t.center=r),void 0!==a&&(t.zoom=a),void 0!==i&&(t.pitch=i),void 0!==o&&(t.bearing=o),void 0!==s&&(t.elevation=s),this.transform.apply(t)}}},{key:"_fireMoveEvents",value:function(t){this.fire(new e.k("move",t)),this._zooming&&this.fire(new e.k("zoom",t)),this._rotating&&this.fire(new e.k("rotate",t)),this._pitching&&this.fire(new e.k("pitch",t))}},{key:"_afterEase",value:function(t,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,a=this._rotating,i=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.k("zoomend",t)),a&&this.fire(new e.k("rotateend",t)),i&&this.fire(new e.k("pitchend",t)),this.fire(new e.k("moveend",t))}}},{key:"flyTo",value:function(t,n){var r=this;if(!t.essential&&e.h.prefersReducedMotion){var a=e.F(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(a,n)}this.stop(),t=e.e({offset:[0,0],speed:1.2,curve:1.42,easing:e.bb},t);var i=this._getTransformForUpdate(),o=this.getZoom(),s=this.getBearing(),l=this.getPitch(),c=this.getPadding(),u="zoom"in t?e.ad(+t.zoom,i.minZoom,i.maxZoom):o,d="bearing"in t?this._normalizeBearing(t.bearing,s):s,h="pitch"in t?+t.pitch:l,f="padding"in t?t.padding:i.padding,p=i.zoomScale(u-o),m=e.P.convert(t.offset),v=i.centerPoint.add(m),g=i.pointLocation(v),y=e.L.convert(t.center||g);this._normalizeCenter(y);var x=i.project(g),b=i.project(y).sub(x),_=t.curve,w=Math.max(i.width,i.height),k=w/p,j=b.mag();if("minZoom"in t){var S=e.ad(Math.min(t.minZoom,o,u),i.minZoom,i.maxZoom),C=w/i.zoomScale(S-o);_=Math.sqrt(C/j*2)}var N=_*_;function E(e){var t=(k*k-w*w+(e?-1:1)*N*N*j*j)/(2*(e?k:w)*N*j);return Math.log(Math.sqrt(t*t+1)-t)}function T(e){return(Math.exp(e)-Math.exp(-e))/2}function I(e){return(Math.exp(e)+Math.exp(-e))/2}var A=E(!1),P=function(e){return I(A)/I(A+_*e)},M=function(e){return w*((I(A)*(T(t=A+_*e)/I(t))-T(A))/N)/j;var t},D=(E(!0)-A)/_;if(Math.abs(j)<1e-6||!isFinite(D)){if(Math.abs(w-k)<1e-6)return this.easeTo(t,n);var L=k<w?-1:1;D=Math.abs(Math.log(k/w))/_,M=function(){return 0},P=function(e){return Math.exp(L*_*e)}}return t.duration="duration"in t?+t.duration:1e3*D/("screenSpeed"in t?+t.screenSpeed/_:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==d,this._pitching=h!==l,this._padding=!i.isPaddingEqual(f),this._prepareEase(n,!1),this.terrain&&this._prepareElevation(y),this._ease((function(a){var p=a*D,g=1/P(p);i.zoom=1===a?u:o+i.scaleZoom(g),r._rotating&&(i.bearing=e.B.number(s,d,a)),r._pitching&&(i.pitch=e.B.number(l,h,a)),r._padding&&(i.interpolatePadding(c,f,a),v=i.centerPoint.add(m)),r.terrain&&!t.freezeElevation&&r._updateElevation(a);var _=1===a?y:i.unproject(x.add(b.mult(M(p))).mult(g));i.setLocationAtPoint(i.renderWorldCopies?_.wrap():_,v),r._applyUpdatedTransform(i),r._fireMoveEvents(n)}),(function(){r.terrain&&r._finalizeElevation(),r._afterEase(n)}),t),this}},{key:"isEasing",value:function(){return!!this._easeFrameId}},{key:"stop",value:function(){return this._stop()}},{key:"_stop",value:function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop(!1)}return this}},{key:"_ease",value:function(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.h.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}},{key:"_normalizeBearing",value:function(t,n){t=e.b5(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t}},{key:"_normalizeCenter",value:function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}}},{key:"queryTerrainElevation",value:function(t){return this.terrain?this.terrain.getElevationForLngLatZoom(e.L.convert(t),this.transform.tileZoom)-this.transform.elevation:null}}]),r}(e.E),_a=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,e),this._toggleAttribution=function(){t._container.classList.contains("maplibregl-compact")&&(t._container.classList.contains("maplibregl-compact-show")?(t._container.setAttribute("open",""),t._container.classList.remove("maplibregl-compact-show")):(t._container.classList.add("maplibregl-compact-show"),t._container.removeAttribute("open")))},this._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType&&"terrain"!==e.type||t._updateAttributions()},this._updateCompact=function(){t._map.getCanvasContainer().offsetWidth<=640||t._compact?!1===t._compact?t._container.setAttribute("open",""):t._container.classList.contains("maplibregl-compact")||t._container.classList.contains("maplibregl-attrib-empty")||(t._container.setAttribute("open",""),t._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(t._container.setAttribute("open",""),t._container.classList.contains("maplibregl-compact")&&t._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=function(){t._container.classList.contains("maplibregl-compact")&&t._container.classList.contains("maplibregl-compact-show")&&t._container.classList.remove("maplibregl-compact-show")},this.options=n}return p(e,[{key:"getDefaultPosition",value:function(){return"bottom-right"}},{key:"onAdd",value:function(e){return this._map=e,this._compact=this.options&&this.options.compact,this._container=n.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=n.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}},{key:"onRemove",value:function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}},{key:"_setElementTitle",value:function(e,t){var n=this._map._getUIString("AttributionControl.".concat(t));e.title=n,e.setAttribute("aria-label",n)}},{key:"_updateAttributions",value:function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var r in n){var a=n[r];if(a.used||a.usedForTerrain){var i=a.getSource();i.attribution&&e.indexOf(i.attribution)<0&&e.push(i.attribution)}}(e=e.filter((function(e){return String(e).trim()}))).sort((function(e,t){return e.length-t.length})),e=e.filter((function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}));var o=e.join(" | ");o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}}]),e}(),wa=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,e),this._updateCompact=function(){var e=t._container.children;if(e.length){var n=e[0];t._map.getCanvasContainer().offsetWidth<=640||t._compact?!1!==t._compact&&n.classList.add("maplibregl-compact"):n.classList.remove("maplibregl-compact")}},this.options=n}return p(e,[{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"onAdd",value:function(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=n.create("div","maplibregl-ctrl");var t=n.create("a","maplibregl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://maplibre.org/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}},{key:"onRemove",value:function(){n.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}]),e}(),ka=function(){function e(){m(this,e),this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}return p(e,[{key:"add",value:function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}},{key:"remove",value:function(e){var t,n=this._currentlyRunning,r=n?this._queue.concat(n):this._queue,a=f(r);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.id===e)return void(i.cancelled=!0)}}catch(o){a.e(o)}finally{a.f()}}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");var t=this._currentlyRunning=this._queue;this._queue=[];var n,r=f(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!a.cancelled&&(a.callback(e),this._cleared))break}}catch(i){r.e(i)}finally{r.f()}this._cleared=!1,this._currentlyRunning=!1}},{key:"clear",value:function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}]),e}(),ja={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"},Sa=e.Q([{name:"a_pos3d",type:"Int16",components:3}]),Ca=function(t){v(r,t);var n=g(r);function r(e){var t;return m(this,r),(t=n.call(this)).sourceCache=e,t._tiles={},t._renderableTilesKeys=[],t._sourceTileCache={},t.minzoom=0,t.maxzoom=22,t.tileSize=512,t.deltaZoom=1,e.usedForTerrain=!0,e.tileSize=t.tileSize*Math.pow(2,t.deltaZoom),t}return p(r,[{key:"destruct",value:function(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}},{key:"update",value:function(t,n){this.sourceCache.update(t,n),this._renderableTilesKeys=[];var r,a={},i=f(t.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:n}));try{for(i.s();!(r=i.n()).done;){var o=r.value;a[o.key]=!0,this._renderableTilesKeys.push(o.key),this._tiles[o.key]||(o.posMatrix=new Float64Array(16),e.aS(o.posMatrix,0,e.N,0,e.N,0,1),this._tiles[o.key]=new oe(o,this.tileSize))}}catch(l){i.e(l)}finally{i.f()}for(var s in this._tiles)a[s]||delete this._tiles[s]}},{key:"freeRtt",value:function(e){for(var t in this._tiles){var n=this._tiles[t];(!e||n.tileID.equals(e)||n.tileID.isChildOf(e)||e.isChildOf(n.tileID))&&(n.rtt=[])}}},{key:"getRenderableTiles",value:function(){var e=this;return this._renderableTilesKeys.map((function(t){return e.getTileByID(t)}))}},{key:"getTileByID",value:function(e){return this._tiles[e]}},{key:"getTerrainCoords",value:function(t){var n,r={},a=f(this._renderableTilesKeys);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=this._tiles[i].tileID;if(o.canonical.equals(t.canonical)){var s=t.clone();s.posMatrix=new Float64Array(16),e.aS(s.posMatrix,0,e.N,0,e.N,0,1),r[i]=s}else if(o.canonical.isChildOf(t.canonical)){var l=t.clone();l.posMatrix=new Float64Array(16);var c=o.canonical.z-t.canonical.z,u=o.canonical.x-(o.canonical.x>>c<<c),d=o.canonical.y-(o.canonical.y>>c<<c),h=e.N>>c;e.aS(l.posMatrix,0,h,0,h,0,1),e.$(l.posMatrix,l.posMatrix,[-u*h,-d*h,0]),r[i]=l}else if(t.canonical.isChildOf(o.canonical)){var p=t.clone();p.posMatrix=new Float64Array(16);var m=t.canonical.z-o.canonical.z,v=t.canonical.x-(t.canonical.x>>m<<m),g=t.canonical.y-(t.canonical.y>>m<<m),y=e.N>>m;e.aS(p.posMatrix,0,e.N,0,e.N,0,1),e.$(p.posMatrix,p.posMatrix,[v*y,g*y,0]),e.a0(p.posMatrix,p.posMatrix,[1/Math.pow(2,m),1/Math.pow(2,m),0]),r[i]=p}}}catch(x){a.e(x)}finally{a.f()}return r}},{key:"getSourceTile",value:function(e,t){var n=this.sourceCache._source,r=e.overscaledZ-this.deltaZoom;if(r>n.maxzoom&&(r=n.maxzoom),r<n.minzoom)return null;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(r).key);var a=this.sourceCache.getTileByID(this._sourceTileCache[e.key]);if((!a||!a.dem)&&t)for(;r>=n.minzoom&&(!a||!a.dem);)a=this.sourceCache.getTileByID(e.scaledTo(r--).key);return a}},{key:"tilesAfterTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return Object.values(this._tiles).filter((function(t){return t.timeAdded>=e}))}}]),r}(e.E),Na=function(){function t(e,n,r){m(this,t),this.painter=e,this.sourceCache=new Ca(n),this.options=r,this.exaggeration="number"==typeof r.exaggeration?r.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}return p(t,[{key:"getDEMElevation",value:function(t,n,r){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.N;if(!(n>=0&&n<i&&r>=0&&r<i))return 0;var o=this.getTerrainData(t),s=null===(a=o.tile)||void 0===a?void 0:a.dem;if(!s)return 0;var l=function(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[4]*a+n[12],e[1]=n[1]*r+n[5]*a+n[13],e}([],[n/i*e.N,r/i*e.N],o.u_terrain_matrix),c=[l[0]*s.dim,l[1]*s.dim],u=Math.floor(c[0]),d=Math.floor(c[1]),h=c[0]-u,f=c[1]-d;return s.get(u,d)*(1-h)*(1-f)+s.get(u+1,d)*h*(1-f)+s.get(u,d+1)*(1-h)*f+s.get(u+1,d+1)*h*f}},{key:"getElevationForLngLatZoom",value:function(t,n){var r=this._getOverscaledTileIDFromLngLatZoom(t,n),a=r.tileID,i=r.mercatorX,o=r.mercatorY;return this.getElevation(a,i%e.N,o%e.N,e.N)}},{key:"getElevation",value:function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.N;return this.getDEMElevation(t,n,r,a)*this.exaggeration}},{key:"getTerrainData",value:function(t){if(!this._emptyDemTexture){var n=this.painter.context,r=new e.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new P(n,r,n.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new P(n,new e.R({width:1,height:1}),n.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(n.gl.NEAREST,n.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=e.ao([])}var a=this.sourceCache.getSourceTile(t,!0);if(a&&a.dem&&(!a.demTexture||a.needsTerrainPrepare)){var i=this.painter.context;a.demTexture=this.painter.getTileTexture(a.dem.stride),a.demTexture?a.demTexture.update(a.dem.getPixels(),{premultiply:!1}):a.demTexture=new P(i,a.dem.getPixels(),i.gl.RGBA,{premultiply:!1}),a.demTexture.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),a.needsTerrainPrepare=!1}var o=a&&a+a.tileID.key+t.key;if(o&&!this._demMatrixCache[o]){var s=this.sourceCache.sourceCache._source.maxzoom,l=t.canonical.z-a.tileID.canonical.z;t.overscaledZ>t.canonical.z&&(t.canonical.z>=s?l=t.canonical.z-s:e.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));var c=t.canonical.x-(t.canonical.x>>l<<l),u=t.canonical.y-(t.canonical.y>>l<<l),d=e.bc(new Float64Array(16),[1/(e.N<<l),1/(e.N<<l),0]);e.$(d,d,[c*e.N,u*e.N,0]),this._demMatrixCache[t.key]={matrix:d,coord:t}}return{u_depth:2,u_terrain:3,u_terrain_dim:a&&a.dem&&a.dem.dim||1,u_terrain_matrix:o?this._demMatrixCache[t.key].matrix:this._emptyDemMatrix,u_terrain_unpack:a&&a.dem&&a.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(a&&a.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:a}}},{key:"getFramebuffer",value:function(e){var t=this.painter,n=t.width/devicePixelRatio,r=t.height/devicePixelRatio;return!this._fbo||this._fbo.width===n&&this._fbo.height===r||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new P(t.context,{width:n,height:r,data:null},t.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(t.context.gl.NEAREST,t.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new P(t.context,{width:n,height:r,data:null},t.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(t.context.gl.NEAREST,t.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=t.context.createFramebuffer(n,r,!0,!1),this._fbo.depthAttachment.set(t.context.createRenderbuffer(t.context.gl.DEPTH_COMPONENT16,n,r))),this._fbo.colorAttachment.set("coords"===e?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}},{key:"getCoordsTexture",value:function(){var t=this.painter.context;if(this._coordsTexture)return this._coordsTexture;for(var n=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4),r=0,a=0;r<this._coordsTextureSize;r++)for(var i=0;i<this._coordsTextureSize;i++,a+=4)n[a+0]=255&i,n[a+1]=255&r,n[a+2]=i>>8<<4|r>>8,n[a+3]=0;var o=new e.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(n.buffer)),s=new P(t,o,t.gl.RGBA,{premultiply:!1});return s.bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),this._coordsTexture=s,s}},{key:"pointCoordinate",value:function(t){var n=new Uint8Array(4),r=this.painter.context,a=r.gl;r.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),a.readPixels(t.x,this.painter.height/devicePixelRatio-t.y-1,1,1,a.RGBA,a.UNSIGNED_BYTE,n),r.bindFramebuffer.set(null);var i=n[0]+(n[2]>>4<<8),o=n[1]+((15&n[2])<<8),s=this.coordsIndex[255-n[3]],l=s&&this.sourceCache.getTileByID(s);if(!l)return null;var c=this._coordsTextureSize,u=(1<<l.tileID.canonical.z)*c;return new e.U(this._allowMercatorOverflow(t,(l.tileID.canonical.x*c+i)/u),(l.tileID.canonical.y*c+o)/u,this.getElevation(l.tileID,i,o,c))}},{key:"getTerrainMesh",value:function(){if(this._mesh)return this._mesh;for(var t=this.painter.context,n=new e.bd,r=new e.b0,a=this.meshSize,i=e.N/a,o=a*a,s=0;s<=a;s++)for(var l=0;l<=a;l++)n.emplaceBack(l*i,s*i,0);for(var c=0;c<o;c+=a+1)for(var u=0;u<a;u++)r.emplaceBack(u+c,a+u+c+1,a+u+c+2),r.emplaceBack(u+c,a+u+c+2,u+c+1);for(var d=n.length,h=d+2*(a+1),f=0,p=[0,1];f<p.length;f++)for(var m=p[f],v=0;v<=a;v++)for(var g=0,y=[0,1];g<y.length;g++){var x=y[g];n.emplaceBack(v*i,m*e.N,x)}for(var b=0;b<2*a;b+=2)r.emplaceBack(h+b,h+b+1,h+b+3),r.emplaceBack(h+b,h+b+3,h+b+2),r.emplaceBack(d+b,d+b+3,d+b+1),r.emplaceBack(d+b,d+b+2,d+b+3);for(var _=n.length,w=_+2*(a+1),k=0,j=[0,1];k<j.length;k++)for(var S=j[k],C=0;C<=a;C++)for(var N=0,E=[0,1];N<E.length;N++){var T=E[N];n.emplaceBack(S*e.N,C*i,T)}for(var I=0;I<2*a;I+=2)r.emplaceBack(_+I,_+I+1,_+I+3),r.emplaceBack(_+I,_+I+3,_+I+2),r.emplaceBack(w+I,w+I+3,w+I+1),r.emplaceBack(w+I,w+I+2,w+I+3);return this._mesh={indexBuffer:t.createIndexBuffer(r),vertexBuffer:t.createVertexBuffer(n,Sa.members),segments:e.S.simpleSegment(0,0,n.length,r.length)},this._mesh}},{key:"getMeshFrameDelta",value:function(t){return 2*Math.PI*e.be/Math.pow(2,t)/5}},{key:"getMinTileElevationForLngLatZoom",value:function(e,t){var n,r=this._getOverscaledTileIDFromLngLatZoom(e,t).tileID;return null!==(n=this.getMinMaxElevation(r).minElevation)&&void 0!==n?n:0}},{key:"getMinMaxElevation",value:function(e){var t=this.getTerrainData(e).tile,n={minElevation:null,maxElevation:null};return t&&t.dem&&(n.minElevation=t.dem.min*this.exaggeration,n.maxElevation=t.dem.max*this.exaggeration),n}},{key:"_getOverscaledTileIDFromLngLatZoom",value:function(t,n){var r=e.U.fromLngLat(t.wrap()),a=(1<<n)*e.N,i=r.x*a,o=r.y*a,s=Math.floor(i/e.N),l=Math.floor(o/e.N);return{tileID:new e.O(n,0,n,s,l),mercatorX:i,mercatorY:o}}},{key:"_allowMercatorOverflow",value:function(t,n){var r=t.x<this.painter.width/2,a=e.bf(n),i=this.painter.transform.center.lng;return r&&Math.sign(a)>0&&Math.sign(i)<0||!r&&Math.sign(a)<0&&Math.sign(i)>0?(a=360*Math.sign(i)+a,e.G(a)):n}}]),t}(),Ea=function(){function e(t,n,r){m(this,e),this._context=t,this._size=n,this._tileSize=r,this._objects=[],this._recentlyUsed=[],this._stamp=0}return p(e,[{key:"destruct",value:function(){var e,t=f(this._objects);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.texture.destroy(),n.fbo.destroy()}}catch(r){t.e(r)}finally{t.f()}}},{key:"_createObject",value:function(e){var t=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),n=new P(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return n.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),t.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),t.colorAttachment.set(n.texture),{id:e,fbo:t,texture:n,stamp:-1,inUse:!1}}},{key:"getObjectForId",value:function(e){return this._objects[e]}},{key:"useObject",value:function(e){e.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((function(t){return e.id!==t})),this._recentlyUsed.push(e.id)}},{key:"stampObject",value:function(e){e.stamp=++this._stamp}},{key:"getOrCreateFreeObject",value:function(){var e,t=f(this._recentlyUsed);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!this._objects[n].inUse)return this._objects[n]}}catch(a){t.e(a)}finally{t.f()}if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");var r=this._createObject(this._objects.length);return this._objects.push(r),r}},{key:"freeObject",value:function(e){e.inUse=!1}},{key:"freeAllObjects",value:function(){var e,t=f(this._objects);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.freeObject(n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"isFull",value:function(){return!(this._objects.length<this._size)&&!1===this._objects.some((function(e){return!e.inUse}))}}]),e}(),Ta={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0},Ia=function(){function t(e,n){m(this,t),this.painter=e,this.terrain=n,this.pool=new Ea(e.context,30,n.sourceCache.tileSize*n.qualityFactor)}return p(t,[{key:"destruct",value:function(){this.pool.destruct()}},{key:"getTexture",value:function(e){return this.pool.getObjectForId(e.rtt[this._stacks.length-1].id).texture}},{key:"prepareForRender",value:function(e,t){for(var n in this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=e._order.filter((function(n){return!e._layers[n].isHidden(t)})),this._coordsDescendingInv={},e.sourceCaches){this._coordsDescendingInv[n]={};var r,a=e.sourceCaches[n].getVisibleCoordinates(),i=f(a);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=this.terrain.sourceCache.getTerrainCoords(o);for(var l in s)this._coordsDescendingInv[n][l]||(this._coordsDescendingInv[n][l]=[]),this._coordsDescendingInv[n][l].push(s[l])}}catch(_){i.e(_)}finally{i.f()}}this._coordsDescendingInvStr={};var c,u=f(e._order);try{for(u.s();!(c=u.n()).done;){var d=c.value,h=e._layers[d],p=h.source;if(Ta[h.type]&&!this._coordsDescendingInvStr[p])for(var m in this._coordsDescendingInvStr[p]={},this._coordsDescendingInv[p])this._coordsDescendingInvStr[p][m]=this._coordsDescendingInv[p][m].map((function(e){return e.key})).sort().join()}}catch(_){u.e(_)}finally{u.f()}var v,g=f(this._renderableTiles);try{for(g.s();!(v=g.n()).done;){var y=v.value;for(var x in this._coordsDescendingInvStr){var b=this._coordsDescendingInvStr[x][y.tileID.key];b&&b!==y.rttCoords[x]&&(y.rtt=[])}}}catch(_){g.e(_)}finally{g.f()}}},{key:"renderLayer",value:function(t){if(t.isHidden(this.painter.transform.zoom))return!1;var n=t.type,r=this.painter,a=this._renderableLayerIds[this._renderableLayerIds.length-1]===t.id;if(Ta[n]&&(this._prevType&&Ta[this._prevType]||this._stacks.push([]),this._prevType=n,this._stacks[this._stacks.length-1].push(t.id),!a))return!0;if(Ta[this._prevType]||Ta[n]&&a){this._prevType=n;var i,o=this._stacks.length-1,s=this._stacks[o]||[],l=f(this._renderableTiles);try{for(l.s();!(i=l.n()).done;){var c=i.value;if(this.pool.isFull()&&(mr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(c),c.rtt[o]){var u=this.pool.getObjectForId(c.rtt[o].id);if(u.stamp===c.rtt[o].stamp){this.pool.useObject(u);continue}}var d=this.pool.getOrCreateFreeObject();this.pool.useObject(d),this.pool.stampObject(d),c.rtt[o]={id:d.id,stamp:d.stamp},r.context.bindFramebuffer.set(d.fbo.framebuffer),r.context.clear({color:e.aT.transparent,stencil:0}),r.currentStencilSource=void 0;for(var h=0;h<s.length;h++){var p=r.style._layers[s[h]],m=p.source?this._coordsDescendingInv[p.source][c.tileID.key]:[c.tileID];r.context.viewport.set([0,0,d.fbo.width,d.fbo.height]),r._renderTileClippingMasks(p,m),r.renderLayer(r,r.style.sourceCaches[p.source],p,m),p.source&&(c.rttCoords[p.source]=this._coordsDescendingInvStr[p.source][c.tileID.key])}}}catch(v){l.e(v)}finally{l.f()}return mr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Ta[n]}return!1}}]),t}(),Aa=t,Pa={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:e.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Ma=function(e){e.touchstart=e.dragStart,e.touchmoveWindow=e.dragMove,e.touchend=e.dragEnd},Da={showCompass:!0,showZoom:!0,visualizePitch:!1},La=function(){function t(r,a){var i=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m(this,t),this.mousedown=function(t){i.startMouse(e.e({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),n.mousePos(i.element,t)),n.addEventListener(window,"mousemove",i.mousemove),n.addEventListener(window,"mouseup",i.mouseup)},this.mousemove=function(e){i.moveMouse(e,n.mousePos(i.element,e))},this.mouseup=function(e){i.mouseRotate.dragEnd(e),i.mousePitch&&i.mousePitch.dragEnd(e),i.offTemp()},this.touchstart=function(e){1!==e.targetTouches.length?i.reset():(i._startPos=i._lastPos=n.touchPos(i.element,e.targetTouches)[0],i.startTouch(e,i._startPos),n.addEventListener(window,"touchmove",i.touchmove,{passive:!1}),n.addEventListener(window,"touchend",i.touchend))},this.touchmove=function(e){1!==e.targetTouches.length?i.reset():(i._lastPos=n.touchPos(i.element,e.targetTouches)[0],i.moveTouch(e,i._lastPos))},this.touchend=function(e){0===e.targetTouches.length&&i._startPos&&i._lastPos&&i._startPos.dist(i._lastPos)<i._clickTolerance&&i.element.click(),delete i._startPos,delete i._lastPos,i.offTemp()},this.reset=function(){i.mouseRotate.reset(),i.mousePitch&&i.mousePitch.reset(),i.touchRotate.reset(),i.touchPitch&&i.touchPitch.reset(),delete i._startPos,delete i._lastPos,i.offTemp()},this._clickTolerance=10;var s=r.dragRotate._mouseRotate.getClickTolerance(),l=r.dragRotate._mousePitch.getClickTolerance();this.element=a,this.mouseRotate=Yr({clickTolerance:s,enable:!0}),this.touchRotate=function(e){var t=e.enable,n=e.clickTolerance,r=e.bearingDegreesPerPixelMoved,a=void 0===r?.8:r,i=new Hr;return new Ur({clickTolerance:n,move:function(e,t){return{bearingDelta:(t.x-e.x)*a}},moveStateManager:i,enable:t,assignEvents:Ma})}({clickTolerance:s,enable:!0}),this.map=r,o&&(this.mousePitch=Gr({clickTolerance:l,enable:!0}),this.touchPitch=function(e){var t=e.enable,n=e.clickTolerance,r=e.pitchDegreesPerPixelMoved,a=void 0===r?-.5:r,i=new Hr;return new Ur({clickTolerance:n,move:function(e,t){return{pitchDelta:(t.y-e.y)*a}},moveStateManager:i,enable:t,assignEvents:Ma})}({clickTolerance:l,enable:!0})),n.addEventListener(a,"mousedown",this.mousedown),n.addEventListener(a,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(a,"touchcancel",this.reset)}return p(t,[{key:"startMouse",value:function(e,t){this.mouseRotate.dragStart(e,t),this.mousePitch&&this.mousePitch.dragStart(e,t),n.disableDrag()}},{key:"startTouch",value:function(e,t){this.touchRotate.dragStart(e,t),this.touchPitch&&this.touchPitch.dragStart(e,t),n.disableDrag()}},{key:"moveMouse",value:function(e,t){var n=this.map,r=(this.mouseRotate.dragMove(e,t)||{}).bearingDelta;if(r&&n.setBearing(n.getBearing()+r),this.mousePitch){var a=(this.mousePitch.dragMove(e,t)||{}).pitchDelta;a&&n.setPitch(n.getPitch()+a)}}},{key:"moveTouch",value:function(e,t){var n=this.map,r=(this.touchRotate.dragMove(e,t)||{}).bearingDelta;if(r&&n.setBearing(n.getBearing()+r),this.touchPitch){var a=(this.touchPitch.dragMove(e,t)||{}).pitchDelta;a&&n.setPitch(n.getPitch()+a)}}},{key:"off",value:function(){var e=this.element;n.removeEventListener(e,"mousedown",this.mousedown),n.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),n.removeEventListener(window,"touchend",this.touchend),n.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}},{key:"offTemp",value:function(){n.enableDrag(),n.removeEventListener(window,"mousemove",this.mousemove),n.removeEventListener(window,"mouseup",this.mouseup),n.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),n.removeEventListener(window,"touchend",this.touchend)}}]),t}();function Oa(t,n,r){if(t=new e.L(t.lng,t.lat),n){var a=new e.L(t.lng-360,t.lat),i=new e.L(t.lng+360,t.lat),o=r.locationPoint(t).distSqr(n);r.locationPoint(a).distSqr(n)<o?t=a:r.locationPoint(i).distSqr(n)<o&&(t=i)}for(;Math.abs(t.lng-r.center.lng)>180;){var s=r.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}var za={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ra(e,t,n){var r=e.classList;for(var a in za)r.remove("maplibregl-".concat(n,"-anchor-").concat(a));r.add("maplibregl-".concat(n,"-anchor-").concat(t))}var Fa=function(t){v(a,t);var r=g(a);function a(t){var i;if(m(this,a),(i=r.call(this))._onKeyPress=function(e){var t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||i.togglePopup()},i._onMapClick=function(e){var t=e.originalEvent.target,n=i._element;i._popup&&(t===n||n.contains(t))&&i.togglePopup()},i._update=function(e){if(i._map){var t=i._map.loaded()&&!i._map.isMoving();("terrain"===(null==e?void 0:e.type)||"render"===(null==e?void 0:e.type)&&!t)&&i._map.once("render",i._update),i._map.transform.renderWorldCopies&&(i._lngLat=Oa(i._lngLat,i._pos,i._map.transform)),i._pos=i._map.project(i._lngLat)._add(i._offset);var r="";"viewport"===i._rotationAlignment||"auto"===i._rotationAlignment?r="rotateZ(".concat(i._rotation,"deg)"):"map"===i._rotationAlignment&&(r="rotateZ(".concat(i._rotation-i._map.getBearing(),"deg)"));var a="";"viewport"===i._pitchAlignment||"auto"===i._pitchAlignment?a="rotateX(0deg)":"map"===i._pitchAlignment&&(a="rotateX(".concat(i._map.getPitch(),"deg)")),e&&"moveend"!==e.type||(i._pos=i._pos.round()),n.setTransform(i._element,"".concat(za[i._anchor]," translate(").concat(i._pos.x,"px, ").concat(i._pos.y,"px) ").concat(a," ").concat(r)),i._map.terrain&&!i._opacityTimeout&&(i._opacityTimeout=setTimeout((function(){var e=i._map.unproject(i._pos),t=40075016.686*Math.abs(Math.cos(i._lngLat.lat*Math.PI/180))/Math.pow(2,i._map.transform.tileZoom+8);i._element.style.opacity=e.distanceTo(i._lngLat)>20*t?"0.2":"1.0",i._opacityTimeout=null}),100))}},i._onMove=function(t){if(!i._isDragging){var n=i._clickTolerance||i._map._clickTolerance;i._isDragging=t.point.dist(i._pointerdownPos)>=n}i._isDragging&&(i._pos=t.point.sub(i._positionDelta),i._lngLat=i._map.unproject(i._pos),i.setLngLat(i._lngLat),i._element.style.pointerEvents="none","pending"===i._state&&(i._state="active",i.fire(new e.k("dragstart"))),i.fire(new e.k("drag")))},i._onUp=function(){i._element.style.pointerEvents="auto",i._positionDelta=null,i._pointerdownPos=null,i._isDragging=!1,i._map.off("mousemove",i._onMove),i._map.off("touchmove",i._onMove),"active"===i._state&&i.fire(new e.k("dragend")),i._state="inactive"},i._addDragHandler=function(e){i._element.contains(e.originalEvent.target)&&(e.preventDefault(),i._positionDelta=e.point.sub(i._pos).add(i._offset),i._pointerdownPos=e.point,i._state="pending",i._map.on("mousemove",i._onMove),i._map.on("touchmove",i._onMove),i._map.once("mouseup",i._onUp),i._map.once("touchend",i._onUp))},i._anchor=t&&t.anchor||"center",i._color=t&&t.color||"#3FB1CE",i._scale=t&&t.scale||1,i._draggable=t&&t.draggable||!1,i._clickTolerance=t&&t.clickTolerance||0,i._isDragging=!1,i._state="inactive",i._rotation=t&&t.rotation||0,i._rotationAlignment=t&&t.rotationAlignment||"auto",i._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:i._rotationAlignment,t&&t.element)i._element=t.element,i._offset=e.P.convert(t&&t.offset||[0,0]);else{i._defaultMarker=!0,i._element=n.create("div"),i._element.setAttribute("aria-label","Map marker");var o=n.createNS("http://www.w3.org/2000/svg","svg"),l=41,c=27;o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","".concat(l,"px")),o.setAttributeNS(null,"width","".concat(c,"px")),o.setAttributeNS(null,"viewBox","0 0 ".concat(c," ").concat(l));var u=n.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"stroke","none"),u.setAttributeNS(null,"stroke-width","1"),u.setAttributeNS(null,"fill","none"),u.setAttributeNS(null,"fill-rule","evenodd");var d=n.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill-rule","nonzero");var h=n.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"transform","translate(3.0, 29.0)"),h.setAttributeNS(null,"fill","#000000");for(var p=0,v=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];p<v.length;p++){var g=v[p],y=n.createNS("http://www.w3.org/2000/svg","ellipse");y.setAttributeNS(null,"opacity","0.04"),y.setAttributeNS(null,"cx","10.5"),y.setAttributeNS(null,"cy","5.80029008"),y.setAttributeNS(null,"rx",g.rx),y.setAttributeNS(null,"ry",g.ry),h.appendChild(y)}var x=n.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"fill",i._color);var b=n.createNS("http://www.w3.org/2000/svg","path");b.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),x.appendChild(b);var _=n.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"fill","#000000");var w=n.createNS("http://www.w3.org/2000/svg","path");w.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),_.appendChild(w);var k=n.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"transform","translate(6.0, 7.0)"),k.setAttributeNS(null,"fill","#FFFFFF");var j=n.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"transform","translate(8.0, 8.0)");var S=n.createNS("http://www.w3.org/2000/svg","circle");S.setAttributeNS(null,"fill","#000000"),S.setAttributeNS(null,"opacity","0.25"),S.setAttributeNS(null,"cx","5.5"),S.setAttributeNS(null,"cy","5.5"),S.setAttributeNS(null,"r","5.4999962");var C=n.createNS("http://www.w3.org/2000/svg","circle");C.setAttributeNS(null,"fill","#FFFFFF"),C.setAttributeNS(null,"cx","5.5"),C.setAttributeNS(null,"cy","5.5"),C.setAttributeNS(null,"r","5.4999962"),j.appendChild(S),j.appendChild(C),d.appendChild(h),d.appendChild(x),d.appendChild(_),d.appendChild(k),d.appendChild(j),o.appendChild(d),o.setAttributeNS(null,"height",l*i._scale+"px"),o.setAttributeNS(null,"width",c*i._scale+"px"),i._element.appendChild(o),i._offset=e.P.convert(t&&t.offset||[0,-14])}if(i._element.classList.add("maplibregl-marker"),i._element.addEventListener("dragstart",(function(e){e.preventDefault()})),i._element.addEventListener("mousedown",(function(e){e.preventDefault()})),Ra(i._element,i._anchor,"marker"),t&&t.className){var N,E=f(t.className.split(" "));try{for(E.s();!(N=E.n()).done;){var T=N.value;i._element.classList.add(T)}}catch(I){E.e(I)}finally{E.f()}}return i._popup=null,s(i)}return p(a,[{key:"addTo",value:function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}},{key:"remove",value:function(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){return this._lngLat=e.L.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}},{key:"getElement",value:function(){return this._element}},{key:"setPopup",value:function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=38.1,n=13.5,r=Math.abs(n)/Math.SQRT2;e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[r,-1*(t-n+r)],"bottom-right":[-r,-1*(t-n+r)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}},{key:"getPopup",value:function(){return this._popup}},{key:"togglePopup",value:function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this}},{key:"getOffset",value:function(){return this._offset}},{key:"setOffset",value:function(t){return this._offset=e.P.convert(t),this._update(),this}},{key:"addClassName",value:function(e){this._element.classList.add(e)}},{key:"removeClassName",value:function(e){this._element.classList.remove(e)}},{key:"toggleClassName",value:function(e){return this._element.classList.toggle(e)}},{key:"setDraggable",value:function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}},{key:"isDraggable",value:function(){return this._draggable}},{key:"setRotation",value:function(e){return this._rotation=e||0,this._update(),this}},{key:"getRotation",value:function(){return this._rotation}},{key:"setRotationAlignment",value:function(e){return this._rotationAlignment=e||"auto",this._update(),this}},{key:"getRotationAlignment",value:function(){return this._rotationAlignment}},{key:"setPitchAlignment",value:function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}},{key:"getPitchAlignment",value:function(){return this._pitchAlignment}}]),a}(e.E),Ba={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Za=0,Ua=!1,Va={maxWidth:100,unit:"metric"};function qa(e,t,n){var r=n&&n.maxWidth||100,a=e._container.clientHeight/2,i=e.unproject([0,a]),o=e.unproject([r,a]),s=i.distanceTo(o);if(n&&"imperial"===n.unit){var l=3.2808*s;l>5280?Ha(t,r,l/5280,e._getUIString("ScaleControl.Miles")):Ha(t,r,l,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Ha(t,r,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Ha(t,r,s/1e3,e._getUIString("ScaleControl.Kilometers")):Ha(t,r,s,e._getUIString("ScaleControl.Meters"))}function Ha(e,t,n,r){var a=function(e){var t=Math.pow(10,"".concat(Math.floor(e)).length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}(n);e.style.width=t*(a/n)+"px",e.innerHTML="".concat(a,"&nbsp;").concat(r)}var Wa={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Ya=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Ga(t){if(t){if("number"==typeof t){var n=Math.round(Math.abs(t)/Math.SQRT2);return{center:new e.P(0,0),top:new e.P(0,t),"top-left":new e.P(n,n),"top-right":new e.P(-n,n),bottom:new e.P(0,-t),"bottom-left":new e.P(n,-n),"bottom-right":new e.P(-n,-n),left:new e.P(t,0),right:new e.P(-t,0)}}if(t instanceof e.P||Array.isArray(t)){var r=e.P.convert(t);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:e.P.convert(t.center||[0,0]),top:e.P.convert(t.top||[0,0]),"top-left":e.P.convert(t["top-left"]||[0,0]),"top-right":e.P.convert(t["top-right"]||[0,0]),bottom:e.P.convert(t.bottom||[0,0]),"bottom-left":e.P.convert(t["bottom-left"]||[0,0]),"bottom-right":e.P.convert(t["bottom-right"]||[0,0]),left:e.P.convert(t.left||[0,0]),right:e.P.convert(t.right||[0,0])}}return Ga(new e.P(0,0))}var Ja={extend:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return e.e.apply(e,[t].concat(r))},run:function(e){e()},logToElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"log",r=window.document.getElementById(n);r&&(t&&(r.innerHTML=""),r.innerHTML+="<br>".concat(e))}},Xa=t,Ka=function(){function t(){m(this,t)}return p(t,null,[{key:"version",get:function(){return Xa}},{key:"workerCount",get:function(){return pe.workerCount},set:function(e){pe.workerCount=e}},{key:"maxParallelImageRequests",get:function(){return e.c.MAX_PARALLEL_IMAGE_REQUESTS},set:function(t){e.c.MAX_PARALLEL_IMAGE_REQUESTS=t}},{key:"workerUrl",get:function(){return e.c.WORKER_URL},set:function(t){e.c.WORKER_URL=t}},{key:"addProtocol",value:function(t,n){e.c.REGISTERED_PROTOCOLS[t]=n}},{key:"removeProtocol",value:function(t){delete e.c.REGISTERED_PROTOCOLS[t]}}]),t}();return Ka.Map=function(t){v(c,t);var l=g(c);function c(t){var n;if(m(this,c),e.bg.mark(e.bh.create),null!=(t=e.e({},Pa,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if((n=l.call(this,new br(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),{bearingSnap:t.bearingSnap}))._cooperativeGesturesOnWheel=function(e){n._onCooperativeGesture(e,e[n._metaKey],1)},n._contextLost=function(t){t.preventDefault(),n._frame&&(n._frame.cancel(),n._frame=null),n.fire(new e.k("webglcontextlost",{originalEvent:t}))},n._contextRestored=function(t){n._setupPainter(),n.resize(),n._update(),n.fire(new e.k("webglcontextrestored",{originalEvent:t}))},n._onMapScroll=function(e){if(e.target===n._container)return n._container.scrollTop=0,n._container.scrollLeft=0,!1},n._onWindowOnline=function(){n._update()},n._interactive=t.interactive,n._cooperativeGestures=t.cooperativeGestures,n._metaKey=0===navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",n._maxTileCacheSize=t.maxTileCacheSize,n._maxTileCacheZoomLevels=t.maxTileCacheZoomLevels,n._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,n._preserveDrawingBuffer=t.preserveDrawingBuffer,n._antialias=t.antialias,n._trackResize=t.trackResize,n._bearingSnap=t.bearingSnap,n._refreshExpiredTiles=t.refreshExpiredTiles,n._fadeDuration=t.fadeDuration,n._crossSourceCollisions=t.crossSourceCollisions,n._crossFadingFactor=1,n._collectResourceTiming=t.collectResourceTiming,n._renderTaskQueue=new ka,n._controls=[],n._mapId=e.a2(),n._locale=e.e({},ja,t.locale),n._clickTolerance=t.clickTolerance,n._overridePixelRatio=t.pixelRatio,n._maxCanvasSize=t.maxCanvasSize,n.transformCameraUpdate=t.transformCameraUpdate,n._imageQueueHandle=u.addThrottleControl((function(){return n.isMoving()})),n._requestManager=new j(t.transformRequest),"string"==typeof t.container){if(n._container=document.getElementById(t.container),!n._container)throw new Error("Container '".concat(t.container,"' not found."))}else{if(!(t.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");n._container=t.container}if(t.maxBounds&&n.setMaxBounds(t.maxBounds),n._setupContainer(),n._setupPainter(),n.on("move",(function(){return n._update(!1)})),n.on("moveend",(function(){return n._update(!1)})),n.on("zoom",(function(){return n._update(!0)})),n.on("terrain",(function(){n.painter.terrainFacilitator.dirty=!0,n._update(!0)})),n.once("idle",(function(){n._idleTriggered=!0})),"undefined"!=typeof window){addEventListener("online",n._onWindowOnline,!1);var r=!1,i=_r((function(e){n._trackResize&&!n._removed&&n.resize(e)._update()}),50);n._resizeObserver=new ResizeObserver((function(e){r?i(e):r=!0})),n._resizeObserver.observe(n._container)}return n.handlers=new xa(a(n),t),n._cooperativeGestures&&n._setupCooperativeGestures(),n._hash=t.hash&&new wr("string"==typeof t.hash&&t.hash||void 0).addTo(a(n)),n._hash&&n._hash._onHashChange()||(n.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(n.resize(),n.fitBounds(t.bounds,e.e({},t.fitBoundsOptions,{duration:0})))),n.resize(),n._localIdeographFontFamily=t.localIdeographFontFamily,n._validateStyle=t.validateStyle,t.style&&n.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&n.addControl(new _a({customAttribution:t.customAttribution})),t.maplibreLogo&&n.addControl(new wa,t.logoPosition),n.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),n.on("data",(function(t){n._update("style"===t.dataType),n.fire(new e.k("".concat(t.dataType,"data"),t))})),n.on("dataloading",(function(t){n.fire(new e.k("".concat(t.dataType,"dataloading"),t))})),n.on("dataabort",(function(t){n.fire(new e.k("sourcedataabort",t))})),s(n)}return p(c,[{key:"_getMapId",value:function(){return this._mapId}},{key:"addControl",value:function(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=t.onAdd(this);this._controls.push(t);var a=this._controlPositions[n];return-1!==n.indexOf("bottom")?a.insertBefore(r,a.firstChild):a.appendChild(r),this}},{key:"removeControl",value:function(t){if(!t||!t.onRemove)return this.fire(new e.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}},{key:"hasControl",value:function(e){return this._controls.indexOf(e)>-1}},{key:"calculateCameraOptionsFromTo",value:function(e,t,n,r){return null==r&&this.terrain&&(r=this.terrain.getElevationForLngLatZoom(n,this.transform.tileZoom)),i(o(c.prototype),"calculateCameraOptionsFromTo",this).call(this,e,t,n,r)}},{key:"resize",value:function(t){var n,r=this._containerDimensions(),a=r[0],i=r[1],o=this._getClampedPixelRatio(a,i);if(this._resizeCanvas(a,i,o),this.painter.resize(a,i,o),this.painter.overLimit()){var s=this.painter.context.gl;this._maxCanvasSize=[s.drawingBufferWidth,s.drawingBufferHeight];var l=this._getClampedPixelRatio(a,i);this._resizeCanvas(a,i,l),this.painter.resize(a,i,l)}this.transform.resize(a,i),null===(n=this._requestedCameraState)||void 0===n||n.resize(a,i);var c=!this._moving;return c&&(this.stop(),this.fire(new e.k("movestart",t)).fire(new e.k("move",t))),this.fire(new e.k("resize",t)),c&&this.fire(new e.k("moveend",t)),this}},{key:"_getClampedPixelRatio",value:function(e,t){var n=this._maxCanvasSize,r=n[0],a=n[1],i=this.getPixelRatio(),o=e*i,s=t*i;return Math.min(o>r?r/o:1,s>a?a/s:1)*i}},{key:"getPixelRatio",value:function(){var e;return null!==(e=this._overridePixelRatio)&&void 0!==e?e:devicePixelRatio}},{key:"setPixelRatio",value:function(e){this._overridePixelRatio=e,this.resize()}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()}},{key:"setMaxBounds",value:function(e){return this.transform.setMaxBounds(H.convert(e)),this._update()}},{key:"setMinZoom",value:function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(e){if((e=null==e?60:e)>85)throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(e){return this.transform.renderWorldCopies=e,this._update()}},{key:"getCooperativeGestures",value:function(){return this._cooperativeGestures}},{key:"setCooperativeGestures",value:function(e){return this._cooperativeGestures=e,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}},{key:"project",value:function(t){return this.transform.locationPoint(e.L.convert(t),this.style&&this.terrain)}},{key:"unproject",value:function(t){return this.transform.pointLocation(e.P.convert(t),this.terrain)}},{key:"isMoving",value:function(){var e;return this._moving||(null===(e=this.handlers)||void 0===e?void 0:e.isMoving())}},{key:"isZooming",value:function(){var e;return this._zooming||(null===(e=this.handlers)||void 0===e?void 0:e.isZooming())}},{key:"isRotating",value:function(){var e;return this._rotating||(null===(e=this.handlers)||void 0===e?void 0:e.isRotating())}},{key:"_createDelegatedListener",value:function(e,t,n){var a=this;if("mouseenter"===e||"mouseover"===e){var i=!1,o=function(r){var o=a.getLayer(t)?a.queryRenderedFeatures(r.point,{layers:[t]}):[];o.length?i||(i=!0,n.call(a,new Ar(e,a,r.originalEvent,{features:o}))):i=!1};return{layer:t,listener:n,delegates:{mousemove:o,mouseout:function(){i=!1}}}}if("mouseleave"===e||"mouseout"===e){var s=!1,l=function(r){(a.getLayer(t)?a.queryRenderedFeatures(r.point,{layers:[t]}):[]).length?s=!0:s&&(s=!1,n.call(a,new Ar(e,a,r.originalEvent)))},c=function(t){s&&(s=!1,n.call(a,new Ar(e,a,t.originalEvent)))};return{layer:t,listener:n,delegates:{mousemove:l,mouseout:c}}}var u=function(e){var r=a.getLayer(t)?a.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(a,e),delete e.features)};return{layer:t,listener:n,delegates:r({},e,u)}}},{key:"on",value:function(e,t,n){if(void 0===n)return i(o(c.prototype),"on",this).call(this,e,t);var r=this._createDelegatedListener(e,t,n);for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(r),r.delegates)this.on(a,r.delegates[a]);return this}},{key:"once",value:function(e,t,n){if(void 0===n)return i(o(c.prototype),"once",this).call(this,e,t);var r=this._createDelegatedListener(e,t,n);for(var a in r.delegates)this.once(a,r.delegates[a]);return this}},{key:"off",value:function(e,t,n){var r=this;return void 0===n?i(o(c.prototype),"off",this).call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(a){for(var i=r._delegatedListeners[e],o=0;o<i.length;o++){var s=i[o];if(s.layer===t&&s.listener===n){for(var l in s.delegates)r.off(l,s.delegates[l]);return i.splice(o,1),r}}}(),this)}},{key:"queryRenderedFeatures",value:function(t,n){if(!this.style)return[];var r,a=t instanceof e.P||Array.isArray(t),i=a?t:[[0,0],[this.transform.width,this.transform.height]];if(n=n||(a?{}:t)||{},i instanceof e.P||"number"==typeof i[0])r=[e.P.convert(i)];else{var o=e.P.convert(i[0]),s=e.P.convert(i[1]);r=[o,new e.P(s.x,o.y),s,new e.P(o.x,s.y),o]}return this.style.queryRenderedFeatures(r,n,this.transform)}},{key:"querySourceFeatures",value:function(e,t){return this.style.querySourceFeatures(e,t)}},{key:"setStyle",value:function(t,n){return!1!==(n=e.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))}},{key:"setTransformRequest",value:function(e){return this._requestManager.setTransformRequest(e),this}},{key:"_getUIString",value:function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '".concat(e,"'"));return t}},{key:"_updateStyle",value:function(e,t){var n=this;if(!t.transformStyle||!this.style||this.style._loaded){var r=this.style&&t.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!e)),e?(this.style=new vt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e,t,r):this.style.loadJSON(e,t,r),this):(delete this.style,this)}this.style.once("style.load",(function(){return n._updateStyle(e,t)}))}},{key:"_lazyInitEmptyStyle",value:function(){this.style||(this.style=new vt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}},{key:"_diffStyle",value:function(t,n){var r=this;if("string"==typeof t){var a=this._requestManager.transformRequest(t,y.Style);e.f(a,(function(t,a){t?r.fire(new e.j(t)):a&&r._updateDiff(a,n)}))}else"object"==typeof t&&this._updateDiff(t,n)}},{key:"_updateDiff",value:function(t,n){try{this.style.setState(t,n)&&this._update(!0)}catch(b){e.w("Unable to perform style diff: ".concat(b.message||b.error||b,".  Rebuilding the style from scratch.")),this._updateStyle(t,n)}}},{key:"getStyle",value:function(){if(this.style)return this.style.serialize()}},{key:"isStyleLoaded",value:function(){return this.style?this.style.loaded():e.w("There is no style added to the map.")}},{key:"addSource",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}},{key:"isSourceLoaded",value:function(t){var n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.j(new Error("There is no source with ID '".concat(t,"'"))))}},{key:"setTerrain",value:function(t){var n=this;if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),t){var r=this.style.sourceCaches[t.source];if(!r)throw new Error("cannot load terrain, because there exists no source with ID: ".concat(t.source));for(var a in this.style._layers){var i=this.style._layers[a];"hillshade"===i.type&&i.source===t.source&&e.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Na(this.painter,r,t),this.painter.renderToTexture=new Ia(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=function(e){"style"===e.dataType?n.terrain.sourceCache.freeRtt():"source"===e.dataType&&e.tile&&(e.sourceId!==t.source||n._elevationFreeze||(n.transform._minEleveationForCurrentTile=n.terrain.getMinTileElevationForLngLatZoom(n.transform.center,n.transform.tileZoom),n.transform.elevation=n.terrain.getElevationForLngLatZoom(n.transform.center,n.transform.tileZoom)),n.terrain.sourceCache.freeRtt(e.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new e.k("terrain",{terrain:t})),this}},{key:"getTerrain",value:function(){var e,t;return null!==(t=null===(e=this.terrain)||void 0===e?void 0:e.options)&&void 0!==t?t:null}},{key:"areTilesLoaded",value:function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var a=n[r];if("loaded"!==a.state&&"errored"!==a.state)return!1}}return!0}},{key:"addSourceType",value:function(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}},{key:"removeSource",value:function(e){return this.style.removeSource(e),this._update(!0)}},{key:"getSource",value:function(e){return this.style.getSource(e)}},{key:"addImage",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.pixelRatio,i=void 0===a?1:a,o=r.sdf,s=void 0!==o&&o,l=r.stretchX,c=r.stretchY,u=r.content;if(this._lazyInitEmptyStyle(),!(n instanceof HTMLImageElement||e.a(n))){if(void 0===n.width||void 0===n.height)return this.fire(new e.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var d=n.width,h=n.height,f=n.data,p=n;return this.style.addImage(t,{data:new e.R({width:d,height:h},new Uint8Array(f)),pixelRatio:i,stretchX:l,stretchY:c,content:u,sdf:s,version:0,userImage:p}),p.onAdd&&p.onAdd(this,t),this}var m=e.h.getImageData(n),v=m.width,g=m.height,y=m.data;this.style.addImage(t,{data:new e.R({width:v,height:g},y),pixelRatio:i,stretchX:l,stretchY:c,content:u,sdf:s,version:0})}},{key:"updateImage",value:function(t,n){var r=this.style.getImage(t);if(!r)return this.fire(new e.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var a=n instanceof HTMLImageElement||e.a(n)?e.h.getImageData(n):n,i=a.width,o=a.height,s=a.data;if(void 0===i||void 0===o)return this.fire(new e.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(i!==r.data.width||o!==r.data.height)return this.fire(new e.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));var l=!(n instanceof HTMLImageElement||e.a(n));return r.data.replace(s,l),this.style.updateImage(t,r),this}},{key:"getImage",value:function(e){return this.style.getImage(e)}},{key:"hasImage",value:function(t){return t?!!this.style.getImage(t):(this.fire(new e.j(new Error("Missing required image id"))),!1)}},{key:"removeImage",value:function(e){this.style.removeImage(e)}},{key:"loadImage",value:function(e,t){u.getImage(this._requestManager.transformRequest(e,y.Image),t)}},{key:"listImages",value:function(){return this.style.listImages()}},{key:"addLayer",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}},{key:"moveLayer",value:function(e,t){return this.style.moveLayer(e,t),this._update(!0)}},{key:"removeLayer",value:function(e){return this.style.removeLayer(e),this._update(!0)}},{key:"getLayer",value:function(e){return this.style.getLayer(e)}},{key:"getLayersOrder",value:function(){return this.style.getLayersOrder()}},{key:"setLayerZoomRange",value:function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}},{key:"setFilter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.style.setFilter(e,t,n),this._update(!0)}},{key:"getFilter",value:function(e){return this.style.getFilter(e)}},{key:"setPaintProperty",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setPaintProperty(e,t,n,r),this._update(!0)}},{key:"getPaintProperty",value:function(e,t){return this.style.getPaintProperty(e,t)}},{key:"setLayoutProperty",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setLayoutProperty(e,t,n,r),this._update(!0)}},{key:"getLayoutProperty",value:function(e,t){return this.style.getLayoutProperty(e,t)}},{key:"setGlyphs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setGlyphs(e,t),this._update(!0)}},{key:"getGlyphs",value:function(){return this.style.getGlyphsUrl()}},{key:"addSprite",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._lazyInitEmptyStyle(),this.style.addSprite(e,t,r,(function(e){e||n._update(!0)})),this}},{key:"removeSprite",value:function(e){return this._lazyInitEmptyStyle(),this.style.removeSprite(e),this._update(!0)}},{key:"getSprite",value:function(){return this.style.getSprite()}},{key:"setSprite",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setSprite(e,n,(function(e){e||t._update(!0)})),this}},{key:"setLight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}},{key:"getLight",value:function(){return this.style.getLight()}},{key:"setFeatureState",value:function(e,t){return this.style.setFeatureState(e,t),this._update()}},{key:"removeFeatureState",value:function(e,t){return this.style.removeFeatureState(e,t),this._update()}},{key:"getFeatureState",value:function(e){return this.style.getFeatureState(e)}},{key:"getContainer",value:function(){return this._container}},{key:"getCanvasContainer",value:function(){return this._canvasContainer}},{key:"getCanvas",value:function(){return this._canvas}},{key:"_containerDimensions",value:function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}},{key:"_setupContainer",value:function(){var e=this._container;e.classList.add("maplibregl-map");var t=this._canvasContainer=n.create("div","maplibregl-canvas-container",e);this._interactive&&t.classList.add("maplibregl-interactive"),this._canvas=n.create("canvas","maplibregl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var r=this._containerDimensions(),a=this._getClampedPixelRatio(r[0],r[1]);this._resizeCanvas(r[0],r[1],a);var i=this._controlContainer=n.create("div","maplibregl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){o[e]=n.create("div","maplibregl-ctrl-".concat(e," "),i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}},{key:"_setupCooperativeGestures",value:function(){this._cooperativeGesturesScreen=n.create("div","maplibregl-cooperative-gesture-screen",this._container);var e="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(e="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use \u2318 + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML='\n            <div class="maplibregl-desktop-message">'.concat(e,'</div>\n            <div class="maplibregl-mobile-message">').concat("boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map","</div>\n        "),this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}},{key:"_destroyCooperativeGestures",value:function(){n.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}},{key:"_resizeCanvas",value:function(e,t,n){this._canvas.width=Math.floor(n*e),this._canvas.height=Math.floor(n*t),this._canvas.style.width="".concat(e,"px"),this._canvas.style.height="".concat(t,"px")}},{key:"_setupPainter",value:function(){var e={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1},t=null;this._canvas.addEventListener("webglcontextcreationerror",(function(n){t={requestedAttributes:e},n&&(t.statusMessage=n.statusMessage,t.type=n.type)}),{once:!0});var n=this._canvas.getContext("webgl2",e)||this._canvas.getContext("webgl",e);if(!n){var r="Failed to initialize WebGL";throw t?(t.message=r,new Error(JSON.stringify(t))):new Error(r)}this.painter=new vr(n,this.transform),b.testSupport(n)}},{key:"_onCooperativeGesture",value:function(e,t,n){var r=this;return!t&&n<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout((function(){r._cooperativeGesturesScreen.classList.remove("maplibregl-show")}),100)),!1}},{key:"loaded",value:function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}},{key:"_update",value:function(e){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}},{key:"_requestRenderFrame",value:function(e){return this._update(),this._renderTaskQueue.add(e)}},{key:"_cancelRenderFrame",value:function(e){this._renderTaskQueue.remove(e)}},{key:"_render",value:function(t){var n=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var r=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var a=this.transform.zoom,i=e.h.now();this.style.zoomHistory.update(a,i);var o=new e.a8(a,{now:i,fadeDuration:n,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),s=o.crossFadingFactor();1===s&&s===this._crossFadingFactor||(r=!0,this._crossFadingFactor=s),this.style.update(o)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,n,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:n,showPadding:this.showPadding}),this.fire(new e.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,e.bg.mark(e.bh.load),this.fire(new e.k("load"))),this.style&&(this.style.hasTransitions()||r)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();var l=this._sourcesDirty||this._styleDirty||this._placementDirty;return l||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.k("idle")),!this._loaded||this._fullyLoaded||l||(this._fullyLoaded=!0,e.bg.mark(e.bh.fullLoad)),this}}},{key:"redraw",value:function(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}},{key:"remove",value:function(){var t;this._hash&&this._hash.remove();var r,a=f(this._controls);try{for(a.s();!(r=a.n()).done;)r.value.onRemove(this)}catch(o){a.e(o)}finally{a.f()}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&removeEventListener("online",this._onWindowOnline,!1),u.removeThrottleControl(this._imageQueueHandle),null===(t=this._resizeObserver)||void 0===t||t.disconnect();var i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),n.remove(this._canvasContainer),n.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),e.bg.clearMetrics(),this._removed=!0,this.fire(new e.k("remove"))}},{key:"triggerRepaint",value:function(){var t=this;this.style&&!this._frame&&(this._frame=e.h.frame((function(n){e.bg.frame(n),t._frame=null,t._render(n)})))}},{key:"showTileBoundaries",get:function(){return!!this._showTileBoundaries},set:function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}},{key:"showPadding",get:function(){return!!this._showPadding},set:function(e){this._showPadding!==e&&(this._showPadding=e,this._update())}},{key:"showCollisionBoxes",get:function(){return!!this._showCollisionBoxes},set:function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}},{key:"showOverdrawInspector",get:function(){return!!this._showOverdrawInspector},set:function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}},{key:"repaint",get:function(){return!!this._repaint},set:function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}},{key:"vertices",get:function(){return!!this._vertices},set:function(e){this._vertices=e,this._update()}},{key:"version",get:function(){return Aa}},{key:"getCameraTargetElevation",value:function(){return this.transform.elevation}}]),c}(ba),Ka.NavigationControl=function(){function t(r){var a=this;m(this,t),this._updateZoomButtons=function(){var e=a._map.getZoom(),t=e===a._map.getMaxZoom(),n=e===a._map.getMinZoom();a._zoomInButton.disabled=t,a._zoomOutButton.disabled=n,a._zoomInButton.setAttribute("aria-disabled",t.toString()),a._zoomOutButton.setAttribute("aria-disabled",n.toString())},this._rotateCompassArrow=function(){var e=a.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(a._map.transform.pitch*(Math.PI/180)),.5),") rotateX(").concat(a._map.transform.pitch,"deg) rotateZ(").concat(a._map.transform.angle*(180/Math.PI),"deg)"):"rotate(".concat(a._map.transform.angle*(180/Math.PI),"deg)");a._compassIcon.style.transform=e},this._setButtonTitle=function(e,t){var n=a._map._getUIString("NavigationControl.".concat(t));e.title=n,e.setAttribute("aria-label",n)},this.options=e.e({},Da,r),this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(function(e){return a._map.zoomIn({},{originalEvent:e})})),n.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(function(e){return a._map.zoomOut({},{originalEvent:e})})),n.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(function(e){a.options.visualizePitch?a._map.resetNorthPitch({},{originalEvent:e}):a._map.resetNorth({},{originalEvent:e})})),this._compassIcon=n.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}return p(t,[{key:"onAdd",value:function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new La(this._map,this._compass,this.options.visualizePitch)),this._container}},{key:"onRemove",value:function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}},{key:"_createButton",value:function(e,t){var r=n.create("button",e,this._container);return r.type="button",r.addEventListener("click",t),r}}]),t}(),Ka.GeolocateControl=function(t){v(i,t);var r=g(i);function i(t){var o;return m(this,i),(o=r.call(this))._onSuccess=function(t){if(o._map){if(o._isOutOfMapMaxBounds(t))return o._setErrorState(),o.fire(new e.k("outofmaxbounds",t)),o._updateMarker(),void o._finish();if(o.options.trackUserLocation)switch(o._lastKnownPosition=t,o._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":o._watchState="ACTIVE_LOCK",o._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),o._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),o._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":o._watchState="BACKGROUND",o._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),o._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),o._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error("Unexpected watchState ".concat(o._watchState))}o.options.showUserLocation&&"OFF"!==o._watchState&&o._updateMarker(t),o.options.trackUserLocation&&"ACTIVE_LOCK"!==o._watchState||o._updateCamera(t),o.options.showUserLocation&&o._dotElement.classList.remove("maplibregl-user-location-dot-stale"),o.fire(new e.k("geolocate",t)),o._finish()}},o._updateCamera=function(t){var n=new e.L(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,a=o._map.getBearing(),i=e.e({bearing:a},o.options.fitBoundsOptions),s=H.fromLngLat(n,r);o._map.fitBounds(s,i,{geolocateSource:!0})},o._updateMarker=function(t){if(t){var n=new e.L(t.coords.longitude,t.coords.latitude);o._accuracyCircleMarker.setLngLat(n).addTo(o._map),o._userLocationDotMarker.setLngLat(n).addTo(o._map),o._accuracy=t.coords.accuracy,o.options.showUserLocation&&o.options.showAccuracyCircle&&o._updateCircleRadius()}else o._userLocationDotMarker.remove(),o._accuracyCircleMarker.remove()},o._onZoom=function(){o.options.showUserLocation&&o.options.showAccuracyCircle&&o._updateCircleRadius()},o._onError=function(t){if(o._map){if(o.options.trackUserLocation)if(1===t.code){o._watchState="OFF",o._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),o._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),o._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),o._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),o._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),o._geolocateButton.disabled=!0;var n=o._map._getUIString("GeolocateControl.LocationNotAvailable");o._geolocateButton.title=n,o._geolocateButton.setAttribute("aria-label",n),void 0!==o._geolocationWatchID&&o._clearWatch()}else{if(3===t.code&&Ua)return;o._setErrorState()}"OFF"!==o._watchState&&o.options.showUserLocation&&o._dotElement.classList.add("maplibregl-user-location-dot-stale"),o.fire(new e.k("error",t)),o._finish()}},o._finish=function(){o._timeoutId&&clearTimeout(o._timeoutId),o._timeoutId=void 0},o._setupUI=function(t){if(o._map){if(o._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),o._geolocateButton=n.create("button","maplibregl-ctrl-geolocate",o._container),n.create("span","maplibregl-ctrl-icon",o._geolocateButton).setAttribute("aria-hidden","true"),o._geolocateButton.type="button",!1===t){e.w("Geolocation support is not available so the GeolocateControl will be disabled.");var r=o._map._getUIString("GeolocateControl.LocationNotAvailable");o._geolocateButton.disabled=!0,o._geolocateButton.title=r,o._geolocateButton.setAttribute("aria-label",r)}else{var i=o._map._getUIString("GeolocateControl.FindMyLocation");o._geolocateButton.title=i,o._geolocateButton.setAttribute("aria-label",i)}o.options.trackUserLocation&&(o._geolocateButton.setAttribute("aria-pressed","false"),o._watchState="OFF"),o.options.showUserLocation&&(o._dotElement=n.create("div","maplibregl-user-location-dot"),o._userLocationDotMarker=new Fa({element:o._dotElement}),o._circleElement=n.create("div","maplibregl-user-location-accuracy-circle"),o._accuracyCircleMarker=new Fa({element:o._circleElement,pitchAlignment:"map"}),o.options.trackUserLocation&&(o._watchState="OFF"),o._map.on("zoom",o._onZoom)),o._geolocateButton.addEventListener("click",o.trigger.bind(a(o))),o._setup=!0,o.options.trackUserLocation&&o._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==o._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(o._watchState="BACKGROUND",o._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),o._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),o.fire(new e.k("trackuserlocationend")))}))}},o.options=e.e({},Ba,t),o}return p(i,[{key:"onAdd",value:function(e){return this._map=e,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(e){void 0===ya||arguments.length>1&&void 0!==arguments[1]&&arguments[1]?void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(t){ya="denied"!==t.state,e(ya)})).catch((function(){ya=!!window.navigator.geolocation,e(ya)})):(ya=!!window.navigator.geolocation,e(ya)):e(ya)}(this._setupUI),this._container}},{key:"onRemove",value:function(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Za=0,Ua=!1}},{key:"_isOutOfMapMaxBounds",value:function(e){var t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}},{key:"_setErrorState",value:function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}}},{key:"_updateCircleRadius",value:function(){var e=this._map.getBounds(),t=e.getSouthEast(),n=e.getNorthEast(),r=t.distanceTo(n),a=Math.ceil(this._accuracy/(r/this._map._container.clientHeight)*2);this._circleElement.style.width="".concat(a,"px"),this._circleElement.style.height="".concat(a,"px")}},{key:"trigger",value:function(){if(!this._setup)return e.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Za--,Ua=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new e.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.k("trackuserlocationstart"));break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Za>1?(t={maximumAge:6e5,timeout:0},Ua=!0):(t=this.options.positionOptions,Ua=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}},{key:"_clearWatch",value:function(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}}]),i}(e.E),Ka.AttributionControl=_a,Ka.LogoControl=wa,Ka.ScaleControl=function(){function t(n){var r=this;m(this,t),this._onMove=function(){qa(r._map,r._container,r.options)},this.setUnit=function(e){r.options.unit=e,qa(r._map,r._container,r.options)},this.options=e.e({},Va,n)}return p(t,[{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"onAdd",value:function(e){return this._map=e,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}},{key:"onRemove",value:function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}}]),t}(),Ka.FullscreenControl=function(t){v(a,t);var r=g(a);function a(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(this,a),(t=r.call(this))._onFullscreenChange=function(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===t._container!==t._fullscreen&&t._handleFullscreenChange()},t._onClickFullscreen=function(){t._isFullscreen()?t._exitFullscreen():t._requestFullscreen()},t._fullscreen=!1,n&&n.container&&(n.container instanceof HTMLElement?t._container=n.container:e.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?t._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?t._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?t._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(t._fullscreenchange="MSFullscreenChange"),t}return p(a,[{key:"onAdd",value:function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}},{key:"onRemove",value:function(){n.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}},{key:"_setupUI",value:function(){var e=this._fullscreenButton=n.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);n.create("span","maplibregl-ctrl-icon",e).setAttribute("aria-hidden","true"),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}},{key:"_updateTitle",value:function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}},{key:"_getTitle",value:function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}},{key:"_isFullscreen",value:function(){return this._fullscreen}},{key:"_handleFullscreenChange",value:function(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new e.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new e.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}},{key:"_exitFullscreen",value:function(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}},{key:"_requestFullscreen",value:function(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}},{key:"_togglePseudoFullScreen",value:function(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}}]),a}(e.E),Ka.TerrainControl=function(){function e(t){var n=this;m(this,e),this._toggleTerrain=function(){n._map.getTerrain()?n._map.setTerrain(null):n._map.setTerrain(n.options),n._updateTerrainIcon()},this._updateTerrainIcon=function(){n._terrainButton.classList.remove("maplibregl-ctrl-terrain"),n._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),n._map.terrain?(n._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),n._terrainButton.title=n._map._getUIString("TerrainControl.disableTerrain")):(n._terrainButton.classList.add("maplibregl-ctrl-terrain"),n._terrainButton.title=n._map._getUIString("TerrainControl.enableTerrain"))},this.options=t}return p(e,[{key:"onAdd",value:function(e){return this._map=e,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=n.create("button","maplibregl-ctrl-terrain",this._container),n.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}},{key:"onRemove",value:function(){n.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}}]),e}(),Ka.Popup=function(t){v(i,t);var r=g(i);function i(t){var o;return m(this,i),(o=r.call(this)).remove=function(){return o._content&&n.remove(o._content),o._container&&(n.remove(o._container),delete o._container),o._map&&(o._map.off("move",o._update),o._map.off("move",o._onClose),o._map.off("click",o._onClose),o._map.off("remove",o.remove),o._map.off("mousemove",o._onMouseMove),o._map.off("mouseup",o._onMouseUp),o._map.off("drag",o._onDrag),delete o._map),o.fire(new e.k("close")),a(o)},o._onMouseUp=function(e){o._update(e.point)},o._onMouseMove=function(e){o._update(e.point)},o._onDrag=function(e){o._update(e.point)},o._update=function(e){if(o._map&&(o._lngLat||o._trackPointer)&&o._content){if(!o._container){if(o._container=n.create("div","maplibregl-popup",o._map.getContainer()),o._tip=n.create("div","maplibregl-popup-tip",o._container),o._container.appendChild(o._content),o.options.className){var t,r=f(o.options.className.split(" "));try{for(r.s();!(t=r.n()).done;){var a=t.value;o._container.classList.add(a)}}catch(p){r.e(p)}finally{r.f()}}o._trackPointer&&o._container.classList.add("maplibregl-popup-track-pointer")}if(o.options.maxWidth&&o._container.style.maxWidth!==o.options.maxWidth&&(o._container.style.maxWidth=o.options.maxWidth),o._map.transform.renderWorldCopies&&!o._trackPointer&&(o._lngLat=Oa(o._lngLat,o._pos,o._map.transform)),!o._trackPointer||e){var i=o._pos=o._trackPointer&&e?e:o._map.project(o._lngLat),s=o.options.anchor,l=Ga(o.options.offset);if(!s){var c,u=o._container.offsetWidth,d=o._container.offsetHeight;c=i.y+l.bottom.y<d?["top"]:i.y>o._map.transform.height-d?["bottom"]:[],i.x<u/2?c.push("left"):i.x>o._map.transform.width-u/2&&c.push("right"),s=0===c.length?"bottom":c.join("-")}var h=i.add(l[s]).round();n.setTransform(o._container,"".concat(za[s]," translate(").concat(h.x,"px,").concat(h.y,"px)")),Ra(o._container,s,"popup")}}},o._onClose=function(){o.remove()},o.options=e.e(Object.create(Wa),t),o}return p(i,[{key:"addTo",value:function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new e.k("open")),this}},{key:"isOpen",value:function(){return!!this._map}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){return this._lngLat=e.L.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}},{key:"trackPointer",value:function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}},{key:"getElement",value:function(){return this._container}},{key:"setText",value:function(e){return this.setDOMContent(document.createTextNode(e))}},{key:"setHTML",value:function(e){var t,n=document.createDocumentFragment(),r=document.createElement("body");for(r.innerHTML=e;t=r.firstChild;)n.appendChild(t);return this.setDOMContent(n)}},{key:"getMaxWidth",value:function(){var e;return null===(e=this._container)||void 0===e?void 0:e.style.maxWidth}},{key:"setMaxWidth",value:function(e){return this.options.maxWidth=e,this._update(),this}},{key:"setDOMContent",value:function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}},{key:"addClassName",value:function(e){this._container&&this._container.classList.add(e)}},{key:"removeClassName",value:function(e){this._container&&this._container.classList.remove(e)}},{key:"setOffset",value:function(e){return this.options.offset=e,this._update(),this}},{key:"toggleClassName",value:function(e){if(this._container)return this._container.classList.toggle(e)}},{key:"_createCloseButton",value:function(){this.options.closeButton&&(this._closeButton=n.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}},{key:"_focusFirstElement",value:function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(Ya);e&&e.focus()}}}]),i}(e.E),Ka.Marker=Fa,Ka.Style=vt,Ka.LngLat=e.L,Ka.LngLatBounds=H,Ka.Point=e.P,Ka.MercatorCoordinate=e.U,Ka.Evented=e.E,Ka.AJAXError=e.bi,Ka.config=e.c,Ka.CanvasSource=ee,Ka.GeoJSONSource=X,Ka.ImageSource=$,Ka.RasterDEMTileSource=J,Ka.RasterTileSource=G,Ka.VectorTileSource=Y,Ka.VideoSource=Q,Ka.setRTLTextPlugin=e.bj,Ka.getRTLTextPluginStatus=e.bk,Ka.prewarm=function(){ve().acquire(fe)},Ka.clearPrewarmedResources=function(){var e=he;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(fe),he=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Ja.extend(Ka,{isSafari:e.ac,getPerformanceMetrics:e.bg.getPerformanceMetrics}),Ka})),n}()},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(0,r.Z)(a.key),a)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(181);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1120),a=n(8814),i=n(1002),o=n(7326);function s(e){var t=(0,a.Z)();return function(){var n,a=(0,r.Z)(e);if(t){var s=(0,r.Z)(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===(0,i.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function a(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1120);function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},a.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9611);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var a=n(181),i=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||(0,a.Z)(e,t)||(0,i.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var a=n(9199),i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,a.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1002);function a(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==(0,r.Z)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},9794:function(e){"use strict";e.exports={version:"1.0.34"}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(i,o),i}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{200:"67a89a02",539:"55a50ab6"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="mgh:";n.l=function(r,a,i,o){if(e[r])e[r].push(a);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[a];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/MGHsite/",function(){var e={179:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=i);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var a,i,o=r[0],s=r[1],l=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)l(n)}for(t&&t(r);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkmgh=self.webpackChunkmgh||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e=n(2791),t=n.t(e,2),r=n(1250),a=n(1002);function i(){i=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var a=t&&t.prototype instanceof x?t:x,i=Object.create(a.prototype),s=new P(r||[]);return o(i,"_invoke",{value:E(e,n,s)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var p="suspendedStart",m="suspendedYield",v="executing",g="completed",y={};function x(){}function b(){}function _(){}var w={};d(w,l,(function(){return this}));var k=Object.getPrototypeOf,j=k&&k(k(M([])));j&&j!==n&&r.call(j,l)&&(w=j);var S=_.prototype=x.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(i,o,s,l){var c=f(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==(0,a.Z)(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function E(t,n,r){var a=p;return function(i,o){if(a===v)throw new Error("Generator is already running");if(a===g){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var l=T(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=v;var c=f(t,n,r);if("normal"===c.type){if(a=r.done?g:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=g,r.method="throw",r.arg=c.arg)}}}function T(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError((0,a.Z)(t)+" is not iterable")}return b.prototype=_,o(S,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:b,configurable:!0}),b.displayName=d(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(N.prototype),d(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new N(h(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(S),d(S,u,"Generator"),d(S,l,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function o(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,l,"next",e)}function l(e){o(i,r,a,s,l,"throw",e)}s(void 0)}))}}var l=n(9439),c=n(5671),u=n(3144),d=n(136),h=n(7277),f=n(1120),p=n(9611);var m=n(8814);function v(e,t,n){return v=(0,m.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,p.Z)(a,n.prototype),a},v.apply(null,arguments)}function g(e){var t="function"===typeof Map?new Map:void 0;return g=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return v(e,arguments,(0,f.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,p.Z)(n,e)},g(e)}var y,x,b,_,w,k=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",i=arguments.length>2?arguments[2]:void 0;return(0,c.Z)(this,n),(r=t.call(this,e)).name=a,r.context=i,r}return(0,u.Z)(n)}(g(Error)),j=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,"Failed to send a request to the Edge Function","FunctionsFetchError",e)}return(0,u.Z)(n)}(k),S=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,"Relay Error invoking the Edge Function","FunctionsRelayError",e)}return(0,u.Z)(n)}(k),C=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,"Edge Function returned a non-2xx status code","FunctionsHttpError",e)}return(0,u.Z)(n)}(k),N=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},E=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.headers,i=void 0===a?{}:a,o=r.customFetch;(0,c.Z)(this,e),this.url=t,this.headers=i,this.fetch=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.t.bind(n,526,23)).then((function(e){return e.default.apply(void 0,t)}))}:fetch),function(){return t.apply(void 0,arguments)}}(o)}return(0,u.Z)(e,[{key:"setAuth",value:function(e){this.headers.Authorization="Bearer ".concat(e)}},{key:"invoke",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return N(this,void 0,void 0,i().mark((function r(){var a,o,s,l,c,u,d,h,f;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=n.headers,o=n.method,s=n.body,l={},s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=s):"string"===typeof s?(l["Content-Type"]="text/plain",c=s):"undefined"!==typeof FormData&&s instanceof FormData?c=s:(l["Content-Type"]="application/json",c=JSON.stringify(s))),r.next=6,this.fetch("".concat(this.url,"/").concat(e),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:c}).catch((function(e){throw new j(e)}));case 6:if(u=r.sent,!(d=u.headers.get("x-relay-error"))||"true"!==d){r.next=10;break}throw new S(u);case 10:if(u.ok){r.next=12;break}throw new C(u);case 12:if("application/json"!==(h=(null!==(t=u.headers.get("Content-Type"))&&void 0!==t?t:"text/plain").split(";")[0].trim())){r.next=19;break}return r.next=16,u.json();case 16:f=r.sent,r.next=34;break;case 19:if("application/octet-stream"!==h){r.next=25;break}return r.next=22,u.blob();case 22:f=r.sent,r.next=34;break;case 25:if("multipart/form-data"!==h){r.next=31;break}return r.next=28,u.formData();case 28:f=r.sent,r.next=34;break;case 31:return r.next=33,u.text();case 33:f=r.sent;case 34:return r.abrupt("return",{data:f,error:null});case 37:return r.prev=37,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 40:case"end":return r.stop()}}),r,this,[[0,37]])})))}}]),e}(),T=n(3433),I=n(526),A=n.n(I),P=function(){function e(t){(0,c.Z)(this,e),this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:"undefined"===typeof fetch?this.fetch=A():this.fetch=fetch}return(0,u.Z)(e,[{key:"throwOnError",value:function(){return this.shouldThrowOnError=!0,this}},{key:"then",value:function(e,t){var n=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");var r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var e=s(i().mark((function e(t){var r,a,o,s,l,c,u,d,h,f,p,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null,l=null,c=null,u=t.status,d=t.statusText,!t.ok){e.next=17;break}if("HEAD"===n.method){e.next=11;break}return e.next=9,t.text();case 9:""===(h=e.sent)||(l="text/csv"===n.headers.Accept||n.headers.Accept&&n.headers.Accept.includes("application/vnd.pgrst.plan+text")?h:JSON.parse(h));case 11:f=null===(r=n.headers.Prefer)||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),p=null===(a=t.headers.get("content-range"))||void 0===a?void 0:a.split("/"),f&&p&&p.length>1&&(c=parseInt(p[1])),n.isMaybeSingle&&"GET"===n.method&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:"Results contain ".concat(l.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l=1===l.length?l[0]:null),e.next=24;break;case 17:return e.next=19,t.text();case 19:m=e.sent;try{s=JSON.parse(m),Array.isArray(s)&&404===t.status&&(l=[],s=null,u=200,d="OK")}catch(i){404===t.status&&""===m?(u=204,d="No Content"):s={message:m}}if(s&&n.isMaybeSingle&&(null===(o=null===s||void 0===s?void 0:s.details)||void 0===o?void 0:o.includes("Results contain 0 rows"))&&(s=null,u=200,d="OK"),!s||!n.shouldThrowOnError){e.next=24;break}throw s;case 24:return v={error:s,data:l,count:c,status:u,statusText:d},e.abrupt("return",v);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return this.shouldThrowOnError||(r=r.catch((function(e){var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}}))),r.then(e,t)}}]),e}(),M=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"select",value:function(e){var t=!1,n=(null!==e&&void 0!==e?e:"*").split("").map((function(e){return/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)})).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}},{key:"order",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ascending,r=void 0===n||n,a=t.nullsFirst,i=t.foreignTable,o=i?"".concat(i,".order"):"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,"".concat(s?"".concat(s,","):"").concat(e,".").concat(r?"asc":"desc").concat(void 0===a?"":a?".nullsfirst":".nullslast")),this}},{key:"limit",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).foreignTable,n="undefined"===typeof t?"limit":"".concat(t,".limit");return this.url.searchParams.set(n,"".concat(e)),this}},{key:"range",value:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).foreignTable,r="undefined"===typeof n?"offset":"".concat(n,".offset"),a="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}},{key:"abortSignal",value:function(e){return this.signal=e,this}},{key:"single",value:function(){return this.headers.Accept="application/vnd.pgrst.object+json",this}},{key:"maybeSingle",value:function(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}},{key:"csv",value:function(){return this.headers.Accept="text/csv",this}},{key:"geojson",value:function(){return this.headers.Accept="application/geo+json",this}},{key:"explain",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.analyze,n=void 0!==t&&t,r=e.verbose,a=void 0!==r&&r,i=e.settings,o=void 0!==i&&i,s=e.buffers,l=void 0!==s&&s,c=e.wal,u=void 0!==c&&c,d=e.format,h=void 0===d?"text":d,f=[n?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=this.headers.Accept;return this.headers.Accept="application/vnd.pgrst.plan+".concat(h,'; for="').concat(p,'"; options=').concat(f,";"),this}},{key:"rollback",value:function(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}},{key:"returns",value:function(){return this}}]),n}(P),D=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"eq",value:function(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}},{key:"neq",value:function(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}},{key:"gt",value:function(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}},{key:"gte",value:function(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}},{key:"lt",value:function(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}},{key:"lte",value:function(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}},{key:"like",value:function(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}},{key:"likeAllOf",value:function(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}},{key:"likeAnyOf",value:function(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}},{key:"ilike",value:function(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}},{key:"ilikeAllOf",value:function(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}},{key:"ilikeAnyOf",value:function(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}},{key:"is",value:function(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}},{key:"in",value:function(e,t){var n=t.map((function(e){return"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)})).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}},{key:"contains",value:function(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}},{key:"containedBy",value:function(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}},{key:"rangeGt",value:function(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}},{key:"rangeGte",value:function(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}},{key:"rangeLt",value:function(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}},{key:"rangeLte",value:function(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}},{key:"rangeAdjacent",value:function(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}},{key:"overlaps",value:function(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}},{key:"textSearch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.config,a=n.type,i="";"plain"===a?i="pl":"phrase"===a?i="ph":"websearch"===a&&(i="w");var o=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(i,"fts").concat(o,".").concat(t)),this}},{key:"match",value:function(e){var t=this;return Object.entries(e).forEach((function(e){var n=(0,l.Z)(e,2),r=n[0],a=n[1];t.url.searchParams.append(r,"eq.".concat(a))})),this}},{key:"not",value:function(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}},{key:"or",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).foreignTable,n=t?"".concat(t,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}},{key:"filter",value:function(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}]),n}(M),L=function(){function e(t,n){var r=n.headers,a=void 0===r?{}:r,i=n.schema,o=n.fetch;(0,c.Z)(this,e),this.url=t,this.headers=a,this.schema=i,this.fetch=o}return(0,u.Z)(e,[{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.head,r=void 0!==n&&n,a=t.count,i=r?"HEAD":"GET",o=!1,s=(null!==e&&void 0!==e?e:"*").split("").map((function(e){return/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e)})).join("");return this.url.searchParams.set("select",s),a&&(this.headers.Prefer="count=".concat(a)),new D({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}},{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.count,r=t.defaultToNull,a=void 0===r||r,i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push("count=".concat(n)),a||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){var o=e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]);if(o.length>0){var s=(0,T.Z)(new Set(o)).map((function(e){return'"'.concat(e,'"')}));this.url.searchParams.set("columns",s.join(","))}}return new D({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}},{key:"upsert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onConflict,r=t.ignoreDuplicates,a=void 0!==r&&r,i=t.count,o=t.defaultToNull,s=void 0===o||o,l=["resolution=".concat(a?"ignore":"merge","-duplicates")];if(void 0!==n&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push("count=".concat(i)),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){var c=e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]);if(c.length>0){var u=(0,T.Z)(new Set(c)).map((function(e){return'"'.concat(e,'"')}));this.url.searchParams.set("columns",u.join(","))}}return new D({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}},{key:"update",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).count,n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),this.headers.Prefer=n.join(","),new D({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}},{key:"delete",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).count,t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new D({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}]),e}(),O={"X-Client-Info":"postgrest-js/".concat("1.8.4")},z=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.headers,a=void 0===r?{}:r,i=n.schema,o=n.fetch;(0,c.Z)(this,e),this.url=t,this.headers=Object.assign(Object.assign({},O),a),this.schemaName=i,this.fetch=o}return(0,u.Z)(e,[{key:"from",value:function(e){var t=new URL("".concat(this.url,"/").concat(e));return new L(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}},{key:"schema",value:function(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}},{key:"rpc",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.head,o=void 0!==i&&i,s=a.count,c=new URL("".concat(this.url,"/rpc/").concat(e));o?(t="HEAD",Object.entries(r).forEach((function(e){var t=(0,l.Z)(e,2),n=t[0],r=t[1];c.searchParams.append(n,"".concat(r))}))):(t="POST",n=r);var u=Object.assign({},this.headers);return s&&(u.Prefer="count=".concat(s)),new D({method:t,url:c,headers:u,schema:this.schemaName,body:n,fetch:this.fetch,allowEmpty:!1})}}]),e}(),R=n(5087),F={"X-Client-Info":"realtime-js/".concat("2.7.4")};!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(y||(y={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(x||(x={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(b||(b={})),function(e){e.websocket="websocket"}(_||(_={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(w||(w={}));var B,Z=function(){function e(t,n){(0,c.Z)(this,e),this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}return(0,u.Z)(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}(),U=function(){function e(){(0,c.Z)(this,e),this.HEADER_LENGTH=1}return(0,u.Z)(e,[{key:"decode",value:function(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}},{key:"_binaryDecode",value:function(e){var t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}},{key:"_decodeBroadcast",value:function(e,t,n){var r=t.getUint8(1),a=t.getUint8(2),i=this.HEADER_LENGTH+2,o=n.decode(e.slice(i,i+r));i+=r;var s=n.decode(e.slice(i,i+a));return i+=a,{ref:null,topic:o,event:s,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}]),e}(),V=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;(0,c.Z)(this,e),this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}return(0,u.Z)(e,[{key:"resend",value:function(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}},{key:"send",value:function(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,"rate limited"===this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})&&(this.rateLimited=!0))}},{key:"updatePayload",value:function(e){this.payload=Object.assign(Object.assign({},this.payload),e)}},{key:"receive",value:function(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}},{key:"startTimeout",value:function(){var e=this;if(!this.timeoutTimer){this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(function(t){e._cancelRefEvent(),e._cancelTimeout(),e.receivedResp=t,e._matchReceive(t)})),this.timeoutTimer=setTimeout((function(){e.trigger("timeout",{})}),this.timeout)}}},{key:"trigger",value:function(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}},{key:"destroy",value:function(){this._cancelRefEvent(),this._cancelTimeout()}},{key:"_cancelRefEvent",value:function(){this.refEvent&&this.channel._off(this.refEvent,{})}},{key:"_cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}},{key:"_matchReceive",value:function(e){var t=e.status,n=e.response;this.recHooks.filter((function(e){return e.status===t})).forEach((function(e){return e.callback(n)}))}},{key:"_hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}}]),e}();!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(B||(B={}));var q,H=function(){function e(t,n){var r=this;(0,c.Z)(this,e),this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}};var a=(null===n||void 0===n?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},(function(t){var n=r.caller,a=n.onJoin,i=n.onLeave,o=n.onSync;r.joinRef=r.channel._joinRef(),r.state=e.syncState(r.state,t,a,i),r.pendingDiffs.forEach((function(t){r.state=e.syncDiff(r.state,t,a,i)})),r.pendingDiffs=[],o()})),this.channel._on(a.diff,{},(function(t){var n=r.caller,a=n.onJoin,i=n.onLeave,o=n.onSync;r.inPendingSyncState()?r.pendingDiffs.push(t):(r.state=e.syncDiff(r.state,t,a,i),o())})),this.onJoin((function(e,t,n){r.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave((function(e,t,n){r.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((function(){r.channel._trigger("presence",{event:"sync"})}))}return(0,u.Z)(e,[{key:"onJoin",value:function(e){this.caller.onJoin=e}},{key:"onLeave",value:function(e){this.caller.onLeave=e}},{key:"onSync",value:function(e){this.caller.onSync=e}},{key:"inPendingSyncState",value:function(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}],[{key:"syncState",value:function(e,t,n,r){var a=this.cloneDeep(e),i=this.transformState(t),o={},s={};return this.map(a,(function(e,t){i[e]||(s[e]=t)})),this.map(i,(function(e,t){var n=a[e];if(n){var r=t.map((function(e){return e.presence_ref})),i=n.map((function(e){return e.presence_ref})),l=t.filter((function(e){return i.indexOf(e.presence_ref)<0})),c=n.filter((function(e){return r.indexOf(e.presence_ref)<0}));l.length>0&&(o[e]=l),c.length>0&&(s[e]=c)}else o[e]=t})),this.syncDiff(a,{joins:o,leaves:s},n,r)}},{key:"syncDiff",value:function(e,t,n,r){var a=this,i={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)},o=i.joins,s=i.leaves;return n||(n=function(){}),r||(r=function(){}),this.map(o,(function(t,r){var i,o=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=a.cloneDeep(r),o.length>0){var s,l=e[t].map((function(e){return e.presence_ref})),c=o.filter((function(e){return l.indexOf(e.presence_ref)<0}));(s=e[t]).unshift.apply(s,(0,T.Z)(c))}n(t,o,r)})),this.map(s,(function(t,n){var a=e[t];if(a){var i=n.map((function(e){return e.presence_ref}));a=a.filter((function(e){return i.indexOf(e.presence_ref)<0})),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}})),e}},{key:"map",value:function(e,t){return Object.getOwnPropertyNames(e).map((function(n){return t(n,e[n])}))}},{key:"transformState",value:function(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((function(t,n){var r=e[n];return t[n]="metas"in r?r.metas.map((function(e){return e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e})):r,t}),{})}},{key:"cloneDeep",value:function(e){return JSON.parse(JSON.stringify(e))}}]),e}();!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(q||(q={}));var W,Y,G,J=function(e,t){var n,r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((function(n,a){return n[a]=X(a,e,t,r),n}),{})},X=function(e,t,n,r){var a=t.find((function(t){return t.name===e})),i=null===a||void 0===a?void 0:a.type,o=n[e];return i&&!r.includes(i)?K(i,o):$(o)},K=function(e,t){if("_"===e.charAt(0)){var n=e.slice(1,e.length);return ne(t,n)}switch(e){case q.bool:return Q(t);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return ee(t);case q.json:case q.jsonb:return te(t);case q.timestamp:return re(t);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:default:return $(t)}},$=function(e){return e},Q=function(e){switch(e){case"t":return!0;case"f":return!1;default:return e}},ee=function(e){if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return e},te=function(e){if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},ne=function(e,t){if("string"!==typeof e)return e;var n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){var a,i=e.slice(1,n);try{a=JSON.parse("["+i+"]")}catch(Ea){a=i?i.split(","):[]}return a.map((function(e){return K(t,e)}))}return e},re=function(e){return"string"===typeof e?e.replace(" ","T"):e},ae=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))};!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(W||(W={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"}(Y||(Y={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(G||(G={}));var ie=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},a=arguments.length>2?arguments[2]:void 0;(0,c.Z)(this,e),this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=x.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},r.config),this.timeout=this.socket.timeout,this.joinPush=new V(this,b.join,this.params,this.timeout),this.rejoinTimer=new Z((function(){return n._rejoinUntilConnected()}),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(function(){n.state=x.joined,n.rejoinTimer.reset(),n.pushBuffer.forEach((function(e){return e.send()})),n.pushBuffer=[]})),this._onClose((function(){n.rejoinTimer.reset(),n.socket.log("channel","close ".concat(n.topic," ").concat(n._joinRef())),n.state=x.closed,n.socket._remove(n)})),this._onError((function(e){n._isLeaving()||n._isClosed()||(n.socket.log("channel","error ".concat(n.topic),e),n.state=x.errored,n.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(function(){n._isJoining()&&(n.socket.log("channel","timeout ".concat(n.topic),n.joinPush.timeout),n.state=x.errored,n.rejoinTimer.scheduleTimeout())})),this._on(b.reply,{},(function(e,t){n._trigger(n._replyEventName(t),e)})),this.presence=new H(this)}return(0,u.Z)(e,[{key:"subscribe",value:function(e){var t,n,r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";var i=this.params.config,o=i.broadcast,s=i.presence;this._onError((function(t){return e&&e("CHANNEL_ERROR",t)})),this._onClose((function(){return e&&e("CLOSED")}));var l={},c={broadcast:o,presence:s,postgres_changes:null!==(n=null===(t=this.bindings.postgres_changes)||void 0===t?void 0:t.map((function(e){return e.filter})))&&void 0!==n?n:[]};return this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",(function(t){var n,a=t.postgres_changes;if(r.socket.accessToken&&r.socket.setAuth(r.socket.accessToken),void 0!==a){for(var i=r.bindings.postgres_changes,o=null!==(n=null===i||void 0===i?void 0:i.length)&&void 0!==n?n:0,s=[],l=0;l<o;l++){var c=i[l],u=c.filter,d=u.event,h=u.schema,f=u.table,p=u.filter,m=a&&a[l];if(!m||m.event!==d||m.schema!==h||m.table!==f||m.filter!==p)return r.unsubscribe(),void(e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},c),{id:m.id}))}return r.bindings.postgres_changes=s,void(e&&e("SUBSCRIBED"))}e&&e("SUBSCRIBED")})).receive("error",(function(t){e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(function(){e&&e("TIMED_OUT")})),this}},{key:"presenceState",value:function(){return this.presence.state}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ae(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"untrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ae(this,void 0,void 0,i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send({type:"presence",event:"untrack"},e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"on",value:function(e,t,n){return this._on(e,t,n)}},{key:"send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){var a,i,o,s=t._push(e.type,e,n.timeout||t.timeout);s.rateLimited&&r("rate limited"),"broadcast"!==e.type||(null===(o=null===(i=null===(a=t.params)||void 0===a?void 0:a.config)||void 0===i?void 0:i.broadcast)||void 0===o?void 0:o.ack)||r("ok"),s.receive("ok",(function(){return r("ok")})),s.receive("timeout",(function(){return r("timed out")}))}))}},{key:"updateJoinPayload",value:function(e){this.joinPush.updatePayload(e)}},{key:"unsubscribe",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=x.leaving;var n=function(){e.socket.log("channel","leave ".concat(e.topic)),e._trigger(b.close,"leave",e._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((function(r){var a=new V(e,b.leave,{},t);a.receive("ok",(function(){n(),r("ok")})).receive("timeout",(function(){n(),r("timed out")})).receive("error",(function(){r("error")})),a.send(),e._canPush()||a.trigger("ok",{})}))}},{key:"_push",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");var r=new V(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}},{key:"_onMessage",value:function(e,t,n){return t}},{key:"_isMember",value:function(e){return this.topic===e}},{key:"_joinRef",value:function(){return this.joinPush.ref}},{key:"_trigger",value:function(e,t,n){var r,a,i=this,o=e.toLocaleLowerCase(),s=b.close,l=b.error,c=b.leave,u=b.join;if(!(n&&[s,l,c,u].indexOf(o)>=0&&n!==this._joinRef())){var d=this._onMessage(o,t,n);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((function(e){var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===o})).map((function(e){return e.callback(d,n)})):null===(a=this.bindings[o])||void 0===a||a.filter((function(e){var n,r,a,i,s,l;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){var c=e.id,u=null===(n=e.filter)||void 0===n?void 0:n.event;return c&&(null===(r=t.ids)||void 0===r?void 0:r.includes(c))&&("*"===u||(null===u||void 0===u?void 0:u.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}var d=null===(s=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===d||d===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}return e.type.toLocaleLowerCase()===o})).map((function(e){if("object"===typeof d&&"ids"in d){var t=d.data,r={schema:t.schema,table:t.table,commit_timestamp:t.commit_timestamp,eventType:t.type,new:{},old:{},errors:t.errors};d=Object.assign(Object.assign({},r),i._getPayloadRecords(t))}e.callback(d,n)}))}}},{key:"_isClosed",value:function(){return this.state===x.closed}},{key:"_isJoined",value:function(){return this.state===x.joined}},{key:"_isJoining",value:function(){return this.state===x.joining}},{key:"_isLeaving",value:function(){return this.state===x.leaving}},{key:"_replyEventName",value:function(e){return"chan_reply_".concat(e)}},{key:"_on",value:function(e,t,n){var r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}},{key:"_off",value:function(t,n){var r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter((function(t){var a;return!((null===(a=t.type)||void 0===a?void 0:a.toLocaleLowerCase())===r&&e.isEqual(t.filter,n))})),this}},{key:"_rejoinUntilConnected",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}},{key:"_onClose",value:function(e){this._on(b.close,{},e)}},{key:"_onError",value:function(e){this._on(b.error,{},(function(t){return e(t)}))}},{key:"_canPush",value:function(){return this.socket.isConnected()&&this._isJoined()}},{key:"_rejoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=x.joining,this.joinPush.resend(e))}},{key:"_getPayloadRecords",value:function(e){var t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=J(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=J(e.columns,e.old_record)),t}}],[{key:"isEqual",value:function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}}]),e}(),oe=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},se=function(){},le=function(){function e(t,n){var r,a,o=this;(0,c.Z)(this,e),this.accessToken=null,this.channels=[],this.endPoint="",this.headers=F,this.params={},this.timeout=1e4,this.transport=R.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=se,this.conn=null,this.sendBuffer=[],this.serializer=new U,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint="".concat(t,"/").concat(_.websocket),(null===n||void 0===n?void 0:n.params)&&(this.params=n.params),(null===n||void 0===n?void 0:n.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),(null===n||void 0===n?void 0:n.timeout)&&(this.timeout=n.timeout),(null===n||void 0===n?void 0:n.logger)&&(this.logger=n.logger),(null===n||void 0===n?void 0:n.transport)&&(this.transport=n.transport),(null===n||void 0===n?void 0:n.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);var s=null===(r=null===n||void 0===n?void 0:n.params)||void 0===r?void 0:r.eventsPerSecond;s&&(this.eventsPerSecondLimitMs=Math.floor(1e3/s));var l=null===(a=null===n||void 0===n?void 0:n.params)||void 0===a?void 0:a.apikey;l&&(this.accessToken=l),this.reconnectAfterMs=(null===n||void 0===n?void 0:n.reconnectAfterMs)?n.reconnectAfterMs:function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4},this.encode=(null===n||void 0===n?void 0:n.encode)?n.encode:function(e,t){return t(JSON.stringify(e))},this.decode=(null===n||void 0===n?void 0:n.decode)?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Z((function(){return oe(o,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.disconnect(),this.connect();case 2:case"end":return e.stop()}}),e,this)})))}),this.reconnectAfterMs)}return(0,u.Z)(e,[{key:"connect",value:function(){var e=this;this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=function(){return e._onConnOpen()},this.conn.onerror=function(t){return e._onConnError(t)},this.conn.onmessage=function(t){return e._onConnMessage(t)},this.conn.onclose=function(t){return e._onConnClose(t)}))}},{key:"disconnect",value:function(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}},{key:"getChannels",value:function(){return this.channels}},{key:"removeChannel",value:function(e){return oe(this,void 0,void 0,i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.unsubscribe();case 2:return n=t.sent,0===this.channels.length&&this.disconnect(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"removeAllChannels",value:function(){return oe(this,void 0,void 0,i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.channels.map((function(e){return e.unsubscribe()})));case 2:return t=e.sent,this.disconnect(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"log",value:function(e,t,n){this.logger(e,t,n)}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case y.connecting:return w.Connecting;case y.open:return w.Open;case y.closing:return w.Closing;default:return w.Closed}}},{key:"isConnected",value:function(){return this.connectionState()===w.Open}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};this.isConnected()||this.connect();var n=new ie("realtime:".concat(e),t,this);return this.channels.push(n),n}},{key:"push",value:function(e){var t=this,n=e.topic,r=e.event,a=e.payload,i=e.ref,o=function(){t.encode(e,(function(e){var n;null===(n=t.conn)||void 0===n||n.send(e)}))};if(this.log("push","".concat(n," ").concat(r," (").concat(i,")"),a),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}},{key:"setAuth",value:function(e){this.accessToken=e,this.channels.forEach((function(t){e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(b.access_token,{access_token:e})}))}},{key:"_makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"_leaveOpenTopic",value:function(e){var t=this.channels.find((function(t){return t.topic===e&&(t._isJoined()||t._isJoining())}));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}},{key:"_remove",value:function(e){this.channels=this.channels.filter((function(t){return t._joinRef()!==e._joinRef()}))}},{key:"_endPointURL",value:function(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}},{key:"_onConnMessage",value:function(e){var t=this;this.decode(e.data,(function(e){var n=e.topic,r=e.event,a=e.payload,i=e.ref;(i&&i===t.pendingHeartbeatRef||r===(null===a||void 0===a?void 0:a.type))&&(t.pendingHeartbeatRef=null),t.log("receive","".concat(a.status||""," ").concat(n," ").concat(r," ").concat(i&&"("+i+")"||""),a),t.channels.filter((function(e){return e._isMember(n)})).forEach((function(e){return e._trigger(r,a,i)})),t.stateChangeCallbacks.message.forEach((function(t){return t(e)}))}))}},{key:"_onConnOpen",value:function(){var e=this;this.log("transport","connected to ".concat(this._endPointURL())),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((function(){return e._sendHeartbeat()}),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((function(e){return e()}))}},{key:"_onConnClose",value:function(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(t){return t(e)}))}},{key:"_onConnError",value:function(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((function(t){return t(e)}))}},{key:"_triggerChanError",value:function(){this.channels.forEach((function(e){return e._trigger(b.error)}))}},{key:"_appendParams",value:function(e,t){if(0===Object.keys(t).length)return e;var n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}},{key:"_flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(e){return e()})),this.sendBuffer=[])}},{key:"_sendHeartbeat",value:function(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}},{key:"_throttle",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.eventsPerSecondLimitMs;return function(){return!!t.inThrottle||(e(),n>0&&(t.inThrottle=!0,setTimeout((function(){t.inThrottle=!1}),n)),!1)}}}]),e}(),ce=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).__isStorageError=!0,r.name="StorageError",r}return(0,u.Z)(n)}(g(Error));function ue(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var de=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;return(0,c.Z)(this,n),(a=t.call(this,e)).name="StorageApiError",a.status=r,a}return(0,u.Z)(n,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status}}}]),n}(ce),he=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;return(0,c.Z)(this,n),(a=t.call(this,e)).name="StorageUnknownError",a.originalError=r,a}return(0,u.Z)(n)}(ce),fe=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},pe=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.t.bind(n,526,23)).then((function(e){return e.default.apply(void 0,t)}))}:fetch),function(){return t.apply(void 0,arguments)}},me=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},ve=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},ge=function(e,t){return me(void 0,void 0,void 0,i().mark((function r(){var a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fe(void 0,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof Response){e.next=4;break}return e.next=3,Promise.resolve().then(n.t.bind(n,526,23));case 3:return e.abrupt("return",e.sent.Response);case 4:return e.abrupt("return",Response);case 5:case"end":return e.stop()}}),e)})));case 2:a=r.sent,e instanceof a?e.json().then((function(n){t(new de(ve(n),e.status||500))})).catch((function(e){t(new he(ve(e),e))})):t(new he(ve(e),e));case 4:case"end":return r.stop()}}),r)})))},ye=function(e,t,n,r){var a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};function xe(e,t,n,r,a,o){return me(this,void 0,void 0,i().mark((function s(){return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i,s){e(n,ye(t,r,a,o)).then((function(e){if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()})).then((function(e){return i(e)})).catch((function(e){return ge(e,s)}))})));case 1:case"end":return i.stop()}}),s)})))}function be(e,t,n,r){return me(this,void 0,void 0,i().mark((function a(){return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",xe(e,"GET",t,n,r));case 1:case"end":return a.stop()}}),a)})))}function _e(e,t,n,r,a){return me(this,void 0,void 0,i().mark((function o(){return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",xe(e,"POST",t,r,a,n));case 1:case"end":return i.stop()}}),o)})))}function we(e,t,n,r,a){return me(this,void 0,void 0,i().mark((function o(){return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",xe(e,"PUT",t,r,a,n));case 1:case"end":return i.stop()}}),o)})))}function ke(e,t,n,r,a){return me(this,void 0,void 0,i().mark((function o(){return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",xe(e,"DELETE",t,r,a,n));case 1:case"end":return i.stop()}}),o)})))}var je=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},Se={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ce={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ne=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;(0,c.Z)(this,e),this.url=t,this.headers=n,this.bucketId=r,this.fetch=pe(a)}return(0,u.Z)(e,[{key:"uploadOrUpdate",value:function(e,t,n,r){return je(this,void 0,void 0,i().mark((function a(){var o,s,l,c,u,d,h;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s=Object.assign(Object.assign({},Ce),r),l=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)}),"undefined"!==typeof Blob&&n instanceof Blob?((o=new FormData).append("cacheControl",s.cacheControl),o.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(o=n).append("cacheControl",s.cacheControl):(o=n,l["cache-control"]="max-age=".concat(s.cacheControl),l["content-type"]=s.contentType),c=this._removeEmptyFolders(t),u=this._getFinalPath(c),a.next=8,this.fetch("".concat(this.url,"/object/").concat(u),Object.assign({method:e,body:o,headers:l},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{}));case 8:if(!(d=a.sent).ok){a.next=13;break}return a.abrupt("return",{data:{path:c},error:null});case 13:return a.next=15,d.json();case 15:return h=a.sent,a.abrupt("return",{data:null,error:h});case 17:a.next=24;break;case 19:if(a.prev=19,a.t0=a.catch(0),!ue(a.t0)){a.next=23;break}return a.abrupt("return",{data:null,error:a.t0});case 23:throw a.t0;case 24:case"end":return a.stop()}}),a,this,[[0,19]])})))}},{key:"upload",value:function(e,t,n){return je(this,void 0,void 0,i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.uploadOrUpdate("POST",e,t,n));case 1:case"end":return r.stop()}}),r,this)})))}},{key:"uploadToSignedUrl",value:function(e,t,n,r){return je(this,void 0,void 0,i().mark((function a(){var o,s,l,c,u,d,h,f;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=this._removeEmptyFolders(e),s=this._getFinalPath(o),(l=new URL(this.url+"/object/upload/sign/".concat(s))).searchParams.set("token",t),a.prev=4,u=Object.assign({upsert:Ce.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)}),"undefined"!==typeof Blob&&n instanceof Blob?((c=new FormData).append("cacheControl",u.cacheControl),c.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(c=n).append("cacheControl",u.cacheControl):(c=n,d["cache-control"]="max-age=".concat(u.cacheControl),d["content-type"]=u.contentType),a.next=10,this.fetch(l.toString(),{method:"PUT",body:c,headers:d});case 10:if(!(h=a.sent).ok){a.next=15;break}return a.abrupt("return",{data:{path:o},error:null});case 15:return a.next=17,h.json();case 17:return f=a.sent,a.abrupt("return",{data:null,error:f});case 19:a.next=26;break;case 21:if(a.prev=21,a.t0=a.catch(4),!ue(a.t0)){a.next=25;break}return a.abrupt("return",{data:null,error:a.t0});case 25:throw a.t0;case 26:case"end":return a.stop()}}),a,this,[[4,21]])})))}},{key:"createSignedUploadUrl",value:function(e){return je(this,void 0,void 0,i().mark((function t(){var n,r,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=this._getFinalPath(e),t.next=4,_e(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:this.headers});case 4:if(r=t.sent,a=new URL(this.url+r.url),o=a.searchParams.get("token")){t.next=9;break}throw new ce("No token returned by API");case 9:return t.abrupt("return",{data:{signedUrl:a.toString(),path:e,token:o},error:null});case 12:if(t.prev=12,t.t0=t.catch(0),!ue(t.t0)){t.next=16;break}return t.abrupt("return",{data:null,error:t.t0});case 16:throw t.t0;case 17:case"end":return t.stop()}}),t,this,[[0,12]])})))}},{key:"update",value:function(e,t,n){return je(this,void 0,void 0,i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.uploadOrUpdate("PUT",e,t,n));case 1:case"end":return r.stop()}}),r,this)})))}},{key:"move",value:function(e,t){return je(this,void 0,void 0,i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});case 3:return r=n.sent,n.abrupt("return",{data:r,error:null});case 7:if(n.prev=7,n.t0=n.catch(0),!ue(n.t0)){n.next=11;break}return n.abrupt("return",{data:null,error:n.t0});case 11:throw n.t0;case 12:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"copy",value:function(e,t){return je(this,void 0,void 0,i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});case 3:return r=n.sent,n.abrupt("return",{data:{path:r.Key},error:null});case 7:if(n.prev=7,n.t0=n.catch(0),!ue(n.t0)){n.next=11;break}return n.abrupt("return",{data:null,error:n.t0});case 11:throw n.t0;case 12:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"createSignedUrl",value:function(e,t,n){return je(this,void 0,void 0,i().mark((function r(){var a,o,s,l;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=this._getFinalPath(e),r.next=4,_e(this.fetch,"".concat(this.url,"/object/sign/").concat(a),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});case 4:return o=r.sent,s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"",l=encodeURI("".concat(this.url).concat(o.signedURL).concat(s)),o={signedUrl:l},r.abrupt("return",{data:o,error:null});case 11:if(r.prev=11,r.t0=r.catch(0),!ue(r.t0)){r.next=15;break}return r.abrupt("return",{data:null,error:r.t0});case 15:throw r.t0;case 16:case"end":return r.stop()}}),r,this,[[0,11]])})))}},{key:"createSignedUrls",value:function(e,t,n){return je(this,void 0,void 0,i().mark((function r(){var a,o,s=this;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,_e(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers});case 3:return a=r.sent,o=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"",r.abrupt("return",{data:a.map((function(e){return Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(s.url).concat(e.signedURL).concat(o)):null})})),error:null});case 8:if(r.prev=8,r.t0=r.catch(0),!ue(r.t0)){r.next=12;break}return r.abrupt("return",{data:null,error:r.t0});case 12:throw r.t0;case 13:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"download",value:function(e,t){return je(this,void 0,void 0,i().mark((function n(){var r,a,o,s,l,c,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform),a=r?"render/image/authenticated":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=o?"?".concat(o):"",n.prev=4,l=this._getFinalPath(e),n.next=8,be(this.fetch,"".concat(this.url,"/").concat(a,"/").concat(l).concat(s),{headers:this.headers,noResolveJson:!0});case 8:return c=n.sent,n.next=11,c.blob();case 11:return u=n.sent,n.abrupt("return",{data:u,error:null});case 15:if(n.prev=15,n.t0=n.catch(4),!ue(n.t0)){n.next=19;break}return n.abrupt("return",{data:null,error:n.t0});case 19:throw n.t0;case 20:case"end":return n.stop()}}),n,this,[[4,15]])})))}},{key:"getPublicUrl",value:function(e,t){var n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);var i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);var s=r.join("&");return""!==s&&(s="?".concat(s)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(i,"/public/").concat(n).concat(s))}}}},{key:"remove",value:function(e){return je(this,void 0,void 0,i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!ue(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"list",value:function(e,t,n){return je(this,void 0,void 0,i().mark((function r(){var a,o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=Object.assign(Object.assign(Object.assign({},Se),t),{prefix:e||""}),r.next=4,_e(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),a,{headers:this.headers},n);case 4:return o=r.sent,r.abrupt("return",{data:o,error:null});case 8:if(r.prev=8,r.t0=r.catch(0),!ue(r.t0)){r.next=12;break}return r.abrupt("return",{data:null,error:r.t0});case 12:throw r.t0;case 13:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"_getFinalPath",value:function(e){return"".concat(this.bucketId,"/").concat(e)}},{key:"_removeEmptyFolders",value:function(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}},{key:"transformOptsToQueryString",value:function(e){var t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}]),e}(),Ee={"X-Client-Info":"storage-js/".concat("2.5.4")},Te=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},Ie=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;(0,c.Z)(this,e),this.url=t,this.headers=Object.assign(Object.assign({},Ee),n),this.fetch=pe(r)}return(0,u.Z)(e,[{key:"listBuckets",value:function(){return Te(this,void 0,void 0,i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers});case 3:return t=e.sent,e.abrupt("return",{data:t,error:null});case 7:if(e.prev=7,e.t0=e.catch(0),!ue(e.t0)){e.next=11;break}return e.abrupt("return",{data:null,error:e.t0});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getBucket",value:function(e){return Te(this,void 0,void 0,i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!ue(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"createBucket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Te(this,void 0,void 0,i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});case 3:return r=n.sent,n.abrupt("return",{data:r,error:null});case 7:if(n.prev=7,n.t0=n.catch(0),!ue(n.t0)){n.next=11;break}return n.abrupt("return",{data:null,error:n.t0});case 11:throw n.t0;case 12:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"updateBucket",value:function(e,t){return Te(this,void 0,void 0,i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,we(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});case 3:return r=n.sent,n.abrupt("return",{data:r,error:null});case 7:if(n.prev=7,n.t0=n.catch(0),!ue(n.t0)){n.next=11;break}return n.abrupt("return",{data:null,error:n.t0});case 11:throw n.t0;case 12:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"emptyBucket",value:function(e){return Te(this,void 0,void 0,i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!ue(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"deleteBucket",value:function(e){return Te(this,void 0,void 0,i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers});case 3:return n=t.sent,t.abrupt("return",{data:n,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!ue(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),e}(),Ae=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return(0,c.Z)(this,n),t.call(this,e,r,a)}return(0,u.Z)(n,[{key:"from",value:function(e){return new Ne(this.url,this.headers,e,this.fetch)}}]),n}(Ie),Pe="";Pe="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";var Me={"X-Client-Info":"supabase-js-".concat(Pe,"/").concat("2.36.0")},De=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},Le=function(e){var t;return t=e||("undefined"===typeof fetch?A():fetch),function(){return t.apply(void 0,arguments)}},Oe=function(e,t,n){var r=Le(n),a="undefined"===typeof Headers?I.Headers:Headers;return function(n,o){return De(void 0,void 0,void 0,i().mark((function s(){var l,c,u;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t();case 2:if(i.t1=l=i.sent,i.t0=null!==i.t1,!i.t0){i.next=6;break}i.t0=void 0!==l;case 6:if(!i.t0){i.next=10;break}i.t2=l,i.next=11;break;case 10:i.t2=e;case 11:return c=i.t2,(u=new a(null===o||void 0===o?void 0:o.headers)).has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization","Bearer ".concat(c)),i.abrupt("return",r(n,Object.assign(Object.assign({},o),{headers:u})));case 16:case"end":return i.stop()}}),s)})))}};var ze=function(){return"undefined"!==typeof document},Re={tested:!1,writable:!1},Fe=function(){if(!ze())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(Re.tested)return Re.writable;var e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Re.tested=!0,Re.writable=!0}catch(t){Re.tested=!0,Re.writable=!1}return Re.writable};function Be(e){var t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((function(e,n){t[n]=e}))}catch(r){}return n.searchParams.forEach((function(e,n){t[n]=e})),t}var Ze=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.t.bind(n,526,23)).then((function(e){return e.default.apply(void 0,t)}))}:fetch),function(){return t.apply(void 0,arguments)}},Ue=function(e){return"object"===typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"===typeof e.json},Ve=function(){var e=s(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setItem(n,JSON.stringify(r));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),qe=function(){var e=s(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getItem(n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.prev=5,e.abrupt("return",JSON.parse(r));case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[5,9]])})));return function(t,n){return e.apply(this,arguments)}}(),He=function(){var e=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.removeItem(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var We=(0,u.Z)((function e(){var t=this;(0,c.Z)(this,e),this.promise=new e.promiseConstructor((function(e,n){t.resolve=e,t.reject=n}))}));function Ye(e){var t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");var n=t[1];return JSON.parse(function(e){var t,n,r,a,i,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)t=s.indexOf(e.charAt(c++))<<2|(a=s.indexOf(e.charAt(c++)))>>4,n=(15&a)<<4|(i=s.indexOf(e.charAt(c++)))>>2,r=(3&i)<<6|(o=s.indexOf(e.charAt(c++))),l+=String.fromCharCode(t),64!=i&&0!=n&&(l+=String.fromCharCode(n)),64!=o&&0!=r&&(l+=String.fromCharCode(r));return l}(n))}function Ge(e){return Je.apply(this,arguments)}function Je(){return Je=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout((function(){return e(null)}),t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Je.apply(this,arguments)}function Xe(e,t){return new Promise((function(n,r){s(i().mark((function a(){var o,s;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:o=0;case 1:if(!(o<1/0)){a.next=19;break}return a.prev=2,a.next=5,e(o);case 5:if(s=a.sent,t(o,null,s)){a.next=9;break}return n(s),a.abrupt("return");case 9:a.next=16;break;case 11:if(a.prev=11,a.t0=a.catch(2),t(o,a.t0)){a.next=16;break}return r(a.t0),a.abrupt("return");case 16:o++,a.next=1;break;case 19:case"end":return a.stop()}}),a,null,[[2,11]])})))()}))}function Ke(e){return("0"+e.toString(16)).substr(-2)}function $e(){var e=new Uint32Array(56);if("undefined"===typeof crypto){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n="",r=0;r<56;r++)n+=t.charAt(Math.floor(66*Math.random()));return n}return crypto.getRandomValues(e),Array.from(e,Ke).join("")}function Qe(e){return et.apply(this,arguments)}function et(){return(et=s(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new TextEncoder,r=n.encode(t),e.next=4,crypto.subtle.digest("SHA-256",r);case 4:return a=e.sent,o=new Uint8Array(a),e.abrupt("return",Array.from(o).map((function(e){return String.fromCharCode(e)})).join(""));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof crypto){e.next=3;break}return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e.abrupt("return",t);case 3:return e.next=5,Qe(t);case 5:return n=e.sent,e.abrupt("return",btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}We.promiseConstructor=Promise;var rt=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;return(0,c.Z)(this,n),(a=t.call(this,e)).__isAuthError=!0,a.name="AuthError",a.status=r,a}return(0,u.Z)(n)}(g(Error));function at(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}var it=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;return(0,c.Z)(this,n),(a=t.call(this,e,r)).name="AuthApiError",a.status=r,a}return(0,u.Z)(n,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status}}}]),n}(rt);function ot(e){return at(e)&&"AuthApiError"===e.name}var st=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;return(0,c.Z)(this,n),(a=t.call(this,e)).name="AuthUnknownError",a.originalError=r,a}return(0,u.Z)(n)}(rt),lt=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a){var i;return(0,c.Z)(this,n),(i=t.call(this,e)).name=r,i.status=a,i}return(0,u.Z)(n,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status}}}]),n}(rt),ct=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,"Auth session missing!","AuthSessionMissingError",400)}return(0,u.Z)(n)}(lt),ut=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,"Auth session or user missing","AuthInvalidTokenResponseError",500)}return(0,u.Z)(n)}(lt),dt=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e,"AuthInvalidCredentialsError",400)}return(0,u.Z)(n)}(lt),ht=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,c.Z)(this,n),(r=t.call(this,e,"AuthImplicitGrantRedirectError",500)).details=null,r.details=a,r}return(0,u.Z)(n,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}]),n}(lt),ft=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,c.Z)(this,n),(r=t.call(this,e,"AuthPKCEGrantCodeExchangeError",500)).details=null,r.details=a,r}return(0,u.Z)(n,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}]),n}(lt),pt=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,"AuthRetryableFetchError",r)}return(0,u.Z)(n)}(lt);function mt(e){return at(e)&&"AuthRetryableFetchError"===e.name}var vt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},gt=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},yt=[502,503,504];function xt(e){return bt.apply(this,arguments)}function bt(){return(bt=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ue(t)){e.next=2;break}throw new pt(gt(t),0);case 2:if(!yt.includes(t.status)){e.next=4;break}throw new pt(gt(t),t.status);case 4:return e.prev=4,e.next=7,t.json();case 7:n=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new st(gt(e.t0),e.t0);case 13:throw new it(gt(n),t.status||500);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}var _t=function(e,t,n,r){var a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};function wt(e,t,n,r){return kt.apply(this,arguments)}function kt(){return kt=s(i().mark((function e(t,n,r,a){var o,s,l,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object.assign({},null===a||void 0===a?void 0:a.headers),(null===a||void 0===a?void 0:a.jwt)&&(s.Authorization="Bearer ".concat(a.jwt)),l=null!==(o=null===a||void 0===a?void 0:a.query)&&void 0!==o?o:{},(null===a||void 0===a?void 0:a.redirectTo)&&(l.redirect_to=a.redirectTo),c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",e.next=7,jt(t,n,r+c,{headers:s,noResolveJson:null===a||void 0===a?void 0:a.noResolveJson},{},null===a||void 0===a?void 0:a.body);case 7:return u=e.sent,e.abrupt("return",(null===a||void 0===a?void 0:a.xform)?null===a||void 0===a?void 0:a.xform(u):{data:Object.assign({},u),error:null});case 9:case"end":return e.stop()}}),e)}))),kt.apply(this,arguments)}function jt(e,t,n,r,a,i){return St.apply(this,arguments)}function St(){return(St=s(i().mark((function e(t,n,r,a,o,s){var l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=_t(n,a,o,s),e.prev=1,e.next=4,t(r,l);case 4:c=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),console.error(e.t0),new pt(gt(e.t0),0);case 11:if(c.ok){e.next=14;break}return e.next=14,xt(c);case 14:if(!(null===a||void 0===a?void 0:a.noResolveJson)){e.next=16;break}return e.abrupt("return",c);case 16:return e.prev=16,e.next=19,c.json();case 19:return e.abrupt("return",e.sent);case 22:return e.prev=22,e.t1=e.catch(16),e.next=26,xt(e.t1);case 26:case"end":return e.stop()}}),e,null,[[1,7],[16,22]])})))).apply(this,arguments)}function Ct(e){var t,n,r=null;return function(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n))),{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Nt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Et(e){return{data:e,error:null}}function Tt(e){var t=e.action_link,n=e.email_otp,r=e.hashed_token,a=e.redirect_to,i=e.verification_type,o=vt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},o)},error:null}}function It(e){return e}var At=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Pt=function(){function e(t){var n=t.url,r=void 0===n?"":n,a=t.headers,i=void 0===a?{}:a,o=t.fetch;(0,c.Z)(this,e),this.url=r,this.headers=i,this.fetch=Ze(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}return(0,u.Z)(e,[{key:"signOut",value:function(){var e=s(i().mark((function e(t){var n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"global",e.prev=1,e.next=4,wt(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(n),{headers:this.headers,jwt:t,noResolveJson:!0});case 4:return e.abrupt("return",{data:null,error:null});case 7:if(e.prev=7,e.t0=e.catch(1),!at(e.t0)){e.next=11;break}return e.abrupt("return",{data:null,error:e.t0});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"inviteUserByEmail",value:function(){var e=s(i().mark((function e(t){var n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.prev=1,e.next=4,wt(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Nt});case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!at(e.t0)){e.next=11;break}return e.abrupt("return",{data:{user:null},error:e.t0});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"generateLink",value:function(){var e=s(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.options,r=At(t,["options"]),a=Object.assign(Object.assign({},r),n),"newEmail"in r&&(a.new_email=null===r||void 0===r?void 0:r.newEmail,delete a.newEmail),e.next=6,wt(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:a,headers:this.headers,xform:Tt,redirectTo:null===n||void 0===n?void 0:n.redirectTo});case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(0),!at(e.t0)){e.next=13;break}return e.abrupt("return",{data:{properties:null,user:null},error:e.t0});case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:t,headers:this.headers,xform:Nt});case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!at(e.t0)){e.next=10;break}return e.abrupt("return",{data:{user:null},error:e.t0});case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"listUsers",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s,l,c,u,d,h,f,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u={nextPage:null,lastPage:0,total:0},e.next=4,wt(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(n=null===t||void 0===t?void 0:t.page)||void 0===n?void 0:n.toString())&&void 0!==r?r:"",per_page:null!==(o=null===(a=null===t||void 0===t?void 0:t.perPage)||void 0===a?void 0:a.toString())&&void 0!==o?o:""},xform:It});case 4:if(!(d=e.sent).error){e.next=7;break}throw d.error;case 7:return e.next=9,d.json();case 9:return h=e.sent,f=null!==(s=d.headers.get("x-total-count"))&&void 0!==s?s:0,(p=null!==(c=null===(l=d.headers.get("link"))||void 0===l?void 0:l.split(","))&&void 0!==c?c:[]).length>0&&(p.forEach((function(e){var t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);u["".concat(n,"Page")]=t})),u.total=parseInt(f)),e.abrupt("return",{data:Object.assign(Object.assign({},h),u),error:null});case 16:if(e.prev=16,e.t0=e.catch(0),!at(e.t0)){e.next=20;break}return e.abrupt("return",{data:{users:[]},error:e.t0});case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserById",value:function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(t),{headers:this.headers,xform:Nt});case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!at(e.t0)){e.next=10;break}return e.abrupt("return",{data:{user:null},error:e.t0});case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUserById",value:function(){var e=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(t),{body:n,headers:this.headers,xform:Nt});case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!at(e.t0)){e.next=10;break}return e.abrupt("return",{data:{user:null},error:e.t0});case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=s(i().mark((function e(t){var n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.next=4,wt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(t),{headers:this.headers,body:{should_soft_delete:n},xform:Nt});case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!at(e.t0)){e.next=11;break}return e.abrupt("return",{data:{user:null},error:e.t0});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_listFactors",value:function(){var e=s(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(t.userId,"/factors"),{headers:this.headers,xform:function(e){return{data:{factors:e},error:null}}});case 3:return n=e.sent,r=n.data,a=n.error,e.abrupt("return",{data:r,error:a});case 9:if(e.prev=9,e.t0=e.catch(0),!at(e.t0)){e.next=13;break}return e.abrupt("return",{data:null,error:e.t0});case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_deleteFactor",value:function(){var e=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(t.userId,"/factors/").concat(t.id),{headers:this.headers});case 3:return n=e.sent,e.abrupt("return",{data:n,error:null});case 7:if(e.prev=7,e.t0=e.catch(0),!at(e.t0)){e.next=11;break}return e.abrupt("return",{data:null,error:e.t0});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Mt="2.54.0",Dt={"X-Client-Info":"gotrue-js/".concat(Mt)},Lt={getItem:function(e){return Fe()?globalThis.localStorage.getItem(e):null},setItem:function(e,t){Fe()&&globalThis.localStorage.setItem(e,t)},removeItem:function(e){Fe()&&globalThis.localStorage.removeItem(e)}};function Ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:function(t){return e[t]||null},setItem:function(t,n){e[t]=n},removeItem:function(t){delete e[t]}}}globalThis&&Fe()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");var zt=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).isAcquireTimeout=!0,r}return(0,u.Z)(n)}(g(Error));!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();var Rt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dt,flowType:"implicit",debug:!1},Ft=3e4;function Bt(e,t,n){return Zt.apply(this,arguments)}function Zt(){return Zt=s(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Zt.apply(this,arguments)}var Ut=function(){function e(t){var n,r=this;(0,c.Z)(this,e),this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");var a=Object.assign(Object.assign({},Rt),t);if(this.logDebugMessages=!!a.debug,"function"===typeof a.debug&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Pt({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Ze(a.fetch),this.lock=a.lock||Bt,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Fe()?this.storage=Lt:(this.memoryStorage={},this.storage=Ot(this.memoryStorage)):(this.memoryStorage={},this.storage=Ot(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r._debug("received broadcast notification from other tab or client",t),e.next=3,r._notifyAllSubscribers(t.data.event,t.data.session,!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}this.initialize()}return(0,u.Z)(e,[{key:"_debug",value:function(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.apply(this,["GoTrueClient@".concat(this.instanceID," (").concat(Mt,") ").concat((new Date).toISOString())].concat(t))}return this}},{key:"initialize",value:function(){var e=s(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.initializePromise){e.next=4;break}return e.next=3,this.initializePromise;case 3:case 7:return e.abrupt("return",e.sent);case 4:return this.initializePromise=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initialize();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))(),e.next=7,this.initializePromise;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(){var e=s(i().mark((function e(){var t,n,r,a,o,l,c=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!ze()){e.next=7;break}return e.next=4,this._isPKCEFlow();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=!1;case 8:if(t=e.t0,this._debug("#_initialize()","begin","is PKCE flow",t),!(t||this.detectSessionInUrl&&this._isImplicitGrantFlow())){e.next=27;break}return e.next=13,this._getSessionFromURL(t);case 13:if(n=e.sent,r=n.data,!(a=n.error)){e.next=21;break}return this._debug("#_initialize()","error detecting session from URL",a),e.next=20,this._removeSession();case 20:return e.abrupt("return",{error:a});case 21:return o=r.session,l=r.redirectType,this._debug("#_initialize()","detected session in URL",o,"redirect type",l),e.next=25,this._saveSession(o);case 25:return setTimeout(s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("recovery"!==l){e.next=5;break}return e.next=3,c._notifyAllSubscribers("PASSWORD_RECOVERY",o);case 3:e.next=7;break;case 5:return e.next=7,c._notifyAllSubscribers("SIGNED_IN",o);case 7:case"end":return e.stop()}}),e)}))),0),e.abrupt("return",{error:null});case 27:return e.next=29,this._recoverAndRefresh();case 29:return e.abrupt("return",{error:null});case 32:if(e.prev=32,e.t1=e.catch(0),!at(e.t1)){e.next=36;break}return e.abrupt("return",{error:e.t1});case 36:return e.abrupt("return",{error:new st("Unexpected error during initialization",e.t1)});case 37:return e.prev=37,e.next=40,this._handleVisibilityChange();case 40:return this._debug("#_initialize()","end"),e.finish(37);case 42:case"end":return e.stop()}}),e,this,[[0,32,37,42]])})));return function(){return e.apply(this,arguments)}}()},{key:"signUp",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s,l,c,u,d,h,f,p,m,v,g,y,x,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._removeSession();case 3:if(!("email"in t)){e.next=20;break}if(s=t.email,l=t.password,c=t.options,u=null,d=null,"pkce"!==this.flowType){e.next=15;break}return h=$e(),e.next=11,Ve(this.storage,"".concat(this.storageKey,"-code-verifier"),h);case 11:return e.next=13,tt(h);case 13:u=e.sent,d=h===u?"plain":"s256";case 15:return e.next=17,wt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===c||void 0===c?void 0:c.emailRedirectTo,body:{email:s,password:l,data:null!==(n=null===c||void 0===c?void 0:c.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===c||void 0===c?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},xform:Ct});case 17:o=e.sent,e.next=28;break;case 20:if(!("phone"in t)){e.next=27;break}return f=t.phone,p=t.password,m=t.options,e.next=24,wt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:f,password:p,data:null!==(r=null===m||void 0===m?void 0:m.data)&&void 0!==r?r:{},channel:null!==(a=null===m||void 0===m?void 0:m.channel)&&void 0!==a?a:"sms",gotrue_meta_security:{captcha_token:null===m||void 0===m?void 0:m.captchaToken}},xform:Ct});case 24:o=e.sent,e.next=28;break;case 27:throw new dt("You must provide either an email or phone number and a password");case 28:if(g=(v=o).data,!(y=v.error)&&g){e.next=31;break}return e.abrupt("return",{data:{user:null,session:null},error:y});case 31:if(x=g.session,b=g.user,!g.session){e.next=38;break}return e.next=36,this._saveSession(g.session);case 36:return e.next=38,this._notifyAllSubscribers("SIGNED_IN",x);case 38:return e.abrupt("return",{data:{user:b,session:x},error:null});case 41:if(e.prev=41,e.t0=e.catch(0),!at(e.t0)){e.next=45;break}return e.abrupt("return",{data:{user:null,session:null},error:e.t0});case 45:throw e.t0;case 46:case"end":return e.stop()}}),e,this,[[0,41]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithPassword",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s,l,c,u,d,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._removeSession();case 3:if(!("email"in t)){e.next=10;break}return r=t.email,a=t.password,o=t.options,e.next=7,wt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:a,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Ct});case 7:case 14:n=e.sent,e.next=18;break;case 10:if(!("phone"in t)){e.next=17;break}return s=t.phone,l=t.password,c=t.options,e.next=14,wt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:null===c||void 0===c?void 0:c.captchaToken}},xform:Ct});case 17:throw new dt("You must provide either an email or phone number and a password");case 18:if(d=(u=n).data,!(h=u.error)){e.next=23;break}return e.abrupt("return",{data:{user:null,session:null},error:h});case 23:if(d&&d.session&&d.user){e.next=25;break}return e.abrupt("return",{data:{user:null,session:null},error:new ut});case 25:if(!d.session){e.next=30;break}return e.next=28,this._saveSession(d.session);case 28:return e.next=30,this._notifyAllSubscribers("SIGNED_IN",d.session);case 30:return e.abrupt("return",{data:{user:d.user,session:d.session},error:h});case 33:if(e.prev=33,e.t0=e.catch(0),!at(e.t0)){e.next=37;break}return e.abrupt("return",{data:{user:null,session:null},error:e.t0});case 37:throw e.t0;case 38:case"end":return e.stop()}}),e,this,[[0,33]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithOAuth",value:function(){var e=s(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._removeSession();case 2:return e.next=4,this._handleProviderSignIn(t.provider,{redirectTo:null===(n=t.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=t.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=t.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:null===(o=t.options)||void 0===o?void 0:o.skipBrowserRedirect});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"exchangeCodeForSession",value:function(){var e=s(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initializePromise;case 2:return e.abrupt("return",this._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n._exchangeCodeForSession(t));case 1:case"end":return e.stop()}}),e)})))));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_exchangeCodeForSession",value:function(){var e=s(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(this.storage,"".concat(this.storageKey,"-code-verifier"));case 2:return n=e.sent,e.next=5,wt(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ct});case 5:return r=e.sent,a=r.data,o=r.error,e.next=10,He(this.storage,"".concat(this.storageKey,"-code-verifier"));case 10:if(!o){e.next=14;break}return e.abrupt("return",{data:{user:null,session:null},error:o});case 14:if(a&&a.session&&a.user){e.next=16;break}return e.abrupt("return",{data:{user:null,session:null},error:new ut});case 16:if(!a.session){e.next=21;break}return e.next=19,this._saveSession(a.session);case 19:return e.next=21,this._notifyAllSubscribers("SIGNED_IN",a.session);case 21:return e.abrupt("return",{data:a,error:o});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithIdToken",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s,l,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._removeSession();case 2:return e.prev=2,n=t.options,r=t.provider,a=t.token,o=t.access_token,s=t.nonce,e.next=6,wt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:a,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken}},xform:Ct});case 6:if(l=e.sent,c=l.data,!(u=l.error)){e.next=12;break}return e.abrupt("return",{data:{user:null,session:null},error:u});case 12:if(c&&c.session&&c.user){e.next=14;break}return e.abrupt("return",{data:{user:null,session:null},error:new ut});case 14:if(!c.session){e.next=19;break}return e.next=17,this._saveSession(c.session);case 17:return e.next=19,this._notifyAllSubscribers("SIGNED_IN",c.session);case 19:return e.abrupt("return",{data:c,error:u});case 22:if(e.prev=22,e.t0=e.catch(2),!at(e.t0)){e.next=26;break}return e.abrupt("return",{data:{user:null,session:null},error:e.t0});case 26:throw e.t0;case 27:case"end":return e.stop()}}),e,this,[[2,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithOtp",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s,l,c,u,d,h,f,p,m,v,g,y,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._removeSession();case 3:if(!("email"in t)){e.next=20;break}if(l=t.email,c=t.options,u=null,d=null,"pkce"!==this.flowType){e.next=15;break}return h=$e(),e.next=11,Ve(this.storage,"".concat(this.storageKey,"-code-verifier"),h);case 11:return e.next=13,tt(h);case 13:u=e.sent,d=h===u?"plain":"s256";case 15:return e.next=17,wt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:l,data:null!==(n=null===c||void 0===c?void 0:c.data)&&void 0!==n?n:{},create_user:null===(r=null===c||void 0===c?void 0:c.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===c||void 0===c?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:null===c||void 0===c?void 0:c.emailRedirectTo});case 17:return f=e.sent,p=f.error,e.abrupt("return",{data:{user:null,session:null},error:p});case 20:if(!("phone"in t)){e.next=28;break}return m=t.phone,v=t.options,e.next=24,wt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:m,data:null!==(a=null===v||void 0===v?void 0:v.data)&&void 0!==a?a:{},create_user:null===(o=null===v||void 0===v?void 0:v.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:null===v||void 0===v?void 0:v.captchaToken},channel:null!==(s=null===v||void 0===v?void 0:v.channel)&&void 0!==s?s:"sms"}});case 24:return g=e.sent,y=g.data,x=g.error,e.abrupt("return",{data:{user:null,session:null,messageId:null===y||void 0===y?void 0:y.message_id},error:x});case 28:throw new dt("You must provide either an email or phone number.");case 31:if(e.prev=31,e.t0=e.catch(0),!at(e.t0)){e.next=35;break}return e.abrupt("return",{data:{user:null,session:null},error:e.t0});case 35:throw e.t0;case 36:case"end":return e.stop()}}),e,this,[[0,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"verifyOtp",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s,l,c,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"email_change"===t.type||"phone_change"===t.type){e.next=4;break}return e.next=4,this._removeSession();case 4:return a=void 0,o=void 0,"options"in t&&(a=null===(n=t.options)||void 0===n?void 0:n.redirectTo,o=null===(r=t.options)||void 0===r?void 0:r.captchaToken),e.next=9,wt(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Ct});case 9:if(s=e.sent,l=s.data,!(c=s.error)){e.next=14;break}throw c;case 14:if(l){e.next=16;break}throw new Error("An error occurred on token verification.");case 16:if(u=l.session,d=l.user,!(null===u||void 0===u?void 0:u.access_token)){e.next=23;break}return e.next=21,this._saveSession(u);case 21:return e.next=23,this._notifyAllSubscribers("SIGNED_IN",u);case 23:return e.abrupt("return",{data:{user:d,session:u},error:null});case 26:if(e.prev=26,e.t0=e.catch(0),!at(e.t0)){e.next=30;break}return e.abrupt("return",{data:{user:null,session:null},error:e.t0});case 30:throw e.t0;case 31:case"end":return e.stop()}}),e,this,[[0,26]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithSSO",value:function(){var e=s(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._removeSession();case 3:return e.next=5,wt(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(r=null===(n=t.options)||void 0===n?void 0:n.redirectTo)&&void 0!==r?r:void 0}),(null===(a=null===t||void 0===t?void 0:t.options)||void 0===a?void 0:a.captchaToken)?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:Et});case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(0),!at(e.t0)){e.next=12;break}return e.abrupt("return",{data:null,error:e.t0});case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticate",value:function(){var e=s(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initializePromise;case 2:return e.next=4,this._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._reauthenticate();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_reauthenticate",value:function(){var e=s(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._useSession(function(){var e=s(i().mark((function e(n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.data.session,!(a=n.error)){e.next=3;break}throw a;case 3:if(r){e.next=5;break}throw new ct;case 5:return e.next=7,wt(t.fetch,"GET","".concat(t.url,"/reauthenticate"),{headers:t.headers,jwt:r.access_token});case 7:return o=e.sent,s=o.error,e.abrupt("return",{data:{user:null,session:null},error:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!at(e.t0)){e.next=10;break}return e.abrupt("return",{data:{user:null,session:null},error:e.t0});case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"resend",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s,l,c,u,d,h,f,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"email_change"==t.type||"phone_change"==t.type){e.next=4;break}return e.next=4,this._removeSession();case 4:if(n="".concat(this.url,"/resend"),!("email"in t)){e.next=14;break}return r=t.email,a=t.type,o=t.options,e.next=9,wt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo});case 9:return s=e.sent,l=s.error,e.abrupt("return",{data:{user:null,session:null},error:l});case 14:if(!("phone"in t)){e.next=22;break}return c=t.phone,u=t.type,d=t.options,e.next=18,wt(this.fetch,"POST",n,{headers:this.headers,body:{phone:c,type:u,gotrue_meta_security:{captcha_token:null===d||void 0===d?void 0:d.captchaToken}}});case 18:return h=e.sent,f=h.data,p=h.error,e.abrupt("return",{data:{user:null,session:null,messageId:null===f||void 0===f?void 0:f.message_id},error:p});case 22:throw new dt("You must provide either an email or phone number and a type");case 25:if(e.prev=25,e.t0=e.catch(0),!at(e.t0)){e.next=29;break}return e.abrupt("return",{data:{user:null,session:null},error:e.t0});case 29:throw e.t0;case 30:case"end":return e.stop()}}),e,this,[[0,25]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getSession",value:function(){var e=s(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initializePromise;case 2:return e.abrupt("return",this._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._useSession(function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_acquireLock",value:function(){var e=s(i().mark((function e(t,n){var r,a,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._debug("#_acquireLock","begin",t),e.prev=1,!this.lockAcquired){e.next=7;break}return r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:return e.next=4,n();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))(),this.pendingInLock.push(s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a;case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))()),e.abrupt("return",a);case 7:return e.next=9,this.lock("lock:".concat(this.storageKey),t,s(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o._debug("#_acquireLock","lock acquired for storage key",o.storageKey),e.prev=1,o.lockAcquired=!0,t=n(),o.pendingInLock.push(s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))()),e.next=7,t;case 7:if(!o.pendingInLock.length){e.next=14;break}return r=(0,T.Z)(o.pendingInLock),e.next=11,Promise.all(r);case 11:o.pendingInLock.splice(0,r.length),e.next=7;break;case 14:return e.next=16,t;case 16:return e.abrupt("return",e.sent);case 17:return e.prev=17,o._debug("#_acquireLock","lock released for storage key",o.storageKey),o.lockAcquired=!1,e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[1,,17,21]])}))));case 9:return e.abrupt("return",e.sent);case 10:return e.prev=10,this._debug("#_acquireLock","end"),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[1,,10,13]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_useSession",value:function(){var e=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("#_useSession","begin"),e.prev=1,e.next=4,this.__loadSession();case 4:return n=e.sent,e.next=7,t(n);case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,this._debug("#_useSession","end"),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[1,,8,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"__loadSession",value:function(){var e=s(i().mark((function e(){var t,n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack),e.prev=2,t=null,e.next=6,qe(this.storage,this.storageKey);case 6:if(n=e.sent,this._debug("#getSession()","session from storage",n),null===n){e.next=16;break}if(!this._isValidSession(n)){e.next=13;break}t=n,e.next=16;break;case 13:return this._debug("#getSession()","session from storage is not valid"),e.next=16,this._removeSession();case 16:if(t){e.next=18;break}return e.abrupt("return",{data:{session:null},error:null});case 18:if(r=!!t.expires_at&&t.expires_at<=Date.now()/1e3,this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",t.expires_at),r){e.next=22;break}return e.abrupt("return",{data:{session:t},error:null});case 22:return e.next=24,this._callRefreshToken(t.refresh_token);case 24:if(a=e.sent,o=a.session,!(s=a.error)){e.next=29;break}return e.abrupt("return",{data:{session:null},error:s});case 29:return e.abrupt("return",{data:{session:o},error:null});case 30:return e.prev=30,this._debug("#__loadSession()","end"),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[2,,30,33]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=s(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,this._getUser(t);case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,this.initializePromise;case 6:return e.abrupt("return",this._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._getUser();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getUser",value:function(){var e=s(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=5;break}return e.next=4,wt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:t,xform:Nt});case 4:case 7:return e.abrupt("return",e.sent);case 5:return e.next=7,this._useSession(function(){var e=s(i().mark((function e(t){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.data,!(s=t.error)){e.next=3;break}throw s;case 3:return e.next=5,wt(n.fetch,"GET","".concat(n.url,"/user"),{headers:n.headers,jwt:null!==(a=null===(r=o.session)||void 0===r?void 0:r.access_token)&&void 0!==a?a:void 0,xform:Nt});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:if(e.prev=10,e.t0=e.catch(0),!at(e.t0)){e.next=14;break}return e.abrupt("return",{data:{user:null},error:e.t0});case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=s(i().mark((function e(t){var n,r=this,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.initializePromise;case 3:return e.next=5,this._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._updateUser(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateUser",value:function(){var e=s(i().mark((function e(t){var n,r=this,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=1,e.next=4,this._useSession(function(){var e=s(i().mark((function e(a){var o,s,l,c,u,d,h,f,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.data,!(s=a.error)){e.next=3;break}throw s;case 3:if(o.session){e.next=5;break}throw new ct;case 5:if(l=o.session,c=null,u=null,"pkce"!==r.flowType||null==t.email){e.next=16;break}return d=$e(),e.next=12,Ve(r.storage,"".concat(r.storageKey,"-code-verifier"),d);case 12:return e.next=14,tt(d);case 14:c=e.sent,u=d===c?"plain":"s256";case 16:return e.next=18,wt(r.fetch,"PUT","".concat(r.url,"/user"),{headers:r.headers,redirectTo:null===n||void 0===n?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Nt});case 18:if(h=e.sent,f=h.data,!(p=h.error)){e.next=23;break}throw p;case 23:return l.user=f.user,e.next=26,r._saveSession(l);case 26:return e.next=28,r._notifyAllSubscribers("USER_UPDATED",l);case 28:return e.abrupt("return",{data:{user:l.user},error:null});case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!at(e.t0)){e.next=11;break}return e.abrupt("return",{data:{user:null},error:e.t0});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_decodeJWT",value:function(e){return Ye(e)}},{key:"setSession",value:function(){var e=s(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initializePromise;case 2:return e.next=4,this._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._setSession(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setSession",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s,l,c,u,d,h,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.access_token&&t.refresh_token){e.next=3;break}throw new ct;case 3:if(n=Date.now()/1e3,r=n,a=!0,o=null,(s=Ye(t.access_token)).exp&&(r=s.exp,a=r<=n),!a){e.next=22;break}return e.next=12,this._callRefreshToken(t.refresh_token);case 12:if(l=e.sent,c=l.session,!(u=l.error)){e.next=17;break}return e.abrupt("return",{data:{user:null,session:null},error:u});case 17:if(c){e.next=19;break}return e.abrupt("return",{data:{user:null,session:null},error:null});case 19:o=c,e.next=34;break;case 22:return e.next=24,this._getUser(t.access_token);case 24:if(d=e.sent,h=d.data,!(f=d.error)){e.next=29;break}throw f;case 29:return o={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},e.next=32,this._saveSession(o);case 32:return e.next=34,this._notifyAllSubscribers("SIGNED_IN",o);case 34:return e.abrupt("return",{data:{user:o.user,session:o},error:null});case 37:if(e.prev=37,e.t0=e.catch(0),!at(e.t0)){e.next=41;break}return e.abrupt("return",{data:{session:null,user:null},error:e.t0});case 41:throw e.t0;case 42:case"end":return e.stop()}}),e,this,[[0,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshSession",value:function(){var e=s(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initializePromise;case 2:return e.next=4,this._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._refreshSession(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_refreshSession",value:function(){var e=s(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._useSession(function(){var e=s(i().mark((function e(r){var a,o,s,l,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}if(o=r.data,!(s=r.error)){e.next=4;break}throw s;case 4:t=null!==(a=o.session)&&void 0!==a?a:void 0;case 5:if(null===t||void 0===t?void 0:t.refresh_token){e.next=7;break}throw new ct;case 7:return e.next=9,n._callRefreshToken(t.refresh_token);case 9:if(l=e.sent,c=l.session,!(u=l.error)){e.next=14;break}return e.abrupt("return",{data:{user:null,session:null},error:u});case 14:if(c){e.next=16;break}return e.abrupt("return",{data:{user:null,session:null},error:null});case 16:return e.abrupt("return",{data:{user:c.user,session:c},error:null});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!at(e.t0)){e.next=10;break}return e.abrupt("return",{data:{user:null,session:null},error:e.t0});case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_getSessionFromURL",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s,l,c,u,d,h,f,p,m,v,g,y,x,b,_,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ze()){e.next=3;break}throw new ht("No browser detected.");case 3:if("implicit"!==this.flowType||this._isImplicitGrantFlow()){e.next=7;break}throw new ht("Not a valid implicit grant flow url.");case 7:if("pkce"!=this.flowType||t){e.next=9;break}throw new ft("Not a valid PKCE flow url.");case 9:if(n=Be(window.location.href),!t){e.next=24;break}if(n.code){e.next=13;break}throw new ft("No code detected.");case 13:return e.next=15,this._exchangeCodeForSession(n.code);case 15:if(r=e.sent,a=r.data,!(o=r.error)){e.next=20;break}throw o;case 20:return(s=new URL(window.location.href)).searchParams.delete("code"),window.history.replaceState(window.history.state,"",s.toString()),e.abrupt("return",{data:{session:a.session,redirectType:null},error:null});case 24:if(!(n.error||n.error_description||n.error_code)){e.next=26;break}throw new ht(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});case 26:if(l=n.provider_token,c=n.provider_refresh_token,u=n.access_token,d=n.refresh_token,h=n.expires_in,f=n.expires_at,p=n.token_type,u&&h&&d&&p){e.next=29;break}throw new ht("No session defined in URL");case 29:return m=Math.round(Date.now()/1e3),v=parseInt(h),g=m+v,f&&(g=parseInt(f)),1e3*(y=g-m)<=Ft&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(y,"s, should have been closer to ").concat(v,"s")),m-(x=g-v)>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,m):m-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",x,g,m),e.next=39,this._getUser(u);case 39:if(b=e.sent,_=b.data,!(w=b.error)){e.next=44;break}throw w;case 44:return k={provider_token:l,provider_refresh_token:c,access_token:u,expires_in:v,expires_at:g,refresh_token:d,token_type:p,user:_.user},window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),e.abrupt("return",{data:{session:k,redirectType:n.type},error:null});case 50:if(e.prev=50,e.t0=e.catch(0),!at(e.t0)){e.next=54;break}return e.abrupt("return",{data:{session:null,redirectType:null},error:e.t0});case 54:throw e.t0;case 55:case"end":return e.stop()}}),e,this,[[0,50]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isImplicitGrantFlow",value:function(){var e=Be(window.location.href);return!(!ze()||!e.access_token&&!e.error_description)}},{key:"_isPKCEFlow",value:function(){var e=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Be(window.location.href),e.next=3,qe(this.storage,"".concat(this.storageKey,"-code-verifier"));case 3:return n=e.sent,e.abrupt("return",!(!t.code||!n));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=s(i().mark((function e(){var t,n=this,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{scope:"global"},e.next=3,this.initializePromise;case 3:return e.next=5,this._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._signOut(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_signOut",value:function(){var e=s(i().mark((function e(){var t,n=this,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r.length>0&&void 0!==r[0]?r[0]:{scope:"global"}).scope,e.next=3,this._useSession(function(){var e=s(i().mark((function e(r){var a,o,s,l,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.data,!(s=r.error)){e.next=3;break}return e.abrupt("return",{error:s});case 3:if(!(l=null===(a=o.session)||void 0===a?void 0:a.access_token)){e.next=12;break}return e.next=7,n.admin.signOut(l,t);case 7:if(c=e.sent,!(u=c.error)){e.next=12;break}if(ot(u)&&(404===u.status||401===u.status)){e.next=12;break}return e.abrupt("return",{error:u});case 12:if("others"===t){e.next=19;break}return e.next=15,n._removeSession();case 15:return e.next=17,He(n.storage,"".concat(n.storageKey,"-code-verifier"));case 17:return e.next=19,n._notifyAllSubscribers("SIGNED_OUT",null);case 19:return e.abrupt("return",{error:null});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthStateChange",value:function(e){var t=this,n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:n,callback:e,unsubscribe:function(){t._debug("#unsubscribe()","state change callback with id removed",n),t.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initializePromise;case 2:return e.next=4,t._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._emitInitialSession(n);case 1:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})))(),{data:{subscription:r}}}},{key:"_emitInitialSession",value:function(){var e=s(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._useSession(function(){var e=s(i().mark((function e(r){var a,o,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=r.data.session,!(l=r.error)){e.next=4;break}throw l;case 4:return e.next=6,null===(a=n.stateChangeEmitters.get(t))||void 0===a?void 0:a.callback("INITIAL_SESSION",s);case 6:n._debug("INITIAL_SESSION","callback id",t,"session",s),e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,null===(o=n.stateChangeEmitters.get(t))||void 0===o?void 0:o.callback("INITIAL_SESSION",null);case 13:n._debug("INITIAL_SESSION","callback id",t,"error",e.t0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPasswordForEmail",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},r=null,a=null,"pkce"!==this.flowType){e.next=11;break}return o=$e(),e.next=7,Ve(this.storage,"".concat(this.storageKey,"-code-verifier"),o);case 7:return e.next=9,tt(o);case 9:r=e.sent,a=o===r?"plain":"s256";case 11:return e.prev=11,e.next=14,wt(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo});case 14:return e.abrupt("return",e.sent);case 17:if(e.prev=17,e.t0=e.catch(11),!at(e.t0)){e.next=21;break}return e.abrupt("return",{data:null,error:e.t0});case 21:throw e.t0;case 22:case"end":return e.stop()}}),e,this,[[11,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_refreshAccessToken",value:function(){var e=s(i().mark((function e(t){var n,r,a=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="#_refreshAccessToken(".concat(t.substring(0,5),"...)"),this._debug(n,"begin"),e.prev=2,r=Date.now(),e.next=6,Xe(function(){var e=s(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(200*r);case 2:return a._debug(n,"refreshing attempt",r),e.next=5,wt(a.fetch,"POST","".concat(a.url,"/token?grant_type=refresh_token"),{body:{refresh_token:t},headers:a.headers,xform:Ct});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e,t,n){return n&&n.error&&mt(n.error)&&Date.now()+200*(e+1)-r<Ft}));case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(2),this._debug(n,"error",e.t0),!at(e.t0)){e.next=14;break}return e.abrupt("return",{data:{session:null,user:null},error:e.t0});case 14:throw e.t0;case 15:return e.prev=15,this._debug(n,"end"),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,9,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isValidSession",value:function(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}},{key:"_handleProviderSignIn",value:function(){var e=s(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});case 2:return r=e.sent,this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ze()&&!n.skipBrowserRedirect&&window.location.assign(r),e.abrupt("return",{data:{provider:t,url:r},error:null});case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_recoverAndRefresh",value:function(){var e=s(i().mark((function e(){var t,n,r,a,o,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="#_recoverAndRefresh()",this._debug(n,"begin"),e.prev=2,e.next=5,qe(this.storage,this.storageKey);case 5:if(r=e.sent,this._debug(n,"session from storage",r),this._isValidSession(r)){e.next=13;break}if(this._debug(n,"session is not valid"),null===r){e.next=12;break}return e.next=12,this._removeSession();case 12:return e.abrupt("return");case 13:if(a=Math.round(Date.now()/1e3),o=(null!==(t=r.expires_at)&&void 0!==t?t:1/0)<a+10,this._debug(n,"session has".concat(o?"":" not"," expired with margin of ").concat(10,"s")),!o){e.next=30;break}if(!this.autoRefreshToken||!r.refresh_token){e.next=28;break}return e.next=20,this._callRefreshToken(r.refresh_token);case 20:if(s=e.sent,!(l=s.error)){e.next=28;break}if(console.error(l),mt(l)){e.next=28;break}return this._debug(n,"refresh failed with a non-retryable error, removing the session",l),e.next=28,this._removeSession();case 28:e.next=32;break;case 30:return e.next=32,this._notifyAllSubscribers("SIGNED_IN",r);case 32:e.next=39;break;case 34:return e.prev=34,e.t0=e.catch(2),this._debug(n,"error",e.t0),console.error(e.t0),e.abrupt("return");case 39:return e.prev=39,this._debug(n,"end"),e.finish(39);case 42:case"end":return e.stop()}}),e,this,[[2,34,39,42]])})));return function(){return e.apply(this,arguments)}}()},{key:"_callRefreshToken",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s,l,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new ct;case 2:if(!this.refreshingDeferred){e.next=4;break}return e.abrupt("return",this.refreshingDeferred.promise);case 4:return a="#_callRefreshToken(".concat(t.substring(0,5),"...)"),this._debug(a,"begin"),e.prev=6,this.refreshingDeferred=new We,e.next=10,this._refreshAccessToken(t);case 10:if(o=e.sent,s=o.data,!(l=o.error)){e.next=15;break}throw l;case 15:if(s.session){e.next=17;break}throw new ct;case 17:return e.next=19,this._saveSession(s.session);case 19:return e.next=21,this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);case 21:return c={session:s.session,error:null},this.refreshingDeferred.resolve(c),e.abrupt("return",c);case 26:if(e.prev=26,e.t0=e.catch(6),this._debug(a,"error",e.t0),!at(e.t0)){e.next=33;break}return u={session:null,error:e.t0},null===(n=this.refreshingDeferred)||void 0===n||n.resolve(u),e.abrupt("return",u);case 33:throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(e.t0),e.t0;case 35:return e.prev=35,this.refreshingDeferred=null,this._debug(a,"end"),e.finish(35);case 39:case"end":return e.stop()}}),e,this,[[6,26,35,39]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyAllSubscribers",value:function(){var e=s(i().mark((function e(t,n){var r,a,o,l,c,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(u.length>2&&void 0!==u[2])||u[2],a="#_notifyAllSubscribers(".concat(t,")"),this._debug(a,"begin",n,"broadcast = ".concat(r)),e.prev=3,this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n}),o=[],l=Array.from(this.stateChangeEmitters.values()).map(function(){var e=s(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.callback(t,n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o.push(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Promise.all(l);case 9:if(!(o.length>0)){e.next=12;break}for(c=0;c<o.length;c+=1)console.error(o[c]);throw o[0];case 12:return e.prev=12,this._debug(a,"end"),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[3,,12,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_saveSession",value:function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("#_saveSession()",t),e.next=3,this._persistSession(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistSession",value:function(e){return this._debug("#_persistSession()",e),Ve(this.storage,this.storageKey,e)}},{key:"_removeSession",value:function(){var e=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("#_removeSession()"),e.next=3,He(this.storage,this.storageKey);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_removeVisibilityChangedCallback",value:function(){this._debug("#_removeVisibilityChangedCallback()");var e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ze()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}},{key:"_startAutoRefresh",value:function(){var e=s(i().mark((function e(){var t,n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._stopAutoRefresh();case 2:this._debug("#_startAutoRefresh()"),t=setInterval((function(){return n._autoRefreshTokenTick()}),Ft),this.autoRefreshTicker=t,t&&"object"===typeof t&&"function"===typeof t.unref?t.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(t),setTimeout(s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.initializePromise;case 2:return e.next=4,n._autoRefreshTokenTick();case 4:case"end":return e.stop()}}),e)}))),0);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_stopAutoRefresh",value:function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._debug("#_stopAutoRefresh()"),t=this.autoRefreshTicker,this.autoRefreshTicker=null,t&&clearInterval(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startAutoRefresh",value:function(){var e=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._removeVisibilityChangedCallback(),e.next=3,this._startAutoRefresh();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopAutoRefresh",value:function(){var e=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._removeVisibilityChangedCallback(),e.next=3,this._stopAutoRefresh();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_autoRefreshTokenTick",value:function(){var e=s(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("#_autoRefreshTokenTick()","begin"),e.prev=1,e.next=4,this._acquireLock(0,s(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Date.now(),e.prev=2,e.next=5,t._useSession(function(){var e=s(i().mark((function e(r){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=r.data.session)&&a.refresh_token&&a.expires_at){e.next=4;break}return t._debug("#_autoRefreshTokenTick()","no session"),e.abrupt("return");case 4:if(o=Math.floor((1e3*a.expires_at-n)/Ft),t._debug("#_autoRefreshTokenTick()","access token expires in ".concat(o," ticks, a tick lasts ").concat(Ft,"ms, refresh threshold is ").concat(3," ticks")),!(o<=3)){e.next=9;break}return e.next=9,t._callRefreshToken(a.refresh_token);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(2),console.error("Auto refresh tick failed with error. This is likely a transient error.",e.t0);case 11:return e.prev=11,t._debug("#_autoRefreshTokenTick()","end"),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,,11,14],[2,8]])}))));case 4:e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(1),!(e.t0.isAcquireTimeout||e.t0 instanceof zt)){e.next=12;break}this._debug("auto refresh token tick lock not available"),e.next=13;break;case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"_handleVisibilityChange",value:function(){var e=s(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._debug("#_handleVisibilityChange()"),ze()&&(null===window||void 0===window?void 0:window.addEventListener)){e.next=4;break}return this.autoRefreshToken&&this.startAutoRefresh(),e.abrupt("return",!1);case 4:return e.prev=4,this.visibilityChangedCallback=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._onVisibilityChanged(!1);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),e.next=9,this._onVisibilityChanged(!0);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("_handleVisibilityChange",e.t0);case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"_onVisibilityChanged",value:function(){var e=s(i().mark((function e(t){var n,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="#_onVisibilityChanged(".concat(t,")"),this._debug(n,"visibilityState",document.visibilityState),"visible"!==document.visibilityState){e.next=11;break}if(this.autoRefreshToken&&this._startAutoRefresh(),t){e.next=9;break}return e.next=7,this.initializePromise;case 7:return e.next=9,this._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("visible"===document.visibilityState){e.next=3;break}return r._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"),e.abrupt("return");case 3:return e.next=5,r._recoverAndRefresh();case 5:case"end":return e.stop()}}),e)}))));case 9:e.next=12;break;case 11:"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh();case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getUrlForProvider",value:function(){var e=s(i().mark((function e(t,n){var r,a,o,s,l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=["provider=".concat(encodeURIComponent(t))],(null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"!==this.flowType){e.next=14;break}return a=$e(),e.next=7,Ve(this.storage,"".concat(this.storageKey,"-code-verifier"),a);case 7:return e.next=9,tt(a);case 9:o=e.sent,s=a===o?"plain":"s256",this._debug("PKCE","code verifier","".concat(a.substring(0,5),"..."),"code challenge",o,"method",s),l=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(o)),code_challenge_method:"".concat(encodeURIComponent(s))}),r.push(l.toString());case 14:return(null===n||void 0===n?void 0:n.queryParams)&&(c=new URLSearchParams(n.queryParams),r.push(c.toString())),e.abrupt("return","".concat(this.url,"/authorize?").concat(r.join("&")));case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_unenroll",value:function(){var e=s(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._useSession(function(){var e=s(i().mark((function e(r){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.data,!(s=r.error)){e.next=3;break}return e.abrupt("return",{data:null,error:s});case 3:return e.next=5,wt(n.fetch,"DELETE","".concat(n.url,"/factors/").concat(t.factorId),{headers:n.headers,jwt:null===(a=null===o||void 0===o?void 0:o.session)||void 0===a?void 0:a.access_token});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!at(e.t0)){e.next=10;break}return e.abrupt("return",{data:null,error:e.t0});case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_enroll",value:function(){var e=s(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._useSession(function(){var e=s(i().mark((function e(r){var a,o,s,l,c,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.data,!(l=r.error)){e.next=3;break}return e.abrupt("return",{data:null,error:l});case 3:return e.next=5,wt(n.fetch,"POST","".concat(n.url,"/factors"),{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:n.headers,jwt:null===(a=null===s||void 0===s?void 0:s.session)||void 0===a?void 0:a.access_token});case 5:if(c=e.sent,u=c.data,!(d=c.error)){e.next=10;break}return e.abrupt("return",{data:null,error:d});case 10:return(null===(o=null===u||void 0===u?void 0:u.totp)||void 0===o?void 0:o.qr_code)&&(u.totp.qr_code="data:image/svg+xml;utf-8,".concat(u.totp.qr_code)),e.abrupt("return",{data:u,error:null});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!at(e.t0)){e.next=10;break}return e.abrupt("return",{data:null,error:e.t0});case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_verify",value:function(){var e=s(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n._useSession(function(){var e=s(i().mark((function e(r){var a,o,s,l,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.data,!(s=r.error)){e.next=3;break}return e.abrupt("return",{data:null,error:s});case 3:return e.next=5,wt(n.fetch,"POST","".concat(n.url,"/factors/").concat(t.factorId,"/verify"),{body:{code:t.code,challenge_id:t.challengeId},headers:n.headers,jwt:null===(a=null===o||void 0===o?void 0:o.session)||void 0===a?void 0:a.access_token});case 5:if(l=e.sent,c=l.data,!(u=l.error)){e.next=10;break}return e.abrupt("return",{data:null,error:u});case 10:return e.next=12,n._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c));case 12:return e.next=14,n._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c);case 14:return e.abrupt("return",{data:c,error:u});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!at(e.t0)){e.next=10;break}return e.abrupt("return",{data:null,error:e.t0});case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_challenge",value:function(){var e=s(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n._useSession(function(){var e=s(i().mark((function e(r){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.data,!(s=r.error)){e.next=3;break}return e.abrupt("return",{data:null,error:s});case 3:return e.next=5,wt(n.fetch,"POST","".concat(n.url,"/factors/").concat(t.factorId,"/challenge"),{headers:n.headers,jwt:null===(a=null===o||void 0===o?void 0:o.session)||void 0===a?void 0:a.access_token});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!at(e.t0)){e.next=10;break}return e.abrupt("return",{data:null,error:e.t0});case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_challengeAndVerify",value:function(){var e=s(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._challenge({factorId:t.factorId});case 2:if(n=e.sent,r=n.data,!(a=n.error)){e.next=7;break}return e.abrupt("return",{data:null,error:a});case 7:return e.next=9,this._verify({factorId:t.factorId,challengeId:r.id,code:t.code});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_listFactors",value:function(){var e=s(i().mark((function e(){var t,n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUser();case 2:if(t=e.sent,n=t.data.user,!(r=t.error)){e.next=7;break}return e.abrupt("return",{data:null,error:r});case 7:return a=(null===n||void 0===n?void 0:n.factors)||[],o=a.filter((function(e){return"totp"===e.factor_type&&"verified"===e.status})),e.abrupt("return",{data:{all:a,totp:o},error:null});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAuthenticatorAssuranceLevel",value:function(){var e=s(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._acquireLock(-1,s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._useSession(function(){var e=s(i().mark((function e(n){var r,a,o,s,l,c,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.data.session,!(s=n.error)){e.next=3;break}return e.abrupt("return",{data:null,error:s});case 3:if(o){e.next=5;break}return e.abrupt("return",{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null});case 5:return l=t._decodeJWT(o.access_token),c=null,l.aal&&(c=l.aal),u=c,(null!==(a=null===(r=o.user.factors)||void 0===r?void 0:r.filter((function(e){return"verified"===e.status})))&&void 0!==a?a:[]).length>0&&(u="aal2"),d=l.amr||[],e.abrupt("return",{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();Ut.nextInstanceID=0;var Vt=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,u.Z)(n)}(Ut),qt=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},Ht={headers:Me},Wt={schema:"public"},Yt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gt={},Jt=function(){function e(t,n,r){var a,i,o,s,l,u,d,h;if((0,c.Z)(this,e),this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");var f=t.replace(/\/$/,"");this.realtimeUrl="".concat(f,"/realtime/v1").replace(/^http/i,"ws"),this.authUrl="".concat(f,"/auth/v1"),this.storageUrl="".concat(f,"/storage/v1"),this.functionsUrl="".concat(f,"/functions/v1");var p="sb-".concat(new URL(this.authUrl).hostname.split(".")[0],"-auth-token"),m=function(e,t){var n=e.db,r=e.auth,a=e.realtime,i=e.global,o=t.db,s=t.auth,l=t.realtime,c=t.global;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},s),r),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},c),i)}}(null!==r&&void 0!==r?r:{},{db:Wt,realtime:Gt,auth:Object.assign(Object.assign({},Yt),{storageKey:p}),global:Ht});this.storageKey=null!==(i=null===(a=m.auth)||void 0===a?void 0:a.storageKey)&&void 0!==i?i:"",this.headers=null!==(s=null===(o=m.global)||void 0===o?void 0:o.headers)&&void 0!==s?s:{},this.auth=this._initSupabaseAuthClient(null!==(l=m.auth)&&void 0!==l?l:{},this.headers,null===(u=m.global)||void 0===u?void 0:u.fetch),this.fetch=Oe(n,this._getAccessToken.bind(this),null===(d=m.global)||void 0===d?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new z("".concat(f,"/rest/v1"),{headers:this.headers,schema:null===(h=m.db)||void 0===h?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}return(0,u.Z)(e,[{key:"functions",get:function(){return new E(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}},{key:"storage",get:function(){return new Ae(this.storageUrl,this.headers,this.fetch)}},{key:"from",value:function(e){return this.rest.from(e)}},{key:"schema",value:function(e){return this.rest.schema(e)}},{key:"rpc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this.rest.rpc(e,t,n)}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}},{key:"getChannels",value:function(){return this.realtime.getChannels()}},{key:"removeChannel",value:function(e){return this.realtime.removeChannel(e)}},{key:"removeAllChannels",value:function(){return this.realtime.removeAllChannels()}},{key:"_getAccessToken",value:function(){var e,t;return qt(this,void 0,void 0,i().mark((function n(){var r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.auth.getSession();case 2:return r=n.sent,a=r.data,n.abrupt("return",null!==(t=null===(e=a.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null);case 5:case"end":return n.stop()}}),n,this)})))}},{key:"_initSupabaseAuthClient",value:function(e,t,n){var r=e.autoRefreshToken,a=e.persistSession,i=e.detectSessionInUrl,o=e.storage,s=e.storageKey,l=e.flowType,c=e.debug,u={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Vt({url:this.authUrl,headers:Object.assign(Object.assign({},u),t),storageKey:s,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:o,flowType:l,debug:c,fetch:n})}},{key:"_initRealtimeClient",value:function(e){return new le(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}},{key:"_listenForAuthEvents",value:function(){var e=this;return this.auth.onAuthStateChange((function(t,n){e._handleTokenChanged(t,"CLIENT",null===n||void 0===n?void 0:n.access_token)}))}},{key:"_handleTokenChanged",value:function(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!==n&&void 0!==n?n:null),this.changedAccessToken=n)}}]),e}(),Xt=function(e,t,n){return new Jt(e,t,n)},Kt=Xt("https://iniadwocuptwhvsjrcrw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4"),$t=n(3878),Qt=n(9199),en=n(181),tn=n(5267);var nn,rn=n(7762);function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},an.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(nn||(nn={}));var on,sn="popstate";function ln(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function cn(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function un(e,t){return{usr:e.state,key:e.key,idx:t}}function dn(e,t,n,r){return void 0===n&&(n=null),an({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?fn(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function hn(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,i=e.hash,o=void 0===i?"":i;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function fn(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pn(e,t,n,r){void 0===r&&(r={});var a=r,i=a.window,o=void 0===i?document.defaultView:i,s=a.v5Compat,l=void 0!==s&&s,c=o.history,u=nn.Pop,d=null,h=f();function f(){return(c.state||{idx:null}).idx}function p(){u=nn.Pop;var e=f(),t=null==e?null:e-h;h=e,d&&d({action:u,location:v.location,delta:t})}function m(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:hn(e);return ln(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(an({},c.state,{idx:h}),""));var v={get action(){return u},get location(){return e(o,c)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(sn,p),d=e,function(){o.removeEventListener(sn,p),d=null}},createHref:function(e){return t(o,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=nn.Push;var r=dn(v.location,e,t);n&&n(r,e);var a=un(r,h=f()+1),i=v.createHref(r);try{c.pushState(a,"",i)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;o.location.assign(i)}l&&d&&d({action:u,location:v.location,delta:1})},replace:function(e,t){u=nn.Replace;var r=dn(v.location,e,t);n&&n(r,e);var a=un(r,h=f()),i=v.createHref(r);c.replaceState(a,"",i),l&&d&&d({action:u,location:v.location,delta:0})},go:function(e){return c.go(e)}};return v}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(on||(on={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function mn(e,t,n){void 0===n&&(n="/");var r=Tn(("string"===typeof t?fn(t):t).pathname||"/",n);if(null==r)return null;var a=vn(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(a);for(var i=null,o=0;null==i&&o<a.length;++o)i=Cn(a[o],En(r));return i}function vn(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var a=function(e,a,i){var o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(ln(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Mn([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(ln(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),vn(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Sn(s,e.index),routesMeta:l})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,i=(0,rn.Z)(gn(e.path));try{for(i.s();!(r=i.n()).done;){var o=r.value;a(e,t,o)}}catch(s){i.e(s)}finally{i.f()}}else a(e,t)})),t}function gn(e){var t=e.split("/");if(0===t.length)return[];var n,r=(n=t,(0,$t.Z)(n)||(0,Qt.Z)(n)||(0,en.Z)(n)||(0,tn.Z)()),a=r[0],i=r.slice(1),o=a.endsWith("?"),s=a.replace(/\?$/,"");if(0===i.length)return o?[s,""]:[s];var l=gn(i.join("/")),c=[];return c.push.apply(c,(0,T.Z)(l.map((function(e){return""===e?s:[s,e].join("/")})))),o&&c.push.apply(c,(0,T.Z)(l)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var yn=/^:\w+$/,xn=3,bn=2,_n=1,wn=10,kn=-2,jn=function(e){return"*"===e};function Sn(e,t){var n=e.split("/"),r=n.length;return n.some(jn)&&(r+=kn),t&&(r+=bn),n.filter((function(e){return!jn(e)})).reduce((function(e,t){return e+(yn.test(t)?xn:""===t?_n:wn)}),r)}function Cn(e,t){for(var n=e.routesMeta,r={},a="/",i=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,c="/"===a?t:t.slice(a.length)||"/",u=Nn({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);var d=s.route;i.push({params:r,pathname:Mn([a,u.pathname]),pathnameBase:Dn(Mn([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=Mn([a,u.pathnameBase]))}return i}function Nn(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);cn("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");var i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),r=(0,l.Z)(n,2),a=r[0],i=r[1],o=t.match(a);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:i.reduce((function(e,t,n){if("*"===t){var r=u[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return cn(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(u[n]||"",t),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function En(e){try{return decodeURI(e)}catch(t){return cn(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Tn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function In(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function An(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Pn(e,t,n,r){var a;void 0===r&&(r=!1),"string"===typeof e?a=fn(e):(ln(!(a=an({},e)).pathname||!a.pathname.includes("?"),In("?","pathname","search",a)),ln(!a.pathname||!a.pathname.includes("#"),In("#","pathname","hash",a)),ln(!a.search||!a.search.includes("#"),In("#","search","hash",a)));var i,o=""===e||""===a.pathname,s=o?"/":a.pathname;if(r||null==s)i=n;else{var l=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),l-=1;a.pathname=c.join("/")}i=l>=0?t[l]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?fn(e):e,r=n.pathname,a=n.search,i=void 0===a?"":a,o=n.hash,s=void 0===o?"":o,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:Ln(i),hash:On(s)}}(a,i),d=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}var Mn=function(e){return e.join("/").replace(/\/\/+/g,"/")},Dn=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Ln=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},On=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},zn=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(g(Error));function Rn(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Fn=["post","put","patch","delete"],Bn=(new Set(Fn),["get"].concat(Fn));new Set(Bn),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}var Un=e.createContext(null);var Vn=e.createContext(null);var qn=e.createContext(null);var Hn=e.createContext(null);var Wn=e.createContext(null);var Yn=e.createContext({outlet:null,matches:[],isDataRoute:!1});var Gn=e.createContext(null);function Jn(){return null!=e.useContext(Wn)}function Xn(){return Jn()||ln(!1),e.useContext(Wn).location}function Kn(t){e.useContext(Hn).static||e.useLayoutEffect(t)}function $n(){return e.useContext(Yn).isDataRoute?function(){var t=cr(sr.UseNavigateStable).router,n=dr(lr.UseNavigateStable),r=e.useRef(!1);Kn((function(){r.current=!0}));var a=e.useCallback((function(e,a){void 0===a&&(a={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,Zn({fromRouteId:n},a)))}),[t,n]);return a}():function(){Jn()||ln(!1);var t=e.useContext(Un),n=e.useContext(Hn),r=n.basename,a=n.navigator,i=e.useContext(Yn).matches,o=Xn().pathname,s=JSON.stringify(An(i).map((function(e){return e.pathnameBase}))),l=e.useRef(!1);Kn((function(){l.current=!0}));var c=e.useCallback((function(e,n){if(void 0===n&&(n={}),l.current)if("number"!==typeof e){var i=Pn(e,JSON.parse(s),o,"path"===n.relative);null==t&&"/"!==r&&(i.pathname="/"===i.pathname?r:Mn([r,i.pathname])),(n.replace?a.replace:a.push)(i,n.state,n)}else a.go(e)}),[r,a,s,o,t]);return c}()}function Qn(){var t=e.useContext(Yn).matches,n=t[t.length-1];return n?n.params:{}}function er(t,n){var r=(void 0===n?{}:n).relative,a=e.useContext(Yn).matches,i=Xn().pathname,o=JSON.stringify(An(a).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return Pn(t,JSON.parse(o),i,"path"===r)}),[t,o,i,r])}function tr(t,n,r){Jn()||ln(!1);var a,i=e.useContext(Hn).navigator,o=e.useContext(Yn).matches,s=o[o.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),u=(s&&s.route,Xn());if(n){var d,h="string"===typeof n?fn(n):n;"/"===c||(null==(d=h.pathname)?void 0:d.startsWith(c))||ln(!1),a=h}else a=u;var f=a.pathname||"/",p=mn(t,{pathname:"/"===c?f:f.slice(c.length)||"/"});var m=or(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Mn([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Mn([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&m?e.createElement(Wn.Provider,{value:{location:Zn({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:nn.Pop}},m):m}function nr(){var t=function(){var t,n=e.useContext(Gn),r=ur(lr.UseRouteError),a=dr(lr.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[a]}(),n=Rn(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,null)}var rr=e.createElement(nr,null),ar=function(t){(0,d.Z)(r,t);var n=(0,h.Z)(r);function r(e){var t;return(0,c.Z)(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return(0,u.Z)(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(Yn.Provider,{value:this.props.routeContext},e.createElement(Gn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(e.Component);function ir(t){var n=t.routeContext,r=t.match,a=t.children,i=e.useContext(Un);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Yn.Provider,{value:n},a)}function or(t,n,r){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==t){var i;if(null==(i=r)||!i.errors)return null;t=r.matches}var o=t,s=null==(a=r)?void 0:a.errors;if(null!=s){var l=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));l>=0||ln(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((function(t,a,i){var l=a.route.id?null==s?void 0:s[a.route.id]:null,c=null;r&&(c=a.route.errorElement||rr);var u=n.concat(o.slice(0,i+1)),d=function(){var n;return n=l?c:a.route.Component?e.createElement(a.route.Component,null):a.route.element?a.route.element:t,e.createElement(ir,{match:a,routeContext:{outlet:t,matches:u,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===i)?e.createElement(ar,{location:r.location,revalidation:r.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}var sr=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sr||{}),lr=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lr||{});function cr(t){var n=e.useContext(Un);return n||ln(!1),n}function ur(t){var n=e.useContext(Vn);return n||ln(!1),n}function dr(t){var n=function(t){var n=e.useContext(Yn);return n||ln(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||ln(!1),r.route.id}t.startTransition;function hr(e){ln(!1)}function fr(t){var n=t.basename,r=void 0===n?"/":n,a=t.children,i=void 0===a?null:a,o=t.location,s=t.navigationType,l=void 0===s?nn.Pop:s,c=t.navigator,u=t.static,d=void 0!==u&&u;Jn()&&ln(!1);var h=r.replace(/^\/*/,"/"),f=e.useMemo((function(){return{basename:h,navigator:c,static:d}}),[h,c,d]);"string"===typeof o&&(o=fn(o));var p=o,m=p.pathname,v=void 0===m?"/":m,g=p.search,y=void 0===g?"":g,x=p.hash,b=void 0===x?"":x,_=p.state,w=void 0===_?null:_,k=p.key,j=void 0===k?"default":k,S=e.useMemo((function(){var e=Tn(v,h);return null==e?null:{location:{pathname:e,search:y,hash:b,state:w,key:j},navigationType:l}}),[h,v,y,b,w,j,l]);return null==S?null:e.createElement(Hn.Provider,{value:f},e.createElement(Wn.Provider,{children:i,value:S}))}function pr(e){var t=e.children,n=e.location;return tr(gr(t),n)}var mr=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(mr||{}),vr=new Promise((function(){}));e.Component;function gr(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,a){if(e.isValidElement(t)){var i=[].concat((0,T.Z)(n),[a]);if(t.type!==e.Fragment){t.type!==hr&&ln(!1),t.props.index&&t.props.children&&ln(!1);var o={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=gr(t.props.children,i)),r.push(o)}else r.push.apply(r,gr(t.props.children,i))}})),r}var yr=n.p+"static/media/MGHlogo.2214a25b1841baf7e49d.png";function xr(){return xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xr.apply(this,arguments)}function br(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var _r=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var wr=t.startTransition;function kr(t){var n,r=t.basename,a=t.children,i=t.future,o=t.window,s=e.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),pn((function(e,t){var n=fn(e.location.hash.substr(1)),r=n.pathname,a=void 0===r?"/":r,i=n.search,o=void 0===i?"":i,s=n.hash,l=void 0===s?"":s;return a.startsWith("/")||a.startsWith(".")||(a="/"+a),dn("",{pathname:a,search:o,hash:l},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var a=e.location.href,i=a.indexOf("#");r=-1===i?a:a.slice(0,i)}return r+"#"+("string"===typeof t?t:hn(t))}),(function(e,t){cn("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var c=s.current,u=e.useState({action:c.action,location:c.location}),d=(0,l.Z)(u,2),h=d[0],f=d[1],p=(i||{}).v7_startTransition,m=e.useCallback((function(e){p&&wr?wr((function(){return f(e)})):f(e)}),[f,p]);return e.useLayoutEffect((function(){return c.listen(m)}),[c,m]),e.createElement(fr,{basename:r,children:a,location:h.location,navigationType:h.action,navigator:c})}var jr="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Sr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cr=e.forwardRef((function(t,n){var r,a=t.onClick,i=t.relative,o=t.reloadDocument,s=t.replace,l=t.state,c=t.target,u=t.to,d=t.preventScrollReset,h=br(t,_r),f=e.useContext(Hn).basename,p=!1;if("string"===typeof u&&Sr.test(u)&&(r=u,jr))try{var m=new URL(window.location.href),v=u.startsWith("//")?new URL(m.protocol+u):new URL(u),g=Tn(v.pathname,f);v.origin===m.origin&&null!=g?u=g+v.search+v.hash:p=!0}catch(b){}var y=function(t,n){var r=(void 0===n?{}:n).relative;Jn()||ln(!1);var a=e.useContext(Hn),i=a.basename,o=a.navigator,s=er(t,{relative:r}),l=s.hash,c=s.pathname,u=s.search,d=c;return"/"!==i&&(d="/"===c?i:Mn([i,c])),o.createHref({pathname:d,search:u,hash:l})}(u,{relative:i}),x=function(t,n){var r=void 0===n?{}:n,a=r.target,i=r.replace,o=r.state,s=r.preventScrollReset,l=r.relative,c=$n(),u=Xn(),d=er(t,{relative:l});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,a)){e.preventDefault();var n=void 0!==i?i:hn(u)===hn(d);c(t,{replace:n,state:o,preventScrollReset:s,relative:l})}}),[u,c,d,i,o,a,t,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i});return e.createElement("a",xr({},h,{href:r||y,onClick:p||o?a:function(e){a&&a(e),e.defaultPrevented||x(e)},ref:n,target:c}))}));var Nr,Er;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Nr||(Nr={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Er||(Er={}));var Tr=n(4942),Ir=n(1413),Ar={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pr=e.createContext&&e.createContext(Ar),Mr=function(){return Mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Mr.apply(this,arguments)},Dr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Lr(t){return t&&t.map((function(t,n){return e.createElement(t.tag,Mr({key:n},t.attr),Lr(t.child))}))}function Or(t){return function(n){return e.createElement(zr,Mr({attr:Mr({},t.attr)},n),Lr(t.child))}}function zr(t){var n=function(n){var r,a=t.attr,i=t.size,o=t.title,s=Dr(t,["attr","size","title"]),l=i||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",Mr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,s,{className:r,style:Mr(Mr({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==Pr?e.createElement(Pr.Consumer,null,(function(e){return n(e)})):n(Ar)}function Rr(e){return Or({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228,175a8,8,0,0,1-10.92-3l-19-33.2A123.23,123.23,0,0,1,162,155.46l5.87,35.22a8,8,0,0,1-6.58,9.21A8.4,8.4,0,0,1,160,200a8,8,0,0,1-7.88-6.69l-5.77-34.58a133.06,133.06,0,0,1-36.68,0l-5.77,34.58A8,8,0,0,1,96,200a8.4,8.4,0,0,1-1.32-.11,8,8,0,0,1-6.58-9.21L94,155.46a123.23,123.23,0,0,1-36.06-16.69L39,172A8,8,0,1,1,25.06,164l20-35a153.47,153.47,0,0,1-19.3-20A8,8,0,1,1,38.22,99c16.6,20.54,45.64,45,89.78,45s73.18-24.49,89.78-45A8,8,0,1,1,230.22,109a153.47,153.47,0,0,1-19.3,20l20,35A8,8,0,0,1,228,175Z"}}]})(e)}function Fr(e){return Or({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M247.31,124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57,61.26,162.88,48,128,48S61.43,61.26,36.34,86.35C17.51,105.18,9,124,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208s66.57-13.26,91.66-38.34c18.83-18.83,27.3-37.61,27.65-38.4A8,8,0,0,0,247.31,124.76ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.47,133.47,0,0,1,25,128,133.33,133.33,0,0,1,48.07,97.25C70.33,75.19,97.22,64,128,64s57.67,11.19,79.93,33.25A133.46,133.46,0,0,1,231.05,128C223.84,141.46,192.43,192,128,192Zm0-112a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Z"}}]})(e)}var Br=n(184),Zr=function(t){var n=t.close,r=t.openReg,a=t.setToken,o=t.patient,c=t.token;var u=(0,e.useState)({email:"",password:""}),d=(0,l.Z)(u,2),h=d[0],f=d[1];function p(e){f((function(t){return(0,Ir.Z)((0,Ir.Z)({},t),{},(0,Tr.Z)({},e.target.name,e.target.value))}))}var m=(0,e.useRef)(),v=(0,e.useState)(""),g=(0,l.Z)(v,2),y=g[0],x=g[1],b=(0,e.useState)(!1),_=(0,l.Z)(b,2),w=_[0],k=_[1],j=$n();function S(){return(S=s(i().mark((function e(t){var n,r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c&&console.log(o),e.prev=2,e.next=5,Kt.auth.signInWithPassword({email:h.email,password:h.password});case 5:if(n=e.sent,r=n.data,!(s=n.error)){e.next=10;break}throw s;case 10:j("/Dashboard"),a(r),k(!0),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),x(e.t0.message+""),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}var C=(0,e.useState)(!1),N=(0,l.Z)(C,2),E=N[0],T=N[1],I=E?"text":"password";return(0,Br.jsx)("div",{className:"flex justify-center backdrop-blur-sm bg-slate-700 fixed z-50 inset-0 bg-opacity-30",children:(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"absolute abs rounded-md bg-white mt-40",children:[(0,Br.jsx)("div",{className:"mb-8 mt-4 mr-4 flex justify-end",children:(0,Br.jsx)("button",{onClick:n,className:"bg-slate-200 text-slate-500 hover:bg-slate-300 hover:text-slate-700 hover:ring-slate-500 ring-transparent transition duration-100 ring-2 text-lg rounded-full px-2",children:"close"})}),w?(0,Br.jsx)("div",{className:"px-20 pb-12",children:(0,Br.jsx)("section",{children:(0,Br.jsx)("h1",{children:"Logged in"})})}):(0,Br.jsxs)("form",{onSubmit:function(e){return S.apply(this,arguments)},children:[(0,Br.jsx)("p",{ref:m,className:y?"err text-center py-1 mx-12 mb-3 -mt-1 bg-red-300":"offscreen","aria-live":"assertive",children:y}),(0,Br.jsxs)("div",{className:"px-20 pb-12",children:[(0,Br.jsxs)("div",{className:"flex ml-10 mb-4",children:[(0,Br.jsx)("p",{className:"mr-2",children:"Email: "}),(0,Br.jsx)("input",{type:"text",id:"email",name:"email",onChange:p,autoComplete:"on",required:!0,className:" ml-3 px-2 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})]}),(0,Br.jsxs)("div",{className:"flex mb-9",children:[(0,Br.jsx)("p",{className:"ml-[13px]",children:"Password: "}),(0,Br.jsx)("input",{type:I,name:"password",onChange:p,required:!0,className:" ml-4 px-2 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),(0,Br.jsx)("div",{onClick:function(){return T(!E)},className:"cursor-pointer mt-[2px] -ml-7 text-[20px] ",children:E?(0,Br.jsx)(Fr,{}):(0,Br.jsx)(Rr,{})})]}),(0,Br.jsx)("div",{className:"flex justify-center",children:(0,Br.jsx)("button",{type:"submit",className:"bg-[#418D3F] w-2/5 py-1 font-semibold text-lg text-white rounded-md transition duration-100 ease-in-out hover:bg-[#A5DD9D] hover:text-[#267124] hover:ring-[#418D3F] hover:ring-[3px]",children:"Sign in"})}),(0,Br.jsxs)("div",{className:"text-center",children:[(0,Br.jsx)("p",{className:"pt-4",children:"No account?"}),(0,Br.jsxs)("button",{className:"text-blue-600",onClick:function(e){e.preventDefault(),r()},children:[" ","create one"]})]})]})]})]})})})};function Ur(e){return Or({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M396 512a112 112 0 1 0 224 0 112 112 0 1 0-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]})(e)}function Vr(e){return Or({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 0 0-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"}}]})(e)}function qr(e){return Or({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 224H768v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H548v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H328v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H96c-17.7 0-32 14.3-32 32v576c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V256c0-17.7-14.3-32-32-32zM424 688c0 4.4-3.6 8-8 8H232c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h184c4.4 0 8 3.6 8 8v48zm0-136c0 4.4-3.6 8-8 8H232c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h184c4.4 0 8 3.6 8 8v48zm374.5-91.3l-165 228.7a15.9 15.9 0 0 1-25.8 0L493.5 531.2c-3.8-5.3 0-12.7 6.5-12.7h54.9c5.1 0 9.9 2.5 12.9 6.6l52.8 73.1 103.7-143.7c3-4.2 7.8-6.6 12.9-6.6H792c6.5.1 10.3 7.5 6.5 12.8z"}}]})(e)}function Hr(e){return Or({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]})(e)}function Wr(e){return Or({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5zm-63.57-320.64L836 122.88a8 8 0 0 0-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 0 0 0 11.31L155.17 889a8 8 0 0 0 11.31 0l712.15-712.12a8 8 0 0 0 0-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 0 0-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 0 1 146.2-106.69L401.31 546.2A112 112 0 0 1 396 512z"}},{tag:"path",attr:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 0 0 227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 0 1-112 112z"}}]})(e)}function Yr(e){return Or({tag:"svg",attr:{t:"1569683604581",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M508 280h-63.3c-3.3 0-6 2.7-6 6v340.2H433L197.4 282.6c-1.1-1.6-3-2.6-4.9-2.6H126c-3.3 0-6 2.7-6 6v464c0 3.3 2.7 6 6 6h62.7c3.3 0 6-2.7 6-6V405.1h5.7l238.2 348.3c1.1 1.6 3 2.6 5 2.6H508c3.3 0 6-2.7 6-6V286c0-3.3-2.7-6-6-6zM886 693H582c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM733.8 630c52.9 0 95.2-17.2 126.2-51.7 29.4-32.9 44-75.8 44-128.8 0-53.1-14.6-96.5-44-129.3-30.9-34.8-73.2-52.2-126.2-52.2-53.7 0-95.9 17.5-126.3 52.8-29.2 33.1-43.4 75.9-43.4 128.7 0 52.4 14.3 95.2 43.5 128.3 30.6 34.7 73 52.2 126.2 52.2z m-71.5-263.7c16.9-20.6 40.3-30.9 71.4-30.9 31.5 0 54.8 9.6 71 29.1 16.4 20.3 24.9 48.6 24.9 84.9 0 36.3-8.4 64.1-24.8 83.9-16.5 19.4-40 29.2-71.1 29.2-31.2 0-55-10.3-71.4-30.4-16.3-20.1-24.5-47.3-24.5-82.6 0.1-35.8 8.2-63 24.5-83.2z"}}]})(e)}function Gr(e){return Or({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(e)}function Jr(e){return Or({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]})(e)}function Xr(e){return Or({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"}}]})(e)}function Kr(e){return Or({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 224H768v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H548v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H328v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H96c-17.7 0-32 14.3-32 32v576c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V256c0-17.7-14.3-32-32-32zm-40 568H136V296h120v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h120v496zM416 496H232c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0 136H232c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm308.2-177.4L620.6 598.3l-52.8-73.1c-3-4.2-7.8-6.6-12.9-6.6H500c-6.5 0-10.3 7.4-6.5 12.7l114.1 158.2a15.9 15.9 0 0 0 25.8 0l165-228.7c3.8-5.3 0-12.7-6.5-12.7H737c-5-.1-9.8 2.4-12.8 6.5z"}}]})(e)}var $r=n(7326);function Qr(e,t){return t.replace(/([-A-y])/g,",$1").split(",").filter((function(e){return""!==e})).map((function(t){var n,r=null===(n=t.match(/(\d+\.?\d*)/g))||void 0===n?void 0:n[0],a=parseFloat(r)*e;return t.replace(r,a.toString())})).join(" ")}var ea=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,c.Z)(this,n),e=t.call(this),(0,Tr.Z)((0,$r.Z)(e),"_propsToUpgrade",{}),(0,Tr.Z)((0,$r.Z)(e),"shadow",void 0),(0,Tr.Z)((0,$r.Z)(e),"template",void 0),(0,Tr.Z)((0,$r.Z)(e),"defaultProps",void 0),(0,Tr.Z)((0,$r.Z)(e),"isAttached",!1),e.shadow=e.attachShadow({mode:"open"}),e.template=document.createElement("template"),e}return(0,u.Z)(n,[{key:"storePropsToUpgrade",value:function(e){var t=this;e.forEach((function(e){t.hasOwnProperty(e)&&void 0!==t[e]&&(t._propsToUpgrade[e]=t[e],delete t[e])}))}},{key:"upgradeStoredProps",value:function(){var e=this;Object.entries(this._propsToUpgrade).forEach((function(t){var n=(0,l.Z)(t,2),r=n[0],a=n[1];e.setAttribute(r,a)}))}},{key:"reflect",value:function(e){var t=this;e.forEach((function(e){Object.defineProperty(t,e,{set:function(t){"string,number".includes(typeof t)?this.setAttribute(e,t.toString()):this.removeAttribute(e)},get:function(){return this.getAttribute(e)}})}))}},{key:"applyDefaultProps",value:function(e){var t=this;this.defaultProps=e,Object.entries(e).forEach((function(e){var n=(0,l.Z)(e,2),r=n[0],a=n[1];t[r]=t[r]||a.toString()}))}}]),n}(g(HTMLElement)),ta=":host{align-items:center;display:inline-flex;flex-shrink:0;height:calc(var(--uib-size)*.625);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{height:calc(var(--uib-size)*.625);overflow:visible;transform-origin:center;width:var(--uib-size)}.car{stroke:var(--uib-color);stroke-dasharray:100;stroke-dashoffset:0;animation:travel var(--uib-speed) ease-in-out infinite,fade var(--uib-speed) ease-out infinite;transition:stroke .5s ease;will-change:stroke-dasharray,stroke-dashoffset}.car,.track{stroke-linecap:round;stroke-linejoin:round}.track{stroke:var(--uib-color);opacity:var(--uib-bg-opacity)}@keyframes travel{0%{stroke-dashoffset:100}75%{stroke-dashoffset:0}}@keyframes fade{0%{opacity:0}20%,55%{opacity:1}to{opacity:0}}",na=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,c.Z)(this,n),e=t.call(this),(0,Tr.Z)((0,$r.Z)(e),"_attributes",["size","color","speed","stroke","bg-opacity"]),(0,Tr.Z)((0,$r.Z)(e),"size",void 0),(0,Tr.Z)((0,$r.Z)(e),"color",void 0),(0,Tr.Z)((0,$r.Z)(e),"speed",void 0),(0,Tr.Z)((0,$r.Z)(e),"stroke",void 0),(0,Tr.Z)((0,$r.Z)(e),"bg-opacity",void 0),(0,Tr.Z)((0,$r.Z)(e),"d",void 0),e.storePropsToUpgrade(e._attributes),e.reflect(e._attributes),e.d="M0.5,17.2h8.2l3-4.7l5.9,12l7.8-24l5.9,16.7v0h8.2",e}return(0,u.Z)(n,[{key:"connectedCallback",value:function(){this.upgradeStoredProps(),this.applyDefaultProps({size:50,color:"black",speed:1.5,stroke:4,"bg-opacity":.1});var e=parseInt(this.size),t=Qr(e/40,this.d);this.template.innerHTML='\n      <svg\n        class="container" \n        x="0px" \n        y="0px"\n        viewBox="0 0 '.concat(this.size," ").concat(.625*e,'"\n        height="').concat(.625*e,'"\n        width="').concat(this.size,'"\n        preserveAspectRatio=\'xMidYMid meet\'\n      >\n        <path \n          class="track"\n          stroke-width="').concat(this.stroke,'" \n          fill="none" \n          pathlength="100"\n          d="').concat(t,'"\n        />\n        <path \n          class="car"\n          stroke-width="').concat(this.stroke,'" \n          fill="none" \n          pathlength="100"\n          d="').concat(t,'"\n        />\n      </svg>\n      <style>\n        :host{\n          --uib-size: ').concat(this.size,"px;\n          --uib-color: ").concat(this.color,";\n          --uib-speed: ").concat(this.speed,"s;\n          --uib-bg-opacity: ").concat(this["bg-opacity"],";\n        }\n        ").concat(ta,"\n      </style>\n    "),this.shadow.replaceChildren(this.template.content.cloneNode(!0))}},{key:"attributeChangedCallback",value:function(){var e=this,t=parseInt(this.size),n=this.shadow.querySelector("style"),r=this.shadow.querySelector("svg"),a=this.shadow.querySelectorAll("path");n&&(r.setAttribute("height",String(.625*t)),r.setAttribute("width",this.size),r.setAttribute("viewBox","0 0 ".concat(this.size," ").concat(.625*t)),a.forEach((function(n){n.setAttribute("stroke-width",e.stroke),n.setAttribute("d",Qr(t/40,e.d))})),n.innerHTML="\n      :host{\n        --uib-size: ".concat(this.size,"px;\n        --uib-color: ").concat(this.color,";\n        --uib-speed: ").concat(this.speed,"s;\n        --uib-bg-opacity: ").concat(this["bg-opacity"],";\n      }\n      ").concat(ta,"\n    "))}}],[{key:"observedAttributes",get:function(){return["size","color","speed","stroke","bg-opacity"]}}]),n}(ea),ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"l-cardio";customElements.get(e)||customElements.define(e,function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(na))};function aa(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function ia(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function oa(e){return Or({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function sa(e){return Or({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"}}]})(e)}function la(e){return Or({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"}}]})(e)}ra();var ca=function(t){var n=t.Closereg,r=t.open,a=(0,e.useState)(null),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=(0,e.useState)(""),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)({email:"",password:"",username:"",Fname:"",Lname:"",Mname:"",confirmEmail:"",confrimPass:"",Address:""}),v=(0,l.Z)(m,2),g=v[0],y=v[1];function x(e){y((function(t){return(0,Ir.Z)((0,Ir.Z)({},t),{},(0,Tr.Z)({},e.target.name,e.target.value))}))}var b=(0,e.useState)(""),_=(0,l.Z)(b,2),w=_[0],k=_[1],j=(0,e.useState)(!1),S=(0,l.Z)(j,2),C=S[0],N=S[1],E=(0,e.useState)(!1),T=(0,l.Z)(E,2),I=T[0],A=T[1],P=function(){var e=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),N(!0),g.password===g.confrimPass){e.next=6;break}return k("Your password isn't matched"),N(!1),e.abrupt("return");case 6:return e.next=8,Kt.auth.signUp({email:g.email,password:g.password,sendOtp:!0,options:{data:{username:g.username,first_name:g.Fname,last_name:g.Lname,middle_name:g.Mname,phone:f,birth_date:c,role:"patient",address:g.Address}}});case 8:n=e.sent,(r=n.error)?(k(r),N(!1)):(A(!0),N(!1));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=(0,e.useState)(!1),D=(0,l.Z)(M,2),L=D[0],O=D[1],z=L?"text":"password";return(0,Br.jsx)("div",{className:"flex justify-center backdrop-blur-sm bg-slate-700 fixed z-50 inset-0 bg-opacity-30",children:(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"absolute abs bg-white mt-40 rounded-xl",children:[(0,Br.jsx)("div",{className:"justify-center flex -mb-10 pt-6 font-semibold text-xl",children:"REGISTER"}),(0,Br.jsx)("div",{className:"mb-8 mt-4 mr-4 flex justify-end",children:(0,Br.jsx)("button",{onClick:n,className:"bg-slate-200 text-slate-500 hover:bg-slate-300 hover:text-slate-700 hover:ring-slate-500 ring-transparent transition duration-100 ring-2 text-lg rounded-full px-2",children:"close"})}),C?(0,Br.jsxs)("div",{className:"flex flex-col justify-center items-center p-10 w-full h-full",children:[(0,Br.jsx)("l-cardio",{size:"90",stroke:"2",speed:"1",color:"rgb(0,100,0)"}),(0,Br.jsxs)("h1",{className:"text-3xl mt-6 mb-4 text-center",children:[(0,Br.jsx)("span",{children:"Creating account "})," ",(0,Br.jsx)("br",{}),(0,Br.jsx)("span",{className:"text-lg",children:"Please wait, your verification link is being sent to your email."})]})]}):(0,Br.jsx)(Br.Fragment,{children:I?(0,Br.jsxs)("div",{className:"flex items-center text-xl justify-center p-5 mb-3",children:[(0,Br.jsx)(ia,{className:"mr-1 text-green-600"})," Verification link has been succesfully sent to your email"]}):(0,Br.jsxs)("form",{onSubmit:P,children:[w&&(0,Br.jsx)("p",{className:w?"err text-center py-1 mx-12 mb-3 -mt-1 bg-red-300":"offscreen","aria-live":"assertive",children:w.message?w.message:w}),(0,Br.jsxs)("div",{className:"px-10 pb-10",children:[(0,Br.jsxs)("div",{className:"grid grid-cols-3 gap-x-3 gap-y-3",children:[(0,Br.jsxs)("div",{className:"",children:[(0,Br.jsx)("p",{children:"First Name: "}),(0,Br.jsx)("input",{name:"Fname",onChange:x,autoComplete:"on",required:!0,className:"px-2 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})]}),(0,Br.jsxs)("div",{className:"",children:[(0,Br.jsx)("p",{children:"Last Name: "}),(0,Br.jsx)("input",{name:"Lname",onChange:x,autoComplete:"on",required:!0,className:"px-2 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})]}),(0,Br.jsxs)("div",{className:"",children:[(0,Br.jsx)("p",{children:"Middle Name: "}),(0,Br.jsx)("input",{name:"Mname",onChange:x,autoComplete:"on",className:"px-2 text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})]}),(0,Br.jsxs)("div",{className:"grid grid-cols-3 gap-x-4 gap-y-3 col-span-3 mb-3",children:[(0,Br.jsxs)("div",{className:"",children:[(0,Br.jsx)("p",{children:"Username: "}),(0,Br.jsx)("input",{name:"username",onChange:x,autoComplete:"on",required:!0,className:"px-2 w-full text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400\r focus:ring-2 focus:outline-none focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})]}),(0,Br.jsxs)("div",{className:"",children:[(0,Br.jsx)("p",{children:"Email: "}),(0,Br.jsx)("input",{name:"email",onChange:x,autoComplete:"on",required:!0,className:"px-2 w-full text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400\r focus:ring-2 focus:outline-none focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})]}),(0,Br.jsxs)("div",{className:"",children:[(0,Br.jsx)("p",{children:"Contact Number: "}),(0,Br.jsx)("input",{type:"number",value:f,onChange:function(e){return p(e.target.value.slice(0,11))},autoComplete:"on",required:!0,className:"px-2 w-full text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})]}),(0,Br.jsxs)("div",{className:"",children:[(0,Br.jsx)("p",{children:"Brgy. or municipality: "}),(0,Br.jsx)("textarea",{name:"Address",onChange:x,autoComplete:"on",required:!0,className:"px-2 w-full text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})]}),(0,Br.jsxs)("div",{className:"",children:[(0,Br.jsx)("p",{children:"Date of Birth: "}),(0,Br.jsx)("input",{name:"Birthday",type:"Date",onChange:function(e){return u(e.target.value)},autoComplete:"on",required:!0,className:"px-2 w-full text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})]})]})]}),(0,Br.jsxs)("div",{className:"grid grid-cols-1 mb-3",children:[(0,Br.jsxs)("div",{children:[(0,Br.jsx)("p",{className:"",children:"Password:"}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("input",{name:"password",type:z,onChange:x,autoComplete:"on",required:!0,className:"mb-3 px-2 w-[42%] text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),(0,Br.jsx)("div",{onClick:function(){return O(!L)},className:"cursor-pointer mt-1 ml-1 text-lg",children:L?(0,Br.jsx)(Ur,{className:""}):(0,Br.jsx)(Wr,{className:""})})]})]}),(0,Br.jsxs)("div",{children:[(0,Br.jsx)("p",{className:"",children:"Confirm password: "}),(0,Br.jsx)("div",{className:"flex",children:(0,Br.jsx)("input",{name:"confrimPass",type:z,onChange:x,autoComplete:"on",required:!0,className:"px-2 w-[42%] text-slate-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]})]}),(0,Br.jsx)("div",{className:"flex justify-center",children:(0,Br.jsx)("button",{type:"submit",className:"bg-[#418D3F] w-2/5 py-1 font-semibold text-lg text-white rounded-md transition duration-100 ease-in-out hover:bg-[#A5DD9D] hover:text-[#267124] hover:ring-[#418D3F] hover:ring-[3px]",children:"Sign Up"})}),(0,Br.jsxs)("div",{className:"text-center",children:[(0,Br.jsx)("p",{className:"pt-4",children:"Have account Already?"}),(0,Br.jsx)("button",{className:"text-blue-500",onClick:function(e){e.preventDefault(),r()},children:"Sign in"})]})]})]})})]})})})};function ua(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function da(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=da(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var ha=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=da(e))&&(r&&(r+=" "),r+=t);return r},fa=["theme","type"],pa=["delay","staleId"],ma=function(e){return"number"==typeof e&&!isNaN(e)},va=function(e){return"string"==typeof e},ga=function(e){return"function"==typeof e},ya=function(e){return va(e)||ga(e)?e:null},xa=function(t){return(0,e.isValidElement)(t)||va(t)||ga(t)||ma(t)};function ba(t){var n=t.enter,r=t.exit,a=t.appendPosition,i=void 0!==a&&a,o=t.collapse,s=void 0===o||o,l=t.collapseDuration,c=void 0===l?300:l;return function(t){var a=t.children,o=t.position,l=t.preventExitTransition,u=t.done,d=t.nodeRef,h=t.isIn,f=i?"".concat(n,"--").concat(o):n,p=i?"".concat(r,"--").concat(o):r,m=(0,e.useRef)(0);return(0,e.useLayoutEffect)((function(){var e,t=d.current,n=f.split(" "),r=function e(r){var a;r.target===d.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===m.current&&"animationcancel"!==r.type&&(a=t.classList).remove.apply(a,(0,T.Z)(n)))};(e=t.classList).add.apply(e,(0,T.Z)(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,e.useEffect)((function(){var e=d.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,a=e.style;requestAnimationFrame((function(){a.minHeight="initial",a.height=r+"px",a.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)}))}))}(e,u,c):u()};h||(l?t():(m.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))}),[h]),e.createElement(e.Fragment,null,a)}}function _a(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}var wa={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var a=setTimeout((function(){r.apply(void 0,(0,T.Z)([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(a)}))}},ka=function(t){var n=t.theme,r=t.type,a=ua(t,fa);return e.createElement("svg",(0,Ir.Z)({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},a))},ja={info:function(t){return e.createElement(ka,(0,Ir.Z)({},t),e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return e.createElement(ka,(0,Ir.Z)({},t),e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return e.createElement(ka,(0,Ir.Z)({},t),e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return e.createElement(ka,(0,Ir.Z)({},t),e.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return e.createElement("div",{className:"Toastify__spinner"})}};function Sa(t){var n=(0,e.useReducer)((function(e){return e+1}),0),r=(0,l.Z)(n,2)[1],a=(0,e.useState)([]),i=(0,l.Z)(a,2),o=i[0],s=i[1],c=(0,e.useRef)(null),u=(0,e.useRef)(new Map).current,d=function(e){return-1!==o.indexOf(e)},h=(0,e.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:d,getToast:function(e){return u.get(e)}}).current;function f(e){var t=e.containerId;!h.props.limit||t&&h.containerId!==t||(h.count-=h.queue.length,h.queue=[])}function p(e){s((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function m(){var e=h.queue.shift();g(e.toastContent,e.toastProps,e.staleId)}function v(t,n){var a=n.delay,i=n.staleId,o=ua(n,pa);if(xa(t)&&!function(e){return!c.current||h.props.enableMultiContainer&&e.containerId!==h.props.containerId||u.has(e.toastId)&&null==e.updateId}(o)){var s=o.toastId,d=o.updateId,f=o.data,v=h.props,y=function(){return p(s)},x=null==d;x&&h.count++;var b,_,w=(0,Ir.Z)((0,Ir.Z)((0,Ir.Z)({},v),{},{style:v.toastStyle,key:h.toastKey++},Object.fromEntries(Object.entries(o).filter((function(e){var t=(0,l.Z)(e,2);t[0];return null!=t[1]})))),{},{toastId:s,updateId:d,data:f,closeToast:y,isIn:!1,className:ya(o.className||v.toastClassName),bodyClassName:ya(o.bodyClassName||v.bodyClassName),progressClassName:ya(o.progressClassName||v.progressClassName),autoClose:!o.isLoading&&(b=o.autoClose,_=v.autoClose,!1===b||ma(b)&&b>0?b:_),deleteToast:function(){var e=_a(u.get(s),"removed");u.delete(s),wa.emit(4,e);var t=h.queue.length;if(h.count=null==s?h.count-h.displayedToast:h.count-1,h.count<0&&(h.count=0),t>0){var n=null==s?h.props.limit:1;if(1===t||1===n)h.displayedToast++,m();else{var a=n>t?t:n;h.displayedToast=a;for(var i=0;i<a;i++)m()}}else r()}});w.iconOut=function(t){var n=t.theme,r=t.type,a=t.isLoading,i=t.icon,o=null,s={theme:n,type:r};return!1===i||(ga(i)?o=i(s):(0,e.isValidElement)(i)?o=(0,e.cloneElement)(i,s):va(i)||ma(i)?o=i:a?o=ja.spinner():function(e){return e in ja}(r)&&(o=ja[r](s))),o}(w),ga(o.onOpen)&&(w.onOpen=o.onOpen),ga(o.onClose)&&(w.onClose=o.onClose),w.closeButton=v.closeButton,!1===o.closeButton||xa(o.closeButton)?w.closeButton=o.closeButton:!0===o.closeButton&&(w.closeButton=!xa(v.closeButton)||v.closeButton);var k=t;(0,e.isValidElement)(t)&&!va(t.type)?k=(0,e.cloneElement)(t,{closeToast:y,toastProps:w,data:f}):ga(t)&&(k=t({closeToast:y,toastProps:w,data:f})),v.limit&&v.limit>0&&h.count>v.limit&&x?h.queue.push({toastContent:k,toastProps:w,staleId:i}):ma(a)?setTimeout((function(){g(k,w,i)}),a):g(k,w,i)}}function g(e,t,n){var r=t.toastId;n&&u.delete(n);var a={content:e,props:t};u.set(r,a),s((function(e){return[].concat((0,T.Z)(e),[r]).filter((function(e){return e!==n}))})),wa.emit(4,_a(a,null==a.props.updateId?"added":"updated"))}return(0,e.useEffect)((function(){return h.containerId=t.containerId,wa.cancelEmit(3).on(0,v).on(1,(function(e){return c.current&&p(e)})).on(5,f).emit(2,h),function(){u.clear(),wa.emit(3,h)}}),[]),(0,e.useEffect)((function(){h.props=t,h.isToastActive=d,h.displayedToast=o.length})),{getToastToRender:function(e){var n=new Map,r=Array.from(u.values());return t.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(t){return e(t[0],t[1])}))},containerRef:c,isToastActive:d}}function Ca(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Na(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Ea(t){var n=(0,e.useState)(!1),r=(0,l.Z)(n,2),a=r[0],i=r[1],o=(0,e.useState)(!1),s=(0,l.Z)(o,2),c=s[0],u=s[1],d=(0,e.useRef)(null),h=(0,e.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,f=(0,e.useRef)(t),p=t.autoClose,m=t.pauseOnHover,v=t.closeToast,g=t.onClick,y=t.closeOnClick;function x(e){if(t.draggable){"touchstart"===e.nativeEvent.type&&e.nativeEvent.preventDefault(),h.didMove=!1,document.addEventListener("mousemove",k),document.addEventListener("mouseup",j),document.addEventListener("touchmove",k),document.addEventListener("touchend",j);var n=d.current;h.canCloseOnClick=!0,h.canDrag=!0,h.boundingRect=n.getBoundingClientRect(),n.style.transition="",h.x=Ca(e.nativeEvent),h.y=Na(e.nativeEvent),"x"===t.draggableDirection?(h.start=h.x,h.removalDistance=n.offsetWidth*(t.draggablePercent/100)):(h.start=h.y,h.removalDistance=n.offsetHeight*(80===t.draggablePercent?1.5*t.draggablePercent:t.draggablePercent/100))}}function b(e){if(h.boundingRect){var n=h.boundingRect,r=n.top,a=n.bottom,i=n.left,o=n.right;"touchend"!==e.nativeEvent.type&&t.pauseOnHover&&h.x>=i&&h.x<=o&&h.y>=r&&h.y<=a?w():_()}}function _(){i(!0)}function w(){i(!1)}function k(e){var n=d.current;h.canDrag&&n&&(h.didMove=!0,a&&w(),h.x=Ca(e),h.y=Na(e),h.delta="x"===t.draggableDirection?h.x-h.start:h.y-h.start,h.start!==h.x&&(h.canCloseOnClick=!1),n.style.transform="translate".concat(t.draggableDirection,"(").concat(h.delta,"px)"),n.style.opacity=""+(1-Math.abs(h.delta/h.removalDistance)))}function j(){document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",j),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",j);var e=d.current;if(h.canDrag&&h.didMove&&e){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance)return u(!0),void t.closeToast();e.style.transition="transform 0.2s, opacity 0.2s",e.style.transform="translate".concat(t.draggableDirection,"(0)"),e.style.opacity="1"}}(0,e.useEffect)((function(){f.current=t})),(0,e.useEffect)((function(){return d.current&&d.current.addEventListener("d",_,{once:!0}),ga(t.onOpen)&&t.onOpen((0,e.isValidElement)(t.children)&&t.children.props),function(){var t=f.current;ga(t.onClose)&&t.onClose((0,e.isValidElement)(t.children)&&t.children.props)}}),[]),(0,e.useEffect)((function(){return t.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",_),window.addEventListener("blur",w)),function(){t.pauseOnFocusLoss&&(window.removeEventListener("focus",_),window.removeEventListener("blur",w))}}),[t.pauseOnFocusLoss]);var S={onMouseDown:x,onTouchStart:x,onMouseUp:b,onTouchEnd:b};return p&&m&&(S.onMouseEnter=w,S.onMouseLeave=_),y&&(S.onClick=function(e){g&&g(e),h.canCloseOnClick&&v()}),{playToast:_,pauseToast:w,isRunning:a,preventExitTransition:c,toastRef:d,eventHandlers:S}}function Ta(t){var n=t.closeToast,r=t.theme,a=t.ariaLabel,i=void 0===a?"close":a;return e.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":i},e.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},e.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Ia(t){var n=t.delay,r=t.isRunning,a=t.closeToast,i=t.type,o=void 0===i?"default":i,s=t.hide,l=t.className,c=t.style,u=t.controlledProgress,d=t.progress,h=t.rtl,f=t.isIn,p=t.theme,m=s||u&&0===d,v=(0,Ir.Z)((0,Ir.Z)({},c),{},{animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused",opacity:m?0:1});u&&(v.transform="scaleX(".concat(d,")"));var g=ha("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":h}),y=ga(l)?l({rtl:h,type:o,defaultClassName:g}):ha(g,l);return e.createElement("div",(0,Tr.Z)({role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:y,style:v},u&&d>=1?"onTransitionEnd":"onAnimationEnd",u&&d<1?null:function(){f&&a()}))}var Aa=function(t){var n=Ea(t),r=n.isRunning,a=n.preventExitTransition,i=n.toastRef,o=n.eventHandlers,s=t.closeButton,l=t.children,c=t.autoClose,u=t.onClick,d=t.type,h=t.hideProgressBar,f=t.closeToast,p=t.transition,m=t.position,v=t.className,g=t.style,y=t.bodyClassName,x=t.bodyStyle,b=t.progressClassName,_=t.progressStyle,w=t.updateId,k=t.role,j=t.progress,S=t.rtl,C=t.toastId,N=t.deleteToast,E=t.isIn,T=t.isLoading,I=t.iconOut,A=t.closeOnClick,P=t.theme,M=ha("Toastify__toast","Toastify__toast-theme--".concat(P),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":A}),D=ga(v)?v({rtl:S,position:m,type:d,defaultClassName:M}):ha(M,v),L=!!j||!c,O={closeToast:f,type:d,theme:P},z=null;return!1===s||(z=ga(s)?s(O):(0,e.isValidElement)(s)?(0,e.cloneElement)(s,O):Ta(O)),e.createElement(p,{isIn:E,done:N,position:m,preventExitTransition:a,nodeRef:i},e.createElement("div",(0,Ir.Z)((0,Ir.Z)({id:C,onClick:u,className:D},o),{},{style:g,ref:i}),e.createElement("div",(0,Ir.Z)((0,Ir.Z)({},E&&{role:k}),{},{className:ga(y)?y({type:d}):ha("Toastify__toast-body",y),style:x}),null!=I&&e.createElement("div",{className:ha("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},I),e.createElement("div",null,l)),z,e.createElement(Ia,(0,Ir.Z)((0,Ir.Z)({},w&&!L?{key:"pb-".concat(w)}:{}),{},{rtl:S,theme:P,delay:c,isRunning:r,isIn:E,closeToast:f,hide:h,type:d,style:_,className:b,controlledProgress:L,progress:j||0}))))},Pa=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Ma=ba(Pa("bounce",!0)),Da=(ba(Pa("slide",!0)),ba(Pa("zoom")),ba(Pa("flip")),(0,e.forwardRef)((function(t,n){var r=Sa(t),a=r.getToastToRender,i=r.containerRef,o=r.isToastActive,s=t.className,l=t.style,c=t.rtl,u=t.containerId;function d(e){var t=ha("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":c});return ga(s)?s({position:e,rtl:c,defaultClassName:t}):ha(t,ya(s))}return(0,e.useEffect)((function(){n&&(n.current=i.current)}),[]),e.createElement("div",{ref:i,className:"Toastify",id:u},a((function(t,n){var r=n.length?(0,Ir.Z)({},l):(0,Ir.Z)((0,Ir.Z)({},l),{},{pointerEvents:"none"});return e.createElement("div",{className:d(t),style:r,key:"container-".concat(t)},n.map((function(t,r){var a=t.content,i=t.props;return e.createElement(Aa,(0,Ir.Z)((0,Ir.Z)({},i),{},{isIn:o(i.toastId),style:(0,Ir.Z)((0,Ir.Z)({},i.style),{},{"--nth":r+1,"--len":n.length}),key:"toast-".concat(i.key)}),a)})))})))})));Da.displayName="ToastContainer",Da.defaultProps={position:"top-right",transition:Ma,autoClose:5e3,closeButton:Ta,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var La,Oa=new Map,za=[],Ra=1;function Fa(){return""+Ra++}function Ba(e){return e&&(va(e.toastId)||ma(e.toastId))?e.toastId:Fa()}function Za(e,t){return Oa.size>0?wa.emit(0,e,t):za.push({content:e,options:t}),t.toastId}function Ua(e,t){return(0,Ir.Z)((0,Ir.Z)({},t),{},{type:t&&t.type||e,toastId:Ba(t)})}function Va(e){return function(t,n){return Za(t,Ua(e,n))}}function qa(e,t){return Za(e,Ua("default",t))}function Ha(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zM4 19V5h16l.002 14H4z"}},{tag:"path",attr:{d:"M6 7h12v2H6zm0 4h12v2H6zm0 4h6v2H6z"}}]})(e)}function Wa(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}},{tag:"path",attr:{d:"M11 11h2v6h-2zm0-4h2v2h-2z"}}]})(e)}function Ya(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"}}]})(e)}function Ga(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 2H4c-1.103 0-2 .894-2 1.992v12.017C2 17.106 2.897 18 4 18h3v4l6.351-4H20c1.103 0 2-.894 2-1.992V3.992A1.998 1.998 0 0 0 20 2zm-9 8a2 2 0 1 1-2-2c.086 0 .167.015.25.025.082-.014.164-.025.25-.025A1.5 1.5 0 0 1 11 9.5c0 .086-.012.168-.025.25.01.083.025.165.025.25zm4 2a2 2 0 0 1-2-2c0-.086.015-.167.025-.25A1.592 1.592 0 0 1 13 9.5 1.5 1.5 0 0 1 14.5 8c.086 0 .168.011.25.025.083-.01.164-.025.25-.025a2 2 0 0 1 0 4z"}}]})(e)}function Ja(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"}}]})(e)}function Xa(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 128a64 64 0 00-64-64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00112 48v16H96a64 64 0 00-64 64v12a4 4 0 004 4h440a4 4 0 004-4zM32 416a64 64 0 0064 64h320a64 64 0 0064-64V179a3 3 0 00-3-3H35a3 3 0 00-3 3zm344-208a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24z"}}]})(e)}function Ka(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144m224 0L144 368"}}]})(e)}function $a(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}function Qa(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M176 176v-40a40 40 0 0140-40h208a40 40 0 0140 40v240a40 40 0 01-40 40H216a40 40 0 01-40-40v-40"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M272 336l80-80-80-80M48 256h288"}}]})(e)}function ei(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C167.67 32 96 96.51 96 176c0 128 160 304 160 304s160-176 160-304c0-79.49-71.67-144-160-144zm0 224a64 64 0 1164-64 64.07 64.07 0 01-64 64z"}}]})(e)}function ti(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M427.68 351.43C402 320 383.87 304 383.87 217.35 383.87 138 343.35 109.73 310 96c-4.43-1.82-8.6-6-9.95-10.55C294.2 65.54 277.8 48 256 48s-38.21 17.55-44 37.47c-1.35 4.6-5.52 8.71-9.95 10.53-33.39 13.75-73.87 41.92-73.87 121.35C128.13 304 110 320 84.32 351.43 73.68 364.45 83 384 101.61 384h308.88c18.51 0 27.77-19.61 17.19-32.57zM320 384v16a64 64 0 01-128 0v-16"}}]})(e)}function ni(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 480a80.09 80.09 0 0073.3-48H182.7a80.09 80.09 0 0073.3 48zm144-192v-60.53C400 157 372.64 95.61 304 80l-8-48h-80l-8 48c-68.88 15.61-96 76.76-96 147.47V288l-48 64v48h384v-48z"}}]})(e)}function ri(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z"}}]})(e)}function ai(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M85.57 446.25h340.86a32 32 0 0028.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0028.17 47.17z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M250.26 195.39l5.74 122 5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 5.95z"}},{tag:"path",attr:{d:"M256 397.25a20 20 0 1120-20 20 20 0 01-20 20z"}}]})(e)}qa.loading=function(e,t){return Za(e,Ua("default",(0,Ir.Z)({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},qa.promise=function(e,t,n){var r,a=t.pending,i=t.error,o=t.success;a&&(r=va(a)?qa.loading(a,n):qa.loading(a.render,(0,Ir.Z)((0,Ir.Z)({},n),a)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=function(e,t,a){if(null!=t){var i=(0,Ir.Z)((0,Ir.Z)((0,Ir.Z)({type:e},s),n),{},{data:a}),o=va(t)?{render:t}:t;return r?qa.update(r,(0,Ir.Z)((0,Ir.Z)({},i),o)):qa(o.render,(0,Ir.Z)((0,Ir.Z)({},i),o)),a}qa.dismiss(r)},c=ga(e)?e():e;return c.then((function(e){return l("success",o,e)})).catch((function(e){return l("error",i,e)})),c},qa.success=Va("success"),qa.info=Va("info"),qa.error=Va("error"),qa.warning=Va("warning"),qa.warn=qa.warning,qa.dark=function(e,t){return Za(e,Ua("default",(0,Ir.Z)({theme:"dark"},t)))},qa.dismiss=function(e){Oa.size>0?wa.emit(1,e):za=za.filter((function(t){return null!=e&&t.options.toastId!==e}))},qa.clearWaitingQueue=function(e){return void 0===e&&(e={}),wa.emit(5,e)},qa.isActive=function(e){var t=!1;return Oa.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},qa.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=Oa.get(n||La);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,a=n.content,i=(0,Ir.Z)((0,Ir.Z)((0,Ir.Z)({delay:100},r),t),{},{toastId:t.toastId||e,updateId:Fa()});i.toastId!==e&&(i.staleId=e);var o=i.render||a;delete i.render,Za(o,i)}}),0)},qa.done=function(e){qa.update(e,{progress:1})},qa.onChange=function(e){return wa.on(4,e),function(){wa.off(4,e)}},qa.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},qa.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},wa.on(2,(function(e){La=e.containerId||e,Oa.set(La,e),za.forEach((function(e){wa.emit(0,e.content,e.options)})),za=[]})).on(3,(function(e){Oa.delete(e.containerId||e),0===Oa.size&&wa.off(0).off(1).off(5)}));var ii,oi={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},si=new Uint8Array(16);function li(){if(!ii&&!(ii="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ii(si)}for(var ci=[],ui=0;ui<256;++ui)ci.push((ui+256).toString(16).slice(1));function di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ci[e[t+0]]+ci[e[t+1]]+ci[e[t+2]]+ci[e[t+3]]+"-"+ci[e[t+4]]+ci[e[t+5]]+"-"+ci[e[t+6]]+ci[e[t+7]]+"-"+ci[e[t+8]]+ci[e[t+9]]+"-"+ci[e[t+10]]+ci[e[t+11]]+ci[e[t+12]]+ci[e[t+13]]+ci[e[t+14]]+ci[e[t+15]]}var hi=function(e,t,n){if(oi.randomUUID&&!t&&!e)return oi.randomUUID();var r=(e=e||{}).random||(e.rng||li)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return di(r)},fi=function(t){var n=t.closeProfileUpload,r=t.user,a=t.imgName,o=t.setUploaded,c=t.isImgEmpty,u=(t.setLoad,(0,e.useState)([])),d=(0,l.Z)(u,2),h=d[0],f=d[1],p=(0,e.useState)(!1),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=(0,e.useState)(null),x=(0,l.Z)(y,2),b=x[0],_=x[1];function w(){return(w=s(i().mark((function e(t){var s,l,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n(),!a){e.next=11;break}return c&&Kt.storage.from("images").remove([r.email+"/profile/"+a]),e.next=6,Kt.storage.from("images").upload(r.email+"/profile/"+hi(),h[0]);case 6:s=e.sent,l=s.data,(u=s.error)&&console.log(u),l&&(o(!0),g(!1),_(null),f(null),window.location.reload(),qa.success("Succesfully uploaded",{toastId:"success"}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Br.jsx)("div",{className:"flex justify-center backdrop-blur-sm bg-slate-700 fixed z-50 inset-0 bg-opacity-30",children:(0,Br.jsxs)("div",{className:"abs fixed mt-44 bg-white w-[33rem] px-7 pb-4",children:[(0,Br.jsxs)("div",{className:"flex w-full justify-center  items-center mt-4 -mr-3",children:[(0,Br.jsx)("div",{className:"w-full ml-10 flex justify-center",children:(0,Br.jsx)("p",{className:"mt-2 font-semibold uppercase text-xl text-[#315E30]",children:"Update Profile Picture"})}),(0,Br.jsx)("div",{className:"flex justify-end",children:(0,Br.jsx)($a,{onClick:n,className:"text-[40px] cursor-pointer text-slate-500 transition duration-100 hover:text-white hover:bg-slate-400 rounded-md p-1"})})]}),(0,Br.jsx)("div",{className:"border-b-2 border-slate-300 w-full mt-3 mb-6"}),v?(0,Br.jsxs)("form",{onSubmit:function(e){return function(e){return w.apply(this,arguments)}(e)},className:"flex flex-col items-center",children:[(0,Br.jsx)("img",{className:"object-cover mb-4 rounded-full items-center justify-center w-[23rem] h-[23rem]",src:b,alt:"/"}),(0,Br.jsxs)("ul",{className:"flex w-[90%]",children:[(0,Br.jsxs)("p",{className:"font-semibold whitespace-nowrap mr-2",children:["File Name:"," "]}),Array.from(h).map((function(e,t){return(0,Br.jsx)("li",{className:"truncate",children:e.name},t)}))]}),(0,Br.jsx)("div",{className:"border-b-2 border-slate-300 w-full mt-3 mb-6"}),(0,Br.jsxs)("div",{className:"flex space-x-4 mb-4 mt-4",children:[(0,Br.jsx)("button",{type:"submit",className:"focus:outline-none text-white bg-green-700\r hover:bg-green-800 transition duration-75 ease-in\r focus:ring-4 focus:ring-green-300 font-medium rounded-lg px-5 py-2\r dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800 \r aos-init aos-animate",children:"Upload"}),(0,Br.jsx)("button",{className:"text-gray-900 bg-white border border-gray-300 focus:outline-none\r transition duration-75 ease-in hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 \r font-medium rounded-lg px-5 dark:bg-gray-800 dark:text-white dark:border-gray-600\r dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:function(e){e.preventDefault(),g(!1),_(null),f(null)},children:"Cancel"})]})]}):(0,Br.jsx)("form",{className:"flex items-center justify-center w-full",children:(0,Br.jsxs)("label",{onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault(),g(!0),_(URL.createObjectURL(e.dataTransfer.files[0])),f(e.dataTransfer.files)},accept:"image/png, image/jpeg",className:"flex flex-col mb-5 rounded-full items-center justify-center w-[23rem] h-[23rem] border-2\r border-gray-300 border-dashed cursor-pointer bg-gray-50 transition duration-100 ease-in dark:hover:bg-bray-800\r dark:bg-gray-700 hover:bg-gray-200 dark:border-gray-600 dark:hover:border-gray-500\r dark:hover:bg-gray-600",children:[(0,Br.jsxs)("div",{className:"flex flex-col items-center pt-5 pb-6",children:[(0,Br.jsx)("svg",{className:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,Br.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,Br.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,Br.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG or JPG"})]}),(0,Br.jsx)("input",{id:"dropzone-file",onChange:function(e){e.preventDefault(),g(!0),_(URL.createObjectURL(e.target.files[0])),f(e.target.files)},accept:"image/png, image/jpeg",type:"file",className:"hidden"})]})})]})})},pi=function(t){var n=t.setRead,r=(0,e.useRef)();return(0,e.useEffect)((function(){var e=function(e){r.current.contains(e.target)||n(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[n]),(0,Br.jsx)("div",{className:"flex justify-center backdrop-blur-sm bg-slate-700 fixed z-50 inset-0 bg-opacity-30",children:(0,Br.jsx)("div",{ref:r,className:"absolute abs w-[60%] p-10 rounded-md bg-white mt-40",children:(0,Br.jsxs)("div",{className:"text-xl",children:[(0,Br.jsx)("h1",{className:"font-semibold text-2xl mb-2",children:"Terms and Condition"}),"\"I, [Your Name], hereby confirm that I am booking this appointment on behalf of [Patient's Full Name] and have obtained their express consent to do so. I understand and agree to the following: I have the full authority and permission from the patient to schedule, manage, and receive information about their medical appointment. I am responsible for providing accurate information regarding the patient's personal details, medical history (if applicable), and contact information. I understand that all information provided will be used for the sole purpose of scheduling and managing the appointment, as well as for communication related to this appointment. Any changes to this appointment, including rescheduling or cancellation, will be communicated to the patient and require their approval. I acknowledge that the patient's medical information, including any records related to this appointment, will be handled in accordance with applicable healthcare data privacy regulations. I am aware that I may be contacted using the contact information I provide for appointment-related notifications, confirmations, reminders, or changes. By checking this box and completing the appointment booking process, I confirm my understanding and agreement to the terms outlined above and the receipt of proper consent from the patient, [Patient's Full Name].\""]})})})},mi=n(2426),vi=n.n(mi);function gi(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Warning"},child:[{tag:"g",attr:{},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12.5,8.752a.5.5,0,0,0-1,0h0v6a.5.5,0,0,0,1,0Z"}},{tag:"circle",attr:{cx:"11.999",cy:"16.736",r:"0.5"}}]},{tag:"path",attr:{d:"M18.642,20.934H5.385A2.5,2.5,0,0,1,3.163,17.29L9.792,4.421a2.5,2.5,0,0,1,4.444,0L20.865,17.29a2.5,2.5,0,0,1-2.223,3.644ZM12.014,4.065a1.478,1.478,0,0,0-1.334.814L4.052,17.748a1.5,1.5,0,0,0,1.333,2.186H18.642a1.5,1.5,0,0,0,1.334-2.186L13.348,4.879A1.478,1.478,0,0,0,12.014,4.065Z"}}]}]}]})(e)}var yi,xi=function(t){var n=t.data,r=t.doc,a=t.isElapsed,o=t.setCurrModal,c=(0,e.useState)([]),u=(0,l.Z)(c,2),d=u[0],h=u[1],f=(0,e.useState)(!1),p=(0,l.Z)(f,2),m=p[0],v=p[1];(0,e.useEffect)((function(){function e(){return(e=s(i().mark((function e(){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list((null===n||void 0===n?void 0:n.email)+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,r=t.data,a=t.error,r[0]&&(v(!0),h(r[0].name)),a&&(v(!1),console.log(a));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);var g="Completed"===(null===n||void 0===n?void 0:n.status),y=(0,e.useRef)();(0,e.useEffect)((function(){if(a||g){var e=function(e){var t;null!==(t=y.current)&&void 0!==t&&t.contains(e.target)||o(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[a,g]);var x=(0,e.useState)(null),b=(0,l.Z)(x,2),_=b[0],w=b[1],k=(0,e.useState)(),j=(0,l.Z)(k,2),S=j[0],C=j[1],N=(0,e.useState)(),E=(0,l.Z)(N,2),I=E[0],A=E[1],P=(0,e.useState)(!1),M=(0,l.Z)(P,2),D=M[0],L=M[1],O=(0,e.useState)(!1),z=(0,l.Z)(O,2),R=z[0],F=z[1];function B(){return(B=s(i().mark((function e(t){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L(!0),null!==_){e.next=6;break}return qa.error("Please give us a rating before submitting",{autoClose:!1,id:"error"}),L(!1),e.abrupt("return");case 6:return e.next=8,Kt.from("ratings").insert({user_id:n.id,message:I,rate:_,isconsult:"yes"});case 8:if(r=e.sent,a=r.error,e.prev=10,!a){e.next=15;break}throw a;case 15:F(!0),L(!1);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(10),qa.error(e.t0.message),L(!1);case 23:case"end":return e.stop()}}),e,null,[[10,19]])})))).apply(this,arguments)}return(0,Br.jsx)("section",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{ref:y,className:"bg-white sticky top-10 -mt-[8rem] flex w-[65rem] min:h-[70%] flex-col items-center abs rounded-lg p-9",children:(0,Br.jsxs)("div",{className:"sticky top-0 w-full flex flex-col items-center",children:[(0,Br.jsx)("h1",{className:"text-green-800 font-semibold text-[33px] uppercase",children:"consultation ongoing"}),(0,Br.jsx)("div",{className:"border-b-2 border-green-700 my-3 w-full"}),(0,Br.jsxs)("div",{className:"w-full px-10 h-[70%] overflow-y-auto",children:[(0,Br.jsxs)("div",{className:"company py-7  px-[8%] w-full flex justify-center items-center",children:[(0,Br.jsx)("img",{src:yr,className:"w-[7rem]",alt:"/"}),(0,Br.jsxs)("p",{className:"uppercase text-white font-semibold text-4xl",children:["mendoza general ",(0,Br.jsx)("br",{})," hospital"]})]}),(0,Br.jsxs)("div",{className:"sticky w-full -mt-[4rem] -ml-[10rem] flex justify-center items-center",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full border-[7px] bg-white border-white \r shadow-xl w-[12rem] mb-5",src:"".concat(m?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+(null===n||void 0===n?void 0:n.email)+"/profile/"+d:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("p",{className:"text-3xl font-semibold mt-7 ml-3 uppercase text-left",children:[null===n||void 0===n?void 0:n.fname," ",null===n||void 0===n?void 0:n.lname," ",(0,Br.jsx)("br",{}),(0,Br.jsx)("span",{className:"normal-case font-light text-2xl",children:"Patient"})]})]}),g?(0,Br.jsx)(Br.Fragment,{children:D?(0,Br.jsx)(Br.Fragment,{children:"Loading"}):(0,Br.jsx)(Br.Fragment,{children:R?(0,Br.jsxs)("div",{className:"text-center w-full flex flex-col items-center mt-10",children:[(0,Br.jsxs)("p",{className:"text-3xl flex w-full items-center justify-center text-green-600",children:[(0,Br.jsx)(ia,{className:"text-3xl mr-1"})," ",(0,Br.jsx)("span",{children:"Review Submitted Succesfully!"})]}),(0,Br.jsx)("p",{className:"text-xl mt-2",children:"Thank you for your response"})]}):(0,Br.jsxs)("form",{onSubmit:function(e){return B.apply(this,arguments)},className:"w-full",children:[(0,Br.jsxs)("label",{className:"text-lg",children:["How was your consultation with ",r.honorific," ",r.name,"?"]}),(0,Br.jsx)("div",{className:"flex items-center justify-center mt-2 space-x-3 text-5xl text-slate-500",children:(0,T.Z)(Array(5)).map((function(e,t){var n=t+1;return(0,Br.jsxs)("label",{children:[(0,Br.jsx)("input",{required:!0,type:"radio",className:"hidden",value:n,onClick:function(){return w(n)}}),(0,Br.jsx)(ri,{className:n<=(S||_)?"text-[#ffc107]":"text-[#c4e5e9]",onMouseEnter:function(){return C(n)},onMouseLeave:function(){return C(null)}})]},t)}))}),(0,Br.jsx)("textarea",{required:!0,placeholder:"Tell us something more about your experience",type:"text",className:"w-full p-2 border-2 border-slate-400 mt-3 mb-6",onChange:function(e){return A(e.target.value)}}),(0,Br.jsx)("button",{type:"submit",className:"px-8 py-2 rounded-md transition duration-100 border-[#16891d] border-[2px] hover:bg-[#16891d] hover:text-white bg-[#a5e5a9] text-[#106716]",children:"Submit Feedback"})]})})}):(0,Br.jsx)(Br.Fragment,{children:a?(0,Br.jsxs)("div",{className:"flex flex-col justify-center items-center h-36",children:[(0,Br.jsxs)("p",{className:"text-red-500 flex items-center text-2xl",children:[(0,Br.jsx)(gi,{className:"text-3xl"}),(0,Br.jsx)("span",{children:"Your consultation has exceeded the schedule of your doctor"})]}),(0,Br.jsx)("p",{className:"text-xl mt-3 ",children:"Waiting for the doctor's response to see if you've attended and finished the meeting or not."}),(0,Br.jsx)(Cr,{onClick:function(){return o(!1)},to:"/Appointment/Patient/Details/"+n.book_id,className:"px-5 py-2 text-xl mt-5 text-white bg-green-500 rounded-lg",children:"Check your appointment details"})]}):(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("div",{className:" w-full flex space-x-7 justify-between",children:[(0,Br.jsxs)("div",{className:"flex flex-col w-[70%]",children:[(0,Br.jsx)("span",{className:"text-green-900 text-2xl font-semibold",children:"Doctor"}),(0,Br.jsx)("p",{className:"whitespace-nowrap",children:null===r||void 0===r?void 0:r.name}),(0,Br.jsx)("p",{children:null===r||void 0===r?void 0:r.specialization})]}),(0,Br.jsxs)("div",{className:"flex flex-col w-full",children:[(0,Br.jsx)("span",{className:"text-green-900 text-2xl w-full font-semibold",children:"Reason of appointment"}),(0,Br.jsx)("p",{children:null===n||void 0===n?void 0:n.reason})]}),(0,Br.jsxs)("div",{className:"flex flex-col w-full",children:[(0,Br.jsx)("span",{className:"text-green-900 text-xl w-full font-semibold",children:"Click the button below to attend your consultation meeting"}),(0,Br.jsxs)("a",{href:null===r||void 0===r?void 0:r.gmeet,className:"flex items-center mt-6 rounded-lg bg-green-500 px-5 py-[6px] w-fit text-white",children:[(0,Br.jsx)(Qa,{className:"text-3xl mr-2"}),"Enter Consultation"]})]})]}),(0,Br.jsxs)("div",{className:"flex items-center my-3",children:[(0,Br.jsxs)("div",{className:"flex flex-col text-2xl",children:[(0,Br.jsx)("span",{className:"text-green-900 font-semibold",children:"Queue number"}),(0,Br.jsx)("p",{className:"text-4xl text-slate-500",children:null===n||void 0===n?void 0:n.queue})]}),(0,Br.jsx)("div",{className:"p-2 bg-red-400 text-white ml-20",children:"Your doctor is waiting, please attend your consultation now"})]})]})})]})]})})})},bi=n(763),_i=n.n(bi),wi=function(t){var n=t.data,r=t.i,a=vi()(new Date(null===n||void 0===n?void 0:n.date)).format("YYYYMD"),o=_i().lte(a,vi()(new Date).format("YYYYMD"));function l(){return(l=s(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Completed"===n.status||!o){e.next=13;break}return e.next=3,Kt.from("patient_Appointments").update({status:"Completed"}).eq("book_id",null===n||void 0===n?void 0:n.book_id);case 3:if(t=e.sent,r=t.error,e.prev=5,!r){e.next=8;break}throw r;case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}return(0,e.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[n,o]),(0,Br.jsx)("div",{},r)},ki=function(t){var n,r,a=t.token,o=t.setToken,c=t.isAdmin,u=t.isDoctor,d=t.isPatient,h=t.open,f=t.openSide,p=t.imgName,m=t.CDNURL,v=t.user,g=t.isImgEmpty,y=t.closeProfileUpload,x=t.isProfileOpen,b=t.setUploaded,_=t.FetchShow,w=t.Show,k=t.openTerms,j=t.isRead,S=t.setRead,C=(0,e.useState)(!1),N=(0,l.Z)(C,2),E=N[0],T=N[1],I=(0,e.useState)(!1),A=(0,l.Z)(I,2),P=A[0],M=A[1],D=(0,e.useState)(!1),L=(0,l.Z)(D,2),O=L[0],z=L[1],R=(0,e.useState)(!1),F=(0,l.Z)(R,2),B=F[0],Z=F[1],U=function(){_(!0),Z(!1)},V=(0,e.useState)(),q=(0,l.Z)(V,2),H=q[0],W=q[1],Y=(0,e.useState)(!1),G=(0,l.Z)(Y,2),J=G[0],X=G[1],K=(0,e.useState)(),$=(0,l.Z)(K,2),Q=$[0],ee=$[1];function te(){return ne.apply(this,arguments)}function ne(){return(ne=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.from("patient_Appointments").select().match({email:null===v||void 0===v?void 0:v.email,date:vi()(new Date).format("yyyy-M-D"),status:"Consultation Ongoing"});case 3:if(t=e.sent,n=t.data,!(r=t.error)){e.next=8;break}throw r;case 8:n&&W(n[0]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function re(){return ae.apply(this,arguments)}function ae(){return(ae=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===(null===H||void 0===H?void 0:H.doc_id)){e.next=10;break}return e.next=4,Kt.from("dr_information").select().eq("id",H.doc_id);case 4:if(t=e.sent,n=t.data,!(r=t.error)){e.next=9;break}throw r;case 9:n&&ee(n[0]);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var ie=vi()(new Date).format("dddd"),oe=_i().filter(null===Q||void 0===Q?void 0:Q.schedule,["day",ie]),se=vi()(new Date("2000-01-01T".concat(oe&&(null===(n=oe[0])||void 0===n?void 0:n.startTime)))).format("HHmm"),le=vi()(new Date("2000-01-01T".concat(oe&&(null===(r=oe[0])||void 0===r?void 0:r.endTime)))).format("HHmm"),ce=vi()(new Date(null===H||void 0===H?void 0:H.date)).format("YYYYMD"),ue=(0,e.useState)(),de=(0,l.Z)(ue,2),he=de[0],fe=de[1];(0,e.useEffect)((function(){var e=setInterval((function(){fe(vi()(new Date).format("HHmm"))}),1e3);return function(){return clearInterval(e)}}),[he]);var pe=_i().lte(ce+le,vi()(new Date).format("YYYYMD".concat(he))),me=_i().inRange(he,se,le);document.documentElement.style.overflowY=w||B||j||J?"hidden":"unset",(0,e.useEffect)((function(){(me||pe)&&"undefined"!==(null===H||void 0===H?void 0:H.status)&&"pending"!==(null===H||void 0===H?void 0:H.status)&&"rejected"!==(null===H||void 0===H?void 0:H.status)&&"rescheduled"!==(null===H||void 0===H?void 0:H.status)&&"Confirmed"!==(null===H||void 0===H?void 0:H.status)?X(!0):X(!1)}),[H,me]);var ve=(0,e.useState)([]),ge=(0,l.Z)(ve,2),ye=ge[0],xe=ge[1];function be(){return _e.apply(this,arguments)}function _e(){return(_e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.from("patient_Appointments").select().eq("type","f2f");case 3:if(t=e.sent,n=t.data,!(r=t.error)){e.next=8;break}throw r;case 8:n&&xe(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}(0,e.useEffect)((function(){te(),re(),be();var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:return e.next=4,re();case 4:return e.next=6,be();case 6:return t=Kt.channel("room14").on("postgres_changes",{event:"UPDATE",schema:"public",table:"patient_Appointments",filter:"email=eq.".concat(null===v||void 0===v?void 0:v.email)},(function(e){W(e.new),console.log(e.new)})).on("postgres_changes",{event:"UPDATE",schema:"public",table:"dr_information",filter:"id=eq.".concat(null===H||void 0===H?void 0:H.doc_id)},(function(e){ee(e.new)})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[v,null===H||void 0===H?void 0:H.doc_id]),(0,e.useEffect)((function(){a&&(u&&T(!0),c&&M(!0),d&&z(!0))}),[a,u,c,d]);var we=$n();function ke(){return je.apply(this,arguments)}function je(){return(je=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.auth.signOut();case 2:t=e.sent,(n=t.error)?alert(n):(o(!1),localStorage.removeItem("token"),we("/"),window.location.reload());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Se=(0,e.useState)(!1),Ce=(0,l.Z)(Se,2),Ne=Ce[0],Ee=Ce[1];return(0,Br.jsxs)(Br.Fragment,{children:[null===ye||void 0===ye?void 0:ye.map((function(e,t){return(0,Br.jsx)(wi,{data:e,i:t})})),J&&(0,Br.jsx)("div",{className:"absolute w-full h-screen z-[60]",children:(0,Br.jsx)(xi,{data:H,setCurrModal:X,doc:Q,isElapsed:pe})}),(0,Br.jsxs)("div",{children:[(0,Br.jsx)(Da,{}),(0,Br.jsxs)("div",{className:"z-50 flex justify-between items-center top-0 w-full bg-[#315E30] px-3 pl-5",children:[(0,Br.jsx)("div",{className:"flex items-center",children:(0,Br.jsxs)("div",{className:"".concat(h?"flex items-center transition-transform duration-200 ease-in -translate-x-20":"flex items-center transition-transform duration-200 ease-out translate-x-0 "),children:[(0,Br.jsx)(Ya,{onClick:f,className:"text-[40px] ml-4 cursor-pointer text-white transition duration-100 hover:text-white hover:bg-slate-400 rounded-md p-1"}),(0,Br.jsxs)(Cr,{to:"/Dashboard",className:"hover:cursor-pointer flex items-center p-3 ml-5",children:[(0,Br.jsx)("div",{className:"w-[65px] select-none max-[1366px]:w-[53px] max-[769px]:w-[40px]",children:(0,Br.jsx)("img",{src:yr,alt:"/"})}),(0,Br.jsxs)("h1",{className:"font-bold select-none text-6xl max-[1366px]:text-5xl max-[769px]:text-4xl whitespace-nowrap text-white pl-2 flex",children:["MGH",O&&(0,Br.jsx)("p",{className:"ml-3 font-thin max-[930px]:hidden text-4xl self-center max-md:text-xl",children:"Patient's page"}),E&&(0,Br.jsx)("p",{className:"ml-3 font-thin max-[930px]:hidden text-4xl self-center max-md:text-xl",children:"Doctor's page"}),P&&(0,Br.jsx)("p",{className:"ml-3 font-thin max-[930px]:hidden text-4xl self-center max-md:text-xl",children:"Admin's page"})]})]})]})}),(0,Br.jsx)("div",{className:" mr-12 text-lg max-md:text-sm ",children:a?(0,Br.jsxs)("div",{className:"flex space-x-4 -mt-2 max-[320px]:-translate-x-8 max-[320px]:w-[10rem] items-center",children:[(0,Br.jsxs)("p",{className:"text-white text-right max-sm:hidden font-medium uppercase",children:[a.user.user_metadata.first_name,(0,Br.jsx)("br",{}),(0,Br.jsx)("span",{className:"text-sm font-light lowercase",children:v.email})]}),(0,Br.jsx)("div",{onClick:function(){return Ee(!Ne)},className:"min-[426px]:hidden p-6 z-50 translate-x-7 opacity-50 absolute rounded-full"}),(0,Br.jsx)("img",{className:"object-cover rounded-full max-[425px]:translate-x-7 w-[3rem] h-[3rem]",src:"".concat(g?m+v.email+"/profile/"+p:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"}),(0,Br.jsx)("button",{onClick:ke,className:"ring-2 text-white max-[425px]:hidden whitespace-nowrap ring-white hover:ring-[#5f915a] hover:text-[#315E30] hover:bg-[#A5DD9D] transition duration-100 px-2 rounded-full self-center",children:"Sign out"})]}):(0,Br.jsx)("button",{type:"submit",onClick:U,className:"ring-2 text-white ring-white hover:ring-[#5f915a] hover:text-[#315E30] hover:bg-[#A5DD9D] transition duration-100 px-2 rounded-full self-center",children:"Sign In"})})]}),a&&(0,Br.jsx)("div",{className:"".concat(Ne?"visible absolute w-full flex justify-end":"hidden absolute w-full justify-end"),children:(0,Br.jsxs)("div",{className:"bg-white abs p-4 w-fit flex flex-col space-y-2",children:[(0,Br.jsx)("h1",{children:a.user.user_metadata.first_name}),(0,Br.jsx)("p",{children:v.email}),(0,Br.jsx)("button",{onClick:ke,className:"px-3 bg-slate-200 active:bg-slate-400 rounded-md",children:"Sign out"})]})}),(0,Br.jsx)("div",{className:"".concat(B?"visible":"hidden"),children:(0,Br.jsx)(ca,{Closereg:function(){Z(!1)},open:U})}),(0,Br.jsx)("div",{className:"".concat(w?"visible":"hidden"),children:(0,Br.jsx)(Zr,{doctor:E,admin:P,patient:O,close:function(){_(!1)},openReg:function(){Z(!0),_(!1)},setshow:_,token:a,setToken:o})}),(0,Br.jsx)("div",{className:"".concat(x?"visible":"hidden"),children:(0,Br.jsx)(fi,{isImgEmpty:g,setUploaded:b,user:v,imgName:p,isProfileOpen:x,closeProfileUpload:y})}),j&&(0,Br.jsx)(pi,{setRead:S,openTerms:k,isRead:j,token:a})]})]})},ji=function(){return(0,Br.jsx)("div",{children:(0,Br.jsxs)("div",{className:"z-40  bg-[#41843F] w-full flex justify-between px-6 h-8 items-center text-white",children:[(0,Br.jsx)("p",{className:"font-sans",children:"\xa9 Mendoza General Hospital"}),(0,Br.jsx)("a",{href:"https://www.facebook.com/mendozageneralhospital",children:(0,Br.jsx)(aa,{className:"mt-1 mr-2",size:"19"})})]})})},Si=n(7945),Ci=n.n(Si),Ni=function(t){var n=t.slides,r=(0,e.useState)(0),a=(0,l.Z)(r,2),i=a[0],o=a[1];return(0,Br.jsxs)("div",{className:"relative h-[35rem] max-xl:h-[25rem] max-[1072px]:h-[25rem] max-sm:h-[22.3rem] carousel overflow-hidden ",children:[(0,Br.jsx)("div",{className:"flex items-center transition ease-out duration-700 translate-x-[-".concat(100*i,"]"),style:{transform:"translateX(-".concat(100*i,"%)")},children:n.map((function(e,t){return(0,Br.jsx)("img",{src:e,alt:"slide-".concat(t),className:"",placeholder:"asd"},t)}))}),(0,Br.jsxs)("div",{className:"absolute top-0 flex w-full  h-full max-[768px]:h-[15rem] max-[768px]:text-4xl max-[1024px]:px-4 max-[1024px]:h-[21rem] justify-between px-10 max-sm:px-3 text-slate-100 text-6xl max-[1024px]:text-5xl max-sm:text-3xl",children:[(0,Br.jsx)("button",{onClick:function(){o(0===i?n.length-1:i-1)},children:(0,Br.jsx)(Jr,{className:"bg-slate-300 rounded-full p-3 max-sm:p-1 max-[1024px]:p-2 hover:bg-slate-400 transition duration-100"})}),(0,Br.jsx)("button",{onClick:function(){i===n.length-1?o(0):o(i+1)},children:(0,Br.jsx)(Xr,{className:"bg-slate-300 rounded-full p-3 max-sm:p-1 max-[1024px]:p-2 hover:bg-slate-400 transition duration-100"})})]}),(0,Br.jsx)("div",{className:" absolute bottom-0 py-8 max-[1280px]:mb-10 max-[950px]:mb-24 max-[858px]:mb-28 max-[1460px]:mb-8 max-[1398px]:mb-20\r max-[1534px]:mb-5 max-[800px]:mb-[10rem] max-[1072px]:mb-16 max-[765px]:mb-16 max-[710px]:mb-20 max-[669px]:mb-24 max-[571px]:mb-28\r max-[532px]:mb-32 max-[532px]:mb-[9rem] max-[464px]:mb-[11rem] max-[385px]:mb-[12rem] dots flex justify-center\r gap-3 max-sm:gap-2 w-full",children:n.map((function(e,t){return(0,Br.jsx)("button",{onClick:function(){return o(t)},className:"rounded-full p-2 max-sm:p-1 max-[768px]:p-[5px] ".concat(t==i?"bg-slate-400 ":"bg-slate-100"," ")},e+t)}))})]})},Ei=n.p+"static/media/outpatient.7648778f223e39debcc2.jpg",Ti=n.p+"static/media/laboratory-design.b6d948a9b75a4ba810a7.jpg",Ii=n.p+"static/media/xray.31f9559cdbfd34a5f0c9.jpg",Ai=[n.p+"static/media/admission.37a17ff9b346c98062cf.jpg",Ei,n.p+"static/media/ultrasound.f7bde8ab203745a65815.jpg",n.p+"static/media/2D-echo.cf5550ba552b6c1c6b5f.jpg",Ti,Ii],Pi=function(){return(0,e.useEffect)((function(){Ci().init({duration:500})}),[]),(0,Br.jsxs)("div",{children:[(0,Br.jsxs)("div",{className:"hero1 max-lg:px-10 max-lg:py-10 max-lg:space-y-4 px-28 py-28 flex flex-col text-center items-center text-white space-y-14","data-aos":"fade-up",children:[(0,Br.jsx)("p",{className:"text-5xl max-lg:text-3xl font-semibold","data-aos":"fade-up",children:"WE'RE HERE READY FOR YOUR SERVICE!"}),(0,Br.jsx)("p",{className:"text-3xl max-lg:text-lg  font-light","data-aos":"fade-up",children:"Need to book for a doctor's appointment?"}),(0,Br.jsx)(Cr,{to:"/Appointment",children:(0,Br.jsx)("button",{"data-aos":"fade-up",className:"bg-transparent text-[20px] max-lg:text-xl max-md:px-4 px-7 py-2 border-solid border-white border-2 transition duration-50 ease-in-out hover:text-[#315E30] hover:bg-white",children:"Click Here!"})})]}),(0,Br.jsxs)("div",{className:"back py-[40px] flex flex-col items-center",children:[(0,Br.jsx)("section",{id:"Contact-num",children:(0,Br.jsxs)("div",{className:"mb-[33px] flex flex-col space-y-2 items-center",children:[(0,Br.jsx)("p",{className:"text-xl max-sm:text-base font-semibold text-[#315E30]","data-aos":"fade-up",children:"CONTACT NUMBERS"}),(0,Br.jsxs)("label",{className:"text-[#315E30] text-base max-sm:text-sm flex flex-col text-center space-y-3","data-aos":"fade-up",children:[(0,Br.jsx)("span",{"data-aos":"fade-up",children:"+63 995 230 2499"}),(0,Br.jsx)("span",{"data-aos":"fade-up",children:"+63 (44) 288 2417"}),(0,Br.jsx)("span",{"data-aos":"fade-up",children:"+63 (44) 641 1582"})]}),(0,Br.jsx)("p",{className:"text-xl max-sm:text-base font-semibold text-[#315E30]","data-aos":"fade-up",children:"E-MAIL ADDRESSES"}),(0,Br.jsx)("span",{className:"text-[#315E30] text-base max-sm:text-sm","data-aos":"fade-up",children:"mendozageneralhospital@gmail.com"})]})}),(0,Br.jsxs)("section",{"data-aos":"fade-up",id:"services",className:"flex flex-col items-center",children:[(0,Br.jsx)("h1",{className:"text-4xl max-sm:text-2xl text-center font-semibold text-[#315E30]","data-aos":"fade-up","data-aos-duration":"500",children:"Showcase of Services Offered"}),(0,Br.jsx)("div",{className:"w-[60%] carouselmain max-[1024px]: max-[1024px]:-mb-7 mb-12",children:(0,Br.jsx)(Ni,{slides:Ai})})]}),(0,Br.jsx)("section",{id:"Blogs",children:(0,Br.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,Br.jsx)("h1",{className:"text-4xl font-semibold text-[#315E30]","data-aos":"fade-up","data-aos-duration":"500",children:"Blogs"}),(0,Br.jsxs)("div",{className:"bg-slate-400 p-6 w-2/3 max-[1440px]:w-[80%] max-[765px]:flex-col flex","data-aos":"zoom-out","data-aos-anchor-placement":"center-bottom","data-aos-duration":"500",children:[(0,Br.jsx)("p",{"data-aos":"fade-up","data-aos-anchor-placement":"bottom-bottom",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Voluptatem temporibus dolor fugit quia tenetur, perferendis illo fuga accusantium voluptatum doloremque eveniet sit dolore rerum dolorem accusamus officiis totam velit minima tempora explicabo quod reprehenderit ipsa magnam. Repudiandae, et in? Veritatis sed sapiente a eaque nulla, modi at magni repellat temporibus!"}),(0,Br.jsx)("div",{className:"p-20 bg-slate-500 justify-evenly font-bold","data-aos":"zoom-in","data-aos-anchor-placement":"bottom-bottom",children:"PICTURE"})]}),(0,Br.jsxs)("div",{className:"bg-slate-400 p-6 w-2/3 max-[1440px]:w-[80%] max-[765px]:flex-col flex","data-aos":"zoom-out","data-aos-anchor-placement":"center-bottom","data-aos-duration":"500",children:[(0,Br.jsx)("p",{"data-aos":"fade-up","data-aos-anchor-placement":"bottom-bottom",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Voluptatem temporibus dolor fugit quia tenetur, perferendis illo fuga accusantium voluptatum doloremque eveniet sit dolore rerum dolorem accusamus officiis totam velit minima tempora explicabo quod reprehenderit ipsa magnam. Repudiandae, et in? Veritatis sed sapiente a eaque nulla, modi at magni repellat temporibus!"}),(0,Br.jsx)("div",{className:"p-20 bg-slate-500 justify-evenly font-bold","data-aos":"zoom-in","data-aos-anchor-placement":"bottom-bottom",children:"PICTURE"})]})]})})]}),(0,Br.jsx)("div",{})]})},Mi=n(1752),Di=(Object.defineProperty,function(){var e={},t=1;return{set:function(n,r,a){typeof n[r]>"u"&&(n[r]={key:r,id:t},t++),e[n[r].id]=a},get:function(t,n){if(!t||typeof t[n]>"u")return null;var r=t[n];return r.key===n?e[r.id]:null},delete:function(t,n){if(!(typeof t[n]>"u")){var r=t[n];r.key===n&&(delete e[r.id],delete t[n])}}}}()),Li=function(e,t,n){Di.set(e,t,n)},Oi=function(e,t){return Di.get(e,t)},zi=function(e,t){Di.delete(e,t)},Ri="transitionend",Fi=function(e){do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e},Bi=function(e){var t=e.getAttribute("data-te-target");if(!t||"#"===t){var n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),t=n&&"#"!==n?n.trim():null}return t},Zi=function(e){var t=Bi(e);return t&&document.querySelector(t)?t:null},Ui=function(e){var t=Bi(e);return t?document.querySelector(t):null},Vi=function(e){e.dispatchEvent(new Event(Ri))},qi=function(e){return!(!e||"object"!=typeof e)&&(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u")},Hi=function(e){return qi(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null},Wi=function(e,t,n){Object.keys(n).forEach((function(r){var a=n[r],i=t[r],o=i&&qi(i)?"element":function(e){return null==e?"".concat(e):{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}(i);if(!new RegExp(a).test(o))throw new Error("".concat(e.toUpperCase(),': Option "').concat(r,'" provided type "').concat(o,'" but expected type "').concat(a,'".'))}))},Yi=function(e){if(!e||0===e.getClientRects().length)return!1;if(e.style&&e.parentNode&&e.parentNode.style){var t=getComputedStyle(e),n=getComputedStyle(e.parentNode);return"visible"===getComputedStyle(e).getPropertyValue("visibility")||"none"!==t.display&&"none"!==n.display&&"hidden"!==t.visibility}return!1},Gi=function(e){return!(e&&e.nodeType===Node.ELEMENT_NODE&&!e.classList.contains("disabled"))||(typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))},Ji=function e(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var n=t.getRootNode();return n instanceof ShadowRoot?n:null}return t instanceof ShadowRoot?t:t.parentNode?e(t.parentNode):null},Xi=function(){return function(){}},Ki=function(){var e=window.jQuery;return e&&!document.body.hasAttribute("data-te-no-jquery")?e:null},$i=[],Qi=function(e){"loading"===document.readyState?($i.length||document.addEventListener("DOMContentLoaded",(function(){$i.forEach((function(e){return e()}))})),$i.push(e)):e()},eo=function(){return"rtl"===document.documentElement.dir},to=function(e){return document.createElement(e)},no=function(e){"function"==typeof e&&e()},ro=function(e,t){if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){var n=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,r=t.transitionDelay,a=Number.parseFloat(n),i=Number.parseFloat(r);return a||i?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0}(t)+5,r=!1;t.addEventListener(Ri,(function n(a){a.target===t&&(r=!0,t.removeEventListener(Ri,n),no(e))})),setTimeout((function(){r||Vi(t)}),n)}else no(e)},ao=/[^.]*(?=\..*)\.|.*/,io=/\..*/,oo=/::\d+$/,so={},lo=1,co={mouseenter:"mouseover",mouseleave:"mouseout"},uo=/^(mouseenter|mouseleave)/i,ho=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function fo(e,t){return t&&"".concat(t,"::").concat(lo++)||e.uidEvent||lo++}function po(e){var t=fo(e);return e.uidEvent=t,so[t]=so[t]||{},so[t]}function mo(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Object.keys(e),a=0,i=r.length;a<i;a++){var o=e[r[a]];if(o.originalHandler===t&&o.delegationSelector===n)return o}return null}function vo(e,t,n){var r="string"==typeof t,a=r?n:t,i=xo(e);return ho.has(i)||(i=e),[r,a,i]}function go(e,t,n,r,a){if("string"==typeof t&&e){if(n||(n=r,r=null),uo.test(t)){var i=function(e){return function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}};r?r=i(r):n=i(n)}var o=vo(t,n,r),s=(0,l.Z)(o,3),c=s[0],u=s[1],d=s[2],h=po(e),f=h[d]||(h[d]={}),p=mo(f,u,c?n:null);if(p)p.oneOff=p.oneOff&&a;else{var m=fo(u,t.replace(ao,"")),v=c?function(e,t,n){return function r(a){for(var i=e.querySelectorAll(t),o=a.target;o&&o!==this;o=o.parentNode)for(var s=i.length;s--;"")if(i[s]===o)return a.delegateTarget=o,r.oneOff&&bo.off(e,a.type,n),n.apply(o,[a]);return null}}(e,n,r):function(e,t){return function n(r){return r.delegateTarget=e,n.oneOff&&bo.off(e,r.type,t),t.apply(e,[r])}}(e,n);v.delegationSelector=c?n:null,v.originalHandler=u,v.oneOff=a,v.uidEvent=m,f[m]=v,e.addEventListener(d,v,c)}}}function yo(e,t,n,r,a){var i=mo(t[n],r,a);i&&(e.removeEventListener(n,i,!!a),delete t[n][i.uidEvent])}function xo(e){return e=e.replace(io,""),co[e]||e}var bo={on:function(e,t,n,r){go(e,t,n,r,!1)},one:function(e,t,n,r){go(e,t,n,r,!0)},off:function(e,t,n,r){if("string"==typeof t&&e){var a=vo(t,n,r),i=(0,l.Z)(a,3),o=i[0],s=i[1],c=i[2],u=c!==t,d=po(e),h=t.startsWith(".");if(typeof s<"u"){if(!d||!d[c])return;yo(e,d,c,s,o?n:null)}else{h&&Object.keys(d).forEach((function(n){!function(e,t,n,r){var a=t[n]||{};Object.keys(a).forEach((function(i){if(i.includes(r)){var o=a[i];yo(e,t,n,o.originalHandler,o.delegationSelector)}}))}(e,d,n,t.slice(1))}));var f=d[c]||{};Object.keys(f).forEach((function(n){var r=n.replace(oo,"");if(!u||t.includes(r)){var a=f[n];yo(e,d,c,a.originalHandler,a.delegationSelector)}}))}}},trigger:function(e,t,n){if("string"!=typeof t||!e)return null;var r,a=Ki(),i=xo(t),o=t!==i,s=ho.has(i),l=!0,c=!0,u=!1,d=null;return o&&a&&(r=a.Event(t,n),a(e).trigger(r),l=!r.isPropagationStopped(),c=!r.isImmediatePropagationStopped(),u=r.isDefaultPrevented()),s?(d=document.createEvent("HTMLEvents")).initEvent(i,l,!0):d=new CustomEvent(t,{bubbles:l,cancelable:!0}),typeof n<"u"&&Object.keys(n).forEach((function(e){Object.defineProperty(d,e,{get:function(){return n[e]}})})),u&&d.preventDefault(),c&&e.dispatchEvent(d),d.defaultPrevented&&typeof r<"u"&&r.preventDefault(),d}},_o=function(){function e(t){(0,c.Z)(this,e),(t=Hi(t))&&(this._element=t,Li(this._element,this.constructor.DATA_KEY,this))}return(0,u.Z)(e,[{key:"dispose",value:function(){var e=this;zi(this._element,this.constructor.DATA_KEY),bo.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((function(t){e[t]=null}))}},{key:"_queueCallback",value:function(e,t){ro(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}}],[{key:"getInstance",value:function(e){return Oi(Hi(e),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}},{key:"VERSION",get:function(){return"5.1.3"}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"te.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}]),e}(),wo="top",ko="bottom",jo="right",So="left",Co="auto",No=[wo,ko,jo,So],Eo="start",To="end",Io="clippingParents",Ao="viewport",Po="popper",Mo="reference",Do=No.reduce((function(e,t){return e.concat([t+"-"+Eo,t+"-"+To])}),[]),Lo=[].concat(No,[Co]).reduce((function(e,t){return e.concat([t,t+"-"+Eo,t+"-"+To])}),[]),Oo="beforeRead",zo="read",Ro="afterRead",Fo="beforeMain",Bo="main",Zo="afterMain",Uo="beforeWrite",Vo="write",qo="afterWrite",Ho=[Oo,zo,Ro,Fo,Bo,Zo,Uo,Vo,qo];function Wo(e){return e?(e.nodeName||"").toLowerCase():null}function Yo(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Go(e){return e instanceof Yo(e).Element||e instanceof Element}function Jo(e){return e instanceof Yo(e).HTMLElement||e instanceof HTMLElement}function Xo(e){return!(typeof ShadowRoot>"u")&&(e instanceof Yo(e).ShadowRoot||e instanceof ShadowRoot)}var Ko={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];!Jo(a)||!Wo(a)||(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});!Jo(r)||!Wo(r)||(Object.assign(r.style,i),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function $o(e){return e.split("-")[0]}var Qo=Math.max,es=Math.min,ts=Math.round;function ns(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function rs(){return!/^((?!chrome|android).)*safari/i.test(ns())}function as(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=1,i=1;t&&Jo(e)&&(a=e.offsetWidth>0&&ts(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&ts(r.height)/e.offsetHeight||1);var o=(Go(e)?Yo(e):window).visualViewport,s=!rs()&&n,l=(r.left+(s&&o?o.offsetLeft:0))/a,c=(r.top+(s&&o?o.offsetTop:0))/i,u=r.width/a,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function is(e){var t=as(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function os(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Xo(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ss(e){return Yo(e).getComputedStyle(e)}function ls(e){return["table","td","th"].indexOf(Wo(e))>=0}function cs(e){return((Go(e)?e.ownerDocument:e.document)||window.document).documentElement}function us(e){return"html"===Wo(e)?e:e.assignedSlot||e.parentNode||(Xo(e)?e.host:null)||cs(e)}function ds(e){return Jo(e)&&"fixed"!==ss(e).position?e.offsetParent:null}function hs(e){for(var t=Yo(e),n=ds(e);n&&ls(n)&&"static"===ss(n).position;)n=ds(n);return n&&("html"===Wo(n)||"body"===Wo(n)&&"static"===ss(n).position)?t:n||function(e){var t=/firefox/i.test(ns());if(/Trident/i.test(ns())&&Jo(e)&&"fixed"===ss(e).position)return null;var n=us(e);for(Xo(n)&&(n=n.host);Jo(n)&&["html","body"].indexOf(Wo(n))<0;){var r=ss(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function fs(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ps(e,t,n){return Qo(e,es(t,n))}function ms(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function vs(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var gs={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,s=$o(n.placement),l=fs(s),c=[So,jo].indexOf(s)>=0?"height":"width";if(i&&o){var u=function(e,t){return ms("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:vs(e,No))}(a.padding,n),d=is(i),h="y"===l?wo:So,f="y"===l?ko:jo,p=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],m=o[l]-n.rects.reference[l],v=hs(i),g=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,y=p/2-m/2,x=u[h],b=g-d[c]-u[f],_=g/2-d[c]/2+y,w=ps(x,_,b),k=l;n.modifiersData[r]=((t={})[k]=w,t.centerOffset=w-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;if(null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))){if("production"!=={}.NODE_ENV&&(Jo(r)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" "))),!os(t.elements.popper,r))return void("production"!=={}.NODE_ENV&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")));t.elements.arrow=r}},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ys(e){return e.split("-")[1]}var xs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bs(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=o.x,f=void 0===h?0:h,p=o.y,m=void 0===p?0:p,v="function"==typeof u?u({x:f,y:m}):{x:f,y:m};f=v.x,m=v.y;var g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),x=So,b=wo,_=window;if(c){var w=hs(n),k="clientHeight",j="clientWidth";if(w===Yo(n)&&("static"!==ss(w=cs(n)).position&&"absolute"===s&&(k="scrollHeight",j="scrollWidth")),a===wo||(a===So||a===jo)&&i===To)b=ko,m-=(d&&w===_&&_.visualViewport?_.visualViewport.height:w[k])-r.height,m*=l?1:-1;if(a===So||(a===wo||a===ko)&&i===To)x=jo,f-=(d&&w===_&&_.visualViewport?_.visualViewport.width:w[j])-r.width,f*=l?1:-1}var S,C=Object.assign({position:s},c&&xs),N=!0===u?function(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:ts(n*a)/a||0,y:ts(r*a)/a||0}}({x:f,y:m},Yo(n)):{x:f,y:m};return f=N.x,m=N.y,l?Object.assign({},C,((S={})[b]=y?"0":"",S[x]=g?"0":"",S.transform=(_.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",S)):Object.assign({},C,((t={})[b]=y?m+"px":"",t[x]=g?f+"px":"",t.transform="",t))}var _s={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,i=n.adaptive,o=void 0===i||i,s=n.roundOffsets,l=void 0===s||s;if("production"!=={}.NODE_ENV){var c=ss(t.elements.popper).transitionProperty||"";o&&["transform","top","right","bottom","left"].some((function(e){return c.indexOf(e)>=0}))&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var u={placement:$o(t.placement),variation:ys(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,bs(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,bs(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},ws={passive:!0};var ks={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=void 0===a||a,o=r.resize,s=void 0===o||o,l=Yo(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,ws)})),s&&l.addEventListener("resize",n.update,ws),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,ws)})),s&&l.removeEventListener("resize",n.update,ws)}},data:{}},js={left:"right",right:"left",bottom:"top",top:"bottom"};function Ss(e){return e.replace(/left|right|bottom|top/g,(function(e){return js[e]}))}var Cs={start:"end",end:"start"};function Ns(e){return e.replace(/start|end/g,(function(e){return Cs[e]}))}function Es(e){var t=Yo(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ts(e){return as(cs(e)).left+Es(e).scrollLeft}function Is(e){var t=ss(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function As(e){return["html","body","#document"].indexOf(Wo(e))>=0?e.ownerDocument.body:Jo(e)&&Is(e)?e:As(us(e))}function Ps(e,t){var n;void 0===t&&(t=[]);var r=As(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Yo(r),o=a?[i].concat(i.visualViewport||[],Is(r)?r:[]):r,s=t.concat(o);return a?s:s.concat(Ps(us(o)))}function Ms(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ds(e,t,n){return t===Ao?Ms(function(e,t){var n=Yo(e),r=cs(e),a=n.visualViewport,i=r.clientWidth,o=r.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;var c=rs();(c||!c&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s+Ts(e),y:l}}(e,n)):Go(t)?function(e,t){var n=as(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Ms(function(e){var t,n=cs(e),r=Es(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=Qo(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Qo(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-r.scrollLeft+Ts(e),l=-r.scrollTop;return"rtl"===ss(a||n).direction&&(s+=Qo(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:l}}(cs(e)))}function Ls(e,t,n,r){var a="clippingParents"===t?function(e){var t=Ps(us(e)),n=["absolute","fixed"].indexOf(ss(e).position)>=0&&Jo(e)?hs(e):e;return Go(n)?t.filter((function(e){return Go(e)&&os(e,n)&&"body"!==Wo(e)})):[]}(e):[].concat(t),i=[].concat(a,[n]),o=i[0],s=i.reduce((function(t,n){var a=Ds(e,n,r);return t.top=Qo(a.top,t.top),t.right=es(a.right,t.right),t.bottom=es(a.bottom,t.bottom),t.left=Qo(a.left,t.left),t}),Ds(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Os(e){var t,n=e.reference,r=e.element,a=e.placement,i=a?$o(a):null,o=a?ys(a):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case wo:t={x:s,y:n.y-r.height};break;case ko:t={x:s,y:n.y+n.height};break;case jo:t={x:n.x+n.width,y:l};break;case So:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?fs(i):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case Eo:t[c]=t[c]-(n[u]/2-r[u]/2);break;case To:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function zs(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,i=n.strategy,o=void 0===i?e.strategy:i,s=n.boundary,l=void 0===s?Io:s,c=n.rootBoundary,u=void 0===c?Ao:c,d=n.elementContext,h=void 0===d?Po:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,v=void 0===m?0:m,g=ms("number"!=typeof v?v:vs(v,No)),y=h===Po?Mo:Po,x=e.rects.popper,b=e.elements[p?y:h],_=Ls(Go(b)?b:b.contextElement||cs(e.elements.popper),l,u,o),w=as(e.elements.reference),k=Os({reference:w,element:x,strategy:"absolute",placement:a}),j=Ms(Object.assign({},x,k)),S=h===Po?j:w,C={top:_.top-S.top+g.top,bottom:S.bottom-_.bottom+g.bottom,left:_.left-S.left+g.left,right:S.right-_.right+g.right},N=e.modifiersData.offset;if(h===Po&&N){var E=N[a];Object.keys(C).forEach((function(e){var t=[jo,ko].indexOf(e)>=0?1:-1,n=[wo,ko].indexOf(e)>=0?"y":"x";C[e]+=E[n]*t}))}return C}var Rs={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=void 0===a||a,o=n.altAxis,s=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,v=t.options.placement,g=$o(v),y=l||(g===v||!p?[Ss(v)]:function(e){if($o(e)===Co)return[];var t=Ss(e);return[Ns(e),t,Ns(t)]}(v)),x=[v].concat(y).reduce((function(e,n){return e.concat($o(n)===Co?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Lo:l,u=ys(r),d=u?s?Do:Do.filter((function(e){return ys(e)===u})):No,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d,"production"!=={}.NODE_ENV&&console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var f=h.reduce((function(t,n){return t[n]=zs(e,{placement:n,boundary:a,rootBoundary:i,padding:o})[$o(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),b=t.rects.reference,_=t.rects.popper,w=new Map,k=!0,j=x[0],S=0;S<x.length;S++){var C=x[S],N=$o(C),E=ys(C)===Eo,T=[wo,ko].indexOf(N)>=0,I=T?"width":"height",A=zs(t,{placement:C,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),P=T?E?jo:So:E?ko:wo;b[I]>_[I]&&(P=Ss(P));var M=Ss(P),D=[];if(i&&D.push(A[N]<=0),s&&D.push(A[P]<=0,A[M]<=0),D.every((function(e){return e}))){j=C,k=!1;break}w.set(C,D)}if(k)for(var L=function(e){var t=x.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},O=p?3:1;O>0;O--){if("break"===L(O))break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Fs(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Bs(e){return[wo,jo,ko,So].some((function(t){return e[t]>=0}))}var Zs={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=zs(t,{elementContext:"reference"}),s=zs(t,{altBoundary:!0}),l=Fs(o,r),c=Fs(s,a,i),u=Bs(l),d=Bs(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};var Us={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=void 0===a?[0,0]:a,o=Lo.reduce((function(e,n){return e[n]=function(e,t,n){var r=$o(e),a=[So,wo].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[So,jo].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,i),e}),{}),s=o[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var Vs={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Os({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var qs={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=void 0===a||a,o=n.altAxis,s=void 0!==o&&o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,v=zs(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),g=$o(t.placement),y=ys(t.placement),x=!y,b=fs(g),_=function(e){return"x"===e?"y":"x"}(b),w=t.modifiersData.popperOffsets,k=t.rects.reference,j=t.rects.popper,S="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,C="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(w){if(i){var T,I="y"===b?wo:So,A="y"===b?ko:jo,P="y"===b?"height":"width",M=w[b],D=M+v[I],L=M-v[A],O=f?-j[P]/2:0,z=y===Eo?k[P]:j[P],R=y===Eo?-j[P]:-k[P],F=t.elements.arrow,B=f&&F?is(F):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=Z[I],V=Z[A],q=ps(0,k[P],B[P]),H=x?k[P]/2-O-q-U-C.mainAxis:z-q-U-C.mainAxis,W=x?-k[P]/2+O+q+V+C.mainAxis:R+q+V+C.mainAxis,Y=t.elements.arrow&&hs(t.elements.arrow),G=Y?"y"===b?Y.clientTop||0:Y.clientLeft||0:0,J=null!=(T=null==N?void 0:N[b])?T:0,X=M+W-J,K=ps(f?es(D,M+H-J-G):D,M,f?Qo(L,X):L);w[b]=K,E[b]=K-M}if(s){var $,Q="x"===b?wo:So,ee="x"===b?ko:jo,te=w[_],ne="y"===_?"height":"width",re=te+v[Q],ae=te-v[ee],ie=-1!==[wo,So].indexOf(g),oe=null!=($=null==N?void 0:N[_])?$:0,se=ie?re:te-k[ne]-j[ne]-oe+C.altAxis,le=ie?te+k[ne]+j[ne]-oe-C.altAxis:ae,ce=f&&ie?function(e,t,n){var r=ps(e,t,n);return r>n?n:r}(se,te,le):ps(f?se:re,te,f?le:ae);w[_]=ce,E[_]=ce-te}t.modifiersData[r]=E}},requiresIfExists:["offset"]};function Hs(e,t,n){void 0===n&&(n=!1);var r=Jo(t),a=Jo(t)&&function(e){var t=e.getBoundingClientRect(),n=ts(t.width)/e.offsetWidth||1,r=ts(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=cs(t),o=as(e,a,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Wo(t)||Is(i))&&(s=function(e){return e!==Yo(e)&&Jo(e)?function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(e):Es(e)}(t)),Jo(t)?((l=as(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=Ts(i))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function Ws(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}function Ys(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function Gs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return[].concat(n).reduce((function(e,t){return e.replace(/%s/,t)}),e)}var Js='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Xs='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',Ks=["name","enabled","phase","fn","effect","requires","options"];var $s="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Qs={placement:"bottom",modifiers:[],strategy:"absolute"};function el(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function tl(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,i=void 0===a?Qs:a;return function(e,t,n){void 0===n&&(n=i);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qs,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,l={state:a,setOptions:function(n){var s="function"==typeof n?n(a.options):n;c(),a.options=Object.assign({},i,a.options,s),a.scrollParents={reference:Go(e)?Ps(e):e.contextElement?Ps(e.contextElement):[],popper:Ps(t)};var u=function(e){var t=Ws(e);return Ho.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));if(a.orderedModifiers=u.filter((function(e){return e.enabled})),"production"!=={}.NODE_ENV){var d=function(e,t){var n=new Set;return e.filter((function(e){var r=t(e);if(!n.has(r))return n.add(r),!0}))}([].concat(u,a.options.modifiers),(function(e){return e.name}));if(function(e){e.forEach((function(t){[].concat(Object.keys(t),Ks).filter((function(e,t,n){return n.indexOf(e)===t})).forEach((function(n){switch(n){case"name":"string"!=typeof t.name&&console.error(Gs(Js,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":"boolean"!=typeof t.enabled&&console.error(Gs(Js,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":Ho.indexOf(t.phase)<0&&console.error(Gs(Js,t.name,'"phase"',"either "+Ho.join(", "),'"'+String(t.phase)+'"'));break;case"fn":"function"!=typeof t.fn&&console.error(Gs(Js,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":null!=t.effect&&"function"!=typeof t.effect&&console.error(Gs(Js,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":null!=t.requires&&!Array.isArray(t.requires)&&console.error(Gs(Js,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(Gs(Js,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+Ks.map((function(e){return'"'+e+'"'})).join(", ")+'; but "'+n+'" was provided.')}t.requires&&t.requires.forEach((function(n){null==e.find((function(e){return e.name===n}))&&console.error(Gs(Xs,String(t.name),n,n))}))}))}))}(d),$o(a.options.placement)===Co){var h=a.orderedModifiers.find((function(e){return"flip"===e.name}));h||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var f=ss(t);[f.marginTop,f.marginRight,f.marginBottom,f.marginLeft].some((function(e){return parseFloat(e)}))&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var s=i({state:a,name:t,instance:l,options:r}),c=function(){};o.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=a.elements,t=e.reference,n=e.popper;if(!el(t,n))return void("production"!=={}.NODE_ENV&&console.error($s));a.rects={reference:Hs(t,hs(n),"fixed"===a.options.strategy),popper:is(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0,i=0;i<a.orderedModifiers.length;i++){if("production"!=={}.NODE_ENV&&(r+=1)>100){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}if(!0!==a.reset){var o=a.orderedModifiers[i],c=o.fn,u=o.options,d=void 0===u?{}:u,h=o.name;"function"==typeof c&&(a=c({state:a,options:d,name:h,instance:l})||a)}else a.reset=!1,i=-1}}},update:Ys((function(){return new Promise((function(e){l.forceUpdate(),e(a)}))})),destroy:function(){c(),s=!0}};if(!el(e,t))return"production"!=={}.NODE_ENV&&console.error($s),l;function c(){o.forEach((function(e){return e()})),o=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var nl=tl(),rl=tl({defaultModifiers:[ks,Vs,_s,Ko]}),al=tl({defaultModifiers:[ks,Vs,_s,Ko,Us,Rs,qs,gs,Zs]}),il=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Zo,afterRead:Ro,afterWrite:qo,applyStyles:Ko,arrow:gs,auto:Co,basePlacements:No,beforeMain:Fo,beforeRead:Oo,beforeWrite:Uo,bottom:ko,clippingParents:Io,computeStyles:_s,createPopper:al,createPopperBase:nl,createPopperLite:rl,detectOverflow:zs,end:To,eventListeners:ks,flip:Rs,hide:Zs,left:So,main:Bo,modifierPhases:Ho,offset:Us,placements:Lo,popper:Po,popperGenerator:tl,popperOffsets:Vs,preventOverflow:qs,read:zo,reference:Mo,right:jo,start:Eo,top:wo,variationPlacements:Do,viewport:Ao,write:Vo},Symbol.toStringTag,{value:"Module"}));function ol(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function sl(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}var ll={setDataAttribute:function(e,t,n){e.setAttribute("data-te-".concat(sl(t)),n)},removeDataAttribute:function(e,t){e.removeAttribute("data-te-".concat(sl(t)))},getDataAttributes:function(e){if(!e)return{};var t={};return Object.keys(e.dataset).filter((function(e){return e.startsWith("te")})).forEach((function(n){if(!n.startsWith("teClass")){var r=n.replace(/^te/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=ol(e.dataset[n])}})),t},getDataClassAttributes:function(e){if(!e)return{};var t=(0,Ir.Z)({},e.dataset);return Object.keys(t).filter((function(e){return e.startsWith("teClass")})).forEach((function(e){var n=e.replace(/^teClass/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=ol(t[e])})),t},getDataAttribute:function(e,t){return ol(e.getAttribute("data-te-".concat(sl(t))))},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},position:function(e){return{top:e.offsetTop,left:e.offsetLeft}},style:function(e,t){Object.assign(e.style,t)},toggleClass:function(e,t){e&&cl(t).forEach((function(t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}))},addClass:function(e,t){cl(t).forEach((function(t){return!e.classList.contains(t)&&e.classList.add(t)}))},addStyle:function(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))},removeClass:function(e,t){cl(t).forEach((function(t){return e.classList.contains(t)&&e.classList.remove(t)}))},hasClass:function(e,t){return e.classList.contains(t)},maxOffset:function(e){var t=e.getBoundingClientRect();return{top:t.top+Math.max(document.body.scrollTop,document.documentElement.scrollTop,window.scrollY),left:t.left+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft,window.scrollX)}}};function cl(e){return"string"==typeof e?e.split(" "):!!Array.isArray(e)&&e}var ul={closest:function(e,t){return e.closest(t)},matches:function(e,t){return e.matches(t)},find:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return(t=[]).concat.apply(t,(0,T.Z)(Element.prototype.querySelectorAll.call(n,e)))},findOne:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:function(e,t){var n;return(n=[]).concat.apply(n,(0,T.Z)(e.children)).filter((function(e){return e.matches(t)}))},parents:function(e,t){for(var n=[],r=e.parentNode;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)this.matches(r,t)&&n.push(r),r=r.parentNode;return n},prev:function(e,t){for(var n=e.previousElementSibling;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next:function(e,t){for(var n=e.nextElementSibling;n;){if(this.matches(n,t))return[n];n=n.nextElementSibling}return[]},focusableChildren:function(e){var t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((function(e){return"".concat(e,':not([tabindex^="-"])')})).join(", ");return this.find(t,e).filter((function(e){return!Gi(e)&&Yi(e)}))}},dl=".".concat("te.dropdown"),hl=".data-api",fl="Escape",pl="ArrowUp",ml="ArrowDown",vl=(new RegExp("".concat(pl,"|").concat(ml,"|").concat(fl)),"hide".concat(dl),"hidden".concat(dl),"show".concat(dl),"shown".concat(dl),"click".concat(dl).concat(hl),"keydown".concat(dl).concat(hl),"keyup".concat(dl).concat(hl),eo(),eo(),eo(),eo(),eo(),eo(),"te.collapse"),gl=".".concat(vl),yl=("show".concat(gl),"shown".concat(gl),"hide".concat(gl),"hidden".concat(gl),"data-te-collapse-item"),xl=(":scope [".concat(yl,"] [").concat(yl,"]"),"backdrop"),bl=("mousedown.te.".concat(xl),".".concat("te.offcanvas")),_l=("load".concat(bl).concat(".data-api"),"show".concat(bl),"shown".concat(bl),"hide".concat(bl),"hidden".concat(bl),"keydown.dismiss".concat(bl),".".concat("te.alert")),wl=("close".concat(_l),"closed".concat(_l),".".concat("te.carousel")),kl=".data-api",jl="left",Sl="right",Cl=(yi={},(0,Tr.Z)(yi,"ArrowLeft",Sl),(0,Tr.Z)(yi,"ArrowRight",jl),"slide".concat(wl),"slid".concat(wl),"keydown".concat(wl),"mouseenter".concat(wl),"mouseleave".concat(wl),"touchstart".concat(wl),"touchmove".concat(wl),"touchend".concat(wl),"pointerdown".concat(wl),"pointerup".concat(wl),"dragstart".concat(wl),"load".concat(wl).concat(kl),"click".concat(wl).concat(kl),"[data-te-carousel-active]"),Nl="[data-te-carousel-item]",El=("".concat(Cl).concat(Nl),"".concat(Nl," img"),".".concat("te.modal")),Tl=("hide".concat(El),"hidePrevented".concat(El),"hidden".concat(El),"show".concat(El),"shown".concat(El),"resize".concat(El),"click.dismiss".concat(El),"keydown.dismiss".concat(El),"mouseup.dismiss".concat(El),"mousedown.dismiss".concat(El),new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"])),Il=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Al=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Pl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Ml(e,t,n){var r;if(!e.length)return e;if(n&&"function"==typeof n)return n(e);for(var a=(new window.DOMParser).parseFromString(e,"text/html"),i=(r=[]).concat.apply(r,(0,T.Z)(a.body.querySelectorAll("*"))),o=function(){var e,n=i[s],r=n.nodeName.toLowerCase();if(!Object.keys(t).includes(r))return n.remove(),1;var a=(e=[]).concat.apply(e,(0,T.Z)(n.attributes)),o=[].concat(t["*"]||[],t[r]||[]);a.forEach((function(e){(function(e,t){var n=e.nodeName.toLowerCase();if(t.includes(n))return!Tl.has(n)||!(!Il.test(e.nodeValue)&&!Al.test(e.nodeValue));for(var r=t.filter((function(e){return e instanceof RegExp})),a=0,i=r.length;a<i;a++)if(r[a].test(n))return!0;return!1})(e,o)||n.removeAttribute(e.nodeName)}))},s=0,l=i.length;s<l;s++)o();return a.body.innerHTML}var Dl="tooltip",Ll=".".concat("te.tooltip"),Ol=new Set(["sanitize","allowList","sanitizeFn"]),zl={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Rl={AUTO:"auto",TOP:"top",RIGHT:eo()?"left":"right",BOTTOM:"bottom",LEFT:eo()?"right":"left"},Fl={animation:!0,template:'<div class="opacity-0 transition-opacity duration-300 ease-in-out absolute z-[1080] block m-0 text-sm not-italic font-normal text-left no-underline underline-offset-auto normal-case leading-6 tracking-normal break-normal whitespace-normal" role="tooltip"><div data-te-tooltip-inner-ref class="tooltip-inner max-w-[200px] text-sm py-1.5 px-4 text-white text-center bg-[#6d6d6d] rounded"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:Pl,popperConfig:{hide:!0}},Bl={HIDE:"hide".concat(Ll),HIDDEN:"hidden".concat(Ll),SHOW:"show".concat(Ll),SHOWN:"shown".concat(Ll),INSERTED:"inserted".concat(Ll),CLICK:"click".concat(Ll),FOCUSIN:"focusin".concat(Ll),FOCUSOUT:"focusout".concat(Ll),MOUSEENTER:"mouseenter".concat(Ll),MOUSELEAVE:"mouseleave".concat(Ll)},Zl="show",Ul="show",Vl="out",ql=".tooltip-inner",Hl=".".concat("modal"),Wl="hide.te.modal",Yl="hover",Gl="focus",Jl=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var a;if((0,c.Z)(this,n),typeof il>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(a=t.call(this,e))._isEnabled=!0,a._timeout=0,a._hoverState="",a._activeTrigger={},a._popper=null,a._config=a._getConfig(r),a.tip=null,a._setListeners(),a}return(0,u.Z)(n,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(e){if(this._isEnabled)if(e){var t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(Zl))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function(){clearTimeout(this._timeout),bo.off(this._element.closest(Hl),Wl,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),(0,Mi.Z)((0,f.Z)(n.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var e,t,n=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var r=bo.trigger(this._element,this.constructor.Event.SHOW),a=Ji(this._element),i=null===a?this._element.ownerDocument.documentElement.contains(this._element):a.contains(this._element);if(!r.defaultPrevented&&i){"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(ql).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);var o=this.getTipElement(),s=Fi(this.constructor.NAME);o.setAttribute("id",s),this._element.setAttribute("aria-describedby",s),this._config.animation&&setTimeout((function(){n.tip.classList.add("opacity-100"),n.tip.classList.remove("opacity-0")}),100);var l="function"==typeof this._config.placement?this._config.placement.call(this,o,this._element):this._config.placement,c=this._getAttachment(l);this._addAttachmentClass(c);var u=this._config.container;if(Li(o,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(u.append(o),bo.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=al(this._element,o,this._getPopperConfig(c)),o.getAttribute("id").includes("tooltip"))switch(l){case"bottom":default:o.classList.add("py-[0.4rem]");break;case"left":case"right":o.classList.add("px-[0.4rem]")}var d=this._resolvePossibleFunction(this._config.customClass);d&&(e=o.classList).add.apply(e,(0,T.Z)(d.split(" "))),"ontouchstart"in document.documentElement&&(t=[]).concat.apply(t,(0,T.Z)(document.body.children)).forEach((function(e){bo.on(e,"mouseover",Xi)}));var h=this.tip.classList.contains("transition-opacity");this._queueCallback((function(){var e=n._hoverState;n._hoverState=null,bo.trigger(n._element,n.constructor.Event.SHOWN),e===Vl&&n._leave(null,n)}),this.tip,h)}}}},{key:"hide",value:function(){var e,t=this;if(this._popper){var n=this.getTipElement();if(!bo.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented){n.classList.add("opacity-0"),n.classList.remove("opacity-100"),"ontouchstart"in document.documentElement&&(e=[]).concat.apply(e,(0,T.Z)(document.body.children)).forEach((function(e){return bo.off(e,"mouseover",Xi)})),this._activeTrigger.click=!1,this._activeTrigger[Gl]=!1,this._activeTrigger[Yl]=!1;var r=this.tip.classList.contains("opacity-0");this._queueCallback((function(){t._isWithActiveTrigger()||(t._hoverState!==Ul&&n.remove(),t._cleanTipClass(),t._element.removeAttribute("aria-describedby"),bo.trigger(t._element,t.constructor.Event.HIDDEN),t._disposePopper())}),this.tip,r),this._hoverState=""}}}},{key:"update",value:function(){null!==this._popper&&this._popper.update()}},{key:"isWithContent",value:function(){return!!this.getTitle()}},{key:"getTipElement",value:function(){if(this.tip)return this.tip;var e=document.createElement("div");e.innerHTML=this._config.template;var t=e.children[0];return this.setContent(t),t.classList.remove("fade",Zl),this.tip=t,this.tip}},{key:"setContent",value:function(e){this._sanitizeAndSetContent(e,this.getTitle(),ql)}},{key:"_sanitizeAndSetContent",value:function(e,t,n){var r=ul.findOne(n,e);t||!r?this.setElementContent(r,t):r.remove()}},{key:"setElementContent",value:function(e,t){if(null!==e){if(qi(t))return t=Hi(t),void(this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent);this._config.html?(this._config.sanitize&&(t=Ml(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t}}},{key:"getTitle",value:function(){var e=this._element.getAttribute("data-te-original-title")||this._config.title;return this._resolvePossibleFunction(e)}},{key:"updateAttachment",value:function(e){return"right"===e?"end":"left"===e?"start":e}},{key:"_initializeOnDelegatedTarget",value:function(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"==typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"==typeof t?function(n){return t(n,e._element)}:t}},{key:"_resolvePossibleFunction",value:function(e){return"function"==typeof e?e.call(this._element):e}},{key:"_getPopperConfig",value:function(e){var t=this,n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(e){return t._handlePopperPlacementChange(e)}}],onFirstUpdate:function(e){e.options.placement!==e.placement&&t._handlePopperPlacementChange(e)}};return(0,Ir.Z)((0,Ir.Z)({},n),"function"==typeof this._config.popperConfig?this._config.popperConfig(n):this._config.popperConfig)}},{key:"_addAttachmentClass",value:function(e){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(e)))}},{key:"_getAttachment",value:function(e){return Rl[e.toUpperCase()]}},{key:"_setListeners",value:function(){var e=this;this._config.trigger.split(" ").forEach((function(t){if("click"===t)bo.on(e._element,e.constructor.Event.CLICK,e._config.selector,(function(t){return e.toggle(t)}));else if("manual"!==t){var n=t===Yl?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=t===Yl?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;bo.on(e._element,n,e._config.selector,(function(t){return e._enter(t)})),bo.on(e._element,r,e._config.selector,(function(t){return e._leave(t)}))}})),this._hideModalHandler=function(){e._element&&e.hide()},bo.on(this._element.closest(Hl),Wl,this._hideModalHandler),this._config.selector?this._config=(0,Ir.Z)((0,Ir.Z)({},this._config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-te-original-title");(e||"string"!==t)&&(this._element.setAttribute("data-te-original-title",e||""),e&&!this._element.getAttribute("aria-label")&&!this._element.textContent&&this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}},{key:"_enter",value:function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusin"===e.type?Gl:Yl]=!0),t.getTipElement().classList.contains(Zl)||t._hoverState===Ul?t._hoverState=Ul:(clearTimeout(t._timeout),t._hoverState=Ul,t._config.delay&&t._config.delay.show?t._timeout=setTimeout((function(){t._hoverState===Ul&&t.show()}),t._config.delay.show):t.show())}},{key:"_leave",value:function(e,t){if(t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusout"===e.type?Gl:Yl]=t._element.contains(e.relatedTarget)),!t._isWithActiveTrigger()){if(clearTimeout(t._timeout),t._hoverState=Vl,!t._config.delay||!t._config.delay.hide)return void t.hide();t._timeout=setTimeout((function(){t._hoverState===Vl&&t.hide()}),t._config.delay.hide)}}},{key:"_isWithActiveTrigger",value:function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}},{key:"_getConfig",value:function(e){var t=ll.getDataAttributes(this._element);return Object.keys(t).forEach((function(e){Ol.has(e)&&delete t[e]})),(e=(0,Ir.Z)((0,Ir.Z)((0,Ir.Z)({},this.constructor.Default),t),"object"==typeof e&&e?e:{})).container=!1===e.container?document.body:Hi(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),Wi(Dl,e,this.constructor.DefaultType),e.sanitize&&(e.template=Ml(e.template,e.allowList,e.sanitizeFn)),e}},{key:"_getDelegateConfig",value:function(){var e={};for(var t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}},{key:"_cleanTipClass",value:function(){var e=this.getTipElement(),t=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g"),n=e.getAttribute("class").match(t);null!==n&&n.length>0&&n.map((function(e){return e.trim()})).forEach((function(t){return e.classList.remove(t)}))}},{key:"_getBasicClassPrefix",value:function(){return"te-tooltip"}},{key:"_handlePopperPlacementChange",value:function(e){var t=e.state;t&&(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null)}}],[{key:"Default",get:function(){return Fl}},{key:"NAME",get:function(){return Dl}},{key:"Event",get:function(){return Bl}},{key:"DefaultType",get:function(){return zl}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(_o),Xl=".".concat("te.popover"),Kl=((0,Ir.Z)((0,Ir.Z)({},Jl.Default),{},{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="opacity-0 transition-opacity duration-150 ease-in-out absolute top-0 left-0 z-[1070] block max-w-[267px] break-words bg-white bg-clip-padding border border-neutral-100 rounded-lg shadow-[0_0px_3px_0_rgba(0,0,0,0.07),0_2px_2px_0_rgba(0,0,0,0.04)] text-sm not-italic font-normal text-left no-underline underline-offset-auto normal-case leading-6 tracking-normal break-normal whitespace-normal dark:bg-neutral-700 dark:border-0 dark:text-white data-[popper-reference-hidden]:hidden" role="tooltip"><h3 class="popover-header py-2 px-4 mb-0 border-b-2 border-neutral-100 rounded-t-lg font-medium empty:hidden dark:border-neutral-500"></h3><div class="popover-body p-4 text-[#212529] dark:text-white"></div></div>'}),(0,Ir.Z)((0,Ir.Z)({},Jl.DefaultType),{},{content:"(string|element|function)"}),"hide".concat(Xl),"hidden".concat(Xl),"show".concat(Xl),"shown".concat(Xl),"inserted".concat(Xl),"click".concat(Xl),"focusin".concat(Xl),"focusout".concat(Xl),"mouseenter".concat(Xl),"mouseleave".concat(Xl),".".concat("te.scrollspy")),$l=("activate".concat(Kl),"scroll".concat(Kl),"[data-te-dropdown-item-ref]"),Ql="[data-te-nav-link-ref]",ec="[data-te-list-group-item-ref]",tc=("".concat(Ql,", ").concat(ec,", ").concat($l),".".concat("te.tab")),nc=("hide".concat(tc),"hidden".concat(tc),"show".concat(tc),"shown".concat(tc),"data-te-tab-active"),rc="data-te-nav-active",ac=("[".concat(nc,"]"),"[".concat(rc,"]"),".".concat("te.toast"));"mouseover".concat(ac),"mouseout".concat(ac),"focusin".concat(ac),"focusout".concat(ac),"hide".concat(ac),"hidden".concat(ac),"show".concat(ac),"shown".concat(ac);!function(){var e={454:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,"INPUT:-webkit-autofill,SELECT:-webkit-autofill,TEXTAREA:-webkit-autofill{animation-name:onautofillstart}INPUT:not(:-webkit-autofill),SELECT:not(:-webkit-autofill),TEXTAREA:not(:-webkit-autofill){animation-name:onautofillcancel}@keyframes onautofillstart{}@keyframes onautofillcancel{}",""]);var i=a},645:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(a[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&a[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},810:function(){!function(){if(typeof window<"u")try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(n){var t=function(e,t){var n,r;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}()},379:function(e,t,n){var r,a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(r){n=null}e[t]=n}return e[t]}}(),i=[];function o(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],a=0;a<e.length;a++){var s=e[a],l=t.base?s[0]+t.base:s[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=o(u),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(i[d].references++,i[d].updater(h)):i.push({identifier:u,updater:m(h,t),references:1}),r.push(u)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function h(e,t,n){var r=n.css,a=n.media,i=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),i&&typeof btoa<"u"&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,p=0;function m(e,t){var n,r,a;if(t.singleton){var i=p++;n=f||(f=l(t)),r=d.bind(null,n,i,!1),a=d.bind(null,n,i,!0)}else n=l(t),r=h.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=!(!(window&&document&&document.all)||window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var a=o(n[r]);i[a].references--}for(var l=s(e,t),c=0;c<n.length;c++){var u=o(n[c]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=l}}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=n(379),t=n.n(e),r=n(454);function a(e){if(!e.hasAttribute("autocompleted")){e.setAttribute("autocompleted","");var t=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null});e.dispatchEvent(t)||(e.value="")}}function i(e){e.hasAttribute("autocompleted")&&(e.removeAttribute("autocompleted"),e.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}t()(r.Z,{insert:"head",singleton:!1}),r.Z.locals,n(810),document.addEventListener("animationstart",(function(e){"onautofillstart"===e.animationName?a(e.target):i(e.target)}),!0),document.addEventListener("input",(function(e){"insertReplacementText"!==e.inputType&&"data"in e?i(e.target):a(e.target)}),!0)}()}();var ic="input",oc="te.input",sc="data-te-input-wrapper-init",lc="data-te-input-notch-ref",cc="data-te-input-notch-leading-ref",uc="data-te-input-notch-middle-ref",dc="data-te-input-state-active",hc="data-te-input-focused",fc="data-te-input-form-counter",pc="[".concat(sc,"] input"),mc="[".concat(sc,"] textarea"),vc="[".concat(lc,"]"),gc="[".concat(cc,"]"),yc="[".concat(uc,"]"),xc="[".concat("data-te-input-helper-ref","]"),bc={inputFormWhite:!1},_c={inputFormWhite:"(boolean)"},wc={notch:"group flex absolute left-0 top-0 w-full max-w-full h-full text-left pointer-events-none",notchLeading:"pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none left-0 top-0 h-full w-2 border-r-0 rounded-l-[0.25rem] group-data-[te-input-focused]:border-r-0 group-data-[te-input-state-active]:border-r-0",notchLeadingNormal:"border-neutral-300 dark:border-neutral-600 group-data-[te-input-focused]:shadow-[-1px_0_0_#3b71ca,_0_1px_0_0_#3b71ca,_0_-1px_0_0_#3b71ca] group-data-[te-input-focused]:border-primary",notchLeadingWhite:"border-neutral-200 group-data-[te-input-focused]:shadow-[-1px_0_0_#ffffff,_0_1px_0_0_#ffffff,_0_-1px_0_0_#ffffff] group-data-[te-input-focused]:border-white",notchMiddle:"pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none grow-0 shrink-0 basis-auto w-auto max-w-[calc(100%-1rem)] h-full border-r-0 border-l-0 group-data-[te-input-focused]:border-x-0 group-data-[te-input-state-active]:border-x-0 group-data-[te-input-focused]:border-t group-data-[te-input-state-active]:border-t group-data-[te-input-focused]:border-solid group-data-[te-input-state-active]:border-solid group-data-[te-input-focused]:border-t-transparent group-data-[te-input-state-active]:border-t-transparent",notchMiddleNormal:"border-neutral-300 dark:border-neutral-600 group-data-[te-input-focused]:shadow-[0_1px_0_0_#3b71ca] group-data-[te-input-focused]:border-primary",notchMiddleWhite:"border-neutral-200 group-data-[te-input-focused]:shadow-[0_1px_0_0_#ffffff] group-data-[te-input-focused]:border-white",notchTrailing:"pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none grow h-full border-l-0 rounded-r-[0.25rem] group-data-[te-input-focused]:border-l-0 group-data-[te-input-state-active]:border-l-0",notchTrailingNormal:"border-neutral-300 dark:border-neutral-600 group-data-[te-input-focused]:shadow-[1px_0_0_#3b71ca,_0_-1px_0_0_#3b71ca,_0_1px_0_0_#3b71ca] group-data-[te-input-focused]:border-primary",notchTrailingWhite:"border-neutral-200 group-data-[te-input-focused]:shadow-[1px_0_0_#ffffff,_0_-1px_0_0_#ffffff,_0_1px_0_0_#ffffff] group-data-[te-input-focused]:border-white",counter:"text-right leading-[1.6]"},kc={notch:"string",notchLeading:"string",notchLeadingNormal:"string",notchLeadingWhite:"string",notchMiddle:"string",notchMiddleNormal:"string",notchMiddleWhite:"string",notchTrailing:"string",notchTrailingNormal:"string",notchTrailingWhite:"string",counter:"string"},jc=function(){function e(t,n,r){(0,c.Z)(this,e),this._config=this._getConfig(n,t),this._element=t,this._classes=this._getClasses(r),this._label=null,this._labelWidth=0,this._labelMarginLeft=0,this._notchLeading=null,this._notchMiddle=null,this._notchTrailing=null,this._initiated=!1,this._helper=null,this._counter=!1,this._counterElement=null,this._maxLength=0,this._leadingIcon=null,this._element&&(Li(t,oc,this),this.init())}return(0,u.Z)(e,[{key:"input",get:function(){return ul.findOne("input",this._element)||ul.findOne("textarea",this._element)}},{key:"init",value:function(){this._initiated||(this._getLabelData(),this._applyDivs(),this._applyNotch(),this._activate(),this._getHelper(),this._getCounter(),this._getEvents(),this._initiated=!0)}},{key:"update",value:function(){this._getLabelData(),this._getNotchData(),this._applyNotch(),this._activate(),this._getHelper(),this._getCounter()}},{key:"forceActive",value:function(){this.input.setAttribute(dc,""),ul.findOne(vc,this.input.parentNode).setAttribute(dc,"")}},{key:"forceInactive",value:function(){this.input.removeAttribute(dc),ul.findOne(vc,this.input.parentNode).removeAttribute(dc)}},{key:"dispose",value:function(){this._removeBorder(),zi(this._element,oc),this._element=null}},{key:"_getConfig",value:function(e,t){return e=(0,Ir.Z)((0,Ir.Z)((0,Ir.Z)({},bc),ll.getDataAttributes(t)),"object"==typeof e?e:{}),Wi(ic,e,_c),e}},{key:"_getClasses",value:function(e){var t=ll.getDataClassAttributes(this._element);return e=(0,Ir.Z)((0,Ir.Z)((0,Ir.Z)({},wc),t),e),Wi(ic,e,kc),e}},{key:"_getLabelData",value:function(){this._label=ul.findOne("label",this._element),null===this._label?this._showPlaceholder():(this._getLabelWidth(),this._getLabelPositionInInputGroup(),this._toggleDefaultDatePlaceholder())}},{key:"_getHelper",value:function(){this._helper=ul.findOne(xc,this._element)}},{key:"_getCounter",value:function(){this._counter=ll.getDataAttribute(this.input,"inputShowcounter"),this._counter&&(this._maxLength=this.input.maxLength,this._showCounter())}},{key:"_getEvents",value:function(){bo.on(document,"focus",pc,e.activate(new e)),bo.on(document,"input",pc,e.activate(new e)),bo.on(document,"blur",pc,e.deactivate(new e)),bo.on(document,"focus",mc,e.activate(new e)),bo.on(document,"input",mc,e.activate(new e)),bo.on(document,"blur",mc,e.deactivate(new e)),bo.on(window,"shown.te.modal",(function(t){ul.find(pc,t.target).forEach((function(t){var n=e.getInstance(t.parentNode);n&&n.update()})),ul.find(mc,t.target).forEach((function(t){var n=e.getInstance(t.parentNode);n&&n.update()}))})),bo.on(window,"shown.te.dropdown",(function(t){var n=t.target.parentNode.querySelector("[data-te-dropdown-menu-ref]");n&&(ul.find(pc,n).forEach((function(t){var n=e.getInstance(t.parentNode);n&&n.update()})),ul.find(mc,n).forEach((function(t){var n=e.getInstance(t.parentNode);n&&n.update()})))})),bo.on(window,"shown.te.tab",(function(t){var n;n=t.target.href?t.target.href.split("#")[1]:ll.getDataAttribute(t.target,"target").split("#")[1];var r=ul.findOne("#".concat(n));ul.find(pc,r).forEach((function(t){var n=e.getInstance(t.parentNode);n&&n.update()})),ul.find(mc,r).forEach((function(t){var n=e.getInstance(t.parentNode);n&&n.update()}))})),bo.on(window,"reset",(function(t){ul.find(pc,t.target).forEach((function(t){var n=e.getInstance(t.parentNode);n&&n.forceInactive()})),ul.find(mc,t.target).forEach((function(t){var n=e.getInstance(t.parentNode);n&&n.forceInactive()}))})),bo.on(window,"onautocomplete",(function(t){var n=e.getInstance(t.target.parentNode);!n||!t.cancelable||n.forceActive()}))}},{key:"_showCounter",value:function(){if(!(ul.find("[".concat(fc,"]"),this._element).length>0)){this._counterElement=document.createElement("div"),ll.addClass(this._counterElement,this._classes.counter),this._counterElement.setAttribute(fc,"");var e=this.input.value.length;this._counterElement.innerHTML="".concat(e," / ").concat(this._maxLength),this._helper.appendChild(this._counterElement),this._bindCounter()}}},{key:"_bindCounter",value:function(){var e=this;bo.on(this.input,"input",(function(){var t=e.input.value.length;e._counterElement.innerHTML="".concat(t," / ").concat(e._maxLength)}))}},{key:"_toggleDefaultDatePlaceholder",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.input;"date"===e.getAttribute("type")&&(document.activeElement===e||e.value?e.style.opacity=1:e.style.opacity=0)}},{key:"_showPlaceholder",value:function(){this.input.setAttribute("data-te-input-placeholder-active","")}},{key:"_getNotchData",value:function(){this._notchMiddle=ul.findOne(yc,this._element),this._notchLeading=ul.findOne(gc,this._element)}},{key:"_getLabelWidth",value:function(){this._labelWidth=.8*this._label.clientWidth+8}},{key:"_getLabelPositionInInputGroup",value:function(){if(this._labelMarginLeft=0,this._element.hasAttribute("data-te-input-group-ref")){var e=this.input,t=ul.prev(e,"[data-te-input-group-text-ref]")[0];this._labelMarginLeft=void 0===t?0:t.offsetWidth-1}}},{key:"_applyDivs",value:function(){var e=this._config.inputFormWhite?this._classes.notchLeadingWhite:this._classes.notchLeadingNormal,t=this._config.inputFormWhite?this._classes.notchMiddleWhite:this._classes.notchMiddleNormal,n=this._config.inputFormWhite?this._classes.notchTrailingWhite:this._classes.notchTrailingNormal,r=ul.find(vc,this._element),a=to("div");ll.addClass(a,this._classes.notch),a.setAttribute(lc,""),this._notchLeading=to("div"),ll.addClass(this._notchLeading,"".concat(this._classes.notchLeading," ").concat(e)),this._notchLeading.setAttribute(cc,""),this._notchMiddle=to("div"),ll.addClass(this._notchMiddle,"".concat(this._classes.notchMiddle," ").concat(t)),this._notchMiddle.setAttribute(uc,""),this._notchTrailing=to("div"),ll.addClass(this._notchTrailing,"".concat(this._classes.notchTrailing," ").concat(n)),this._notchTrailing.setAttribute("data-te-input-notch-trailing-ref",""),!(r.length>=1)&&(a.append(this._notchLeading),a.append(this._notchMiddle),a.append(this._notchTrailing),this._element.append(a))}},{key:"_applyNotch",value:function(){this._notchMiddle.style.width="".concat(this._labelWidth,"px"),this._notchLeading.style.width="".concat(this._labelMarginLeft+9,"px"),null!==this._label&&(this._label.style.marginLeft="".concat(this._labelMarginLeft,"px"))}},{key:"_removeBorder",value:function(){var e=ul.findOne(vc,this._element);e&&e.remove()}},{key:"_activate",value:function(e){var t=this;Qi((function(){t._getElements(e);var n=e?e.target:t.input,r=ul.findOne(vc,t._element);e&&"focus"===e.type&&r&&r.setAttribute(hc,""),""!==n.value&&(n.setAttribute(dc,""),r&&r.setAttribute(dc,"")),t._toggleDefaultDatePlaceholder(n)}))}},{key:"_getElements",value:function(e){if(e&&(this._element=e.target.parentNode,this._label=ul.findOne("label",this._element)),e&&this._label){var t=this._labelWidth;this._getLabelData(),t!==this._labelWidth&&(this._notchMiddle=ul.findOne(yc,e.target.parentNode),this._notchLeading=ul.findOne(gc,e.target.parentNode),this._applyNotch())}}},{key:"_deactivate",value:function(e){var t=e?e.target:this.input,n=ul.findOne(vc,t.parentNode);n.removeAttribute(hc),""===t.value&&(t.removeAttribute(dc),n.removeAttribute(dc)),this._toggleDefaultDatePlaceholder(t)}}],[{key:"NAME",get:function(){return ic}},{key:"activate",value:function(e){return function(t){e._activate(t)}}},{key:"deactivate",value:function(e){return function(t){e._deactivate(t)}}},{key:"jQueryInterface",value:function(t,n){return this.each((function(){var r=Oi(this,oc),a="object"==typeof t&&t;if((r||!/dispose/.test(t))&&(r||(r=new e(this,a)),"string"==typeof t)){if(typeof r[t]>"u")throw new TypeError('No method named "'.concat(t,'"'));r[t](n)}}))}},{key:"getInstance",value:function(e){return Oi(e,oc)}},{key:"getOrCreateInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}}]),e}();var Sc="te.datepicker",Cc=".".concat(Sc),Nc=("close".concat(Cc),"open".concat(Cc),"dateChange".concat(Cc),"click".concat(Cc).concat(".data-api"),"data-te-datepicker-modal-container-ref"),Ec="data-te-datepicker-dropdown-container-ref",Tc=("[".concat(Nc,"]"),"[".concat(Ec,"]"),"timepicker"),Ic="data-te-".concat(Tc),Ac="te.".concat(Tc),Pc=".".concat(Ac),Mc=".data-api",Dc=("click".concat(Pc).concat(Mc),"keydown".concat(Pc).concat(Mc),"mousedown".concat(Pc).concat(Mc),"mouseup".concat(Pc).concat(Mc),"mousemove".concat(Pc).concat(Mc),"mouseleave".concat(Pc).concat(Mc),"mouseover".concat(Pc).concat(Mc),"touchmove".concat(Pc).concat(Mc),"touchend".concat(Pc).concat(Mc),"touchstart".concat(Pc).concat(Mc),"[".concat(Ic,"-am]"),"[".concat(Ic,"-pm]"),"[".concat(Ic,"-format24]"),"[".concat(Ic,"-current]"),"[".concat(Ic,"-hour-mode]"),"[".concat(Ic,"-toggle-button]"),"".concat(Ic,"-cancel"),"".concat(Ic,"-clear"),"".concat(Ic,"-submit"),"".concat(Ic,"-icon"),"".concat(Ic,"-icon-up"),"".concat(Ic,"-icon-down"),"".concat(Ic,"-icon-inline-hour"),"".concat(Ic,"-icon-inline-minute"),"".concat(Ic,"-inline-hour-icons"),"".concat(Ic,"-current-inline"),"".concat(Ic,"-invalid-feedback"),"".concat(Ic,"-is-invalid"),"".concat(Ic,"-disabled"),"".concat(Ic,"-active"),"".concat(Ic,"-input"),"".concat(Ic,"-clock"),"".concat(Ic,"-clock-inner"),"".concat(Ic,"-wrapper"),"".concat(Ic,"-clock-wrapper"),"".concat(Ic,"-hour"),"".concat(Ic,"-minute"),"".concat(Ic,"-tips-element"),"".concat(Ic,"-tips-hours"),"".concat(Ic,"-tips-minutes"),"".concat(Ic,"-tips-inner"),"".concat(Ic,"-tips-inner-element"),"".concat(Ic,"-middle-dot"),"".concat(Ic,"-hand-pointer"),"".concat(Ic,"-circle"),"".concat(Ic,"-modal"),eo(),eo(),"stepper"),Lc="te.stepper",Oc=".".concat(Lc),zc="data-te-".concat(Dc);"mousedown".concat(Oc),"keydown".concat(Oc),"keyup".concat(Oc),"resize".concat(Oc),"[".concat(zc,"-step-ref]"),"[".concat(zc,"-head-ref]"),"[".concat(zc,"-head-text-ref]"),"[".concat(zc,"-head-icon-ref]"),"[".concat(zc,"-content-ref]");var Rc="te.select",Fc=".".concat(Rc),Bc=("close".concat(Fc),"open".concat(Fc),"optionSelect".concat(Fc),"optionDeselect".concat(Fc),"valueChange".concat(Fc),"data-te-select-no-results-ref"),Zc=("[".concat(Bc,"]"),"chip"),Uc=("te.".concat(Zc),"data-te-chip-close"),Vc=("[".concat(Uc,"]"),"chips"),qc="data-te-".concat(Vc),Hc=("te.".concat(Vc),"".concat(qc,"-input-init"),"".concat(qc,"-active")),Wc=("".concat(qc,"-initial"),"".concat(qc,"-placeholder")),Yc="".concat(qc,"-input-wrapper"),Gc="data-te-chip-init",Jc="data-te-chip-close",Xc="data-te-chip-text",Kc="[".concat(Hc,"]"),$c="[".concat(Gc,"]"),Qc=("".concat($c).concat(Kc),"[".concat(Jc,"]"),"[".concat(Yc,"]"),"[".concat(Xc,"]"),"[".concat(Wc,"]"),"[".concat("data-te-input-notch-leading-ref","]"),"[".concat("data-te-input-notch-middle-ref","]"),Fi("chips-input-"),{plugins:{legend:{labels:{color:"rgb(102,102,102)"}}}}),eu={line:{options:(0,Ir.Z)((0,Ir.Z)({},Qc),{},{elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.0)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}})},bar:{options:(0,Ir.Z)((0,Ir.Z)({},Qc),{},{backgroundColor:"rgb(59, 112, 202)",borderWidth:0,responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!0,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}})},pie:{options:(0,Ir.Z)((0,Ir.Z)({},Qc),{},{elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}})},doughnut:{options:(0,Ir.Z)((0,Ir.Z)({},Qc),{},{elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}})},polarArea:{options:(0,Ir.Z)((0,Ir.Z)({},Qc),{},{elements:{arc:{backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0}})},radar:{options:(0,Ir.Z)((0,Ir.Z)({},Qc),{},{elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}})},scatter:{options:(0,Ir.Z)((0,Ir.Z)({},Qc),{},{elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}})},bubble:{options:(0,Ir.Z)((0,Ir.Z)({},Qc),{},{elements:{point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},scales:{x:{grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}})}},tu=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===nu}(e)}(e)};var nu="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function ru(e,t){return!1!==t.clone&&t.isMergeableObject(e)?lu(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function au(e,t,n){return e.concat(t).map((function(e){return ru(e,n)}))}function iu(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function ou(e,t){try{return t in e}catch(n){return!1}}function su(e,t,n){var r={};return n.isMergeableObject(e)&&iu(e).forEach((function(t){r[t]=ru(e[t],n)})),iu(t).forEach((function(a){(function(e,t){return ou(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(ou(e,a)&&n.isMergeableObject(t[a])?r[a]=function(e,t){if(!t.customMerge)return lu;var n=t.customMerge(e);return"function"==typeof n?n:lu}(a,n)(e[a],t[a],n):r[a]=ru(t[a],n))})),r}function lu(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||au,n.isMergeableObject=n.isMergeableObject||tu,n.cloneUnlessOtherwiseSpecified=ru;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):su(e,t,n):ru(t,n)}lu.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return lu(e,n,t)}),{})};function cu(e){return getComputedStyle(e)}function uu(e,t){for(var n in t){var r=t[n];"number"==typeof r&&(r+="px"),e.style[n]=r}return e}function du(e){var t=document.createElement("div");return t.className=e,t}var hu=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function fu(e,t){if(!hu)throw new Error("No element matching method supported");return hu.call(e,t)}function pu(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function mu(e,t){return Array.prototype.filter.call(e.children,(function(e){return fu(e,t)}))}var vu={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},gu={x:null,y:null};function yu(e,t){var n=e.element.classList,r=vu.state.scrolling(t);n.contains(r)?clearTimeout(gu[t]):n.add(r)}function xu(e,t){gu[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(vu.state.scrolling(t))}),e.settings.scrollingThreshold)}var bu=function(e){this.element=e,this.handlers={}},_u={isEmpty:{configurable:!0}};bu.prototype.bind=function(e,t){typeof this.handlers[e]>"u"&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},bu.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(r){return!(!t||r===t)||(n.element.removeEventListener(e,r,!1),!1)}))},bu.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},_u.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(bu.prototype,_u);var wu=function(){this.eventElements=[]};function ku(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function ju(e,t,n,r,a){var i;if(void 0===r&&(r=!0),void 0===a&&(a=!1),"top"===t)i=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");i=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,r,a){var i=n[0],o=n[1],s=n[2],l=n[3],c=n[4],u=n[5];void 0===r&&(r=!0),void 0===a&&(a=!1);var d=e.element;e.reach[l]=null,d[s]<1&&(e.reach[l]="start"),d[s]>e[i]-e[o]-1&&(e.reach[l]="end"),t&&(d.dispatchEvent(ku("ps-scroll-"+l)),t<0?d.dispatchEvent(ku("ps-scroll-"+c)):t>0&&d.dispatchEvent(ku("ps-scroll-"+u)),r&&function(e,t){yu(e,t),xu(e,t)}(e,l)),e.reach[l]&&(t||a)&&d.dispatchEvent(ku("ps-"+l+"-reach-"+e.reach[l]))}(e,n,i,r,a)}function Su(e){return parseInt(e,10)||0}wu.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new bu(e),this.eventElements.push(t)),t},wu.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},wu.prototype.unbind=function(e,t,n){var r=this.eventElement(e);r.unbind(t,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},wu.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},wu.prototype.once=function(e,t,n){var r=this.eventElement(e);r.bind(t,(function e(a){r.unbind(t,e),n(a)}))};var Cu={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function Nu(e){var t=e.element,n=Math.floor(t.scrollTop),r=t.getBoundingClientRect();e.containerWidth=Math.round(r.width),e.containerHeight=Math.round(r.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(mu(t,vu.element.rail("x")).forEach((function(e){return pu(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(mu(t,vu.element.rail("y")).forEach((function(e){return pu(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=Eu(e,Su(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=Su((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=Eu(e,Su(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=Su(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},r=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-r:n.top=t.scrollbarXTop+r,uu(t.scrollbarXRail,n);var a={top:r,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?a.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:a.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?a.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:a.left=t.scrollbarYLeft+e.scrollLeft,uu(t.scrollbarYRail,a),uu(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),uu(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(vu.state.active("x")):(t.classList.remove(vu.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(vu.state.active("y")):(t.classList.remove(vu.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function Eu(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function Tu(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=e.element,h=null,f=null,p=null;function m(t){t.touches&&t.touches[0]&&(t[a]=t.touches[0].pageY),d[l]=h+p*(t[a]-f),yu(e,c),Nu(e),t.stopPropagation(),t.type.startsWith("touch")&&t.changedTouches.length>1&&t.preventDefault()}function v(){xu(e,c),e[u].classList.remove(vu.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",m)}function g(t,o){h=d[l],o&&t.touches&&(t[a]=t.touches[0].pageY),f=t[a],p=(e[r]-e[n])/(e[i]-e[s]),o?e.event.bind(e.ownerDocument,"touchmove",m):(e.event.bind(e.ownerDocument,"mousemove",m),e.event.once(e.ownerDocument,"mouseup",v),t.preventDefault()),e[u].classList.add(vu.state.clicking),t.stopPropagation()}e.event.bind(e[o],"mousedown",(function(e){g(e)})),e.event.bind(e[o],"touchstart",(function(e){g(e,!0)}))}var Iu={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,Nu(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,Nu(e),t.stopPropagation()}))},"drag-thumb":function(e){Tu(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Tu(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(fu(t,":hover")||fu(e.scrollbarX,":focus")||fu(e.scrollbarY,":focus"))){var r=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(r){if("IFRAME"===r.tagName)r=r.contentDocument.activeElement;else for(;r.shadowRoot;)r=r.shadowRoot.activeElement;if(function(e){return fu(e,"input,[contenteditable]")||fu(e,"select,[contenteditable]")||fu(e,"textarea,[contenteditable]")||fu(e,"button,[contenteditable]")}(r))return}var a=0,i=0;switch(n.which){case 37:a=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:i=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:a=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:i=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:i=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:i=e.containerHeight;break;case 34:i=-e.containerHeight;break;case 36:i=e.contentHeight;break;case 35:i=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==a||e.settings.suppressScrollY&&0!==i||(t.scrollTop-=i,t.scrollLeft+=a,Nu(e),function(n,r){var a=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===a&&r>0||a>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var i=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===i&&n<0||i>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(a,i)&&n.preventDefault())}}))},wheel:function(e){var t=e.element;function n(n){var r=function(e){var t=e.deltaX,n=-1*e.deltaY;return(typeof t>"u"||typeof n>"u")&&(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),a=r[0],i=r[1];if(!function(e,n,r){if(!Cu.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var a=e;a&&a!==t;){if(a.classList.contains(vu.element.consuming))return!0;var i=cu(a);if(r&&i.overflowY.match(/(scroll|auto)/)){var o=a.scrollHeight-a.clientHeight;if(o>0&&(a.scrollTop>0&&r<0||a.scrollTop<o&&r>0))return!0}if(n&&i.overflowX.match(/(scroll|auto)/)){var s=a.scrollWidth-a.clientWidth;if(s>0&&(a.scrollLeft>0&&n<0||a.scrollLeft<s&&n>0))return!0}a=a.parentNode}return!1}(n.target,a,i)){var o=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(i?t.scrollTop-=i*e.settings.wheelSpeed:t.scrollTop+=a*e.settings.wheelSpeed,o=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(a?t.scrollLeft+=a*e.settings.wheelSpeed:t.scrollLeft-=i*e.settings.wheelSpeed,o=!0):(t.scrollTop-=i*e.settings.wheelSpeed,t.scrollLeft+=a*e.settings.wheelSpeed),Nu(e),o=o||function(n,r){var a=Math.floor(t.scrollTop),i=0===t.scrollTop,o=a+t.offsetHeight===t.scrollHeight,s=0===t.scrollLeft,l=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(r)>Math.abs(n)?i||o:s||l)||!e.settings.wheelPropagation}(a,i),o&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}typeof window.onwheel<"u"?e.event.bind(t,"wheel",n):typeof window.onmousewheel<"u"&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(Cu.supportsTouch||Cu.supportsIePointer){var t=e.element,n={},r=0,a={},i=null;Cu.supportsTouch?(e.event.bind(t,"touchstart",c),e.event.bind(t,"touchmove",u),e.event.bind(t,"touchend",d)):Cu.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",c),e.event.bind(t,"pointermove",u),e.event.bind(t,"pointerup",d)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",c),e.event.bind(t,"MSPointerMove",u),e.event.bind(t,"MSPointerUp",d)))}function o(n,r){t.scrollTop-=r,t.scrollLeft-=n,Nu(e)}function s(e){return e.targetTouches?e.targetTouches[0]:e}function l(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&!!(e.targetTouches&&1===e.targetTouches.length||e.pointerType&&"mouse"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE)}function c(e){if(l(e)){var t=s(e);n.pageX=t.pageX,n.pageY=t.pageY,r=(new Date).getTime(),null!==i&&clearInterval(i)}}function u(i){if(l(i)){var c=s(i),u={pageX:c.pageX,pageY:c.pageY},d=u.pageX-n.pageX,h=u.pageY-n.pageY;if(function(e,n,r){if(!t.contains(e))return!1;for(var a=e;a&&a!==t;){if(a.classList.contains(vu.element.consuming))return!0;var i=cu(a);if(r&&i.overflowY.match(/(scroll|auto)/)){var o=a.scrollHeight-a.clientHeight;if(o>0&&(a.scrollTop>0&&r<0||a.scrollTop<o&&r>0))return!0}if(n&&i.overflowX.match(/(scroll|auto)/)){var s=a.scrollWidth-a.clientWidth;if(s>0&&(a.scrollLeft>0&&n<0||a.scrollLeft<s&&n>0))return!0}a=a.parentNode}return!1}(i.target,d,h))return;o(d,h),n=u;var f=(new Date).getTime(),p=f-r;p>0&&(a.x=d/p,a.y=h/p,r=f),function(n,r){var a=Math.floor(t.scrollTop),i=t.scrollLeft,o=Math.abs(n),s=Math.abs(r);if(s>o){if(r<0&&a===e.contentHeight-e.containerHeight||r>0&&0===a)return 0===window.scrollY&&r>0&&Cu.isChrome}else if(o>s&&(n<0&&i===e.contentWidth-e.containerWidth||n>0&&0===i))return!0;return!0}(d,h)&&i.preventDefault()}}function d(){e.settings.swipeEasing&&(clearInterval(i),i=setInterval((function(){e.isInitialized?clearInterval(i):a.x||a.y?Math.abs(a.x)<.01&&Math.abs(a.y)<.01?clearInterval(i):e.element?(o(30*a.x,30*a.y),a.x*=.8,a.y*=.8):clearInterval(i):clearInterval(i)}),10))}}},Au=function(e,t){var n=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=e,e.classList.add(vu.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[r]=t[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var a=function(){return e.classList.add(vu.state.focus)},i=function(){return e.classList.remove(vu.state.focus)};this.isRtl="rtl"===cu(e).direction,!0===this.isRtl&&e.classList.add(vu.rtl),this.isNegativeScroll=function(){var t,n=e.scrollLeft;return e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=n,t}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new wu,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=du(vu.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=du(vu.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",i),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var o=cu(this.scrollbarXRail);this.scrollbarXBottom=parseInt(o.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Su(o.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Su(o.borderLeftWidth)+Su(o.borderRightWidth),uu(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Su(o.marginLeft)+Su(o.marginRight),uu(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=du(vu.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=du(vu.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",i),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var s=cu(this.scrollbarYRail);this.scrollbarYRight=parseInt(s.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Su(s.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=cu(e);return Su(t.width)+Su(t.paddingLeft)+Su(t.paddingRight)+Su(t.borderLeftWidth)+Su(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=Su(s.borderTopWidth)+Su(s.borderBottomWidth),uu(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Su(s.marginTop)+Su(s.marginBottom),uu(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return Iu[e](n)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return n.onScroll(e)})),Nu(this)};Au.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,uu(this.scrollbarXRail,{display:"block"}),uu(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Su(cu(this.scrollbarXRail).marginLeft)+Su(cu(this.scrollbarXRail).marginRight),this.railYMarginHeight=Su(cu(this.scrollbarYRail).marginTop)+Su(cu(this.scrollbarYRail).marginBottom),uu(this.scrollbarXRail,{display:"none"}),uu(this.scrollbarYRail,{display:"none"}),Nu(this),ju(this,"top",0,!1,!0),ju(this,"left",0,!1,!0),uu(this.scrollbarXRail,{display:""}),uu(this.scrollbarYRail,{display:""}))},Au.prototype.onScroll=function(e){this.isAlive&&(Nu(this),ju(this,"top",this.element.scrollTop-this.lastScrollTop),ju(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},Au.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),pu(this.scrollbarX),pu(this.scrollbarY),pu(this.scrollbarXRail),pu(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},Au.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};var Pu="te",Mu="ps",Du=("scrollX.".concat(Pu,".").concat(Mu),"scrollY.".concat(Pu,".").concat(Mu),"scrollUp.".concat(Pu,".").concat(Mu),"scrollDown.".concat(Pu,".").concat(Mu),"scrollLeft.".concat(Pu,".").concat(Mu),"scrollRight.".concat(Pu,".").concat(Mu),"scrollXEnd.".concat(Pu,".").concat(Mu),"scrollYEnd.".concat(Pu,".").concat(Mu),"scrollXStart.".concat(Pu,".").concat(Mu),"scrollYStart.".concat(Pu,".").concat(Mu),"datatable"),Lu="data-te-".concat(Du),Ou="te.".concat(Du),zu=".".concat(Ou),Ru=("[".concat(Lu,"-inner-ref]"),"[".concat(Lu,"-cell-ref]"),"[".concat(Lu,"-header-ref]"),"[".concat(Lu,"-header-checkbox-ref]"),"[".concat(Lu,"-pagination-right-ref]"),"[".concat(Lu,"-pagination-left-ref]"),"[".concat(Lu,"-pagination-start-ref]"),"[".concat(Lu,"-pagination-end-ref]"),"[".concat(Lu,"-pagination-nav-ref]"),"[".concat(Lu,"-select-ref]"),"[".concat(Lu,"-sort-icon-ref]"),"[".concat(Lu,"-row-ref]"),"[".concat(Lu,"-row-checkbox-ref]"),"selectRows".concat(zu),"render".concat(zu),"rowClick".concat(zu),"update".concat(zu),"te.rating"),Fu=".".concat(Ru),Bu=("onSelect".concat(Fu),"onHover".concat(Fu),"keyup".concat(Fu),"focusout".concat(Fu),"keydown".concat(Fu),"mousedown".concat(Fu),"te.popconfirm"),Zu=".".concat(Bu),Uu=("cancel".concat(Zu),"confirm".concat(Zu),"te.lightbox"),Vu=".".concat(Uu),qu=("click".concat(Vu).concat(".data-api"),"[data-te-lightbox-init]"),Hu=("".concat(qu," img:not([data-te-lightbox-disabled])"),"te.validation"),Wu=".".concat(Hu),Yu="data-te-validate",Gu=("[".concat(Yu,"]"),"[".concat("data-te-submit-btn-ref","]"),"validated".concat(Wu),"valid".concat(Wu),"invalid".concat(Wu),"changed".concat(Wu),"pan"),Ju=("".concat(Gu,"start"),"".concat(Gu,"end"),"".concat(Gu,"move"),"pinch"),Xu=("".concat(Ju,"end"),"".concat(Ju,"start"),"".concat(Ju,"move"),"rotate"),Ku=("".concat(Xu,"end"),"".concat(Xu,"start"),"touch"),$u=("te.".concat(Ku),"smoothScroll"),Qu="te.".concat($u),ed=".".concat(Qu),td=("scrollStart".concat(ed),"scrollEnd".concat(ed),"scrollCancel".concat(ed),"te.clipboard"),nd=".".concat(td),rd=("copy".concat(nd),"infiniteScroll");"te.".concat(rd);var ad="loadingManagement",id=("te.".concat(ad),"show.te.".concat(ad),"datetimepicker"),od="te.".concat(id),sd=".".concat(od),ld="data-te-datepicker-init",cd="data-te-timepicker-init",ud=("[".concat(cd,"]"),"[".concat(ld,"]"),"[".concat("data-te-date-timepicker-toggle-ref","]"),"[".concat("data-te-timepicker-toggle-button-ref","]"),"open".concat(sd),"close".concat(sd),"datetimeChange".concat(sd),to("div"),"sticky"),dd="te.".concat(ud),hd=".".concat(dd),fd=("active".concat(hd),"inactive".concat(hd),function(){function e(){(0,c.Z)(this,e),this.inits=[]}return(0,u.Z)(e,[{key:"initialized",get:function(){return this.inits}},{key:"isInited",value:function(e){return this.inits.includes(e)}},{key:"add",value:function(e){this.isInited(e)||this.inits.push(e)}}]),e}()),pd=new fd,md={alert:{name:"Alert",selector:"[data-te-alert-init]",isToggler:!1},animation:{name:"Animate",selector:"[data-te-animation-init]",isToggler:!1},carousel:{name:"Carousel",selector:"[data-te-carousel-init]",isToggler:!1},chips:{name:"ChipsInput",selector:"[data-te-chips-input-init]",isToggler:!1},chip:{name:"Chip",selector:"[data-te-chip-init]",isToggler:!1,onInit:"init"},datepicker:{name:"Datepicker",selector:"[data-te-datepicker-init]",isToggler:!1},datetimepicker:{name:"Datetimepicker",selector:"[data-te-date-timepicker-init]",isToggler:!1},input:{name:"Input",selector:"[data-te-input-wrapper-init]",isToggler:!1},perfectScrollbar:{name:"PerfectScrollbar",selector:"[data-te-perfect-scrollbar-init]",isToggler:!1},rating:{name:"Rating",selector:"[data-te-rating-init]",isToggler:!1},scrollspy:{name:"ScrollSpy",selector:"[data-te-spy='scroll']",isToggler:!1},select:{name:"Select",selector:"[data-te-select-init]",isToggler:!1},sidenav:{name:"Sidenav",selector:"[data-te-sidenav-init]",isToggler:!1},stepper:{name:"Stepper",selector:"[data-te-stepper-init]",isToggler:!1},timepicker:{name:"Timepicker",selector:"[data-te-timepicker-init]",isToggler:!1},toast:{name:"Toast",selector:"[data-te-toast-init]",isToggler:!1},datatable:{name:"Datatable",selector:"[data-te-datatable-init]"},popconfirm:{name:"Popconfirm",selector:"[data-te-toggle='popconfirm']"},validation:{name:"Validation",selector:"[data-te-validation-init]"},smoothScroll:{name:"SmoothScroll",selector:"a[data-te-smooth-scroll-init]"},lazyLoad:{name:"LazyLoad",selector:"[data-te-lazy-load-init]"},clipboard:{name:"Clipboard",selector:"[data-te-clipboard-init]"},infiniteScroll:{name:"InfiniteScroll",selector:"[data-te-infinite-scroll-init]"},loadingManagement:{name:"LoadingManagement",selector:"[data-te-loading-management-init]"},sticky:{name:"Sticky",selector:"[data-te-sticky-init]"},chart:{name:"Chart",selector:"[data-te-chart]",isToggler:!1,advanced:function(e,t){var n=function(e){var t={};return Object.keys(e).forEach((function(n){if(n.match(/dataset.*/)){var r=n.slice(7,8).toLowerCase().concat(n.slice(8));t[r]=function(e){return"string"!=typeof e?e:function(e){return"{"===e[0]&&"}"===e[e.length-1]||"["===e[0]&&"]"===e[e.length-1]}(e)?JSON.parse(e.replace(/'/g,'"')):e}(e[n])}})),t};ul.find(t).forEach((function(t){if("bubble"!==ll.getDataAttribute(t,"chart")&&"scatter"!==ll.getDataAttribute(t,"chart")){var r=ll.getDataAttributes(t),a={data:{datasets:[n(r)]}};return r.chart&&(a.type=r.chart),r.labels&&(a.data.labels=JSON.parse(r.labels.replace(/'/g,'"'))),new e(t,(0,Ir.Z)((0,Ir.Z)({},a),eu[a.type]))}return null}))}},button:{name:"Button",selector:"[data-te-toggle='button']",isToggler:!0,callback:function(e,t){bo.on(document,"click.te.".concat(e.NAME),t,(function(n){n.preventDefault();var r=n.target.closest(t);e.getOrCreateInstance(r).toggle()}))}},collapse:{name:"Collapse",selector:"[data-te-collapse-init]",isToggler:!0,callback:function(e,t){bo.on(document,"click.te.".concat(e.NAME,".data-api"),t,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();var n=Zi(this);ul.find(n).forEach((function(t){e.getOrCreateInstance(t,{toggle:!1}).toggle()}))}))}},dropdown:{name:"Dropdown",selector:"[data-te-dropdown-toggle-ref]",isToggler:!0,callback:function(e,t){bo.on(document,"click.te.".concat(e.NAME),t,(function(t){t.preventDefault(),e.getOrCreateInstance(this).toggle()}))}},modal:{name:"Modal",selector:"[data-te-toggle='modal']",isToggler:!0,callback:function(e,t){bo.on(document,"click.te.".concat(e.NAME),t,(function(t){var n=this,r=Ui(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),bo.one(r,e.EVENT_SHOW,(function(t){t.defaultPrevented||bo.one(r,e.EVENT_HIDDEN,(function(){Yi(n)&&n.focus()}))}));var a=ul.findOne("[".concat(e.OPEN_SELECTOR,'="true"]'));a&&e.getInstance(a).hide(),e.getOrCreateInstance(r).toggle(this)}))}},ripple:{name:"Ripple",selector:"[data-te-ripple-init]",isToggler:!0,callback:function(e,t){bo.one(document,"mousedown",t,e.autoInitial(new e))}},offcanvas:{name:"Offcanvas",selector:"[data-te-offcanvas-toggle]",isToggler:!0,callback:function(e,t){bo.on(document,"click.te.".concat(e.NAME,".data-api"),t,(function(t){var n=this,r=Ui(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Gi(this)){bo.one(r,e.EVENT_HIDDEN,(function(){Yi(n)&&n.focus()}));var a=ul.findOne(e.OPEN_SELECTOR);a&&a!==r&&e.getInstance(a).hide(),e.getOrCreateInstance(r).toggle(this)}}))}},tab:{name:"Tab",selector:"[data-te-toggle='tab'], [data-te-toggle='pill'], [data-te-toggle='list']",isToggler:!0,callback:function(e,t){bo.on(document,"click.te.".concat(e.NAME,".data-api"),t,(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),Gi(this)||e.getOrCreateInstance(this).show()}))}},tooltip:{name:"Tooltip",selector:"[data-te-toggle='tooltip']",isToggler:!1,callback:function(e,t){[].slice.call(document.querySelectorAll(t)).map((function(t){return new e(t)}))}},popover:{name:"Popover",selector:"[data-te-toggle='popover']",isToggler:!0,callback:function(e,t){[].slice.call(document.querySelectorAll(t)).map((function(t){return new e(t)}))}},lightbox:{name:"Lightbox",selector:"[data-te-lightbox-init]",isToggler:!0,callback:function(e,t){ul.find(t).forEach((function(t){new e(t)})),bo.on(document,"click.te.".concat(e.NAME,".data-api"),"".concat(t," img:not([data-te-lightbox-disabled])"),e.toggle())}},touch:{name:"Touch",selector:"[data-te-touch-init]"}},vd=function(e,t){if(e&&(t.allowReinits||!pd.isInited(e.NAME))){pd.add(e.NAME);var n=function(e){return md[e.NAME]||null}(e),r=(null==n?void 0:n.isToggler)||!1;(function(e){Qi((function(){var t=Ki();if(t){var n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=function(){return t.fn[n]=r,e.jQueryInterface}}}))})(e),null!=n&&n.advanced?null==n||n.advanced(e,null==n?void 0:n.selector):r?null==n||n.callback(e,null==n?void 0:n.selector):ul.find(null==n?void 0:n.selector).forEach((function(t){var r=e.getInstance(t);r||(r=new e(t),null!=n&&n.onInit&&r[n.onInit]())}))}},gd={allowReinits:!1,checkOtherImports:!1},yd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=(0,Ir.Z)((0,Ir.Z)({},gd),t),function(e,t){e.forEach((function(e){return vd(e,t)}))}(Object.keys(md).map((function(n){if(document.querySelector(md[n].selector)){var r=e[md[n].name];return!r&&!pd.isInited(n)&&t.checkOtherImports&&console.warn("Please import ".concat(md[n].name,' from "tw-elements" package and add it to a object parameter inside "initTE" function')),r}})),t)};function xd(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm106.5 150.5L228.8 332.8h-.1c-1.7 1.7-6.3 5.5-11.6 5.5-3.8 0-8.1-2.1-11.7-5.7l-56-56c-1.6-1.6-1.6-4.1 0-5.7l17.8-17.8c.8-.8 1.8-1.2 2.8-1.2 1 0 2 .4 2.8 1.2l44.4 44.4 122-122.9c.8-.8 1.8-1.2 2.8-1.2 1.1 0 2.1.4 2.8 1.2l17.5 18.1c1.8 1.7 1.8 4.2.2 5.8z"}}]})(e)}function bd(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 256c52.805 0 96-43.201 96-96s-43.195-96-96-96-96 43.201-96 96 43.195 96 96 96zm0 48c-63.598 0-192 32.402-192 96v48h384v-48c0-63.598-128.402-96-192-96zM112 224v-64H80v64H16v32h64v64h32v-64h64v-32h-64z"}}]})(e)}function _d(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 372.686L380.83 448l-33.021-142.066L458 210.409l-145.267-12.475L256 64l-56.743 133.934L54 210.409l110.192 95.525L131.161 448z"}}]})(e)}ra();var wd=function(t){var n=t.user,r=t.token;yd({Input:jc}),(0,e.useEffect)((function(){Ci().init({duration:500})}),[]);var a=(0,e.useState)(),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=(0,e.useState)(""),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)({fname:"",lname:"",mname:"",email:"",type:"",message:""}),v=(0,l.Z)(m,2),g=v[0],y=v[1];function x(e){y((function(t){return(0,Ir.Z)((0,Ir.Z)({},t),{},(0,Tr.Z)({},e.target.name,e.target.value))}))}(0,e.useEffect)((function(){n&&(p(n.phone),y((function(e){return(0,Ir.Z)((0,Ir.Z)({},e),{},{fname:n.first_name,mname:n.middle_name,lname:n.last_name,email:n.email})})))}),[n]),(0,e.useEffect)((function(){u(g.fname+(g.mname?" "+g.mname:"")+" "+g.lname)}),[g]);var b=(0,e.useState)(!1),_=(0,l.Z)(b,2),w=_[0],k=_[1],j=(0,e.useState)(!1),S=(0,l.Z)(j,2),C=S[0],N=S[1];function E(){return(E=s(i().mark((function e(t){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(!0),e.next=4,Kt.from("messages").insert({user_id:n.id,name:c,fname:g.fname,mname:g.mname,lname:g.lname,email:g.email,phone:f,type:g.type,message:g.message});case 4:if(r=e.sent,a=r.error,e.prev=6,!a){e.next=11;break}throw a;case 11:N(!0),k(!1);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),qa.error(e.t0.message),k(!1);case 19:case"end":return e.stop()}}),e,null,[[6,15]])})))).apply(this,arguments)}return(0,Br.jsxs)("div",{className:"back",children:[(0,Br.jsxs)("div",{className:"hero3 py-28 flex flex-col items-center text-white space-y-10 w-full","data-aos":"fade-up",children:[(0,Br.jsx)("p",{className:"text-5xl font-semibold","data-aos":"fade-up",children:"CONTACT US!"}),(0,Br.jsx)("p",{className:"text-3xl font-light","data-aos":"fade-up",children:"Fill up the form below for further details"})]}),(0,Br.jsxs)("div",{"data-aos":"fade-right",className:"grid grid-cols-2 pt-10 ml-20 pb-14",children:[w?(0,Br.jsxs)("div",{className:"flex flex-col items-center h-full justify-center",children:[(0,Br.jsx)("l-cardio",{size:"116",stroke:"3",speed:"1.3",color:"black"}),(0,Br.jsx)("h1",{className:"mt-3 text-2xl text-center",children:"Submitting your message please wait"})]}):(0,Br.jsx)(Br.Fragment,{children:C?(0,Br.jsxs)("div",{className:"flex flex-col items-center h-full justify-center",children:[(0,Br.jsxs)("div",{className:"mt-3 text-4xl flex items-center text-center text-green-700 space-x-1",children:[(0,Br.jsx)(xd,{className:"text-5xl"}),(0,Br.jsx)("span",{children:"Your message has been submitted succesfully!"})]}),(0,Br.jsx)("button",{onClick:function(){return N(!1)},className:"px-8 py-2 text-xl mt-6 rounded-md transition duration-100 border-[#16891d] border-[2px] hover:bg-[#a5e5a9] hover:text-[#106716] bg-[#16891d] text-white",children:"Add another message"})]}):(0,Br.jsxs)("form",{onSubmit:function(e){return E.apply(this,arguments)},className:"grid grid-cols-3 gap-3 ml font-semibold text-[#315E30]",children:[(0,Br.jsxs)("p",{children:["First Name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{required:!0,value:g.fname,name:"fname",onChange:x,disabled:r,className:"outline-none border-2 font-light disabled:bg-slate-200 disabled:border-slate-300 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{children:["Last Name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{required:!0,value:g.lname,name:"lname",disabled:r,onChange:x,className:"outline-none disabled:bg-slate-200 disabled:border-slate-300 border-2 font-light border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{children:["Middle Name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{name:"mname",disabled:r,value:g.mname,onChange:x,className:"outline-none border-2 font-light disabled:bg-slate-200 disabled:border-slate-300 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("div",{className:"grid grid-cols-2 gap-3 col-span-3",children:[(0,Br.jsxs)("p",{children:["Email: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{required:!0,value:g.email,name:"email",onChange:x,className:"outline-none border-2 font-light  border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{children:["Contact Number: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{required:!0,value:f,name:"phone",type:"number",onChange:function(e){return p(e.target.value.slice(0,11))},className:"outline-none border-2 font-light border-slate-300 focus:border-[#71b967d3] w-full"})]})]}),(0,Br.jsx)("div",{className:"col-span-3",children:(0,Br.jsxs)("p",{children:["Message type: ",(0,Br.jsx)("br",{}),(0,Br.jsxs)("select",{required:!0,name:"type",onChange:x,className:"outline-none border-2 font-light border-slate-300 focus:border-[#71b967d3] w-full h-8",children:[(0,Br.jsx)("option",{id:"0"}),(0,Br.jsx)("option",{id:"1",children:"Complaint"}),(0,Br.jsx)("option",{id:"2",children:"Commendation"}),(0,Br.jsx)("option",{id:"2",children:"Service Inquiry"})]})]})}),(0,Br.jsxs)("div",{className:"col-span-3",children:[(0,Br.jsx)("p",{children:" Your message here:"}),(0,Br.jsx)("textarea",{required:!0,name:"message",onChange:x,className:"outline-none border-2 font-light h-56 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsx)("div",{className:"col-span-3 flex justify-end mr-10 mt-4",children:(0,Br.jsx)("button",{type:"submit",className:"text-base bg-[#418D3F] py-2 px-16 rounded-md text-white font-bold ring-[#418D3F] ring-2 transition duration-75 ease-in hover:bg-[#A5DD9D] hover:text-[#267124]",children:"Submit"})})]})}),(0,Br.jsxs)("div",{className:"ml-20 flex flex-col justify-center","data-aos":"fade-up",children:[(0,Br.jsx)("p",{className:"text-xl mb-2 text-[#315E30]",children:"RXC7+C65, A Morales St, Santa Maria, Bulacan"}),(0,Br.jsx)("iframe",{title:"MGH map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d241.06727265407326!2d120.9630312506357!3d14.820971765282387!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3397ac4ac9aa4e77%3A0xeb03c4b33a362a49!2sMendoza%20General%20Hospital!5e0!3m2!1sen!2sph!4v1696662564819!5m2!1sen!2sph",width:"740",height:"400","data-aos":"fade-up",allowFullScreen:"on",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})]})]}),(0,Br.jsx)("section",{"data-Aos":"fade-up",id:"Contact-num",children:(0,Br.jsxs)("div",{className:"pb-[33px] flex flex-col space-y-2 items-center",children:[(0,Br.jsx)("p",{className:"text-xl max-sm:text-base font-semibold text-[#315E30]",children:"CONTACT NUMBERS"}),(0,Br.jsxs)("label",{className:"text-[#315E30] text-base max-sm:text-sm flex flex-col text-center space-y-3",children:[(0,Br.jsx)("span",{"data-aos":"fade-up",children:"+63 995 230 2499"}),(0,Br.jsx)("span",{"data-aos":"fade-up",children:"+63 (44) 288 2417"}),(0,Br.jsx)("span",{"data-aos":"fade-up",children:"+63 (44) 641 1582"})]}),(0,Br.jsx)("p",{className:"text-xl max-sm:text-base font-semibold text-[#315E30]",children:"E-MAIL ADDRESSES"}),(0,Br.jsx)("span",{className:"text-[#315E30] text-base max-sm:text-sm",children:"mendozageneralhospital@gmail.com"})]})})]})},kd=function(){return(0,e.useEffect)((function(){Ci().init({duration:500})}),[]),(0,Br.jsxs)("div",{className:"h-full back flex flex-col items-center justify-center",children:[(0,Br.jsx)("div",{className:"h-[35rem] w-full company mb-14",children:(0,Br.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:(0,Br.jsxs)("div",{"data-aos":"fade-up",className:"flex",children:[(0,Br.jsx)("img",{src:yr,alt:"",className:"w-52"}),(0,Br.jsxs)("div",{className:"flex-col mt-4",children:[(0,Br.jsx)("h1",{className:"text-7xl flex items-center w-[45.8rem] text-left ml-4 text-white flex-wrap font-bold",children:"MENDOZA GENERAL HOSPITAL"}),(0,Br.jsx)("p",{className:"text-white text-3xl mt-4 ml-5",children:"MISSION AND VISION"})]})]})})}),(0,Br.jsxs)("div",{"data-aos":"fade-up",className:"bg-white abs w-[50%] py-8 px-14 mb-16 rounded-md bg-opacity-70 text-center text-xl",children:[(0,Br.jsx)("h1",{className:"text-[#3f7c3e] text-3xl font-semibold mb-5",children:"MISSION"}),(0,Br.jsxs)("p",{className:"text-justify indent-20 text-slate-700 font-sans mb-10",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"To provide exceptional and patient-centered ambulatory surgical care in a safe, efficient, and compassionate environment."})," ",(0,Br.jsx)("br",{}),(0,Br.jsx)("br",{}),"We strive to deliver the highest quality surgical services, focusing on individualized patient needs, while fostering a culture of excellence, innovation, and continuous improvement. To provide exceptional and patient-centered ambulatory surgical care in a safe, efficient, and compassionate environment. We strive to deliver the highest quality surgical services, focusing on individualized patient needs, while fostering a culture of excellence, innovation, and continuous improvement."]}),(0,Br.jsx)("h1",{className:"text-[#3f7c3e] text-3xl font-semibold mb-5",children:"VISION"}),(0,Br.jsxs)("p",{className:"text-justify indent-20 text-slate-700 font-sans",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"To be the leading ambulatory surgical clinic, recognized for our commitment to outstanding surgical outcomes, exceptional patient experiences, and a collaborative approach to healthcare."})," ",(0,Br.jsx)("br",{}),(0,Br.jsx)("br",{}),"We aim to be the preferred choice for patients, physicians, and healthcare partners, setting the benchmark for excellence in ambulatory surgical care. Through a dedicated and skilled team, state-of-the-art facilities, and advanced surgical techniques, we aspire to be at the forefront of advancements in ambulatory surgery, continuously raising the standards of patient care and satisfaction."]})]})]})},jd=function(){return(0,e.useEffect)((function(){Ci().init({duration:500})}),[]),(0,Br.jsxs)("div",{className:"h-full back flex flex-col items-center justify-center",children:[(0,Br.jsx)("div",{className:"h-[35rem] w-full company mb-14",children:(0,Br.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:(0,Br.jsxs)("div",{"data-aos":"fade-up",className:"flex",children:[(0,Br.jsx)("img",{src:yr,alt:"",className:"w-52"}),(0,Br.jsxs)("h1",{className:"text-7xl flex items-center w-[45.8rem] text-left ml-4 text-white flex-wrap font-bold",children:["MENDOZA GENERAL HOSPITAL",(0,Br.jsxs)("span",{className:"whitespace-nowrap text-xl flex",children:[(0,Br.jsx)(ei,{className:"text-2xl mr-2"})," A. Morales St. Poblacion Sta. Maria Bulacan"]})]})]})})}),(0,Br.jsxs)("div",{"data-aos":"fade-up",className:"bg-white abs w-[50%] py-8 px-14 mb-16 rounded-md bg-opacity-70 text-center text-xl",children:[(0,Br.jsx)("h1",{className:"text-[#3f7c3e] text-3xl font-semibold mb-8",children:"COMPANY PROFILE"}),(0,Br.jsxs)("p",{className:"text-justify indent-20 text-slate-700 font-sans",children:["Mendoza General Hospital, Inc., is a 36 bed capacity health care facility with implementing bed capacity of 17 beds, offering secondary level of care, located at F. Santiago corner A. Morales St., Poblacion, Santa Maria, Bulacan, Philippines, established in 1968 by the humble couple, Dr. Ciriaco Perez Mendoza and Dr. Elisa Marbella- Mendoza, with Department of Health (DOH) license number 03-0149-23-H1-2, Philippine Health Insurance (Philhealth) accreditation number HO3004537 and accreditation from the Private Hospital Association of the Philippines (PHAP). ",(0,Br.jsx)("br",{}),(0,Br.jsx)("br",{}),"   "," Services offered are 24 Hours Emergency Room, OPD Clinics, General Surgery, Radiology and Imaging Services, 24Hr Level 2 Laboratory Services, 24Hr Pharmacy, 24Hr Ambulance Service, Medical and Surgical Wards, Pediatric Wards, OB-GYNE Wards and Cardiologic Diagnostic Procedures. We are also tied up with the McLaren Group of Health Services for all advanced imaging services such as CT-Scans and Mammography and soon will be offering Ambulatory Surgical Clinic (ASC) services. Mendoza General Hospital operates with a total of 69 employees which includes professional staff and personnel on the different departments. It accommodates approximately 6,000 clients per year of its serving population of Santa Maria, clients also includes different health insurances holders. The current management team is headed by Dr. Jose Teodoro M. Mendoza as Medical Director and President, Dr. Ma. Chona Mendoza as Hospital Administrator, Secretary and CEO, Dr. Joselito Mendoza as Vice President, Elsa Mendoza-Mari\xf1o as Finance Officer and Treasurer and Venerando D. Centeno, RN, MSN, Chief Operating Officer."]})]})]})},Sd=function(){return(0,e.useEffect)((function(){Ci().init({duration:500})}),[]),(0,Br.jsxs)("div",{children:[(0,Br.jsxs)("div",{className:"hero3 p-28 py-28 flex flex-col items-center text-white space-y-14 w-full","data-aos":"fade-up",children:[(0,Br.jsx)("p",{className:"text-5xl font-semibold","data-aos":"fade-up",children:"GIVE US YOUR FEEDBACK!"}),(0,Br.jsx)("p",{className:"text-3xl font-light","data-aos":"fade-up",children:"Tell us what you feel, leave a comment."})]}),(0,Br.jsx)("div",{className:"back grid pt-16 px-56 pb-16",children:(0,Br.jsxs)("form",{className:"grid grid-cols-3 gap-3 font-semibold text-[#315E30]",children:[(0,Br.jsxs)("p",{"data-aos":"fade-up",children:["First Name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{"data-aos":"fade-up",className:"outline-none border-2 px-3 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{"data-aos":"fade-up",children:["Last Name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{"data-aos":"fade-up",className:"outline-none border-2 px-3 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{"data-aos":"fade-up",children:["Middle Name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{"data-aos":"fade-up",className:"outline-none border-2 px-3 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("div",{className:"grid grid-cols-2 gap-3 col-span-3",children:[(0,Br.jsxs)("p",{"data-aos":"fade-up",children:["Email: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{"data-aos":"fade-up",className:"outline-none border-2 px-3 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{"data-aos":"fade-up",children:["Contact Number: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{"data-aos":"fade-up",className:"outline-none border-2 px-3 border-slate-300 focus:border-[#71b967d3] w-full"})]})]}),(0,Br.jsx)("div",{className:"col-span-3",children:(0,Br.jsxs)("p",{"data-aos":"fade-up",children:["Your Feedback: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("textarea",{"data-aos":"fade-up",className:"px-9 py-8 outline-none border-2 border-slate-300 focus:border-[#71b967d3] w-full h-72",placeholder:"Type your message here"})]})}),(0,Br.jsx)("div",{"data-aos":"fade-up",className:"col-span-3 flex justify-end mr-10 mt-4",children:(0,Br.jsx)("button",{type:"submit",className:"text-base bg-[#418D3F] py-2 px-16 rounded-md text-white font-bold ring-[#418D3F] ring-2 transition duration-75 ease-in hover:bg-[#A5DD9D] hover:text-[#267124]",children:"Submit"})})]})})]})},Cd=n(6998),Nd=n.n(Cd);function Ed(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(e)}function Td(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function Id(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}function Ad(e){return Or({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M544 248v3.3l69.7-69.7c21.9-21.9 21.9-57.3 0-79.2L535.6 24.4c-21.9-21.9-57.3-21.9-79.2 0L416.3 64.5c-2.7-.3-5.5-.5-8.3-.5H296c-37.1 0-67.6 28-71.6 64H224V248c0 22.1 17.9 40 40 40s40-17.9 40-40V176c0 0 0-.1 0-.1V160l16 0 136 0c0 0 0 0 .1 0H464c44.2 0 80 35.8 80 80v8zM336 192v56c0 39.8-32.2 72-72 72s-72-32.2-72-72V129.4c-35.9 6.2-65.8 32.3-76 68.2L99.5 255.2 26.3 328.4c-21.9 21.9-21.9 57.3 0 79.2l78.1 78.1c21.9 21.9 57.3 21.9 79.2 0l37.7-37.7c.9 0 1.8 .1 2.7 .1H384c26.5 0 48-21.5 48-48c0-5.6-1-11-2.7-16H432c26.5 0 48-21.5 48-48c0-12.8-5-24.4-13.2-33c25.7-5 45.1-27.6 45.2-54.8v-.4c-.1-30.8-25.1-55.8-56-55.8c0 0 0 0 0 0l-120 0z"}}]})(e)}function Pd(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64h96v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64z"}}]})(e)}function Md(e){return Or({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-96 55.2C54 332.9 0 401.3 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7c0-81-54-149.4-128-171.1V362c27.6 7.1 48 32.2 48 62v40c0 8.8-7.2 16-16 16H336c-8.8 0-16-7.2-16-16s7.2-16 16-16V424c0-17.7-14.3-32-32-32s-32 14.3-32 32v24c8.8 0 16 7.2 16 16s-7.2 16-16 16H256c-8.8 0-16-7.2-16-16V424c0-29.8 20.4-54.9 48-62V304.9c-6-.6-12.1-.9-18.3-.9H178.3c-6.2 0-12.3 .3-18.3 .9v65.4c23.1 6.9 40 28.3 40 53.7c0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.4 16.9-46.8 40-53.7V311.2zM144 448a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"}}]})(e)}function Dd(e){return Or({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM609.3 512H471.4c5.4-9.4 8.6-20.3 8.6-32v-8c0-60.7-27.1-115.2-69.8-151.8c2.4-.1 4.7-.2 7.1-.2h61.4C567.8 320 640 392.2 640 481.3c0 17-13.8 30.7-30.7 30.7zM432 256c-31 0-59-12.6-79.3-32.9C372.4 196.5 384 163.6 384 128c0-26.8-6.6-52.1-18.3-74.3C384.3 40.1 407.2 32 432 32c61.9 0 112 50.1 112 112s-50.1 112-112 112z"}}]})(e)}function Ld(e){return Or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M160 368c26.5 0 48 21.5 48 48v16l72.5-54.4c8.3-6.2 18.4-9.6 28.8-9.6H448c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16V352c0 8.8 7.2 16 16 16h96zm48 124l-.2 .2-5.1 3.8-17.1 12.8c-4.8 3.6-11.3 4.2-16.8 1.5s-8.8-8.2-8.8-14.3V474.7v-6.4V468v-4V416H112 64c-35.3 0-64-28.7-64-64V64C0 28.7 28.7 0 64 0H448c35.3 0 64 28.7 64 64V352c0 35.3-28.7 64-64 64H309.3L208 492z"}}]})(e)}function Od(e){return Or({tag:"svg",attr:{viewBox:"0 0 12 12"},child:[{tag:"circle",attr:{cx:"6",cy:"6",r:"5",fillRule:"evenodd",stroke:"#000"}}]})(e)}function zd(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",stroke:"#000",strokeWidth:"2",d:"M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M7,12 L11,15 L16,8"}}]})(e)}function Rd(e){return Or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-5.146-5.146-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708z"}}]})(e)}function Fd(e){return Or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15h9.286zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zM.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8H.8z"}}]})(e)}function Bd(e){return Or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"}}]})(e)}function Zd(e){return Or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"}}]})(e)}function Ud(e){return Or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-5.146-5.146-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708z"}}]})(e)}function Vd(e){return Or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"}},{tag:"path",attr:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"}}]})(e)}function qd(e){return Or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.402 10.246c.625 0 1.184-.484 1.184-1.18 0-.832-.527-1.23-1.16-1.23-.586 0-1.168.387-1.168 1.21 0 .817.543 1.2 1.144 1.2z"}},{tag:"path",attr:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zm9.954 3H2.545c-.3 0-.545.224-.545.5v1c0 .276.244.5.545.5h10.91c.3 0 .545-.224.545-.5v-1c0-.276-.244-.5-.546-.5zm-4.118 9.79c1.258 0 2-1.067 2-2.872 0-1.934-.781-2.668-1.953-2.668-.926 0-1.797.672-1.797 1.809 0 1.16.824 1.77 1.676 1.77.746 0 1.23-.376 1.383-.79h.027c-.004 1.316-.461 2.164-1.305 2.164-.664 0-1.008-.45-1.05-.82h-.684c.047.64.594 1.406 1.703 1.406zm-2.89-5.435h-.633A12.6 12.6 0 0 0 4.5 8.16v.695c.375-.257.969-.62 1.258-.777h.012v4.61h.675V7.354z"}}]})(e)}function Hd(e){return Or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}}]})(e)}function Wd(e){return Or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}}]})(e)}function Yd(e){return Or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}},{tag:"path",attr:{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}}]})(e)}function Gd(e){return Or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h6zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H5z"}},{tag:"path",attr:{d:"M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}}]})(e)}function Jd(e){return Or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}}]})(e)}function Xd(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 20H23V22H1V20H3V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V20ZM11 8H9V10H11V12H13V10H15V8H13V6H11V8ZM14 20H16V14H8V20H10V16H14V20Z"}}]})(e)}function Kd(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8 20V14H16V20H19V4H5V20H8ZM10 20H14V16H10V20ZM21 20H23V22H1V20H3V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V20ZM11 8V6H13V8H15V10H13V12H11V10H9V8H11Z"}}]})(e)}function $d(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455ZM8 10V12H16V10H8Z"}}]})(e)}function Qd(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 18V20H17V22H7V20H11V18H2.9918C2.44405 18 2 17.5511 2 16.9925V4.00748C2 3.45107 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44892 22 4.00748V16.9925C22 17.5489 21.5447 18 21.0082 18H13Z"}}]})(e)}function eh(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 16H20V5H4V16ZM13 18V20H17V22H7V20H11V18H2.9918C2.44405 18 2 17.5511 2 16.9925V4.00748C2 3.45107 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44892 22 4.00748V16.9925C22 17.5489 21.5447 18 21.0082 18H13Z"}}]})(e)}function th(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 13H11V3H3V13ZM3 21H11V15H3V21ZM13 21H21V11H13V21ZM13 3V9H21V3H13Z"}}]})(e)}function nh(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 21V11H21V21H13ZM3 13V3H11V13H3ZM9 11V5H5V11H9ZM3 21V15H11V21H3ZM5 19H9V17H5V19ZM15 19H19V13H15V19ZM13 3H21V9H13V3ZM15 5V7H19V5H15Z"}}]})(e)}function rh(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"}}]})(e)}function ah(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM11 15V17H13V15H11ZM11 7V13H13V7H11Z"}}]})(e)}function ih(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 7H13V9H11V7ZM11 11H13V17H11V11Z"}}]})(e)}function oh(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"}}]})(e)}function sh(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 12c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm1.65 7.35L16.5 17.2V14h1v2.79l1.85 1.85-.7.71zM18 3h-3.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H6c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h6.11a6.743 6.743 0 01-1.42-2H6V5h2v3h8V5h2v5.08c.71.1 1.38.31 2 .6V5c0-1.1-.9-2-2-2zm-6 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}}]})(e)}function lh(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3h-1V1h-2v2H8V1H6v2H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z"}}]})(e)}function ch(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"}}]})(e)}function uh(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}}]})(e)}function dh(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}}]})(e)}function hh(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3A8.994 8.994 0 0013 3.06V1h-2v2.06A8.994 8.994 0 003.06 11H1v2h2.06A8.994 8.994 0 0011 20.94V23h2v-2.06A8.994 8.994 0 0020.94 13H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}}]})(e)}function fh(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17l-.59.59-.58.58V4h16v12zm-9-4h2v2h-2zm0-6h2v4h-2z"}}]})(e)}function ph(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20.84 4.22c-.05-.12-.11-.23-.18-.34-.14-.21-.33-.4-.54-.54-.11-.07-.22-.13-.34-.18-.24-.1-.5-.16-.78-.16h-1V1h-2v2H8V1H6v2H5c-.42 0-.8.13-1.12.34-.21.14-.4.33-.54.54-.07.11-.13.22-.18.34-.1.24-.16.5-.16.78v14a2 2 0 002 2h14c.28 0 .54-.06.78-.16.12-.05.23-.11.34-.18.21-.14.4-.33.54-.54.21-.32.34-.71.34-1.12V5c0-.28-.06-.54-.16-.78zM5 19V5h14v14H5zm7-6.12c-2.03 0-6 1.08-6 3.58V18h12v-1.53c0-2.51-3.97-3.59-6-3.59zM8.31 16c.69-.56 2.38-1.12 3.69-1.12s3.01.56 3.69 1.12H8.31zM12 12c1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3 1.35 3 3 3zm0-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"}}]})(e)}function mh(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}}]})(e)}var vh=function(t){var n=t.token,r=t.isAdmin,a=t.isDoctor,o=t.isPatient,c=t.closeSide,u=t.user,d=t.imgName,h=t.CDNURL,f=t.isImgEmpty,p=t.setImgEmpty,m=t.openProfileUpload,v=t.setimgName,g=(t.open,(0,e.useState)(!1)),y=(0,l.Z)(g,2),x=y[0],b=y[1],_=(0,e.useState)(!1),w=(0,l.Z)(_,2),k=w[0],j=w[1],S=(0,e.useState)(!1),C=(0,l.Z)(S,2),N=C[0],E=C[1];(0,e.useEffect)((function(){n&&(o&&E(!0),a&&b(!0),r&&j(!0))}),[n,r,a,o]);var T=(0,e.useState)(!1),I=(0,l.Z)(T,2),A=I[0],P=I[1],M=(0,e.useState)(!1),D=(0,l.Z)(M,2),L=D[0],O=D[1],z=(0,e.useRef)(),R=(0,e.useRef)();(0,e.useEffect)((function(){var e=function e(t){R.current.contains(t.target)||O(!1),document.addEventListener("mousedown",e)};return function(){document.removeEventListener("mousedown",e)}}),[O]),(0,e.useEffect)((function(){var e=function e(t){A&&(z.current.contains(t.target)||P(!1)),document.addEventListener("mousedown",e)};return function(){document.removeEventListener("mousedown",e)}}),[P,A]);var F=(0,e.useState)(!0),B=(0,l.Z)(F,2),Z=B[0],U=B[1];return(0,e.useEffect)((function(){if(u){var e=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.storage.from("images").list(u.email+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 3:t=e.sent,n=t.data,r=t.error,n[0]?(p(!0),v(n[0].name)):(p(!1),qa.error(r,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),p(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}}),[u]),(0,Br.jsx)("div",{className:"w-[18.8rem] bg-[#f0fcec] z-30 fixed",children:(0,Br.jsxs)("div",{className:" pt-1 h-screen shadow-2xl",children:[(0,Br.jsx)("div",{className:"flex justify-end mx-4 mt-4 mb-0",children:(0,Br.jsx)($a,{onClick:c,className:"text-[40px] cursor-pointer text-slate-500 transition duration-100 hover:text-white hover:bg-slate-400 rounded-md p-1"})}),n?(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"px-10 mx-5 rounded-lg flex flex-col items-center space-y-1",children:[(0,Br.jsx)("div",{onClick:m,className:"group/pic cursor-pointer transition duration-100 hover:bg-slate-950 p-[5.1rem] mt-1 hover:bg-opacity-60 rounded-full fixed",children:(0,Br.jsx)("p",{className:"absolute group-hover/pic:visible transition duration-100 invisible -ml-14 -mt-1 text-white text-lg text-center",children:"Upload Image"})}),(0,Br.jsx)("img",{className:"object-cover rounded-full w-[10rem] h-[10rem]",src:"".concat(f?h+u.email+"/profile/"+d:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("p",{className:"uppercase text-lg",children:[u.last_name," ",u.first_name]}),(0,Br.jsxs)("label",{onClick:function(){U(!Z),Nd()(u.id),qa.info('You have copied "'.concat(u.id,'"'),{toastId:"info"})},className:"".concat(Z?"truncate w-48 text-sm cursor-pointer":"w-full text-sm cursor-pointer"),children:["ID: ",u.id]}),k?"":(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("p",{className:"flex item-center whitespace-nowrap",children:[(0,Br.jsx)(Gd,{className:" text-lg"})," ",u.phone]}),(0,Br.jsxs)("p",{className:"flex whitespace-nowrap",children:[(0,Br.jsx)(mh,{className:" mr-1 text-lg mb-4"})," ",u.email]})]})]})}):"",(0,Br.jsxs)("div",{className:"text-lg max-[]  max-h-[28rem] overflow-y-auto overflow-x-hidden ",children:[k||x?"":(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)(Cr,{to:"/",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(Gr,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(Vr,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Home"})]}),(0,Br.jsxs)(Cr,{to:"/Dashboard",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(nh,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(th,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Dashboard"})]}),(0,Br.jsxs)("li",{ref:z,onClick:function(){return P(!A)},className:"px-4 py-1 group/os items-center justify-between hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4  rounded-md hover:text-white flex",children:[(0,Br.jsxs)("div",{className:"flex items-center",children:[(0,Br.jsx)(eh,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(Qd,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8 ",children:"Online Services"})]}),(0,Br.jsx)(Td,{className:"".concat(A?"text-2xl transition duration-100 rotate-180":"text-2xl transition duration-100 ")})]}),(0,Br.jsxs)("div",{className:"".concat(A?"show":"hide"),children:[(0,Br.jsxs)(Cr,{to:"/Appointment",className:"px-4 py-1 flex group/os hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white",children:[(0,Br.jsx)(Kr,{className:"text-2xl ml-8 mr-2 group-hover/os:invisible"}),(0,Br.jsx)(qr,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Appointment"})]}),(0,Br.jsxs)(Cr,{to:"/Contacts",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(ph,{className:"text-2xl ml-8 mr-2 group-hover/os:invisible"}),(0,Br.jsx)(lh,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Contact Us"})]})]}),(0,Br.jsxs)(Cr,{ref:R,onClick:function(){return O(!L)},className:"px-4 py-1 group/os items-center justify-between hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsxs)("div",{className:"flex items-center",children:[(0,Br.jsx)(Yd,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(Wd,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"About Us"})]}),(0,Br.jsx)(Td,{className:"".concat(L?" text-2xl transition duration-100 rotate-180":" text-2xl transition duration-100 ")})]}),(0,Br.jsxs)("div",{className:"".concat(L?"show -m-1":"hide -m-1"),children:[(0,Br.jsxs)(Cr,{to:"/Hospital-Profile",className:"px-4 py-1 flex group/os hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white",children:[(0,Br.jsx)(Kd,{className:"text-2xl ml-8 mr-2 group-hover/os:invisible"}),(0,Br.jsx)(Xd,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8 whitespace-nowrap",children:"Company Profile"})]}),(0,Br.jsxs)(Cr,{to:"/Mission-and-Vision",className:"px-4 py-1 flex group/os hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white",children:[(0,Br.jsx)(Ad,{className:"text-2xl ml-8 mr-2"}),(0,Br.jsx)("p",{className:"",children:"Mission & Vision"})]})]})]}),k&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)(Cr,{to:"/",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(Gr,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(Vr,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Home"})]}),(0,Br.jsxs)(Cr,{to:"/Dashboard",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(nh,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(th,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Dashboard"})]}),(0,Br.jsxs)(Cr,{to:"/Confirm_Appointments",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(Vd,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(Ud,{className:"text-2xl mr-2 -translate-x-7 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-7 whitespace-nowrap",children:"Confirm Appointments"})]}),(0,Br.jsxs)(Cr,{to:"/Archive",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(Bd,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(Fd,{className:"text-2xl mr-2 -translate-x-7 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-7 whitespace-nowrap",children:"Archives"})]}),(0,Br.jsxs)(Cr,{to:"/Edit_doctors",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(Md,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{children:"Edit Doctors"})]}),(0,Br.jsxs)(Cr,{to:"/Edit_Patients",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(Dd,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{children:"Edit Patients"})]}),(0,Br.jsxs)(Cr,{to:"/User_feedbacks",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(fh,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(oh,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Feedbacks"})]})]}),N&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)(Cr,{to:"/Online_Consultation_History",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(Bd,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(Fd,{className:"text-2xl mr-2 -translate-x-7 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Archives"})]}),(0,Br.jsxs)(Cr,{to:"/Appointment/Status",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(zd,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(Od,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Appointment Status"})]})]}),x&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)(Cr,{to:"/Dashboard",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(nh,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(th,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Dashboard"})]}),(0,Br.jsxs)(Cr,{to:"/Doctor/Appointments",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(Vd,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(Ud,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Appointments"})]}),(0,Br.jsxs)(Cr,{to:"/DoctorConsultHistory",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(Bd,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(Fd,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Archives"})]})]}),n&&(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)(Cr,{to:"/Notifications",className:"px-4 py-1 group/os items-center hover:cursor-pointer transition duration-75 ease-in hover:bg-[#5f915a94] mx-4 my-3 rounded-md hover:text-white flex",children:[(0,Br.jsx)(ti,{className:"text-2xl mr-2 group-hover/os:invisible"}),(0,Br.jsx)(ni,{className:"text-2xl mr-2 -translate-x-8 invisible group-hover/os:visible"}),(0,Br.jsx)("p",{className:"-translate-x-8",children:"Notifications"})]})})]})]})})},gh=function(t){var n=t.ol,r=(0,e.useState)(!1),a=(0,l.Z)(r,2),o=a[0],c=a[1];var u=(0,e.useRef)();(0,e.useEffect)((function(){if(n){var e=function(e){u.current.contains(e.target)||c(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[c,n]),(0,e.useEffect)((function(){Ci().init({duration:500}),Ci().refresh()}),[]);var d=(0,e.useState)(),h=(0,l.Z)(d,2),f=h[0],p=h[1];(0,e.useEffect)((function(){function e(){return(e=s(i().mark((function e(){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("dr_information").select().eq("name",null===n||void 0===n?void 0:n.docname).single();case 2:t=e.sent,r=t.data,(a=t.error)?console.log(a.message):r&&p(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);var m=(0,e.useState)([]),v=(0,l.Z)(m,2),g=v[0],y=v[1],x=(0,e.useState)(!1),b=(0,l.Z)(x,2),_=b[0],w=b[1];return(0,e.useEffect)((function(){function e(){return(e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list((null===f||void 0===f?void 0:f.email)+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(w(!0),y(n[0].name)),r&&(w(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f]),(0,Br.jsx)("div",{className:"text-base flex w-full select-none",children:(0,Br.jsx)("div",{"data-aos":"fade-right","data-aos-anchor":"#trigger-next",ref:u,onClick:function(e){e.preventDefault(),c(!o)},className:"group/pu bg-white abs mb-3 text-gray-900 w-full rounded-xl transition duration-75 ease-in hover:bg-slate-100 text-center  ",children:(0,Br.jsxs)("div",{id:"trigger-next",className:" py-3 mx-6 flex font-medium whitespace-nowrap justify-between",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[4rem] h-[4rem]",src:"".concat(_?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+(null===f||void 0===f?void 0:f.email)+"/profile/"+g:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)(Cr,{to:"/Appointment/Patient/Details/"+n.book_id,className:"ml-4 flex-col text-left text-sm",children:[(0,Br.jsxs)("p",{className:"text-base uppercase font-semibold text-green-800",children:[n.honorific,n.docname]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold text-green-950",children:"Created "}),vi()(new Date(n.created_at)).calendar()]}),(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Appointed at:"," "]}),vi()(new Date(n.date)).format("LL")]})]})]}),(0,Br.jsxs)("div",{className:"flex items-center mt-2 mr-10",children:["Consultation Ongoing"===n.status&&(0,Br.jsx)("p",{className:"px-3 items-center text-white rounded-full h-fit bg-green-500 w-fit",children:n.status}),"pending confirmation"===n.status&&(0,Br.jsx)("p",{className:"px-3 items-center text-white rounded-full h-fit bg-primary w-fit",children:n.status}),"Confirmed"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-emerald-500 w-fit",children:n.status}),"Completed"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-emerald-500 w-fit",children:n.status}),"pending request"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-primary w-fit",children:n.status}),"rescheduled"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-rose-500 w-fit",children:n.status}),"rejected"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-red-500 w-fit",children:n.status}),"Awaiting Doctor's Confirmation"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-emerald-500 w-fit",children:n.status})]})]})})},n.book_id)},yh=n(6048),xh=n.n(yh),bh="#4fa94d",_h={"aria-busy":!0,role:"status"},wh=n(6655),kh=n(9613),jh=n.n(kh);var Sh=function(e){function t(e,r,l,c,h){for(var f,p,m,v,b,w=0,k=0,j=0,S=0,C=0,P=0,D=m=f=0,O=0,z=0,R=0,F=0,B=l.length,Z=B-1,U="",V="",q="",H="";O<B;){if(p=l.charCodeAt(O),O===Z&&0!==k+S+j+w&&(0!==k&&(p=47===k?10:47),S=j=w=0,B++,Z++),0===k+S+j+w){if(O===Z&&(0<z&&(U=U.replace(d,"")),0<U.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(O)}p=59}switch(p){case 123:for(f=(U=U.trim()).charCodeAt(0),m=1,F=++O;O<B;){switch(p=l.charCodeAt(O)){case 123:m++;break;case 125:m--;break;case 47:switch(p=l.charCodeAt(O+1)){case 42:case 47:e:{for(D=O+1;D<Z;++D)switch(l.charCodeAt(D)){case 47:if(42===p&&42===l.charCodeAt(D-1)&&O+2!==D){O=D+1;break e}break;case 10:if(47===p){O=D+1;break e}}O=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;O++<Z&&l.charCodeAt(O)!==p;);}if(0===m)break;O++}if(m=l.substring(F,O),0===f&&(f=(U=U.replace(u,"").trim()).charCodeAt(0)),64===f){switch(0<z&&(U=U.replace(d,"")),p=U.charCodeAt(1)){case 100:case 109:case 115:case 45:z=r;break;default:z=A}if(F=(m=t(r,z,m,p,h+1)).length,0<M&&(b=s(3,m,z=n(A,U,R),r,E,N,F,p,h,c),U=z.join(""),void 0!==b&&0===(F=(m=b.trim()).length)&&(p=0,m="")),0<F)switch(p){case 115:U=U.replace(_,o);case 100:case 109:case 45:m=U+"{"+m+"}";break;case 107:m=(U=U.replace(g,"$1 $2"))+"{"+m+"}",m=1===I||2===I&&i("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=U+m,112===c&&(V+=m,m="")}else m=""}else m=t(r,n(r,U,R),m,c,h+1);q+=m,m=R=z=D=f=0,U="",p=l.charCodeAt(++O);break;case 125:case 59:if(1<(F=(U=(0<z?U.replace(d,""):U).trim()).length))switch(0===D&&(f=U.charCodeAt(0),45===f||96<f&&123>f)&&(F=(U=U.replace(" ",":")).length),0<M&&void 0!==(b=s(1,U,r,e,E,N,V.length,c,h,c))&&0===(F=(U=b.trim()).length)&&(U="\0\0"),f=U.charCodeAt(0),p=U.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){H+=U+l.charAt(O);break}default:58!==U.charCodeAt(F-1)&&(V+=a(U,f,p,U.charCodeAt(2)))}R=z=D=f=0,U="",p=l.charCodeAt(++O)}}switch(p){case 13:case 10:47===k?k=0:0===1+f&&107!==c&&0<U.length&&(z=1,U+="\0"),0<M*L&&s(0,U,r,e,E,N,V.length,c,h,c),N=1,E++;break;case 59:case 125:if(0===k+S+j+w){N++;break}default:switch(N++,v=l.charAt(O),p){case 9:case 32:if(0===S+w+k)switch(C){case 44:case 58:case 9:case 32:v="";break;default:32!==p&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===S+k+w&&(z=R=1,v="\f"+v);break;case 108:if(0===S+k+w+T&&0<D)switch(O-D){case 2:112===C&&58===l.charCodeAt(O-3)&&(T=C);case 8:111===P&&(T=P)}break;case 58:0===S+k+w&&(D=O);break;case 44:0===k+j+S+w&&(z=1,v+="\r");break;case 34:case 39:0===k&&(S=S===p?0:0===S?p:S);break;case 91:0===S+k+j&&w++;break;case 93:0===S+k+j&&w--;break;case 41:0===S+k+w&&j--;break;case 40:if(0===S+k+w){if(0===f)if(2*C+3*P===533);else f=1;j++}break;case 64:0===k+j+S+w+D+m&&(m=1);break;case 42:case 47:if(!(0<S+w+j))switch(k){case 0:switch(2*p+3*l.charCodeAt(O+1)){case 235:k=47;break;case 220:F=O,k=42}break;case 42:47===p&&42===C&&F+2!==O&&(33===l.charCodeAt(F+2)&&(V+=l.substring(F,O+1)),v="",k=0)}}0===k&&(U+=v)}P=C,C=p,O++}if(0<(F=V.length)){if(z=r,0<M&&(void 0!==(b=s(2,V,z,e,E,N,F,c,h,c))&&0===(V=b).length))return H+V+q;if(V=z.join(",")+"{"+V+"}",0!==I*T){switch(2!==I||i(V,2)||(T=0),T){case 111:V=V.replace(x,":-moz-$1")+V;break;case 112:V=V.replace(y,"::-webkit-input-$1")+V.replace(y,"::-moz-$1")+V.replace(y,":-ms-input-$1")+V}T=0}}return H+V+q}function n(e,t,n){var a=t.trim().split(m);t=a;var i=a.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<i;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<i;++s)for(var c=0;c<o;++c)t[l++]=r(e[c]+" ",a[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function a(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===I||2===I&&i(l,1)?"-webkit-"+l+l:l}if(0===I||2===I&&!i(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(C,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return f.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(b,"tb");break;case 232:l=o.replace(b,"tb-rl");break;case 220:l=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(k,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(k,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?a(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(j,"$1"),n,t)}function o(e,t){var n=a(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,a,i,o,s,l,u){for(var d,h=0,f=t;h<M;++h)switch(d=P[h].call(c,e,f,n,r,a,i,o,s,l,u)){case void 0:case!1:case!0:case null:break;default:f=d}if(f!==t)return f}function l(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?I=1:(I=2,D=e):I=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<M){var a=s(-1,n,r,r,E,N,0,0,0,0);void 0!==a&&"string"===typeof a&&(n=a)}var i=t(A,r,n,0,0);return 0<M&&(void 0!==(a=s(-2,i,r,r,E,N,i.length,0,0,0))&&(i=a)),"",T=0,N=E=1,i}var u=/^\0+/g,d=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,x=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,k=/-self|flex-/g,j=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,N=1,E=1,T=0,I=1,A=[],P=[],M=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:M=P.length=0;break;default:if("function"===typeof t)P[M++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=l,void 0!==e&&l(e),c},Ch={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Nh(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Eh=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Th=Nh((function(e){return Eh.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Ih=n(2110),Ah=n.n(Ih);function Ph(){return(Ph=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Mh=function(e,t){for(var n=[e[0]],r=0,a=t.length;r<a;r+=1)n.push(t[r],e[r+1]);return n},Dh=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,wh.typeOf)(e)},Lh=Object.freeze([]),Oh=Object.freeze({});function zh(e){return"function"==typeof e}function Rh(e){return e.displayName||e.name||"Component"}function Fh(e){return e&&"string"==typeof e.styledComponentId}var Bh="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/MGHsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4",REACT_APP_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",REACT_APP_SUPABASE_URL:"https://iniadwocuptwhvsjrcrw.supabase.co"}&&({NODE_ENV:"production",PUBLIC_URL:"/MGHsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4",REACT_APP_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",REACT_APP_SUPABASE_URL:"https://iniadwocuptwhvsjrcrw.supabase.co"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/MGHsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4",REACT_APP_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",REACT_APP_SUPABASE_URL:"https://iniadwocuptwhvsjrcrw.supabase.co"}.SC_ATTR)||"data-styled",Zh="undefined"!=typeof window&&"HTMLElement"in window,Uh=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/MGHsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4",REACT_APP_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",REACT_APP_SUPABASE_URL:"https://iniadwocuptwhvsjrcrw.supabase.co"}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/MGHsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4",REACT_APP_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",REACT_APP_SUPABASE_URL:"https://iniadwocuptwhvsjrcrw.supabase.co"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/MGHsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4",REACT_APP_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",REACT_APP_SUPABASE_URL:"https://iniadwocuptwhvsjrcrw.supabase.co"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/MGHsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4",REACT_APP_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",REACT_APP_SUPABASE_URL:"https://iniadwocuptwhvsjrcrw.supabase.co"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/MGHsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4",REACT_APP_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",REACT_APP_SUPABASE_URL:"https://iniadwocuptwhvsjrcrw.supabase.co"}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/MGHsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4",REACT_APP_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",REACT_APP_SUPABASE_URL:"https://iniadwocuptwhvsjrcrw.supabase.co"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/MGHsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4",REACT_APP_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",REACT_APP_SUPABASE_URL:"https://iniadwocuptwhvsjrcrw.supabase.co"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/MGHsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4",REACT_APP_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",REACT_APP_SUPABASE_URL:"https://iniadwocuptwhvsjrcrw.supabase.co"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/MGHsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5MTQ1NjMsImV4cCI6MjAxMjQ5MDU2M30.pTvl0aONluOCuP2hTv03TxMalIs2j1l-_-FY4kPlFp4",REACT_APP_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",REACT_APP_SUPABASE_URL:"https://iniadwocuptwhvsjrcrw.supabase.co"}.SC_DISABLE_SPEEDY)));function Vh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var qh=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,a=r;e>=a;)(a<<=1)<0&&Vh(16,""+e);this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var i=r;i<a;i++)this.groupSizes[i]=0}for(var o=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var a=n;a<r;a++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),a=r+n,i=r;i<a;i++)t+=this.tag.getRule(i)+"/*!sc*/\n";return t},e}(),Hh=new Map,Wh=new Map,Yh=1,Gh=function(e){if(Hh.has(e))return Hh.get(e);for(;Wh.has(Yh);)Yh++;var t=Yh++;return Hh.set(e,t),Wh.set(t,e),t},Jh=function(e){return Wh.get(e)},Xh=function(e,t){t>=Yh&&(Yh=t+1),Hh.set(e,t),Wh.set(t,e)},Kh="style["+Bh+'][data-styled-version="5.3.11"]',$h=new RegExp("^"+Bh+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Qh=function(e,t,n){for(var r,a=n.split(","),i=0,o=a.length;i<o;i++)(r=a[i])&&e.registerName(t,r)},ef=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],a=0,i=n.length;a<i;a++){var o=n[a].trim();if(o){var s=o.match($h);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(Xh(c,l),Qh(e,c,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},tf=function(){return n.nc},nf=function(e){var t=document.head,n=e||t,r=document.createElement("style"),a=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Bh))return r}}(n),i=void 0!==a?a.nextSibling:null;r.setAttribute(Bh,"active"),r.setAttribute("data-styled-version","5.3.11");var o=tf();return o&&r.setAttribute("nonce",o),n.insertBefore(r,i),r},rf=function(){function e(e){var t=this.element=nf(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var a=t[n];if(a.ownerNode===e)return a}Vh(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),af=function(){function e(e){var t=this.element=nf(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),of=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),sf=Zh,lf={isServer:!Zh,useCSSOMInjection:!Uh},cf=function(){function e(e,t,n){void 0===e&&(e=Oh),void 0===t&&(t={}),this.options=Ph({},lf,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Zh&&sf&&(sf=!1,function(e){for(var t=document.querySelectorAll(Kh),n=0,r=t.length;n<r;n++){var a=t[n];a&&"active"!==a.getAttribute(Bh)&&(ef(e,a),a.parentNode&&a.parentNode.removeChild(a))}}(this))}e.registerId=function(e){return Gh(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Ph({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,a=t.target,e=n?new of(a):r?new rf(a):new af(a),new qh(e)));var e,t,n,r,a},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Gh(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Gh(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Gh(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",a=0;a<n;a++){var i=Jh(a);if(void 0!==i){var o=e.names.get(i),s=t.getGroup(a);if(o&&s&&o.size){var l=Bh+".g"+a+'[id="'+i+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),uf=/(a)(d)/gi,df=function(e){return String.fromCharCode(e+(e>25?39:97))};function hf(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=df(t%52)+n;return(df(t%52)+n).replace(uf,"$1-$2")}var ff=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},pf=function(e){return ff(5381,e)};function mf(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(zh(n)&&!Fh(n))return!1}return!0}var vf=pf("5.3.11"),gf=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&mf(e),this.componentId=t,this.baseHash=ff(vf,t),this.baseStyle=n,cf.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,a=[];if(this.baseStyle&&a.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))a.push(this.staticRulesId);else{var i=Lf(this.rules,e,t,n).join(""),o=hf(ff(this.baseHash,i)>>>0);if(!t.hasNameForId(r,o)){var s=n(i,"."+o,void 0,r);t.insertRules(r,o,s)}a.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,c=ff(this.baseHash,n.hash),u="",d=0;d<l;d++){var h=this.rules[d];if("string"==typeof h)u+=h;else if(h){var f=Lf(h,e,t,n),p=Array.isArray(f)?f.join(""):f;c=ff(c,p+d),u+=p}}if(u){var m=hf(c>>>0);if(!t.hasNameForId(r,m)){var v=n(u,"."+m,void 0,r);t.insertRules(r,m,v)}a.push(m)}}return a.join(" ")},e}(),yf=/^\s*\/\/.*$/gm,xf=[":","[",".","#"];function bf(e){var t,n,r,a,i=void 0===e?Oh:e,o=i.options,s=void 0===o?Oh:o,l=i.plugins,c=void 0===l?Lh:l,u=new Sh(s),d=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,a,i,o,s,l,c,u,d){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(a[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),f=function(e,r,i){return 0===r&&-1!==xf.indexOf(i[n.length])||i.match(a)?e:"."+t};function p(e,i,o,s){void 0===s&&(s="&");var l=e.replace(yf,""),c=i&&o?o+" "+i+" { "+l+" }":l;return t=s,n=i,r=new RegExp("\\"+n+"\\b","g"),a=new RegExp("(\\"+n+"\\b){2,}"),u(o||!i?"":i,c)}return u.use([].concat(c,[function(e,t,a){2===e&&a.length&&a[0].lastIndexOf(n)>0&&(a[0]=a[0].replace(r,f))},h,function(e){if(-2===e){var t=d;return d=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Vh(15),ff(e,t.name)}),5381).toString():"",p}var _f=e.createContext(),wf=(_f.Consumer,e.createContext()),kf=(wf.Consumer,new cf),jf=bf();function Sf(){return(0,e.useContext)(_f)||kf}function Cf(){return(0,e.useContext)(wf)||jf}function Nf(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],a=n[1],i=Sf(),o=(0,e.useMemo)((function(){var e=i;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),s=(0,e.useMemo)((function(){return bf({options:{prefix:!t.disableVendorPrefixes},plugins:r})}),[t.disableVendorPrefixes,r]);return(0,e.useEffect)((function(){jh()(r,t.stylisPlugins)||a(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(_f.Provider,{value:o},e.createElement(wf.Provider,{value:s},t.children))}var Ef=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=jf);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Vh(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=jf),this.name+e.hash},e}(),Tf=/([A-Z])/,If=/([A-Z])/g,Af=/^ms-/,Pf=function(e){return"-"+e.toLowerCase()};function Mf(e){return Tf.test(e)?e.replace(If,Pf).replace(Af,"-ms-"):e}var Df=function(e){return null==e||!1===e||""===e};function Lf(e,t,n,r){if(Array.isArray(e)){for(var a,i=[],o=0,s=e.length;o<s;o+=1)""!==(a=Lf(e[o],t,n,r))&&(Array.isArray(a)?i.push.apply(i,a):i.push(a));return i}return Df(e)?"":Fh(e)?"."+e.styledComponentId:zh(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:Lf(e(t),t,n,r):e instanceof Ef?n?(e.inject(n,r),e.getName(r)):e:Dh(e)?function e(t,n){var r,a,i=[];for(var o in t)t.hasOwnProperty(o)&&!Df(t[o])&&(Array.isArray(t[o])&&t[o].isCss||zh(t[o])?i.push(Mf(o)+":",t[o],";"):Dh(t[o])?i.push.apply(i,e(t[o],o)):i.push(Mf(o)+": "+(r=o,(null==(a=t[o])||"boolean"==typeof a||""===a?"":"number"!=typeof a||0===a||r in Ch||r.startsWith("--")?String(a).trim():a+"px")+";")));return n?[n+" {"].concat(i,["}"]):i}(e):e.toString();var l}var Of=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function zf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zh(e)||Dh(e)?Of(Lf(Mh(Lh,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Of(Lf(Mh(e,n)))}new Set;var Rf=function(e,t,n){return void 0===n&&(n=Oh),e.theme!==n.theme&&e.theme||t||n.theme},Ff=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Bf=/(^-|-$)/g;function Zf(e){return e.replace(Ff,"-").replace(Bf,"")}var Uf=function(e){return hf(pf(e)>>>0)};function Vf(e){return"string"==typeof e&&!0}var qf=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Hf=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Wf(e,t,n){var r=e[n];qf(t)&&qf(r)?Yf(r,t):e[n]=t}function Yf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];if(qf(o))for(var s in o)Hf(s)&&Wf(e,o[s],s)}return e}var Gf=e.createContext();Gf.Consumer;var Jf={};function Xf(t,n,r){var a=Fh(t),i=!Vf(t),o=n.attrs,s=void 0===o?Lh:o,l=n.componentId,c=void 0===l?function(e,t){var n="string"!=typeof e?"sc":Zf(e);Jf[n]=(Jf[n]||0)+1;var r=n+"-"+Uf("5.3.11"+n+Jf[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):l,u=n.displayName,d=void 0===u?function(e){return Vf(e)?"styled."+e:"Styled("+Rh(e)+")"}(t):u,h=n.displayName&&n.componentId?Zf(n.displayName)+"-"+n.componentId:n.componentId||c,f=a&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;a&&t.shouldForwardProp&&(p=n.shouldForwardProp?function(e,r,a){return t.shouldForwardProp(e,r,a)&&n.shouldForwardProp(e,r,a)}:t.shouldForwardProp);var m,v=new gf(r,h,a?t.componentStyle:void 0),g=v.isStatic&&0===s.length,y=function(t,n){return function(t,n,r,a){var i=t.attrs,o=t.componentStyle,s=t.defaultProps,l=t.foldedComponentIds,c=t.shouldForwardProp,u=t.styledComponentId,d=t.target,h=function(e,t,n){void 0===e&&(e=Oh);var r=Ph({},t,{theme:e}),a={};return n.forEach((function(e){var t,n,i,o=e;for(t in zh(o)&&(o=o(r)),o)r[t]=a[t]="className"===t?(n=a[t],i=o[t],n&&i?n+" "+i:n||i):o[t]})),[r,a]}(Rf(n,(0,e.useContext)(Gf),s)||Oh,n,i),f=h[0],p=h[1],m=function(e,t,n,r){var a=Sf(),i=Cf();return t?e.generateAndInjectStyles(Oh,a,i):e.generateAndInjectStyles(n,a,i)}(o,a,f),v=r,g=p.$as||n.$as||p.as||n.as||d,y=Vf(g),x=p!==n?Ph({},n,{},p):n,b={};for(var _ in x)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?b.as=x[_]:(c?c(_,Th,g):!y||Th(_))&&(b[_]=x[_]));return n.style&&p.style!==n.style&&(b.style=Ph({},n.style,{},p.style)),b.className=Array.prototype.concat(l,u,m!==u?m:null,n.className,p.className).filter(Boolean).join(" "),b.ref=v,(0,e.createElement)(g,b)}(m,t,n,g)};return y.displayName=d,(m=e.forwardRef(y)).attrs=f,m.componentStyle=v,m.displayName=d,m.shouldForwardProp=p,m.foldedComponentIds=a?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):Lh,m.styledComponentId=h,m.target=a?t.target:t,m.withComponent=function(e){var t=n.componentId,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,["componentId"]),i=t&&t+"-"+(Vf(e)?e:Zf(Rh(e)));return Xf(e,Ph({},a,{attrs:f,componentId:i}),r)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=a?Yf({},t.defaultProps,e):e}}),Object.defineProperty(m,"toString",{value:function(){return"."+m.styledComponentId}}),i&&Ah()(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var Kf=function(e){return function e(t,n,r){if(void 0===r&&(r=Oh),!(0,wh.isValidElementType)(n))return Vh(1,String(n));var a=function(){return t(n,r,zf.apply(void 0,arguments))};return a.withConfig=function(a){return e(t,n,Ph({},r,{},a))},a.attrs=function(a){return e(t,n,Ph({},r,{attrs:Array.prototype.concat(r.attrs,a).filter(Boolean)}))},a}(Xf,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Kf[e]=Kf(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=mf(e),cf.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var a=r(Lf(this.rules,t,n,r).join(""),""),i=this.componentId+e;n.insertRules(i,i,a)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&cf.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function $f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=zf.apply(void 0,[e].concat(n)).join(""),i=Uf(a);return new Ef(i,a)}!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var n=tf();return"<style "+[n&&'nonce="'+n+'"',Bh+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?Vh(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return Vh(2);var r=((n={})[Bh]="",n["data-styled-version"]="5.3.11",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),a=tf();return a&&(r.nonce=a),[e.createElement("style",Ph({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new cf({isServer:!0}),this.sealed=!1}var n=t.prototype;n.collectStyles=function(t){return this.sealed?Vh(2):e.createElement(Nf,{sheet:this.instance},t)},n.interleaveWithNodeStream=function(e){return Vh(3)}}();var Qf,ep,tp=Kf,np=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},rp=242.776657104492,ap=$f(Qf||(Qf=np(["\n  12.5% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  43.75% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  100% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n"],["\n  12.5% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  43.75% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n  100% {\n    stroke-dasharray: ","px, ","px;\n    stroke-dashoffset: -","px;\n  }\n"])),.14*rp,rp,.11*rp,.35*rp,rp,.35*rp,.01*rp,rp,.99*rp),ip=(tp.path(ep||(ep=np(["\n  stroke-dasharray: ","px, ",";\n  stroke-dashoffset: 0;\n  animation: "," ","s linear infinite;\n"],["\n  stroke-dasharray: ","px, ",";\n  stroke-dashoffset: 0;\n  animation: "," ","s linear infinite;\n"])),.01*rp,rp,ap,1.6),function(e){return{display:e?"flex":"none"}}),op=function(){return op=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},op.apply(this,arguments)},sp=function(e,t,n){var r=Math.max(e,t),a=-n-r/2+1,i=2*n+r;return[a,a,i,i].join(" ")},lp=function(t){var n,r=t.height,a=void 0===r?80:r,i=t.width,o=void 0===i?80:i,s=t.color,l=void 0===s?bh:s,c=t.secondaryColor,u=void 0===c?bh:c,d=t.ariaLabel,h=void 0===d?"oval-loading":d,f=t.wrapperStyle,p=t.wrapperClass,m=t.visible,v=void 0===m||m,g=t.strokeWidth,y=void 0===g?2:g,x=t.strokeWidthSecondary;return e.createElement("div",op({style:op(op({},ip(v)),f),className:p,"data-testid":"oval-loading","aria-label":h},_h),e.createElement("svg",{width:o,height:a,viewBox:sp(Number(y),Number(x||y),20),xmlns:"http://www.w3.org/2000/svg",stroke:l,"data-testid":"oval-svg"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(1 1)",strokeWidth:Number(x||y),"data-testid":"oval-secondary-group"},e.createElement("circle",{strokeOpacity:".5",cx:"0",cy:"0",r:20,stroke:u,strokeWidth:y}),e.createElement("path",{d:(n=20,["M"+n+" 0c0-9.94-8.06",n,n,n].join("-"))},e.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 0 0",to:"360 0 0",dur:"1s",repeatCount:"indefinite"}))))))},cp=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof n[e])return n[e];if(e&&e.indexOf(".")>0){for(var r=e.split("."),a=r.length,i=n[r[0]],o=1;null!=i&&o<a;)i=i[r[o]],o+=1;if("undefined"!==typeof i)return i}return t}};var up,dp,hp,fp=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},pp=$f(up||(up=fp(["\n to {\n    transform: rotate(360deg);\n  }\n"],["\n to {\n    transform: rotate(360deg);\n  }\n"])));tp.svg(dp||(dp=fp(["\n  animation: "," 0.75s steps(12, end) infinite;\n  animation-duration: ","s;\n"],["\n  animation: "," 0.75s steps(12, end) infinite;\n  animation-duration: ","s;\n"])),pp,cp("speed","0.75")),tp.polyline(hp||(hp=fp(["\n  stroke-width: ","px;\n  stroke-linecap: round;\n\n  &:nth-child(12n + 0) {\n    stroke-opacity: 0.08;\n  }\n\n  &:nth-child(12n + 1) {\n    stroke-opacity: 0.17;\n  }\n\n  &:nth-child(12n + 2) {\n    stroke-opacity: 0.25;\n  }\n\n  &:nth-child(12n + 3) {\n    stroke-opacity: 0.33;\n  }\n\n  &:nth-child(12n + 4) {\n    stroke-opacity: 0.42;\n  }\n\n  &:nth-child(12n + 5) {\n    stroke-opacity: 0.5;\n  }\n\n  &:nth-child(12n + 6) {\n    stroke-opacity: 0.58;\n  }\n\n  &:nth-child(12n + 7) {\n    stroke-opacity: 0.66;\n  }\n\n  &:nth-child(12n + 8) {\n    stroke-opacity: 0.75;\n  }\n\n  &:nth-child(12n + 9) {\n    stroke-opacity: 0.83;\n  }\n\n  &:nth-child(12n + 11) {\n    stroke-opacity: 0.92;\n  }\n"],["\n  stroke-width: ","px;\n  stroke-linecap: round;\n\n  &:nth-child(12n + 0) {\n    stroke-opacity: 0.08;\n  }\n\n  &:nth-child(12n + 1) {\n    stroke-opacity: 0.17;\n  }\n\n  &:nth-child(12n + 2) {\n    stroke-opacity: 0.25;\n  }\n\n  &:nth-child(12n + 3) {\n    stroke-opacity: 0.33;\n  }\n\n  &:nth-child(12n + 4) {\n    stroke-opacity: 0.42;\n  }\n\n  &:nth-child(12n + 5) {\n    stroke-opacity: 0.5;\n  }\n\n  &:nth-child(12n + 6) {\n    stroke-opacity: 0.58;\n  }\n\n  &:nth-child(12n + 7) {\n    stroke-opacity: 0.66;\n  }\n\n  &:nth-child(12n + 8) {\n    stroke-opacity: 0.75;\n  }\n\n  &:nth-child(12n + 9) {\n    stroke-opacity: 0.83;\n  }\n\n  &:nth-child(12n + 11) {\n    stroke-opacity: 0.92;\n  }\n"])),(function(e){return e.width}));var mp,vp,gp,yp=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},xp=$f(mp||(mp=yp(["\n to {\n    stroke-dashoffset: 136;\n  }\n"],["\n to {\n    stroke-dashoffset: 136;\n  }\n"])));tp.polygon(vp||(vp=yp(["\n  stroke-dasharray: 17;\n  animation: "," 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\n"],["\n  stroke-dasharray: 17;\n  animation: "," 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;\n"])),xp),tp.svg(gp||(gp=yp(["\n  transform-origin: 50% 65%;\n"],["\n  transform-origin: 50% 65%;\n"])));var bp=function(){return bp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},bp.apply(this,arguments)};function _p(t){var n=t.visible,r=void 0===n||n,a=t.height,i=void 0===a?"80":a,o=t.width,s=void 0===o?"80":o,l=t.wrapperClass,c=void 0===l?"":l,u=t.wrapperStyle,d=void 0===u?{}:u,h=t.ariaLabel,f=void 0===h?"magnifying-glass-loading":h,p=t.glassColor,m=void 0===p?"#c0efff":p,v=t.color,g=void 0===v?"#e15b64":v;return r?e.createElement("svg",bp({width:s,height:i,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:c,style:d,"aria-label":f,"data-testid":"magnifying-glass-svg"},_h),e.createElement("g",{transform:"translate(50,50)"},e.createElement("g",{"ng-attr-transform":"scale({{config.scale}})",transform:"scale(0.82)"},e.createElement("g",{transform:"translate(-50,-50)"},e.createElement("g",{transform:"translate(16.3636 -20)"},e.createElement("animateTransform",{attributeName:"transform",type:"translate",calcMode:"linear",values:"-20 -20;20 -20;0 20;-20 -20",keyTimes:"0;0.33;0.66;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}),e.createElement("path",{"ng-attr-fill":"{{config.glass}}",d:"M44.19,26.158c-4.817,0-9.345,1.876-12.751,5.282c-3.406,3.406-5.282,7.934-5.282,12.751 c0,4.817,1.876,9.345,5.282,12.751c3.406,3.406,7.934,5.282,12.751,5.282s9.345-1.876,12.751-5.282 c3.406-3.406,5.282-7.934,5.282-12.751c0-4.817-1.876-9.345-5.282-12.751C53.536,28.033,49.007,26.158,44.19,26.158z",fill:m}),e.createElement("path",{"ng-attr-fill":"{{config.frame}}",d:"M78.712,72.492L67.593,61.373l-3.475-3.475c1.621-2.352,2.779-4.926,3.475-7.596c1.044-4.008,1.044-8.23,0-12.238 c-1.048-4.022-3.146-7.827-6.297-10.979C56.572,22.362,50.381,20,44.19,20C38,20,31.809,22.362,27.085,27.085 c-9.447,9.447-9.447,24.763,0,34.21C31.809,66.019,38,68.381,44.19,68.381c4.798,0,9.593-1.425,13.708-4.262l9.695,9.695 l4.899,4.899C73.351,79.571,74.476,80,75.602,80s2.251-0.429,3.11-1.288C80.429,76.994,80.429,74.209,78.712,72.492z M56.942,56.942 c-3.406,3.406-7.934,5.282-12.751,5.282s-9.345-1.876-12.751-5.282c-3.406-3.406-5.282-7.934-5.282-12.751 c0-4.817,1.876-9.345,5.282-12.751c3.406-3.406,7.934-5.282,12.751-5.282c4.817,0,9.345,1.876,12.751,5.282 c3.406,3.406,5.282,7.934,5.282,12.751C62.223,49.007,60.347,53.536,56.942,56.942z",fill:g})))))):null}var wp=function(t){var n=t.books,r=t.user,a=t.Loaded,i=t.setLoaded,o=t.imgName,s=t.isImgEmpty,c=(0,e.useState)(0),u=(0,l.Z)(c,2),d=u[0],h=u[1],f=(0,e.useState)(0),p=(0,l.Z)(f,2),m=p[0],v=p[1],g=(0,e.useState)(null),y=(0,l.Z)(g,2),x=y[0],b=y[1];(0,e.useEffect)((function(){if(r){var e=d+7;b(n.slice(d,e)),v(Math.ceil(n.length/7)),x&&setTimeout((function(){i(!0)}),500)}}),[d,7,n,i,r]);return(0,Br.jsxs)("div",{className:"w-full flex flex-col items-center rounded",children:[(0,Br.jsx)(xh(),{breakLabel:". . .",nextLabel:"next >",onPageChange:function(e){i(!1);var t=7*e.selected%n.length;h(t)},pageRangeDisplayed:2,pageCount:m,previousLabel:"< previous",renderOnZeroPageCount:null,className:"flex space-x-3 mb-6 w-full justify-center items-center select-none",breakClassName:"text-xl font-semibold",pageLinkClassName:"text-slate-600 text-lg transition duration-100 bg-[#cbcbcba8] hover:bg-[#bfbfbffc] hover:text-slate-700 px-[10px] py-[8px] rounded",previousLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",nextLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",activeLinkClassName:"border-2 border-green-700 text-xl rounded"}),a?x&&x.map((function(e,t){return(0,Br.jsx)("div",{className:"w-full",children:(0,Br.jsx)(gh,{imgName:o,isImgEmpty:s,ol:e,user:r},e.book_id)},t)})):(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})]})};function kp(e){return Or({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M15 2v1.67l-5 4.759V14H6V8.429l-5-4.76V2h14z"}}]})(e)}function jp(e){return Or({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M15 2v1.67l-5 4.759V14H6V8.429l-5-4.76V2h14zM7 8v5h2V8l5-4.76V3H2v.24L7 8z"}}]})(e)}var Sp=function(t){var n=t.user,r=(0,e.useState)([]),a=(0,l.Z)(r,2),o=a[0],c=a[1],u=(0,e.useState)([]),d=(0,l.Z)(u,2),h=d[0],f=d[1],p=(0,e.useState)(""),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=(0,e.useState)(""),x=(0,l.Z)(y,2),b=x[0],_=x[1],w=(0,e.useState)(""),k=(0,l.Z)(w,2),j=k[0],S=k[1],C=(0,e.useState)(""),N=(0,l.Z)(C,2),E=N[0],T=N[1],I=(0,e.useState)(""),A=(0,l.Z)(I,2),P=A[0],M=A[1],D=(0,e.useState)(""),L=(0,l.Z)(D,2),O=L[0],z=L[1],R=(0,e.useState)(!0),F=(0,l.Z)(R,2),B=F[0],Z=F[1];(0,e.useEffect)((function(){"Show all"===b&&_(""),"Show all"===P&&M(""),"all"===j&&S(""),"descending"===O?Z(!0):"ascending"===O&&Z(!1),"Show all"===E?T(""):"Online Consult"===E?T("ol"):"Face to face Consult"===E&&T("f2f")}),[O,Z,P,j,E,b,_,S,T]);var U=(0,e.useState)(!0),V=(0,l.Z)(U,2),q=V[0],H=V[1],W=(0,e.useState)(!0),Y=(0,l.Z)(W,2),G=Y[0],J=Y[1],X=function(){var e=s(i().mark((function e(){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(!1),!n.id){e.next=9;break}return e.next=4,Kt.from("patient_Appointments").select("*").eq("email",n.email);case 4:t=e.sent,r=t.data,(a=t.error)&&(qa.error(a,{toastId:"dataError"}),console.error("Failed to fetch",a)),r&&(H(!0),c(r));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e=o.filter((function(e){var t=!e.status.includes("Completed"),n=e.someone.includes(b),r=e.time.toLowerCase().includes(j),a=e.type.toLowerCase().includes(E),i=e.status.toLowerCase().includes(P);return t&&n&&r&&a&&i})).sort((function(e,t){return B?e.created_at>t.created_at?-1:1:e.created_at<t.created_at?-1:1}));f(e),h&&setTimeout((function(){H(!0)}),1e3)}),[B,E,P,j,b,f,o]);var K=(0,e.useState)(!1),$=(0,l.Z)(K,2),Q=$[0],ee=$[1];(0,e.useEffect)((function(){X(n.id),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"patient_Appointments"},(function(){X()})).subscribe()}),[n.id]);var te=new Set;return(0,Br.jsx)("div",{className:"back min-h-screen h-auto flex justify-center",children:(0,Br.jsxs)("div",{className:"w-[70%]",children:[(0,Br.jsx)("div",{className:"w-full items-center mt-10 mb-3 ",children:(0,Br.jsx)("div",{onClick:function(){return ee(!Q)},className:"px-4 py-1 items-center select-none hover:cursor-pointer w-fit transition duration-75 \r ease-in hover:bg-[#78b673f8] bg-[#98dd93c4] text-[#295f34] mx-4  rounded-full hover:text-white flex",children:Q?(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(kp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Close Filter"})]}):(0,Br.jsxs)(Br.Fragment,{children:[" ",(0,Br.jsx)(jp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Filter"})]})})}),(0,Br.jsx)("div",{className:"".concat(Q?"transition-all duration-300 ease-in overflow-y-visible max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden max-h-0"),children:(0,Br.jsxs)("div",{className:"bg-[#98dd93c4] px-5 pt-5 pb-8 mb-2 rounded-lg items-center gap-x-7 gap-y-4 grid grid-cols-3",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"mb-1",children:"Search by doctor's name"}),(0,Br.jsxs)("div",{className:"flex h-6 text-slate-500",children:[!v&&(0,Br.jsxs)("div",{className:"".concat(Q?"absolute flex space-x-1 items-center translate-x-4":"hidden"),children:[(0,Br.jsx)(Jd,{className:"w-4"}),(0,Br.jsx)("p",{children:"Type here"})]}),(0,Br.jsxs)("div",{className:"flex items-center w-full",children:[(0,Br.jsx)("input",{type:"text",onChange:function(e){return g(e.target.value)},className:"pl-3 rounded-l-md h-8 w-full text-black border-slate-400 border-2"}),(0,Br.jsx)("button",{onClick:function(){J(!1);var e=o.filter((function(e){return e.docname.toLowerCase().includes(v.toLowerCase())}));f(e),o&&setTimeout((function(){J(!0)}),1e3)},className:"bg-[#60af5ac4] h-8 border-l-0 hover:bg-[#84d17fc4] hover:text-[#388332c4]\r text-white border-[#388332c4] border-2 px-2 rounded-r-md relative",children:"Search"})]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Appointment type"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return T(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Online Consult"},"2"),(0,Br.jsx)("option",{children:"Face to face Consult"},"3")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"sort created book date by"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return z(e.target.value)},children:[(0,Br.jsx)("option",{children:"descending"},"1"),(0,Br.jsx)("option",{children:"ascending"},"2")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Search by Scheduled Date"}),(0,Br.jsxs)("div",{className:"flex items-center",children:[(0,Br.jsx)("input",{type:"date",value:j,className:"w-fit px-3 rounded-md border-slate-400 border-2",onChange:function(e){return S(e.target.value)}}),(0,Br.jsx)("button",{onClick:function(){return S("")},className:"bg-[#60af5ac4] ml-1 hover:bg-[#84d17fc4] hover:text-[#388332c4]\r text-white border-[#388332c4] border-2 px-2 rounded-md ",children:"reset date"})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"status"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return M(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),o.map((function(e,t){return"Completed"===e.status||"rejected"===e.status||te.has(e.status)?null:(te.add(e.status),(0,Br.jsx)("option",{children:e.status},t))}))]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Booked by someone"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return _(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Yes"},"2"),(0,Br.jsx)("option",{children:"No"},"3")]})]})]})}),(0,Br.jsx)("div",{className:"flex justify-center",children:(0,Br.jsx)("div",{className:"w-full h-auto min-h-screen text-sm flex mt-3 mb-10 flex-wrap justify-between\r rounded-lg text-gray-500 dark:text-gray-400",children:G?(0,Br.jsx)(wp,{books:h,setLoaded:H,Loaded:q,user:n}):(0,Br.jsxs)("div",{className:"w-full flex justify-center mt-20",children:[(0,Br.jsx)(_p,{visible:!0,width:"50",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efffb7",color:"#388332c4"}),(0,Br.jsx)("p",{className:"text-2xl text-slate-600",children:"Searching"})]})})})]})})};var Cp=function(t){var n=t.data,r=t.user,a=(0,e.useState)(),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=(0,e.useState)(!1),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)(),v=(0,l.Z)(m,2),g=v[0],y=v[1];function x(){return(x=s(i().mark((function e(){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(n.email+"/profile/",{limit:100,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,r=t.data,a=t.error,r[0]?(p(!0),u(r[0].name)):a&&(p(!1),console.log(a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,e.useEffect)((function(){!function(){x.apply(this,arguments)}(),b(n.email)}),[n]);var b=function(){var e=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("profile").select().eq("email",t).single();case 2:n=e.sent,r=n.data,y(r.first_name+"".concat(null===r.middle_name?" ":" ".concat(r.middle_name," ")));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Br.jsxs)(Cr,{to:function(e){return"doctor"===(null===r||void 0===r?void 0:r.role)?"/Doctor/Appointments/Details/"+e:"patient"===(null===r||void 0===r?void 0:r.role)?"/Appointment/Patient/Details/"+e:"admin"===(null===r||void 0===r?void 0:r.role)?"/Appointment/Admin/Details/"+e:void 0}(n.book_id),className:"abs bg-white w-[800px] py-2 px-5 flex gap-2 mt-2 rounded-md",children:[(0,Br.jsx)("div",{className:"flex items-center",children:(0,Br.jsxs)("div",{className:"flex items-end",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[4rem] h-[4rem]",src:"".concat(f?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+n.email+"/profile/"+c:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),"rescheduled"===n.status&&(0,Br.jsx)(Xa,{className:"bg-red-500 px-1 text-[30px] rounded-full -ml-7 text-white"}),"pending"===n.status&&(0,Br.jsx)(Zd,{className:"bg-green-500 px-1 text-[30px] rounded-full -ml-7 text-white"}),"pending confirmation"===n.status&&(0,Br.jsx)(sh,{className:"bg-blue-500 px-1 text-[30px] rounded-full -ml-7 text-white"})]})}),(0,Br.jsxs)("div",{className:"grid",children:[(0,Br.jsx)("label",{className:"text-[#41843F] font-bold text-[20px] hover:underline cursor-pointer",children:g}),(0,Br.jsx)("label",{children:function(e){var t=vi()(e),n=vi()().subtract(1,"week").startOf("day");return t.isSame(n,"day")?vi()(t).format("LLL"):vi()(t).calendar()}(n.created_at)}),(0,Br.jsxs)("label",{className:"text-blue-500",children:["rescheduled"===n.status&&(0,Br.jsx)("label",{children:" An appointment has been rescheduled"}),"pending"===n.status&&(0,Br.jsx)("label",{children:"Patient booked an appointment"}),"pending confirmation"===n.status&&(0,Br.jsx)("label",{children:"Waiting for confirmation"})]})]})]})},Np=function(t){var n=t.user,r=(0,e.useState)(!1),a=(0,l.Z)(r,2),o=(a[0],a[1],(0,e.useState)([])),c=(0,l.Z)(o,2),u=c[0],d=c[1];(0,e.useEffect)((function(){h()}),[n]);var h=function(){var e=s(i().mark((function e(){var t,r,a,o,s,l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("doctor"!==(null===n||void 0===n?void 0:n.role)){e.next=9;break}return t=n.first_name+" "+n.last_name,e.next=4,Kt.from("notification").select().match({docname:t});case 4:r=e.sent,a=r.data,d(a),e.next=23;break;case 9:if("patient"!==(null===n||void 0===n?void 0:n.role)){e.next=17;break}return e.next=12,Kt.from("notification").select().match({email:n.email});case 12:o=e.sent,s=o.data,d(s),e.next=23;break;case 17:if("admin"!==(null===n||void 0===n?void 0:n.role)){e.next=23;break}return e.next=20,Kt.from("notification").select();case 20:l=e.sent,c=l.data,d(c);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Br.jsxs)("div",{className:"back min-h-screen h-auto w-full flex flex-col items-center ",children:[(0,Br.jsx)("h1",{className:"text-5xl font-semibold mt-16 text-green-900",children:"Notifications"}),(0,Br.jsx)("div",{className:"mt-2",children:u?(0,Br.jsx)("div",{children:u.map((function(e,t){return(0,Br.jsx)(Cp,{data:e,user:n},t)}))}):"NO DATA"})]})},Ep=n(2007),Tp=n.n(Ep),Ip=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ap.apply(this,arguments)}function Pp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mp(e,t){return Mp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mp(e,t)}var Dp=function(t){var n,r;function a(){var e;return(e=t.call(this)||this).handleExpired=e.handleExpired.bind(Pp(e)),e.handleErrored=e.handleErrored.bind(Pp(e)),e.handleChange=e.handleChange.bind(Pp(e)),e.handleRecaptchaRef=e.handleRecaptchaRef.bind(Pp(e)),e}r=t,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,Mp(n,r);var i=a.prototype;return i.getCaptchaFunction=function(e){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[e]:this.props.grecaptcha[e]:null},i.getValue=function(){var e=this.getCaptchaFunction("getResponse");return e&&void 0!==this._widgetId?e(this._widgetId):null},i.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},i.execute=function(){var e=this.getCaptchaFunction("execute");if(e&&void 0!==this._widgetId)return e(this._widgetId);this._executeRequested=!0},i.executeAsync=function(){var e=this;return new Promise((function(t,n){e.executionResolve=t,e.executionReject=n,e.execute()}))},i.reset=function(){var e=this.getCaptchaFunction("reset");e&&void 0!==this._widgetId&&e(this._widgetId)},i.forceReset=function(){var e=this.getCaptchaFunction("reset");e&&e()},i.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},i.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},i.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},i.explicitRender=function(){var e=this.getCaptchaFunction("render");if(e&&void 0===this._widgetId){var t=document.createElement("div");this._widgetId=e(t,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(t)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},i.componentDidMount=function(){this.explicitRender()},i.componentDidUpdate=function(){this.explicitRender()},i.handleRecaptchaRef=function(e){this.captcha=e},i.render=function(){var t=this.props,n=(t.sitekey,t.onChange,t.theme,t.type,t.tabindex,t.onExpired,t.onErrored,t.size,t.stoken,t.grecaptcha,t.badge,t.hl,t.isolated,function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,Ip));return e.createElement("div",Ap({},n,{ref:this.handleRecaptchaRef}))},a}(e.Component);function Lp(){return Lp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lp.apply(this,arguments)}Dp.displayName="ReCAPTCHA",Dp.propTypes={sitekey:Tp().string.isRequired,onChange:Tp().func,grecaptcha:Tp().object,theme:Tp().oneOf(["dark","light"]),type:Tp().oneOf(["image","audio"]),tabindex:Tp().number,onExpired:Tp().func,onErrored:Tp().func,size:Tp().oneOf(["compact","normal","invisible"]),stoken:Tp().string,hl:Tp().string,badge:Tp().oneOf(["bottomright","bottomleft","inline"]),isolated:Tp().bool},Dp.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var Op={},zp=0;var Rp="onloadcallback";function Fp(){return"undefined"!==typeof window&&window.recaptchaOptions||{}}var Bp,Zp,Up=(Bp=function(){var e=Fp(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+Rp+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+Rp+"&render=explicit"},Zp=(Zp={callbackName:Rp,globalName:"grecaptcha",attributes:Fp().nonce?{nonce:Fp().nonce}:{}})||{},function(t){var n=t.displayName||t.name||"Component",r=function(n){var r,a;function i(e,t){var r;return(r=n.call(this,e,t)||this).state={},r.__scriptURL="",r}a=n,(r=i).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a;var o=i.prototype;return o.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+zp++),this.__scriptLoaderID},o.setupScriptURL=function(){return this.__scriptURL="function"===typeof Bp?Bp():Bp,this.__scriptURL},o.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,(function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)}))},o.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=Op[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[Zp.callbackName]},o.componentDidMount=function(){var e=this,t=this.setupScriptURL(),n=this.asyncScriptLoaderGetScriptLoaderID(),r=Zp,a=r.globalName,i=r.callbackName,o=r.scriptId;if(a&&"undefined"!==typeof window[a]&&(Op[t]={loaded:!0,observers:{}}),Op[t]){var s=Op[t];return s&&(s.loaded||s.errored)?void this.asyncScriptLoaderHandleLoad(s):void(s.observers[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var l={};l[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)},Op[t]={loaded:!1,observers:l};var c=document.createElement("script");for(var u in c.src=t,c.async=!0,Zp.attributes)c.setAttribute(u,Zp.attributes[u]);o&&(c.id=o);var d=function(e){if(Op[t]){var n=Op[t].observers;for(var r in n)e(n[r])&&delete n[r]}};i&&"undefined"!==typeof window&&(window[i]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),c.onload=function(){var e=Op[t];e&&(e.loaded=!0,d((function(t){return!i&&(t(e),!0)})))},c.onerror=function(){var e=Op[t];e&&(e.errored=!0,d((function(t){return t(e),!0})))},document.body.appendChild(c)},o.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===Zp.removeOnUnmount)for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n+=1)t[n].src.indexOf(e)>-1&&t[n].parentNode&&t[n].parentNode.removeChild(t[n]);var r=Op[e];r&&(delete r.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===Zp.removeOnUnmount&&delete Op[e])},o.render=function(){var n=Zp.globalName,r=this.props,a=(r.asyncScriptOnLoad,r.forwardedRef),i=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,["asyncScriptOnLoad","forwardedRef"]);return n&&"undefined"!==typeof window&&(i[n]="undefined"!==typeof window[n]?window[n]:void 0),i.ref=a,(0,e.createElement)(t,i)},i}(e.Component),a=(0,e.forwardRef)((function(t,n){return(0,e.createElement)(r,Lp({},t,{forwardedRef:n}))}));return a.displayName="AsyncScriptLoader("+n+")",a.propTypes={asyncScriptOnLoad:Tp().func},Ah()(a,t)})(Dp),Vp=Up,qp=function(t){var n=t.formData,r=t.handleChange,a=t.disablePastDate,i=t.setFormData,o=t.openTerms,s=t.visible,c=t.visible1,u=t.setVisible1,d=t.setVisible,h=t.isOpen,f=t.isConfirmOpen,p=t.token,m=t.isSelected,v=t.image,g=t.handleCancel,y=t.handleDragOver,x=t.handleDrop,b=t.handleFile,_=t.File,w=t.onChange,k=t.number,j=t.setNumber,S=(0,e.useState)(!1),C=(0,l.Z)(S,2),N=C[0],E=C[1],T=(0,e.useState)(""),I=(0,l.Z)(T,2),A=I[0],P=I[1];return(0,e.useEffect)((function(){E("Other:"===A)}),[n,A]),(0,e.useEffect)((function(){Ci().init({duration:500})}),[]),(0,Br.jsxs)("div",{"data-aos":"zoom-in-left",className:"grid font-semibold text-left grid-cols-3 gap-5 px-8 mt-5",children:[(0,Br.jsxs)("p",{children:["Patient's First Name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{type:"text",name:"Fname",autoComplete:"on",onChange:r,required:!0,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{children:["Patient's Last Name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{name:"Lname",autoComplete:"on",onChange:r,required:!0,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{children:["Patient's Middle Name: ",(0,Br.jsx)("span",{className:"font-thin",children:"(optional)"})," ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{name:"Mname",autoComplete:"on",onChange:r,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"})]}),!p&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("p",{children:["Your First Name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{type:"text",name:"yourFname",autoComplete:"on",onChange:r,required:!0,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{children:["Your Last Name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{name:"yourLname",autoComplete:"on",onChange:r,required:!0,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{children:["Your Middle Name:",(0,Br.jsx)("span",{className:"font-thin",children:"(optional)"})," ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{name:"yourMname",autoComplete:"on",onChange:r,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"})]})]}),(0,Br.jsxs)("p",{children:["Contact Number:",(0,Br.jsx)("span",{className:"lowercase font-thin text-sm text-green-800",children:"(Input a number only)"}),(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{autoComplete:"on",type:"number",value:k,onChange:function(e){return j(e.target.value.slice(0,11))},required:!0,disabled:p,className:"outline-none rounded-md font-thin border-2 px-2 grid- border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{children:["Email:",(0,Br.jsx)("span",{className:"lowercase font-thin text-sm text-green-800"}),(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{name:"Gmail",autoComplete:"on",defaultValue:n.Gmail,type:"text",onChange:r,required:!0,className:"outline-none rounded-md font-thin border-2 px-2 grid- border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{children:["Relation with patient: ",(0,Br.jsx)("br",{}),(0,Br.jsxs)("select",{name:"Relation",autoComplete:"on",onChange:function(e){P(e.target.value),i((function(t){return(0,Ir.Z)((0,Ir.Z)({},t),{},{Relation:e.target.value})}))},placeholder:"Type your relation if other",required:!0,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full",children:[(0,Br.jsx)("option",{}),(0,Br.jsx)("option",{children:"Parent"}),(0,Br.jsx)("option",{children:"Guardian"}),(0,Br.jsx)("option",{children:"Sibling"}),(0,Br.jsx)("option",{children:"Caretaker"}),(0,Br.jsx)("option",{children:"Friend"}),(0,Br.jsx)("option",{children:"Partner"}),(0,Br.jsx)("option",{children:"Hudband/Wife"}),(0,Br.jsx)("option",{children:"Other:"})]}),N&&(0,Br.jsx)("input",{autoComplete:"on",type:"text",onChange:function(e){i((function(t){return(0,Ir.Z)((0,Ir.Z)({},t),{},{Relation:e.target.value})}))},placeholder:"type your relation",required:!0,className:"outline-none rounded-md font-thin border-2 px-2 grid- border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsx)("div",{className:"flex w-1/2",children:(0,Br.jsxs)("p",{children:["Patient's Date of Birth: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{name:"PatientBday",autoComplete:"on",onChange:r,className:"outline-none border-2 w-44 font-thin px-2 h-9 rounded-lg border-slate-300 focus:border-[#71b967d3]",type:"date",required:!0})]})}),(0,Br.jsxs)("div",{className:"col-span-2",children:[(0,Br.jsx)("p",{className:"whitespace-normal ",children:"Select Date of the appointment:"}),(0,Br.jsx)("input",{name:"Date",autoComplete:"on",onChange:r,className:"outline-none border-2 w-44 font-thin px-2 h-9 rounded-lg border-slate-300 focus:border-[#71b967d3]",type:"date",required:!0,min:a()})]}),!p&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("div",{className:"col-span-3 flex -mb-7",children:(0,Br.jsx)("p",{className:"font-thin text-base text-green-600 mb-3",children:"We require you to register in our website in order for you to monitor your appointment status"})}),(0,Br.jsxs)("div",{className:"select-none",children:[(0,Br.jsx)("label",{className:"text-lg",children:"Password"}),(0,Br.jsxs)("div",{className:"flex items-center",children:[(0,Br.jsx)("input",{name:"Pass",type:h,autoComplete:"on",onChange:r,required:!0,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"}),(0,Br.jsx)("div",{onClick:function(){return d(!s)},className:"cursor-pointer -ml-7 text-[20px] ",children:s?(0,Br.jsx)(Fr,{}):(0,Br.jsx)(Rr,{})})]})]}),(0,Br.jsxs)("p",{className:"col-span-2 w-1/2",children:["Confrim Password: ",(0,Br.jsx)("br",{}),(0,Br.jsxs)("div",{className:"flex items-center select-none",children:[(0,Br.jsx)("input",{name:"Confirm_pass",type:f,autoComplete:"on",onChange:r,required:!0,className:"outline-none mt-1 rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"}),(0,Br.jsx)("div",{onClick:function(){return u(!c)},className:"cursor-pointer -ml-7 text-[20px] ",children:c?(0,Br.jsx)(Fr,{}):(0,Br.jsx)(Rr,{})})]})]})]}),(0,Br.jsxs)("p",{className:"col-span-2 row-span-2 self-center",children:["Your Brgy. or Municipality: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("textarea",{name:"Address",autoComplete:"on",value:n.Address,onChange:r,required:!0,className:"outline-none border-2 font-thin px-2 h-28 rounded-md border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{className:"col-span-3",children:["Reason/s for booking an appointment: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("textarea",{name:"Reason",autoComplete:"off",onChange:r,placeholder:"Your message here",required:!0,className:"outline-none border-2 font-thin px-3 py-2 h-56 rounded-md border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsx)("p",{className:"col-span-3 text-xl text-center",children:"PAYMENT "}),(0,Br.jsxs)("div",{className:"col-span-3 items-center grid grid-cols-2 font-thin",children:[(0,Br.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Step 1:"})," Scan the QR code to pay using Gcash"]}),(0,Br.jsx)("div",{className:"py-40 w-full place-content-center bg-slate-400 flex whitespace-nowrap text-white font-bold",children:"QR code here"})]}),(0,Br.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Step 2:"})," Screenshot your payment receipt and upload here"]}),m?(0,Br.jsxs)("div",{className:"flex flex-col items-center -mb-16",children:[(0,Br.jsx)("img",{className:"object-contain mb-4 rounded-md items-center justify-center w-full h-[20rem]",src:v,alt:"/"}),(0,Br.jsxs)("ul",{className:"flex",children:[(0,Br.jsxs)("p",{className:"font-semibold whitespace-nowrap mr-2",children:["File name:"," "]}),Array.from(_).map((function(e,t){return(0,Br.jsx)("li",{className:"truncate",children:e.name},t)}))]}),(0,Br.jsx)("div",{className:"flex space-x-4 mb-4",children:(0,Br.jsx)("button",{className:"text-gray-900 bg-white border border-gray-300 focus:outline-none\r transition duration-75 ease-in hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 \r font-medium rounded-lg px-5 dark:bg-gray-800 dark:text-white dark:border-gray-600\r dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:g,children:"Choose another file"})})]}):(0,Br.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,Br.jsxs)("label",{onDragOver:y,onDrop:x,accept:"image/png, image/jpeg",className:"flex flex-col mb-5 rounded-md items-center justify-center w-[80%] h-[21rem] border-2\r border-gray-300 border-dashed cursor-pointer bg-gray-50 transition duration-100 ease-in dark:hover:bg-bray-800\r dark:bg-gray-700 hover:bg-gray-200 dark:border-gray-600 dark:hover:border-gray-500\r dark:hover:bg-gray-600",children:[(0,Br.jsxs)("div",{className:"flex flex-col items-center pt-5 pb-6",children:[(0,Br.jsx)("svg",{className:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,Br.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,Br.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,Br.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG or JPG"})]}),(0,Br.jsx)("input",{id:"dropzone-file",onChange:b,accept:"image/png, image/jpeg",type:"file",className:"hidden"})]})})]})]}),(0,Br.jsx)("div",{className:"col-span-3",children:(0,Br.jsx)(Vp,{sitekey:"6Ld1th8pAAAAAPXTH0voBtx2Zser_ws8kWuSyVPJ",onChange:w})}),(0,Br.jsxs)("div",{className:"flex items-center mb-6 font-extralight whitespace-nowrap",children:[(0,Br.jsx)("input",{id:"default-checkbox",type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",required:!0}),(0,Br.jsxs)("label",{className:"ml-2 text-sm",children:["Terms and Condition"," ",(0,Br.jsx)("button",{onClick:o,className:"text-primary",children:"Read More"})]})]})]})};function Hp(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"}},{tag:"line",attr:{x1:"16",x2:"16",y1:"2",y2:"6"}},{tag:"line",attr:{x1:"8",x2:"8",y1:"2",y2:"6"}},{tag:"line",attr:{x1:"3",x2:"21",y1:"10",y2:"10"}},{tag:"path",attr:{d:"m16 20 2 2 4-4"}}]})(e)}function Wp(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"}},{tag:"line",attr:{x1:"16",x2:"16",y1:"2",y2:"6"}},{tag:"line",attr:{x1:"8",x2:"8",y1:"2",y2:"6"}},{tag:"line",attr:{x1:"3",x2:"21",y1:"10",y2:"10"}},{tag:"line",attr:{x1:"17",x2:"22",y1:"17",y2:"22"}},{tag:"line",attr:{x1:"17",x2:"22",y1:"22",y2:"17"}}]})(e)}ra();var Yp=function(e){var t=e.setConfirm,n=e.handleSubmit,r=e.doc,a=e.SubmitLoad;return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{className:"bg-white sticky -mt-[8rem] flex w-[33rem] flex-col items-center abs rounded-lg p-6",children:(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("div",{className:"h-full",children:(0,Br.jsx)(Hp,{className:"text-4xl mr-3 mt-2 text-green-500"})}),(0,Br.jsxs)("div",{className:"flex flex-col items-start",children:[(0,Br.jsx)("h1",{className:"mb-1 font-semibold text-xl flex items-end",children:(0,Br.jsx)("span",{children:"Confirm Booking"})}),(0,Br.jsxs)("p",{className:"mb-6",children:["Are you sure you wish to book an appointment for"," ","ol"===r.type?"Online Consultation":"Face to Face Consultation"," ","to ",r.honorific," ",r.name,"?"]}),(0,Br.jsx)("p",{children:"By clicking the confirm button, your book will be submitted."}),(0,Br.jsxs)("div",{className:"flex items-center justify-end w-full space-x-2 mt-3",children:[(0,Br.jsx)("button",{onClick:function(e){return t(!1)||e.preventDefault()},className:"px-9 py-1 bg-slate-100 border-2 transition duration-100 hover:bg-slate-300 border-slate-300 rounded-md",children:"Cancel"}),a?(0,Br.jsx)("button",{disabled:!0,className:"bg-[#A5DD9D] w-full py-1  font-semibold whitespace-nowrap px-2 text-[#267124] rounded-md transition duration-10 ease-in-out \r ring-[#418D3F] ring-[1.5px]",children:(0,Br.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Br.jsx)("p",{className:"mr-3",children:"Submitting please wait "}),(0,Br.jsx)("l-dot-pulse",{size:"20",speed:"0.7",color:"#418D3F"})]})}):(0,Br.jsx)("button",{onClick:n,className:"px-9 py-1 bg-green-600 transition duration-100 hover:bg-green-800 text-white rounded-md",children:"Confirm"})]})]})]})})})})},Gp=':host{--uib-dot-size:calc(var(--uib-size)*0.24);align-items:center;display:inline-flex;flex-shrink:0;height:var(--uib-dot-size);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{align-items:center;display:flex;height:100%;justify-content:space-between;position:relative;width:100%}.container:after,.container:before,.dot{background-color:var(--uib-color);border-radius:50%;content:"";display:block;height:var(--uib-dot-size);transform:scale(0);transition:background-color .3s ease;width:var(--uib-dot-size)}.container:before{animation:pulse var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.375) infinite}.dot{animation:pulse var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.25) infinite both}.container:after{animation:pulse var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.125) infinite}@keyframes pulse{0%,to{transform:scale(0)}50%{transform:scale(1)}}',Jp=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,c.Z)(this,n),e=t.call(this),(0,Tr.Z)((0,$r.Z)(e),"_attributes",["size","color","speed"]),(0,Tr.Z)((0,$r.Z)(e),"size",void 0),(0,Tr.Z)((0,$r.Z)(e),"color",void 0),(0,Tr.Z)((0,$r.Z)(e),"speed",void 0),e.storePropsToUpgrade(e._attributes),e.reflect(e._attributes),e}return(0,u.Z)(n,[{key:"connectedCallback",value:function(){this.upgradeStoredProps(),this.applyDefaultProps({size:43,color:"black",speed:1.3}),this.template.innerHTML='\n      <div class="container"><div class="dot" /></div>\n      <style>\n        :host{\n          --uib-size: '.concat(this.size,"px;\n          --uib-color: ").concat(this.color,";\n          --uib-speed: ").concat(this.speed,"s;\n        }\n        ").concat(Gp,"\n      </style>\n    "),this.shadow.replaceChildren(this.template.content.cloneNode(!0))}},{key:"attributeChangedCallback",value:function(){var e=this.shadow.querySelector("style");e&&(e.innerHTML="\n      :host{\n        --uib-size: ".concat(this.size,"px;\n        --uib-color: ").concat(this.color,";\n        --uib-speed: ").concat(this.speed,"s;\n      }\n      ").concat(Gp,"\n    "))}}],[{key:"observedAttributes",get:function(){return["size","color","speed"]}}]),n}(ea),Xp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"l-dot-pulse";customElements.get(e)||customElements.define(e,function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(Jp))},Kp=n(596),$p=function(){function e(){}return e.setup=function(t){void 0===t&&(t={}),e.options=t},e.get=function(){return e.options||{}},e.clear=function(){e.options={}},e.defaultOptions={live:!1,logLevel:"error",host:"https://api.radar.io",version:"v1",debug:!1},e}(),Qp={none:0,error:1,warn:2,info:3,debug:4},em=function(){if(window&&window.RADAR_TEST_ENV)return Qp.none;var e=$p.get(),t=e.logLevel;return e.debug?Qp.debug:t?Qp[t]:Qp.error},tm=function(){function e(){}return e.debug=function(e){em()===Qp.debug&&console.log("Radar SDK (debug): ".concat(e.trim()))},e.info=function(e){em()>=Qp.info&&console.log("Radar SDK: ".concat(e.trim()))},e.warn=function(e){em()>=Qp.warn&&console.warn("Radar SDK: ".concat(e.trim()))},e.error=function(e){em()>=Qp.error&&console.error("Radar SDK: ".concat(e.trim()))},e}(),nm=function(){function e(){}return Object.defineProperty(e,"USER_ID",{get:function(){return"radar-userId"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DEVICE_ID",{get:function(){return"radar-deviceId"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"INSTALL_ID",{get:function(){return"radar-installId"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SESSION_ID",{get:function(){return"radar-sessionId"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DESCRIPTION",{get:function(){return"radar-description"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"METADATA",{get:function(){return"radar-metadata"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CACHED_LOCATION",{get:function(){return"radar-cached-location"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TRIP_OPTIONS",{get:function(){return"radar-trip-options"},enumerable:!1,configurable:!0}),e.getStorage=function(){var e=null===window||void 0===window?void 0:window.localStorage;return e||tm.warn("localStorage not available."),e},e.setItem=function(e,t){var n=this.getStorage();n&&void 0!==t&&null!==t&&n.setItem(e,t)},e.getItem=function(e){var t=this.getStorage();if(!t)return null;var n=t.getItem(e);return void 0!==n&&null!==n?n:null},e.getJSON=function(e){var t=this.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(n){return tm.warn("could not getJSON from storage for key: ".concat(e)),null}},e.removeItem=function(e){var t=this.getStorage();if(!t)return null;t.removeItem(e)},e.clear=function(){var e=this.getStorage();if(!e)return null;e.clear()},e}(),rm=function(e,t){return rm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},rm(e,t)};function am(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}rm(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var im=function(){return im=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},im.apply(this,arguments)};function om(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function sm(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(l){s=[6,l],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var lm=function(e){function t(t){var n=e.call(this,t)||this;return n.status="",n}return am(t,e),t}(Error),cm=function(e){function t(t){var n=e.call(this,t)||this;return n.name="RadarPublishableKeyError",n.status="ERROR_PUBLISHABLE_KEY",n}return am(t,e),t}(lm),um=function(e){function t(t){var n=e.call(this,t)||this;return n.name="RadarLocationError",n.status="ERROR_LOCATION",n}return am(t,e),t}(lm),dm=function(e){function t(t){var n=e.call(this,t)||this;return n.name="RadarLocationPermissionsError",n.status="ERROR_PERMISSIONS",n}return am(t,e),t}(lm),hm=function(e){function t(){var t=e.call(this,"Desktop app not running.")||this;return t.name="RadarDesktopAppError",t.status="ERROR_DESKTOP_APP",t}return am(t,e),t}(lm),fm=function(e){function t(t){var n,r=this;return(r=e.call(this,(null===(n=null===t||void 0===t?void 0:t.meta)||void 0===n?void 0:n.message)||"Bad request.")||this).name="RadarBadRequestError",r.code=400,r.response=t,r.status="ERROR_BAD_REQUEST",r}return am(t,e),t}(lm),pm=function(e){function t(t){var n,r=this;return(r=e.call(this,(null===(n=null===t||void 0===t?void 0:t.meta)||void 0===n?void 0:n.message)||"Unauthorized.")||this).name="RadarUnauthorizedError",r.code=401,r.response=t,r.status="ERROR_UNAUTHORIZED",r}return am(t,e),t}(lm),mm=function(e){function t(t){var n,r=this;return(r=e.call(this,(null===(n=null===t||void 0===t?void 0:t.meta)||void 0===n?void 0:n.message)||"Payment required.")||this).name="RadarPaymentRequiredError",r.code=402,r.response=t,r.status="ERROR_PAYMENT_REQUIRED",r}return am(t,e),t}(lm),vm=function(e){function t(t){var n,r=this;return(r=e.call(this,(null===(n=null===t||void 0===t?void 0:t.meta)||void 0===n?void 0:n.message)||"Forbidden.")||this).name="RadarForbiddenError",r.code=403,r.response=t,r.status="ERROR_FORBIDDEN",r}return am(t,e),t}(lm),gm=function(e){function t(t){var n,r=this;return(r=e.call(this,(null===(n=null===t||void 0===t?void 0:t.meta)||void 0===n?void 0:n.message)||"Not found.")||this).name="RadarNotFoundError",r.code=404,r.response=t,r.status="ERROR_NOT_FOUND",r}return am(t,e),t}(lm),ym=function(e){function t(t){var n,r,a=this;return(a=e.call(this,(null===(n=null===t||void 0===t?void 0:t.meta)||void 0===n?void 0:n.message)||"Rate limit exceeded.")||this).name="RadarRateLimitError",a.code=429,a.response=t,a.type=null===(r=null===t||void 0===t?void 0:t.meta)||void 0===r?void 0:r.type,a.status="ERROR_RATE_LIMIT",a}return am(t,e),t}(lm),xm=function(e){function t(t){var n,r=this;return(r=e.call(this,(null===(n=null===t||void 0===t?void 0:t.meta)||void 0===n?void 0:n.message)||"Internal server error.")||this).name="RadarServerError",r.response=t,r.status="ERROR_SERVER",r}return am(t,e),t}(lm),bm=function(e){function t(){var t=e.call(this,"Request timed out.")||this;return t.name="RadarTimeoutError",t.status="ERROR_TIMED_OUT",t}return am(t,e),t}(lm),_m=function(e){function t(t){var n,r=this;return(r=e.call(this,(null===(n=null===t||void 0===t?void 0:t.meta)||void 0===n?void 0:n.message)||"Something went wrong.")||this).name="RadarUnknownError",r.response=t,r.status="ERROR_UNKNOWN",r}return am(t,e),t}(lm),wm=function(e){function t(t){var n=e.call(this,t)||this;return n.name="RadarAutocompleteContainerNotFound",n.status="CONTAINER_NOT_FOUND",n}return am(t,e),t}(lm),km={1:"Permission denied.",2:"Position unavailable.",3:"Timeout."},jm={maximumAge:0,timeout:3e4,enableHighAccuracy:!0},Sm=function(e){return Boolean("high"===e)},Cm=function(){function e(){}return e.getCurrentPosition=function(e){return void 0===e&&(e={}),om(this,void 0,void 0,(function(){return sm(this,(function(t){return[2,new Promise((function(t,n){var r=$p.get();if(!navigator||!navigator.geolocation)return n(new um("navigator.geolocation is not available."));if(r.cacheLocationMinutes)try{var a=nm.getItem(nm.CACHED_LOCATION);if(a){var i=JSON.parse(a)||{},o=i.latitude,s=i.longitude,l=i.accuracy,c=i.expiresAt;if(Date.now()<parseInt(c)&&o&&s&&l)return t({latitude:o,longitude:s,accuracy:l})}}catch(d){tm.warn("could not load cached location.")}var u=Object.assign({},jm);void 0!==r.locationMaximumAge&&(u.maximumAge=r.locationMaximumAge),void 0!==r.locationTimeout&&(u.timeout=r.locationTimeout),void 0!==r.desiredAccuracy&&(u.enableHighAccuracy=Sm(r.desiredAccuracy)),void 0!==e.desiredAccuracy&&(u.enableHighAccuracy=Sm(e.desiredAccuracy)),tm.info("Using geolocation options: ".concat(JSON.stringify(u))),navigator.geolocation.getCurrentPosition((function(e){if(!e||!e.coords)return n(new um("device location return empty coordinates."));var a=e.coords,i=a.latitude,o=a.longitude,s=a.accuracy;if(r.cacheLocationMinutes){var l=Number.parseFloat(r.cacheLocationMinutes),c=Date.now(),u={latitude:i,longitude:o,accuracy:s,updatedAt:c,expiresAt:c+60*l*1e3};nm.setItem(nm.CACHED_LOCATION,JSON.stringify(u))}return t({latitude:i,longitude:o,accuracy:s})}),(function(e){if(e&&e.code){var t=km[e.code.toString()]||"unknown";return n(new dm(t))}return n(new um("Could not determine location."))}),u)}))]}))}))},e.getPermissionStatus=function(){return om(this,void 0,void 0,(function(){return sm(this,(function(e){return[2,new Promise((function(e,t){if(!navigator||!navigator.permissions)return t(new um("navigator.permissions is not available."));navigator.permissions.query({name:"geolocation"}).then((function(t){var n="NOT_DETERMINED";switch(t.state){case"granted":n="GRANTED_FOREGROUND";break;case"denied":n="DENIED";break;case"prompt":n="NOT_DETERMINED"}return e(n)}))}))]}))}))},e}(),Nm="4.1.12",Em=function(){function e(){}return e.request=function(e){var t=e.method,n=e.path,r=e.data,a=e.host;return om(this,void 0,void 0,(function(){return sm(this,(function(e){return[2,new Promise((function(e,i){var o=$p.get(),s=o.publishableKey;if(s){var l=a||o.host,c=o.version,u="".concat(l,"/").concat(c,"/").concat(n),d={};if(Object.keys(r||{}).forEach((function(e){var t=r[e];void 0!==t&&(d[e]=t)})),"GET"===t){var h=Object.keys(d).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(d[e]))}));if(h.length>0){var f=h.join("&");u="".concat(u,"?").concat(f)}d=void 0}var p=new XMLHttpRequest;if(p.open(t,u,!0),p.setRequestHeader("Authorization",s),p.setRequestHeader("Content-Type","application/json"),p.setRequestHeader("X-Radar-Device-Type","Web"),p.setRequestHeader("X-Radar-SDK-Version",Nm),"function"===typeof o.getRequestHeaders){var m=o.getRequestHeaders();Object.keys(m||{}).forEach((function(e){p.setRequestHeader(e,m[e])}))}p.onload=function(){var t,n;try{n=JSON.parse(p.response)}catch(a){return i(new xm(n))}var r=null===(t=null===n||void 0===n?void 0:n.meta)||void 0===t?void 0:t.error;return"ERROR_PERMISSIONS"===r?i(new dm("Location permissions not granted.")):"ERROR_LOCATION"===r?i(new um("Could not determine location.")):"ERROR_NETWORK"===r?i(new bm):200==p.status?e(n):(o.debug&&(tm.debug("API call failed: ".concat(u)),tm.debug(JSON.stringify(n))),void(400===p.status?i(new fm(n)):401===p.status?i(new pm(n)):402===p.status?i(new mm(n)):403===p.status?i(new vm(n)):404===p.status?i(new gm(n)):429===p.status?i(new ym(n)):500<=p.status&&p.status<600?i(new xm(n)):i(new _m(n))))},p.onerror=function(){i(a&&"https://radar-verify.com:52516"===a?new hm:new xm)},p.ontimeout=function(){i(new bm)},p.send(JSON.stringify(d))}else i(new cm("publishableKey not set."))}))]}))}))},e}(),Tm=function(){function e(){}return e.validateAddress=function(e){return om(this,void 0,void 0,(function(){var t,n,r,a,i;return sm(this,(function(o){switch(o.label){case 0:return t=$p.get(),[4,Em.request({method:"GET",path:"addresses/validate",data:e})];case 1:return n=o.sent(),r=n.address,a=n.result,i={address:r,result:a},t.debug&&(i.response=n),[2,i]}}))}))},e}(),Im=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},Am=function(){function e(){}return e.getDeviceId=function(){var e=nm.getItem(nm.DEVICE_ID);if(e)return e;var t=Im();return nm.setItem(nm.DEVICE_ID,t),t},e.getInstallId=function(){var e=nm.getItem(nm.INSTALL_ID);if(e)return e;var t=Im();return nm.setItem(nm.INSTALL_ID,t),t},e}(),Pm=function(){function e(){}return e.getSessionId=function(){var e=nm.getItem(nm.SESSION_ID);if(e&&function(e){var t=Math.trunc(Date.now()/1e3),n=Number.parseInt(e);return Math.abs(t-n)<300}(e))return e;var t=Math.trunc(Date.now()/1e3).toString();return nm.setItem(nm.SESSION_ID,t),t},e}(),Mm=function(){function e(){}return e.getConfig=function(e){return void 0===e&&(e={}),om(this,void 0,void 0,(function(){var t,n,r,a,i,o;return sm(this,(function(s){switch(s.label){case 0:return"v1"!=$p.get().version?(tm.info("Skipping /config call."),[2]):(t=e.deviceId||Am.getDeviceId(),n=e.installId||Am.getInstallId(),r=Pm.getSessionId(),[4,Cm.getPermissionStatus()]);case 1:a=s.sent(),i={deviceId:t,installId:n,sessionId:r,locationAuthorization:a},s.label=2;case 2:return s.trys.push([2,4,,5]),[4,Em.request({method:"GET",path:"config",data:i})];case 3:return s.sent(),[3,5];case 4:return o=s.sent(),tm.warn("Error calling /config: ".concat(o.message)),[3,5];case 5:return[2]}}))}))},e}(),Dm=function(){function e(){}return e.getContext=function(e){return om(this,void 0,void 0,(function(){var t,n,r,a,i,o,s,l,c,u,d,h;return sm(this,(function(f){switch(f.label){case 0:return t=$p.get(),e.latitude&&e.longitude?[3,2]:[4,Cm.getCurrentPosition()];case 1:e=f.sent(),f.label=2;case 2:return n=e.latitude,r=e.longitude,a=e.accuracy,[4,Em.request({method:"GET",path:"context",data:{coordinates:"".concat(n,",").concat(r),accuracy:a}})];case 3:return i=f.sent(),o=i.geofences,s=i.place,l=i.country,c=i.state,u=i.dma,d=i.postalCode,h={location:e,geofences:o,place:s,country:l,state:c,dma:u,postalCode:d},t.debug&&(h.response=i),[2,h]}}))}))},e}(),Lm=function(){function e(){}return e.logConversion=function(e){return om(this,void 0,void 0,(function(){var t,n,r,a,i,o,s,l,c,u;return sm(this,(function(d){switch(d.label){case 0:return t=$p.get(),n=e.name,r=e.userId||nm.getItem(nm.USER_ID),a=e.deviceId||Am.getDeviceId(),i=e.installId||Am.getInstallId(),o=e.metadata||{},s=e.createdAt,e.revenue&&(o.revenue=e.revenue),l={name:n,userId:r,deviceId:a,installId:i,metadata:o},"string"===typeof s?l.createdAt=s:s instanceof Date?l.createdAt=s.toISOString():l.createdAt=(new Date).toISOString(),[4,Em.request({method:"POST",path:"events",data:l})];case 1:return c=d.sent(),u={event:c.event},t.debug&&(u.response=c),[2,u]}}))}))},e}(),Om=function(){function e(){}return e.forwardGeocode=function(e){return om(this,void 0,void 0,(function(){var t,n,r,a,i,o;return sm(this,(function(s){switch(s.label){case 0:return t=$p.get(),n=e.query,r=e.layers,a=e.country,[4,Em.request({method:"GET",path:"geocode/forward",data:{query:n,layers:r,country:a}})];case 1:return i=s.sent(),o={addresses:i.addresses},t.debug&&(o.response=i),[2,o]}}))}))},e.reverseGeocode=function(e){return om(this,void 0,void 0,(function(){var t,n,r,a,i,o,s;return sm(this,(function(l){switch(l.label){case 0:return t=$p.get(),n=e.latitude,r=e.longitude,a=e.layers,n&&r?[3,2]:[4,Cm.getCurrentPosition()];case 1:i=l.sent(),n=i.latitude,r=i.longitude,l.label=2;case 2:return[4,Em.request({method:"GET",path:"geocode/reverse",data:{coordinates:"".concat(n,",").concat(r),layers:a}})];case 3:return o=l.sent(),s={addresses:o.addresses},t.debug&&(s.response=o),[2,s]}}))}))},e.ipGeocode=function(){return om(this,void 0,void 0,(function(){var e,t,n;return sm(this,(function(r){switch(r.label){case 0:return e=$p.get(),[4,Em.request({method:"GET",path:"geocode/ip"})];case 1:return t=r.sent(),n={ip:t.ip,address:t.address,proxy:t.proxy},e.debug&&(n.response=t),[2,n]}}))}))},e}(),zm=function(){function e(){}return e.distance=function(e){return om(this,void 0,void 0,(function(){var t,n,r,a,i,o,s,l,c,u,d,h,f;return sm(this,(function(p){switch(p.label){case 0:return t=$p.get(),n=e.origin,r=e.destination,a=e.modes,i=e.units,o=e.geometry,s=e.geometryPoints,l=e.avoid,n?[3,2]:[4,Cm.getCurrentPosition()];case 1:return c=p.sent(),u=c.latitude,d=c.longitude,n="".concat(u,",").concat(d),[3,3];case 2:"string"!==typeof n&&(u=n.latitude,d=n.longitude,n="".concat(u,",").concat(d)),p.label=3;case 3:return"string"!==typeof r&&(u=r.latitude,d=r.longitude,r="".concat(u,",").concat(d)),Array.isArray(a)&&(a=a.join(",")),Array.isArray(l)&&(l=l.join(",")),[4,Em.request({method:"GET",path:"route/distance",data:{origin:n,destination:r,modes:a,units:i,geometry:o,geometryPoints:s,avoid:l}})];case 4:return h=p.sent(),f={routes:h.routes},t.debug&&(f.response=h),[2,f]}}))}))},e.matrix=function(e){return om(this,void 0,void 0,(function(){var t,n,r,a,i,o,s,l,c,u,d,h,f;return sm(this,(function(p){switch(p.label){case 0:return t=$p.get(),n=e.origins,r=e.destinations,a=e.mode,i=e.units,o=e.avoid,n?[3,2]:[4,Cm.getCurrentPosition()];case 1:for(s=p.sent(),l=s.latitude,c=s.longitude,u=[],d=0;d<r.length;d++)u.push("".concat(l,",").concat(c));return n=u.join("|"),[3,3];case 2:Array.isArray(n)&&(n=n.map((function(e){return"".concat(e.latitude,",").concat(e.longitude)})).join("|")),p.label=3;case 3:return Array.isArray(r)&&(r=r.map((function(e){return"".concat(e.latitude,",").concat(e.longitude)})).join("|")),Array.isArray(o)&&(o=o.join(",")),[4,Em.request({method:"GET",path:"route/matrix",data:{origins:n,destinations:r,mode:a,units:i,avoid:o}})];case 4:return h=p.sent(),f={origins:h.origins,destinations:h.destinations,matrix:h.matrix},t.debug&&(f.response=h),[2,f]}}))}))},e}(),Rm=function(){function e(){}return e.autocomplete=function(e){return om(this,void 0,void 0,(function(){var t,n,r,a,i,o,s,l,c;return sm(this,(function(u){switch(u.label){case 0:return t=$p.get(),n=e.query,r=e.near,a=e.limit,i=e.layers,o=e.countryCode,s=e.expandUnits,r&&"string"!==typeof r&&r.latitude&&r.longitude&&(r="".concat(r.latitude,",").concat(r.longitude)),[4,Em.request({method:"GET",path:"search/autocomplete",data:{query:n,near:r,limit:a,layers:i,countryCode:o,expandUnits:s}})];case 1:return l=u.sent(),c={addresses:l.addresses},t.debug&&(c.response=l),[2,c]}}))}))},e.searchGeofences=function(e){return om(this,void 0,void 0,(function(){var t,n,r,a,i,o,s,l,c,u,d;return sm(this,(function(h){switch(h.label){case 0:return t=$p.get(),n=e.near,r=e.radius,a=e.tags,i=e.metadata,o=e.limit,n?[3,2]:[4,Cm.getCurrentPosition()];case 1:return s=h.sent(),l=s.latitude,c=s.longitude,n="".concat(l,",").concat(c),[3,3];case 2:"string"!==typeof n&&(l=n.latitude,c=n.longitude,n="".concat(l,",").concat(c)),h.label=3;case 3:return Array.isArray(a)&&(a=a.join(",")),[4,Em.request({method:"GET",path:"search/geofences",data:{near:n,radius:r,tags:a,metadata:i,limit:o}})];case 4:return u=h.sent(),d={geofences:u.geofences},t.debug&&(d.response=u),[2,d]}}))}))},e.searchPlaces=function(e){return om(this,void 0,void 0,(function(){var t,n,r,a,i,o,s,l,c,u,d,h;return sm(this,(function(f){switch(f.label){case 0:return t=$p.get(),n=e.near,r=e.radius,a=e.chains,i=e.categories,o=e.groups,s=e.limit,n?[3,2]:[4,Cm.getCurrentPosition()];case 1:return l=f.sent(),c=l.latitude,u=l.longitude,n="".concat(c,",").concat(u),[3,3];case 2:"string"!==typeof n&&(c=n.latitude,u=n.longitude,n="".concat(c,",").concat(u)),f.label=3;case 3:return Array.isArray(a)&&(a=a.join(",")),Array.isArray(i)&&(i=i.join(",")),Array.isArray(o)&&(o=o.join(",")),[4,Em.request({method:"GET",path:"search/places",data:{near:n,radius:r,chains:a,categories:i,groups:o,limit:s}})];case 4:return d=f.sent(),h={places:d.places},t.debug&&(h.response=d),[2,h]}}))}))},e}(),Fm=function(e){return e&&"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e)},Bm=function(){function e(){}return e.setTripOptions=function(t){if(t){var n=JSON.stringify(t);tm.debug("Saving trip options: ".concat(n)),nm.setItem(nm.TRIP_OPTIONS,n)}else e.clearTripOptions()},e.getTripOptions=function(){var e=nm.getItem(nm.TRIP_OPTIONS);return e&&(e=JSON.parse(e)),e},e.clearTripOptions=function(){nm.removeItem(nm.TRIP_OPTIONS)},e.startTrip=function(t){return om(this,void 0,void 0,(function(){var n,r,a,i,o,s,l,c,u,d,h,f;return sm(this,(function(p){switch(p.label){case 0:return n=$p.get(),(t=t||e.getTripOptions())||tm.warn('tripOptions not set when calling "startTrip"'),(r=t.userId||nm.getItem(nm.USER_ID))&&r!==nm.getItem(nm.USER_ID)&&nm.setItem(nm.USER_ID,r),a=t.externalId,i=t.destinationGeofenceTag,o=t.destinationGeofenceExternalId,s=t.mode,l=t.metadata,c=t.approachingThreshold,u=t.scheduledArrivalAt,d={userId:r,externalId:a,destinationGeofenceTag:i,destinationGeofenceExternalId:o,mode:s,metadata:l,approachingThreshold:c},Fm(u)?d.scheduledArrivalAt=null===u||void 0===u?void 0:u.toJSON():(u&&tm.warn("Invalid date format for scheduledArrivalAt"),d.scheduledArrivalAt=void 0),[4,Em.request({method:"POST",path:"trips",data:d})];case 1:return h=p.sent(),e.setTripOptions(t),f={trip:h.trip,events:h.events},n.debug&&(f.response=h),[2,f]}}))}))},e.updateTrip=function(t,n){return om(this,void 0,void 0,(function(){var r,a,i,o,s,l,c,u,d,h,f;return sm(this,(function(p){switch(p.label){case 0:return r=$p.get(),(t=t||e.getTripOptions())||tm.warn('tripOptions not set when calling "startTrip"'),a=t.externalId,i=t.destinationGeofenceTag,o=t.destinationGeofenceExternalId,s=t.mode,l=t.metadata,c=t.approachingThreshold,u=t.scheduledArrivalAt,d={status:n,externalId:a,destinationGeofenceTag:i,destinationGeofenceExternalId:o,mode:s,metadata:l,approachingThreshold:c},Fm(u)?d.scheduledArrivalAt=null===u||void 0===u?void 0:u.toJSON():(u&&tm.warn("Invalid date format for scheduledArrivalAt"),d.scheduledArrivalAt=void 0),[4,Em.request({method:"PATCH",path:"trips/".concat(a,"/update"),data:d})];case 1:return h=p.sent(),f={trip:h.trip,events:h.events},r.debug&&(f.response=h),[2,f]}}))}))},e.completeTrip=function(){return om(this,void 0,void 0,(function(){var t,n;return sm(this,(function(r){switch(r.label){case 0:return t=e.getTripOptions(),[4,e.updateTrip(t,"completed")];case 1:return n=r.sent(),e.clearTripOptions(),[2,n]}}))}))},e.cancelTrip=function(){return om(this,void 0,void 0,(function(){var t,n;return sm(this,(function(r){switch(r.label){case 0:return t=e.getTripOptions(),[4,e.updateTrip(t,"canceled")];case 1:return n=r.sent(),e.clearTripOptions(),[2,n]}}))}))},e}(),Zm=function(){function e(){}return e.trackOnce=function(e){return om(this,void 0,void 0,(function(){var t,n,r,a,i,o,s,l,c,u,d,h,f,p,m,v,g,y,x,b,_;return sm(this,(function(w){switch(w.label){case 0:return t=$p.get(),n=e.latitude,r=e.longitude,a=e.accuracy,i=e.desiredAccuracy,n&&r?[3,2]:[4,Cm.getCurrentPosition({desiredAccuracy:i})];case 1:o=w.sent(),n=o.latitude,r=o.longitude,a=o.accuracy,w.label=2;case 2:return w.trys.push([2,4,,5]),[4,Cm.getPermissionStatus()];case 3:return s=w.sent(),[3,5];case 4:return l=w.sent(),tm.warn("Location authorization error: ".concat(l.message)),[3,5];case 5:return c=e.userId||nm.getItem(nm.USER_ID),u=e.deviceId||Am.getDeviceId(),d=e.installId||Am.getInstallId(),h=Pm.getSessionId(),f=e.deviceType||"Web",p=e.description||nm.getItem(nm.DESCRIPTION),c?nm.setItem(nm.USER_ID,c):tm.warn("userId not provided for trackOnce."),m=e.metadata||nm.getJSON(nm.METADATA),(v=e.tripOptions||Bm.getTripOptions())&&(v.version="2"),g=im(im({},e),{locationAuthorization:s,accuracy:a,description:p,deviceId:u,deviceType:f,foreground:!0,installId:d,sessionId:h,latitude:n,longitude:r,metadata:m,sdkVersion:Nm,stopped:!0,userId:c,tripOptions:v}),[4,Em.request({method:"POST",path:"track",data:g})];case 6:return y=w.sent(),x=y.user,b=y.events,_={user:x,events:b,location:{latitude:n,longitude:r,accuracy:a}},t.debug&&(_.response=y),[2,_]}}))}))},e}(),Um=function(){function e(){}return e.trackVerified=function(e,t){return void 0===t&&(t=!1),om(this,void 0,void 0,(function(){var n,r,a,i,o,s,l,c,u,d,h,f,p,m,v,g,y;return sm(this,(function(x){switch(x.label){case 0:return n=$p.get(),r=e.userId||nm.getItem(nm.USER_ID),a=e.deviceId||Am.getDeviceId(),i=e.installId||Am.getInstallId(),o=Pm.getSessionId(),s=e.description||nm.getItem(nm.DESCRIPTION),r?nm.setItem(nm.USER_ID,r):tm.warn("userId not provided for trackVerified."),l=e.metadata||nm.getJSON(nm.METADATA),c=im(im({},e),{description:s,deviceId:a,foreground:!0,installId:i,sessionId:o,metadata:l,sdkVersion:Nm,stopped:!0,userId:r,encrypted:t}),u=navigator.userAgent,d=u&&u.toLowerCase().includes("mac"),[4,Em.request({method:"GET",path:"verify",data:c,host:d?"https://radar-verify.com:52516":"http://localhost:52516"})];case 1:return h=x.sent(),f=h.user,p=h.events,m=h.token,f&&f.location&&f.location.coordinates&&f.locationAccuracy&&(v={latitude:f.location.coordinates[1],longitude:f.location.coordinates[0],accuracy:f.locationAccuracy}),t?(g={token:m},n.debug&&(g.response=h),[2,g]):(y={user:f,events:p,location:v},n.debug&&(y.response=h),[2,y])}}))}))},e}(),Vm=["radar-default-v1","radar-light-v1","radar-dark-v1"],qm={minZoom:1,maxZoom:20,attributionControl:!1,dragRotate:!1,touchPitch:!1,maplibreLogo:!1},Hm={color:"#000257"},Wm=function(e,t){return void 0===t&&(t="radar-default-v1"),"".concat(e.host,"/maps/styles/").concat(t,"?publishableKey=").concat(e.publishableKey)},Ym=function(){function e(){}return e.getMapLibre=function(){return Kp},e.createMap=function(e){var t=$p.get();t.publishableKey||tm.warn("publishableKey not set. Call Radar.initialize() with key before creating a new map.");var n=function(e,t){var n=t.style;return!n||"string"===typeof n&&Vm.includes(n)?Wm(e,t.style):t.style}(t,e),r=Object.assign({},qm,e,{style:n});tm.debug("initialize map with options: ".concat(JSON.stringify(r))),r.container=e.container,r.transformRequest=function(e,n){return"Style"===n&&Vm.includes(e)?{url:Wm(t,e)}:{url:e}};var a=new Kp.Map(r),i=a.getContainer();i.style.width||i.style.height||tm.warn('map container does not have a set "width" or "height"');var o=document.createElement("img");o.src="https://api.radar.io/maps/static/images/logo.svg";var s=document.createElement("a");s.id="radar-map-logo",s.href="https://radar.com?ref=powered_by_radar",s.target="_blank",s.style.position="absolute",s.style.bottom="0",s.style.left="5px",s.style.width="80px",s.style.height="38px",s.appendChild(o),a.getContainer().appendChild(s);var l=new Kp.AttributionControl({compact:!1});a.addControl(l,"bottom-right");var c=new Kp.NavigationControl({showCompass:!1});a.addControl(c,"bottom-right");var u=function(){var e=document.querySelector(".maplibregl-ctrl-attrib");e&&(a.getContainer().clientWidth<380?e.classList.add("hidden"):e.classList.remove("hidden"))};return a.on("resize",u),a.on("load",u),a},e.createMarker=function(e){void 0===e&&(e={});var t=Object.assign({},Hm);e.color&&(t.color=e.color),e.element&&(t.element=e.element),e.scale&&(t.scale=e.scale);var n=new Kp.Marker(t);if(e.text){var r=new Kp.Popup({offset:35}).setText(e.text);n.setPopup(r)}else if(e.html){r=new Kp.Popup({offset:35}).setHTML(e.html);n.setPopup(r)}return n},e}(),Gm="radar-autocomplete-wrapper",Jm="radar-autocomplete-input",Xm="radar-autocomplete-search-icon",Km="radar-autocomplete-results-list",$m="radar-autocomplete-results-item",Qm="radar-autocomplete-results-marker",ev="radar-autocomplete-results-item-selected",tv="radar-powered",nv="radar-no-results",rv="aria-expanded",av={container:"autocomplete",debounceMS:200,minCharacters:3,limit:8,placeholder:"Search address",responsive:!0,disabled:!1,showMarkers:!0,hideResultsOnBlur:!0},iv=function(e){return"number"===typeof e?"".concat(e,"px"):e},ov=function(e,t){if(t.responsive)return e.style.width="100%",void(t.width&&(e.style.maxWidth=iv(t.width)));e.style.width=iv(t.width||400),e.style.removeProperty("max-width")},sv=function(e,t){t.maxHeight&&(e.style.maxHeight=iv(t.maxHeight),e.style.overflowY="auto")},lv=function(e){void 0===e&&(e="#ACBDC8");var t=e.replace("#","%23"),n='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12.5704 6.57036C12.5704 4.11632 10.6342 2.11257 8.21016 2C8.14262 2 8.06757 2 8.00003 2C7.93249 2 7.85744 2 7.7899 2C5.35838 2.11257 3.42967 4.11632 3.42967 6.57036C3.42967 6.60037 3.42967 6.6379 3.42967 6.66792C3.42967 6.69794 3.42967 6.73546 3.42967 6.76548C3.42967 9.46717 7.09196 13.3621 7.4672 13.7598C7.61729 13.9174 7.84994 14 8.00003 14C8.15012 14 8.38277 13.9174 8.53286 13.7598C8.9156 13.3621 12.5704 9.46717 12.5704 6.76548C12.5704 6.72795 12.5704 6.69794 12.5704 6.66792C12.5704 6.6379 12.5704 6.60037 12.5704 6.57036ZM7.99252 8.28893C7.04693 8.28893 6.27395 7.52345 6.27395 6.57036C6.27395 5.61726 7.03943 4.85178 7.99252 4.85178C8.94562 4.85178 9.7111 5.61726 9.7111 6.57036C9.7111 7.52345 8.94562 8.28893 7.99252 8.28893Z" fill="'.concat(t,'"/>\n  </svg>').trim();return"data:image/svg+xml;charset=utf-8,".concat(n)},cv=function(){function e(e){var t;if(void 0===e&&(e={}),this.config=Object.assign({},av,e),this.isOpen=!1,this.debouncedFetchResults=this.debounce(this.fetchResults,this.config.debounceMS),this.results=[],this.highlightedIndex=-1,void 0!==this.config.threshold&&(this.config.minCharacters=this.config.threshold,tm.warn('AutocompleteUI option "threshold" is deprecated, use "minCharacters" instead.')),e.near&&("string"===typeof e.near?this.near=e.near:this.near="".concat(e.near.latitude,",").concat(e.near.longitude)),!(t="string"===typeof this.config.container?document.getElementById(this.config.container):this.config.container))throw new wm("Could not find container element: ".concat(this.config.container));if(this.container=t,this.wrapper=document.createElement("div"),this.wrapper.classList.add(Gm),this.wrapper.style.display=this.config.responsive?"block":"inline-block",ov(this.wrapper,this.config),this.resultsList=document.createElement("ul"),this.resultsList.classList.add(Km),sv(this.resultsList,this.config),"INPUT"===t.nodeName)this.inputField=t,this.wrapper.appendChild(this.resultsList),t.parentNode.appendChild(this.wrapper);else{this.inputField=document.createElement("input"),this.inputField.classList.add(Jm),this.inputField.placeholder=this.config.placeholder,this.inputField.type="text",this.inputField.disabled=this.config.disabled;var n=document.createElement("div");n.classList.add(Xm),this.wrapper.appendChild(this.inputField),this.wrapper.appendChild(this.resultsList),this.wrapper.appendChild(n),this.container.appendChild(this.wrapper)}this.inputField.addEventListener("input",this.handleInput.bind(this)),this.inputField.addEventListener("keydown",this.handleKeyboardNavigation.bind(this)),this.config.hideResultsOnBlur&&this.inputField.addEventListener("blur",this.close.bind(this),!0),tm.debug("AutocompleteUI iniailized with options: ".concat(JSON.stringify(this.config)))}return e.createAutocomplete=function(t){return new e(t)},e.prototype.handleInput=function(){var e=this,t=this.inputField.value;t.length<this.config.minCharacters||this.debouncedFetchResults(t).then((function(t){var n=e.config.onResults;n&&n(t),e.displayResults(t)})).catch((function(t){tm.warn("Autocomplete ui error: ".concat(t.message));var n=e.config.onError;n&&n(t)}))},e.prototype.debounce=function(e,t){var n,r,a,i=this;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return clearTimeout(n),n=setTimeout((function(){var t=e.apply(i,o);t instanceof Promise&&t.then((function(e){r&&r(e)})).catch((function(e){a&&a(e)}))}),t),new Promise((function(e,t){r=e,a=t}))}},e.prototype.fetchResults=function(e){return om(this,void 0,void 0,(function(){var t,n,r,a,i,o,s;return sm(this,(function(l){switch(l.label){case 0:return t=this.config,n=t.limit,r=t.layers,a=t.countryCode,i=t.expandUnits,o=t.onRequest,s={query:e,limit:n,layers:r,countryCode:a,expandUnits:i},this.near&&(s.near=this.near),o&&o(s),[4,Rm.autocomplete(s)];case 1:return[2,l.sent().addresses]}}))}))},e.prototype.displayResults=function(e){var t,n=this;if(this.clearResultsList(),this.results=e,this.config.showMarkers&&((t=document.createElement("img")).classList.add(Qm),t.setAttribute("src",lv(this.config.markerColor))),e.forEach((function(e,r){var a,i=document.createElement("li");if(i.classList.add($m),e.formattedAddress.includes(e.addressLabel)&&"postalCode"!==e.layer){var o=new RegExp("(".concat(e.addressLabel,"),?"));a=e.formattedAddress.replace(o,"<b>$1</b>")}else{var s=e.placeLabel||e.addressLabel;a="<b>".concat(s,"</b> ").concat(e.formattedAddress)}i.innerHTML=a,t&&i.prepend(t.cloneNode()),i.addEventListener("mousedown",(function(){n.select(r)})),n.resultsList.appendChild(i)})),this.open(),e.length>0){var r=document.createElement("a");r.href="https://radar.com?ref=powered_by_radar",r.target="_blank",this.poweredByLink=r;var a=document.createElement("span");a.textContent="Powered by",r.appendChild(a);var i=document.createElement("span");i.id="radar-powered-logo",r.appendChild(i);var o=document.createElement("div");o.classList.add(tv),o.appendChild(r),this.resultsList.appendChild(o)}else{var s=document.createElement("div");s.classList.add(nv),s.textContent="No results",this.resultsList.appendChild(s)}},e.prototype.open=function(){this.isOpen||(this.wrapper.setAttribute(rv,"true"),this.resultsList.removeAttribute("hidden"),this.isOpen=!0)},e.prototype.close=function(e){var t=this;if(this.isOpen){var n=e&&e.relatedTarget===this.poweredByLink;setTimeout((function(){t.wrapper.removeAttribute(rv),t.resultsList.setAttribute("hidden",""),t.highlightedIndex=-1,t.isOpen=!1,t.clearResultsList()}),n?100:0)}},e.prototype.goTo=function(e){if(this.isOpen&&this.results.length){e<0?e=this.results.length-1:e>=this.results.length&&(e=0);var t=this.resultsList.getElementsByTagName("li");this.highlightedIndex>-1&&t[this.highlightedIndex].classList.remove(ev),t[e].classList.add(ev),this.highlightedIndex=e}},e.prototype.handleKeyboardNavigation=function(e){var t=void 0!==e.code?e.code:e.keyCode;if(this.isOpen)switch(t){case"Tab":case"ArrowDown":case 40:e.preventDefault(),this.goTo(this.highlightedIndex+1);break;case"ArrowUp":case 38:e.preventDefault(),this.goTo(this.highlightedIndex-1);break;case"Enter":case 13:this.select(this.highlightedIndex);break;case"Esc":case 27:this.close()}},e.prototype.select=function(e){var t=this.results[e];if(t){var n;if(t.formattedAddress.includes(t.addressLabel))n=t.formattedAddress;else{var r=t.placeLabel||t.addressLabel;n="".concat(r,", ").concat(t.formattedAddress)}this.inputField.value=n;var a=this.config.onSelection;a&&a(t),this.close()}else tm.warn("No autocomplete result found at index: ".concat(e))},e.prototype.clearResultsList=function(){this.resultsList.innerHTML="",this.results=[]},e.prototype.remove=function(){tm.debug("AutocompleteUI removed."),this.inputField.remove(),this.resultsList.remove(),this.wrapper.remove()},e.prototype.setNear=function(e){return this.near=void 0===e||null===e?void 0:"string"===typeof e?e:"".concat(e.latitude,",").concat(e.longitude),this},e.prototype.setPlaceholder=function(e){return this.config.placeholder=e,this.inputField.placeholder=e,this},e.prototype.setDisabled=function(e){return this.config.disabled=e,this.inputField.disabled=e,this},e.prototype.setResponsive=function(e){return this.config.responsive=e,ov(this.wrapper,this.config),this},e.prototype.setWidth=function(e){return this.config.width=e,ov(this.wrapper,this.config),this},e.prototype.setMaxHeight=function(e){return this.config.maxHeight=e,sv(this.resultsList,this.config),this},e.prototype.setMinCharacters=function(e){return this.config.minCharacters=e,this.config.threshold=e,this},e.prototype.setLimit=function(e){return this.config.limit=e,this},e.prototype.setShowMarkers=function(e){if(this.config.showMarkers=e,e){(r=document.createElement("img")).classList.add(Qm),r.setAttribute("src",lv(this.config.markerColor));for(var t=this.resultsList.getElementsByTagName("li"),n=0;n<t.length;n++){t[n].getElementsByClassName(Qm)[0]||t[n].prepend(r.cloneNode())}}else for(t=this.resultsList.getElementsByTagName("li"),n=0;n<t.length;n++){var r;(r=t[n].getElementsByClassName(Qm)[0])&&r.remove()}return this},e.prototype.setMarkerColor=function(e){this.config.markerColor=e;for(var t=this.resultsList.getElementsByClassName(Qm),n=0;n<t.length;n++)t[n].setAttribute("src",lv(e));return this},e.prototype.setHideResultsOnBlur=function(e){return this.config.hideResultsOnBlur=e,e?this.inputField.addEventListener("blur",this.close.bind(this),!0):this.inputField.removeEventListener("blur",this.close.bind(this),!0),this},e}();!function(){function e(){}Object.defineProperty(e,"VERSION",{get:function(){return Nm},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ui",{get:function(){return{maplibregl:Ym.getMapLibre(),map:Ym.createMap,marker:Ym.createMarker,autocomplete:cv.createAutocomplete}},enumerable:!1,configurable:!0}),e.initialize=function(e,t){if(void 0===t&&(t={}),!e)throw new cm("Publishable key required in initialization.");if(e.includes("_sk_"))throw new cm("Secret keys are not allowed. Please use your Radar publishable key.");var n=function(e){return e.includes("_live_")}(e),r=n?"error":"info",a=!n,i=Object.assign($p.defaultOptions,{publishableKey:e,live:n,logLevel:r,debug:a},t);$p.setup(i),tm.info("initialized with ".concat(n?"live":"test"," publishableKey.")),t.debug&&tm.info("using options: ".concat(JSON.stringify(t))),(null===window||void 0===window?void 0:window.RADAR_TEST_ENV)||Mm.getConfig()},e.clear=function(){$p.clear()},e.setUserId=function(e){e?nm.setItem(nm.USER_ID,String(e).trim()):nm.removeItem(nm.USER_ID)},e.setDescription=function(e){e?nm.setItem(nm.DESCRIPTION,String(e).trim()):nm.removeItem(nm.DESCRIPTION)},e.setMetadata=function(e){e?nm.setItem(nm.METADATA,JSON.stringify(e)):nm.removeItem(nm.METADATA)},e.getLocation=function(){return Cm.getCurrentPosition()},e.trackOnce=function(e){void 0===e&&(e={});try{return Zm.trackOnce(e)}finally{Mm.getConfig(e)}},e.trackVerified=function(e){return void 0===e&&(e={}),Um.trackVerified(e)},e.trackVerifiedToken=function(e){return void 0===e&&(e={}),Um.trackVerified(e,!0)},e.getContext=function(e){return Dm.getContext(e)},e.setTripOptions=function(e){Bm.setTripOptions(e)},e.clearTripOptions=function(){Bm.clearTripOptions()},e.getTripOptions=function(){return Bm.getTripOptions()},e.startTrip=function(e){return Bm.startTrip(e)},e.updateTrip=function(e){return Bm.updateTrip(e)},e.completeTrip=function(){return Bm.completeTrip()},e.cancelTrip=function(){return Bm.cancelTrip()},e.logConversion=function(e){return Lm.logConversion(e)},e.forwardGeocode=function(e){return Om.forwardGeocode(e)},e.reverseGeocode=function(e){return Om.reverseGeocode(e)},e.ipGeocode=function(){return Om.ipGeocode()},e.autocomplete=function(e){return Rm.autocomplete(e)},e.searchGeofences=function(e){return Rm.searchGeofences(e)},e.searchPlaces=function(e){return Rm.searchPlaces(e)},e.validateAddress=function(e){return Tm.validateAddress(e)},e.distance=function(e){return zm.distance(e)},e.matrix=function(e){return zm.matrix(e)}}();Xp();var uv=function(t){var n=t.openTerms,r=t.token,a=(0,e.useState)(!1),o=(0,l.Z)(a,2),c=o[0],u=o[1];function d(e){u(e)}var h=(0,e.useState)(!1),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=(0,e.useState)(!1),g=(0,l.Z)(v,2),y=g[0],x=g[1],b=p?"text":"password",_=y?"text":"password",w=(0,e.useState)(""),k=(0,l.Z)(w,2),j=k[0],S=k[1],C=(0,e.useState)(null),N=(0,l.Z)(C,2),E=N[0],T=N[1],I=(0,e.useState)("No"),A=(0,l.Z)(I,2),P=A[0],M=A[1],D=function(e){return e===P},L=function(e){var t=e.target.value;M(t)};(0,e.useEffect)((function(){"Yes"===P&&T(!0),"No"===P&&T(!1)}),[E,P]);var O=(0,e.useState)({Gmail:"",Fname:"",Lname:"",Mname:"",Address:"",Date:"",Time:"",Reason:"",Relation:"",PatientBday:"",PatientAge:"",Pass:"",Confirm_pass:"",yourFname:"",yourLname:"",yourMname:""}),z=(0,l.Z)(O,2),R=z[0],F=z[1],B=(0,e.useState)(),Z=(0,l.Z)(B,2),U=Z[0],V=Z[1],q=(0,e.useState)([]),H=(0,l.Z)(q,2),W=H[0],Y=H[1];function G(e){F((function(t){return(0,Ir.Z)((0,Ir.Z)({},t),{},(0,Tr.Z)({},e.target.name,e.target.value))}))}(0,e.useEffect)((function(){r||E&&V(R.yourFname+" "+(R.yourMname?R.yourMname+" ":"")+R.yourLname)}),[R]),(0,e.useEffect)((function(){r&&(S(r.user.user_metadata.phone),V(r.user.user_metadata.first_name+" "+(r.user.user_metadata.middle_name?r.user.user_metadata.middle_name+" ":"")+r.user.user_metadata.last_name),F((function(e){return(0,Ir.Z)((0,Ir.Z)({},e),{},{Address:r.user.user_metadata.address})})),!1===E&&F((function(e){return(0,Ir.Z)((0,Ir.Z)({},e),{},{Gmail:r.user.email,Fname:r.user.user_metadata.first_name,Lname:r.user.user_metadata.last_name,Mname:r.user.user_metadata.middle_name,PatientBday:r.user.user_metadata.birth_date})})))}),[r,E]);var J=(0,e.useState)([]),X=(0,l.Z)(J,2),K=X[0],$=X[1],Q=(0,e.useState)(!1),ee=(0,l.Z)(Q,2),te=ee[0],ne=ee[1],re=(0,e.useState)(null),ae=(0,l.Z)(re,2),ie=ae[0],oe=ae[1],se=function(e){e.preventDefault()},le=function(e){e.preventDefault(),ne(!0),oe(URL.createObjectURL(e.dataTransfer.files[0])),$(e.dataTransfer.files)},ce=function(e){e.preventDefault(),ne(!0),oe(URL.createObjectURL(e.target.files[0])),$(e.target.files)},ue=function(e){e.preventDefault(),ne(!1),oe(null),$(null)},de=(0,e.useState)(),he=(0,l.Z)(de,2),fe=he[0],pe=he[1];(0,e.useEffect)((function(){pe(hi())}),[]);var me=(0,e.useState)(!1),ve=(0,l.Z)(me,2),ge=ve[0],ye=ve[1];document.documentElement.style.overflowY=ge?"hidden":"unset";var xe=$n(),be=(0,e.useState)(!1),_e=(0,l.Z)(be,2),we=_e[0],ke=_e[1],je=function(){var e=s(i().mark((function e(t){var n,a,o,s,l,u,d,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ke(!0),e.prev=2,c){e.next=5;break}throw new Error("Please finish the captcha first");case 5:if(te){e.next=9;break}throw new Error("Please finish the payment first");case 9:if(r){e.next=18;break}if(R.Pass===R.Confirm_pass){e.next=12;break}throw new Error("Password doesn't match Confirm Password");case 12:return e.next=14,Kt.auth.signUp({email:R.Gmail,password:R.Pass,sendOtp:!0,options:{emailRedirectTo:"https://leweprojects.github.io/MGHsite/#/Appointment/Success/"+fe,data:{first_name:R.Fname,last_name:R.Lname,middle_name:R.Mname,phone:j,birth_date:R.PatientBday,role:"patient",address:R.Address}}});case 14:if(n=e.sent,!(a=n.error)){e.next=18;break}throw a;case 18:return e.next=20,Kt.storage.from("images").upload(R.Gmail+"/payment/"+fe+"/"+hi(),K[0]);case 20:if(o=e.sent,!(s=o.erro)){e.next=24;break}throw s;case 24:return e.next=26,Kt.from("patient_Appointments").insert([{book_id:fe,doc_id:W.id,appointee:E?U:"",docname:W.name,fname:R.Fname,lname:R.Lname,mname:R.Mname,email:R.Gmail,number:j,date:R.Date,time:R.Time,reason:R.Reason,relation:R.Relation,age:R.PatientAge,bday:R.PatientBday,someone:P,honorific:W.honorific,type:"ol"===W.type?"ol":"f2f",status:"pending confirmation"}]);case 26:if(l=e.sent,!(u=l.error)){e.next=30;break}throw u;case 30:return e.next=32,Kt.from("notification").insert([{book_id:fe,docname:W.name,email:R.Gmail,status:"pending confirmation"}]);case 32:if(d=e.sent,!(h=d.error)){e.next=38;break}throw h;case 38:r&&(xe("/Appointment/Success/"+fe),qa.success("Succesfully appointed",{toastId:"success"})),r||xe("/Appointment/Verifying/"+fe),ne(!1),oe(null),$(null);case 43:e.next=51;break;case 45:e.prev=45,e.t0=e.catch(2),ke(!1),qa.error(e.t0.message,{autoClose:8e3}),console.log(e.t0),ye(!1);case 51:case"end":return e.stop()}}),e,null,[[2,45]])})));return function(t){return e.apply(this,arguments)}}(),Se=(0,e.useState)(),Ce=(0,l.Z)(Se,2),Ne=Ce[0],Ee=Ce[1],Te=(0,e.useState)(!1),Ie=(0,l.Z)(Te,2),Ae=Ie[0],Pe=Ie[1],Me=Qn().id,De=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("dr_information").select().eq("id",Me).single();case 2:t=e.sent,n=t.data,(r=t.error)&&(qa.error(r.message,{autoClose:!1}),console.log(r)),n&&Y(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=W.email;function Oe(){return(Oe=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(Le+"/profile/",{limit:100,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:if(t=e.sent,n=t.data,r=t.error,e.prev=5,!r){e.next=10;break}throw r;case 10:Pe(!0),Ee(n[0].name);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),Pe(!1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}(0,e.useEffect)((function(){W&&function(){Oe.apply(this,arguments)}()}),[W]),(0,e.useEffect)((function(){De(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"dr_information"},(function(){De()})).subscribe()}),[]);var ze=function(){var e=new Date,t=String(e.getDate()+1).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+"-"+n+"-"+t};return(0,e.useEffect)((function(){Ci().init({duration:500})}),[]),(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("div",{className:"sticky top-1 z-50",children:ge&&(0,Br.jsx)(Yp,{setConfirm:ye,doc:W,handleSubmit:je,SubmitLoad:we})}),(0,Br.jsx)("div",{className:"back py-10",children:(0,Br.jsxs)("div",{className:"flex fillup justify-center",children:[(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{"data-aos":"fade-up",className:"text-center flex flex-col items-center mt-[3rem] mr-10",children:[(0,Br.jsx)("img",{className:"px-5 py-3 bg-white shadow-lg max-[1238px]:w-[20rem] w-[20rem]",src:"".concat(Ae?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+W.email+"/profile/"+Ne:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/doc.jpg"),alt:"/"}),(0,Br.jsxs)("p",{"data-aos":"fade-up",className:"font-semibold",children:[W.honorific," ",W.name]}),(0,Br.jsx)("p",{"data-aos":"fade-up",children:W.specialization}),(0,Br.jsxs)("p",{"data-aos":"fade-up",children:[W.subspecial," "]}),(0,Br.jsx)("h1",{className:"font-semibold mt-3 mb-1 ",children:"Schedule"}),(0,Br.jsxs)("div",{className:" shadow-lg",children:[(0,Br.jsxs)("div",{className:"bg-[#0c8914] text-base px-2 py-1 flex justify-between items-center text-white w-full",children:[(0,Br.jsx)("p",{children:"Days"}),(0,Br.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Br.jsx)("p",{children:"Check In"}),(0,Br.jsx)("p",{children:"Check Out"})]})]}),W.schedule&&W.schedule.map((function(e,t){return(0,Br.jsxs)("div",{className:"flex items-center text-base px-2 py-2 bg-slate-100 justify-between",children:[(0,Br.jsxs)("p",{className:"mr-16",children:[" ",e.day.substring(0,3)]}),(0,Br.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,Br.jsx)("p",{children:vi()(new Date("2000-01-01T".concat(e.startTime))).format("LT")}),(0,Br.jsx)("p",{children:vi()(new Date("2000-01-01T".concat(e.endTime))).format("LT")})]})]},t)}))]})]})}),(0,Br.jsxs)("div",{"data-aos":"fade-up",className:"text-center mt-3 w-[60%] text-[#315E30]",children:[(0,Br.jsxs)("h1",{className:"text-5xl font-semibold",children:["Fill up the form to proceed reservation"," "]}),(0,Br.jsx)("span",{className:"text-4xl",children:"ol"===W.type?"(Online Consultation)":"(Face to face Consultation)"}),(0,Br.jsx)("form",{onSubmit:function(e){return ye(!0)||e.preventDefault()},className:"bg-white p-3 rounded-lg shadow-2xl mt-9",children:(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("div",{className:"flex flex-col items-start ml-9 mt-3",children:[(0,Br.jsx)("p",{className:"mb-2 font-semibold",children:"Are you booking an appointment for someone?"}),(0,Br.jsxs)("div",{className:"flex space-x-5",children:[(0,Br.jsxs)("div",{className:"font-thin mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]",children:[(0,Br.jsx)("input",{className:"relative float-left -ml-[1.5rem] mr-1 mt-0.5 h-5 w-5 appearance-none rounded-full border-2 border-solid\r border-neutral-300 before:pointer-events-none before:absolute before:h-4 before:w-4 before:scale-0 before:rounded-full \r before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] after:absolute after:z-[1]\r after:block after:h-4 after:w-4 after:rounded-full after:content-[''] checked:border-primary checked:before:opacity-[0.16] \r checked:after:absolute checked:after:left-1/2 checked:after:top-1/2 checked:after:h-[0.625rem] checked:after:w-[0.625rem] \r checked:after:rounded-full checked:after:border-primary checked:after:bg-primary checked:after:content-[''] \r checked:after:[transform:translate(-50%,-50%)] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] \r focus:shadow-none focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)]\r focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:border-primary checked:focus:before:scale-100 \r checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s]\r ",type:"radio",name:"Someone",autoComplete:"off",onChange:L,value:"Yes",required:!0,checked:D("Yes")}),(0,Br.jsx)("label",{className:"mt-px inline-block pl-[0.15rem] hover:cursor-pointer",children:"Yes"})]}),(0,Br.jsxs)("div",{className:"font-thin mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]",children:[(0,Br.jsx)("input",{className:"relative float-left -ml-[1.5rem] mr-1 mt-0.5 h-5 w-5 appearance-none\r rounded-full border-2 border-solid border-neutral-300 before:pointer-events-none\r before:absolute before:h-4 before:w-4 before:scale-0 before:rounded-full before:bg-transparent\r before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] after:absolute after:z-[1] \r after:block after:h-4 after:w-4 after:rounded-full after:content-[''] checked:border-primary\r checked:before:opacity-[0.16] checked:after:absolute checked:after:left-1/2 checked:after:top-1/2 \r checked:after:h-[0.625rem] checked:after:w-[0.625rem] checked:after:rounded-full checked:after:border-primary\r checked:after:bg-primary  checked:after:content-[''] checked:after:[transform:translate(-50%,-50%)] \r hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] \r focus:shadow-none focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] \r focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s]\r checked:focus:border-primary checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca]\r checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s]",type:"radio",name:"Someone",autoComplete:"off",onChange:L,value:"No",required:!0,checked:D("No")}),(0,Br.jsx)("label",{className:"mt-px inline-block pl-[0.15rem] hover:cursor-pointer",children:"No"})]})]})]}),(0,Br.jsxs)("div",{children:[E?(0,Br.jsx)(qp,{number:j,setNumber:S,onChange:d,isSelected:te,image:ie,handleCancel:ue,handleDragOver:se,handleDrop:le,handleFile:ce,openTerms:n,setFormData:F,visible:p,visible1:y,setVisible1:x,setVisible:m,isOpen:b,isConfirmOpen:_,formData:R,handleChange:G,disablePastDate:ze,token:r,File:K}):(0,Br.jsxs)("div",{"data-aos":"zoom-in-right",className:"grid font-semibold text-left grid-cols-3 gap-5 px-8 mt-5",children:[(0,Br.jsxs)("p",{children:["First name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{type:"text",name:"Fname",value:R.Fname,onChange:G,autoComplete:"on",required:!0,disabled:r,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{children:["Last name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{name:"Lname",value:R.Lname,onChange:G,autoComplete:"on",required:!0,disabled:r,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{children:["Middle name: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{name:"Mname",value:R.Mname,onChange:G,autoComplete:"on",disabled:r,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{children:["Mobile Number:"," ",(0,Br.jsx)("span",{className:"lowercase font-thin text-sm text-green-800",children:"(Input a number only)"}),(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{autoComplete:"on",type:"number",value:j,onChange:function(e){return S(e.target.value.slice(0,11))},required:!0,disabled:r,className:"outline-none rounded-md font-thin border-2 px-2 grid- border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{className:" col-span-2 w-1/2",children:["Email: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{name:"Gmail",autoComplete:"on",onChange:G,value:R.Gmail,disabled:r,required:!0,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"})]}),!r&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("div",{className:"col-span-3 flex -mb-7",children:(0,Br.jsx)("p",{className:"font-thin text-base text-green-600 mb-3",children:"We require you to register in our website in order for you to monitor your appointment status"})}),(0,Br.jsxs)("div",{className:"select-none",children:[(0,Br.jsx)("label",{className:"text-lg",children:"Password"}),(0,Br.jsxs)("div",{className:"flex items-center",children:[(0,Br.jsx)("input",{name:"Pass",type:b,autoComplete:"on",onChange:G,required:!0,className:"outline-none rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"}),(0,Br.jsx)("div",{onClick:function(){return m(!p)},className:"cursor-pointer -ml-7 text-[20px] ",children:p?(0,Br.jsx)(Fr,{}):(0,Br.jsx)(Rr,{})})]})]}),(0,Br.jsxs)("div",{className:"col-span-2 w-1/2",children:["Confrim Password: ",(0,Br.jsx)("br",{}),(0,Br.jsxs)("div",{className:"flex items-center select-none",children:[(0,Br.jsx)("input",{name:"Confirm_pass",type:_,autoComplete:"on",onChange:G,required:!0,className:"outline-none mt-1 rounded-md font-thin border-2 px-2 border-slate-300 focus:border-[#71b967d3] w-full"}),(0,Br.jsx)("div",{onClick:function(){return x(!y)},className:"cursor-pointer -ml-7 text-[20px] ",children:y?(0,Br.jsx)(Fr,{}):(0,Br.jsx)(Rr,{})})]})]})]}),!r&&(0,Br.jsx)("div",{className:"flex",children:(0,Br.jsxs)("p",{children:["Your Date of Birth: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("input",{name:"PatientBday",autoComplete:"on",onChange:G,className:"outline-none border-2 font-thin px-2 h-9 rounded-lg border-slate-300 focus:border-[#71b967d3]",type:"date",required:!0})]})}),(0,Br.jsxs)("div",{className:"col-span-2",children:[(0,Br.jsx)("p",{className:"whitespace-normal ",children:"Select Date of the appointment:"}),(0,Br.jsx)("input",{name:"Date",autoComplete:"on",onChange:G,className:"outline-none border-2 w-44 font-thin px-2 h-9 rounded-lg border-slate-300 focus:border-[#71b967d3]",type:"date",required:!0,min:ze()})]}),(0,Br.jsxs)("p",{className:"col-span-2 row-span-2",children:[(0,Br.jsx)("p",{children:"Address: "}),(0,Br.jsx)("br",{}),(0,Br.jsx)("textarea",{id:"autocomplete",name:"Address",autoComplete:"on",value:R.Address,onChange:G,required:!0,className:"outline-none border-2 font-thin px-2 h-28 rounded-md border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsxs)("p",{className:"col-span-3",children:["Reason/s for booking an appointment: ",(0,Br.jsx)("br",{}),(0,Br.jsx)("textarea",{name:"Reason",autoComplete:"off",onChange:G,placeholder:"Your message here",required:!0,className:"outline-none border-2 font-thin px-3 py-2 h-56 rounded-md border-slate-300 focus:border-[#71b967d3] w-full"})]}),(0,Br.jsx)("p",{className:"col-span-3 text-xl text-center",children:"PAYMENT "}),(0,Br.jsxs)("div",{className:"col-span-3 items-center grid grid-cols-2 font-thin",children:[(0,Br.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Step 1:"})," Scan the QR code to pay using Gcash"]}),(0,Br.jsx)("div",{className:"py-40 w-full place-content-center bg-slate-400 flex whitespace-nowrap text-white font-bold",children:"QR code here"})]}),(0,Br.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Step 2:"})," ","Screenshot your payment receipt and upload here"]}),te?(0,Br.jsxs)("div",{className:"flex flex-col items-center -mb-16",children:[(0,Br.jsx)("img",{className:"object-contain mb-4 rounded-md items-center justify-center w-full h-[20rem]",src:ie,alt:"/"}),(0,Br.jsxs)("ul",{className:"flex",children:[(0,Br.jsxs)("p",{className:"font-semibold whitespace-nowrap mr-2",children:["File name:"," "]}),Array.from(K).map((function(e,t){return(0,Br.jsx)("li",{className:"truncate",children:e.name},t)}))]}),(0,Br.jsx)("div",{className:"flex space-x-4 mb-4",children:(0,Br.jsx)("button",{className:"text-gray-900 bg-white border border-gray-300 focus:outline-none\r transition duration-75 ease-in hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 \r font-medium rounded-lg px-5 dark:bg-gray-800 dark:text-white dark:border-gray-600\r dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:ue,children:"Choose another file"})})]}):(0,Br.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,Br.jsxs)("label",{onDragOver:se,onDrop:le,accept:"image/png, image/jpeg",className:"flex flex-col mb-5 rounded-md items-center justify-center w-[80%] h-[21rem] border-2\r border-gray-300 border-dashed cursor-pointer bg-gray-50 transition duration-100 ease-in dark:hover:bg-bray-800\r dark:bg-gray-700 hover:bg-gray-200 dark:border-gray-600 dark:hover:border-gray-500\r dark:hover:bg-gray-600",children:[(0,Br.jsxs)("div",{className:"flex flex-col items-center pt-5 pb-6",children:[(0,Br.jsx)("svg",{className:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,Br.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,Br.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Click to upload"})," ","or drag and drop"]}),(0,Br.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG or JPG"})]}),(0,Br.jsx)("input",{id:"dropzone-file",onChange:ce,accept:"image/png, image/jpeg",type:"file",className:"hidden"})]})})]})]}),(0,Br.jsx)("div",{className:"col-span-3",children:(0,Br.jsx)(Vp,{sitekey:"6Ld1th8pAAAAAPXTH0voBtx2Zser_ws8kWuSyVPJ",onChange:d})}),(0,Br.jsxs)("div",{className:"flex items-center mb-6 whitespace-nowrap",children:[(0,Br.jsx)("input",{id:"default-checkbox",type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",required:!0}),(0,Br.jsxs)("label",{className:"ml-2 text-sm font-thin",children:["Terms and Condition"," ",(0,Br.jsx)("button",{onClick:n,className:"text-primary",children:"Read More"})]})]})]}),(0,Br.jsx)("div",{className:"col-span-3 mb-6",children:(0,Br.jsx)("button",{type:"submit",className:"bg-[#418D3F] w-full py-1  font-semibold text-xl text-white rounded-md transition duration-10 ease-in-out \r hover:bg-[#A5DD9D] hover:text-[#267124] hover:ring-[#418D3F] hover:ring-[3px]",children:(0,Br.jsx)("div",{className:"flex items-center justify-center",children:"Submit"})})})]})]})})]})]})})]})},dv=n.p+"static/media/doc.af622023f3eb94a5ca6c.jpg";function hv(e){return Or({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"}}]})(e)}function fv(e){return Or({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}]})(e)}var pv=function(t){var n=t.ol,r=(0,e.useState)(!1),a=(0,l.Z)(r,2),o=a[0],c=a[1];var u=(0,e.useRef)();(0,e.useEffect)((function(){if(n){var e=function(e){u.current.contains(e.target)||c(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[c,n]);var d=n.email,h=(0,e.useState)([]),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=(0,e.useState)(!1),g=(0,l.Z)(v,2),y=g[0],x=g[1];function b(){return(b=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(d+"/profile/",{limit:100,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(x(!0),m(n[0].name)),r&&(x(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){n&&function(){b.apply(this,arguments)}()}),[n]),(0,e.useEffect)((function(){Ci().init({duration:500}),Ci().refresh()}),[]),(0,Br.jsx)("section",{className:"text-base flex w-full select-none",children:(0,Br.jsxs)("div",{"data-aos":"fade-up","data-aos-anchor":"#trigger-next",ref:u,onClick:function(e){e.preventDefault(),c(!o)},className:"group/pu bg-white abs mb-3 cursor-pointer text-gray-900 w-full rounded-xl transition duration-75 ease-in hover:bg-slate-100 text-center  ",children:[(0,Br.jsxs)("div",{id:"trigger-next",scope:"row",className:" py-3 mx-6 flex font-medium whitespace-nowrap justify-between",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[4rem] h-[4rem]",src:"".concat(y?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+n.email+"/profile/"+p:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/doc.jpg"),alt:"/"}),(0,Br.jsxs)("div",{className:"ml-4 flex-col text-left text-sm",children:[(0,Br.jsxs)("p",{className:"text-base uppercase font-semibold text-green-800",children:[n.honorific," ",n.name]}),(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Specialization:"," "]}),n.specialization]}),(0,Br.jsxs)("p",{children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Sub-specialization:"," "]}),n.subspecial]})]})]}),(0,Br.jsxs)("div",{className:"flex self-start mt-2",children:[(0,Br.jsx)("p",{className:"bg-primary-500 text-center w-fit px-3 h-fit self-center mr-3 text-white rounded-full",children:n.status}),(0,Br.jsx)("button",{className:" mr-2 text-lg transition duration-200 group-hover/pu:bg-slate-400 p-3 rounded-lg",children:(0,Br.jsx)("div",{children:(0,Br.jsx)(Hr,{className:"".concat(o?"rotate-180 transition duration-300":"rotate-0 transition duration-300")})})})]})]}),(0,Br.jsxs)("div",{className:"".concat(o?"transition-all duration-300 ease-in overflow-y-visible opacity-100 max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden opacity-0 max-h-0"),children:[(0,Br.jsxs)("div",{className:"flex flex-col items-start mx-[6.4rem] mt-3 gap-y-3",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(Rd,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[24px]  text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base text-black",children:["Schedules"," ",(0,Br.jsx)("label",{className:"text-slate-400 flex",children:n.schedule&&n.schedule.map((function(e,t){return(0,Br.jsx)("p",{className:"p-2 rounded-sm mr-2 bg-opacity-20 text-slate-500 bg-green-600",children:"Thursday"===e.day?"Th":e.day[0]+" "},t)}))})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(hv,{className:"text-lg pb-3 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Consultation Type"," ",(0,Br.jsx)("p",{className:"text-slate-400",children:"ol"===n.type?"Online Consultations":"Face to face Consultations"})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[" ",(0,Br.jsx)(uh,{className:"text-lg pr-[2px]pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Email ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.email})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[" ",(0,Br.jsx)(dh,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Phone ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.phone})]})]})]}),(0,Br.jsx)("div",{className:"max-w-full mb-5 flex justify-center space-x-10",children:(0,Br.jsx)(Cr,{to:"/FillupForm/"+n.id,onClick:function(e){return e.stopPropagation()},children:(0,Br.jsx)("button",{className:"text-lg px-20 py-1 transition duration-100 hover:bg-[#377532] bg-[#3dbb34] text-white rounded-md",children:"Book an appointment"})})})]})]})},n.id)},mv=function(t){var n=t.Doctors,r=(t.isList,n.email),a=(0,e.useState)([]),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=(0,e.useState)(!1),h=(0,l.Z)(d,2),f=h[0],p=h[1];function m(){return(m=s(i().mark((function e(){var t,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(r+"/profile/",{limit:100,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,a=t.error,n[0]&&(p(!0),u(n[0].name)),a&&(p(!1),console.log(a));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){n&&function(){m.apply(this,arguments)}(r,u,p)}),[n,r,p,u]),(0,e.useEffect)((function(){Ci().init({duration:500})}),[]),(0,Br.jsx)("div",{"data-aos":"fade-up",className:"text-base flex w-full justify-center select-none",children:(0,Br.jsxs)("div",{className:"docs bg-[#e2ffe3] border-2 border-[#8bc586] max-[941px]:w-[16rem] max-[941px]:text-sm max-[941px]:px-5 max-lg:w-[18rem] max-2xl:px-3 max-sm:w-[11rem] max-sm:text-[11px] max-sm:py-5 py-9 px-6 mb-9 rounded-xl  flex flex-col items-center space-y-3 max-sm:space-y-0 w-[20rem] text-base transition duration-100 ease-in-out ",children:[(0,Br.jsx)("img",{src:"".concat(f?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+n.email+"/profile/"+c:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/doc.jpg"),alt:"/",className:"w-[15rem] bg-white h-[17rem] object-cover max-2xl:w-[13rem] max-sm:w-[10rem] max-sm:mb-3 mb-6 rounded-lg","data-aos-anchor-placement":"top-bottom"}),(0,Br.jsxs)("div",{className:"w-full items-center flex flex-col",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("span",{className:"mr-2 font-bold",children:"Name:"}),(0,Br.jsx)("p",{className:"",children:n.name})]}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("span",{className:"mr-2 w-fit whitespace-nowrap font-bold",children:"Specialization:"}),(0,Br.jsx)("p",{className:" whitespace-nowrap overflow-hidden max-sm:max-w-[4.3rem] text-center overflow-ellipsis",children:n.specialization})]}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsxs)("span",{className:"mr-2 w-fit whitespace-nowrap font-bold",children:["Sub-Special:"," "]}),(0,Br.jsx)("p",{className:"max-w-[10rem] max-[941px]:max-w-[7rem] max-sm:max-w-[4.3rem] whitespace-nowrap overflow-hidden text-center overflow-ellipsis",children:n.subspecial})]}),(0,Br.jsxs)("div",{className:"flex flex-col w-full items-center",children:[(0,Br.jsx)("span",{className:"mr-2 font-semibold text-slate-100 w-full bg-[#51b348] my-2 flex justify-center",children:"Schedule"}),(0,Br.jsx)("div",{className:"mb-2 flex",children:n.schedule&&n.schedule.map((function(e){return(0,Br.jsx)("p",{className:"p-2 rounded-sm mr-2 mb-2 bg-opacity-40 text-slate-900 bg-[#67a76c]",children:"Thursday"===e.day?"Th":e.day[0]})}))})]})]}),(0,Br.jsx)(Cr,{to:"/FillupForm/"+n.id,className:"text-base max-sm:text-[11px] Docbtn max-sm:px-1 max-sm:py-0 whitespace-nowrap bg-[#418D3F] max-[941px]:text-sm p-2 rounded-md text-white font-bold ring-[#418D3F] ring-2 transition duration-75 ease-in hover:bg-[#A5DD9D] hover:text-[#267124]",children:"BOOK AN APPOINTMENT"})]})},n.id)},vv=JSON.parse('[{"id":0,"Specialization":"---"},{"id":1,"Specialization":"Cardiology"},{"id":2,"Specialization":"Dental Medicine"},{"id":3,"Specialization":"Dermatology"},{"id":4,"Specialization":"Emergency Medicine"},{"id":5,"Specialization":"Genetic Counseling"},{"id":6,"Specialization":"Infectious Disease"},{"id":7,"Specialization":"Internal Medicine"},{"id":8,"Specialization":"Medical Affairs"},{"id":9,"Specialization":"Medico-Legal"},{"id":10,"Specialization":"Neurology"}]'),gv=JSON.parse('[{"id":1,"SubSpecialization":"Addiction Psychiatry"},{"id":2,"SubSpecialization":"Adult Psychiatry"},{"id":3,"SubSpecialization":"Child and Adolescent Psychiatry"},{"id":4,"SubSpecialization":"Clinical Toxicology"},{"id":6,"SubSpecialization":"Consultation-Liason Psychiatry"},{"id":7,"SubSpecialization":"General Psychiatry"},{"id":8,"SubSpecialization":"Mood Disorder"},{"id":9,"SubSpecialization":"Post Traumatic Stress Disorder"},{"id":10,"SubSpecialization":"Psycho-Oncology"},{"id":11,"SubSpecialization":"Psychopharmacology"},{"id":12,"SubSpecialization":"Psychosomatic Medicine"},{"id":13,"SubSpecialization":"Public Psychiatry"}]');function yv(e){return Or({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9 2h-5c-1.103 0-2 .896-2 2v5c0 1.104.897 2 2 2h5c1.103 0 2-.896 2-2v-5c0-1.104-.897-2-2-2zm0 7h-5v-5h5v5zM20 2h-5c-1.104 0-2 .896-2 2v5c0 1.104.896 2 2 2h5c1.104 0 2-.896 2-2v-5c0-1.104-.896-2-2-2zm0 7h-5v-5h5v5zM9 13h-5c-1.103 0-2 .896-2 2v5c0 1.104.897 2 2 2h5c1.103 0 2-.896 2-2v-5c0-1.104-.897-2-2-2zm0 7h-5v-5h5v5zM20 13h-5c-1.104 0-2 .896-2 2v5c0 1.104.896 2 2 2h5c1.104 0 2-.896 2-2v-5c0-1.104-.896-2-2-2zm0 7h-5v-5h5v5z"}}]})(e)}function xv(e){return Or({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 18c.55 0 1 .45 1 1s-.45 1-1 1h-7c-.55 0-1-.45-1-1s.45-1 1-1h7m0-2h-7c-1.654 0-3 1.346-3 3s1.346 3 3 3h7c1.654 0 3-1.346 3-3s-1.346-3-3-3zM19 11c.55 0 1 .45 1 1s-.45 1-1 1h-7c-.55 0-1-.45-1-1s.45-1 1-1h7m0-2h-7c-1.654 0-3 1.346-3 3s1.346 3 3 3h7c1.654 0 3-1.346 3-3s-1.346-3-3-3zM19 4c.55 0 1 .45 1 1s-.45 1-1 1h-7c-.55 0-1-.45-1-1s.45-1 1-1h7m0-2h-7c-1.654 0-3 1.346-3 3s1.346 3 3 3h7c1.654 0 3-1.346 3-3s-1.346-3-3-3zM6 16h-2c-1.104 0-2 .896-2 2v2c0 1.104.896 2 2 2h2c1.104 0 2-.896 2-2v-2c0-1.104-.896-2-2-2zm0 4h-2v-2h2v2zM6 9h-2c-1.104 0-2 .896-2 2v2c0 1.104.896 2 2 2h2c1.104 0 2-.896 2-2v-2c0-1.104-.896-2-2-2zm0 4h-2v-2h2v2zM6 2h-2c-1.104 0-2 .896-2 2v2c0 1.104.896 2 2 2h2c1.104 0 2-.896 2-2v-2c0-1.104-.896-2-2-2zm0 4h-2v-2h2v2z"}}]})(e)}var bv=function(){var t=(0,e.useState)(""),n=(0,l.Z)(t,2),r=n[0],a=n[1],o=(0,e.useState)(""),c=(0,l.Z)(o,2),u=c[0],d=c[1],h=(0,e.useState)(""),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=(0,e.useState)(null),g=(0,l.Z)(v,2),y=g[0],x=g[1],b=(0,e.useState)([]),_=(0,l.Z)(b,2),w=_[0],k=_[1],j=(0,e.useState)(!1),S=(0,l.Z)(j,2),C=S[0],N=S[1],E=(0,e.useState)(""),T=(0,l.Z)(E,2),I=T[0],A=T[1];"---"===u&&d(""),"---"===p&&m(""),"---"===I&&A(""),console.log(I);var P=(0,e.useState)(!0),M=(0,l.Z)(P,2),D=M[0],L=M[1];(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("dr_information").select("*");case 2:t=e.sent,n=t.data,(a=t.error)?console.error("Failed to fetch",a.message):(n&&(o=n.filter((function(e){return!!r&&e.name.toLowerCase().includes(r.toLowerCase())})),k(o)),""===r&&k(""));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]);var O=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("dr_information").select("*");case 2:if(t=e.sent,n=t.data,(r=t.error)&&(x(null),console.log(r)),!n){e.next=8;break}return e.abrupt("return",x(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){O(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"dr_information"},(function(){O()})).subscribe()}),[]);var z=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),d("---"),m("---"),A("---"),e.next=6,Kt.from("dr_information").select("*");case 6:t=e.sent,n=t.data,(r=t.error)&&console.error("Failed to fetch",r.message),x(n),N(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=s(i().mark((function e(){var t,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r||u||p||I){e.next=4;break}N(!0),e.next=16;break;case 4:return N(!1),e.next=7,Kt.from("dr_information").select("*");case 7:if(t=e.sent,n=t.data,!(a=t.error)){e.next=13;break}return console.error("Error searching for data:",a.message),e.abrupt("return");case 13:o=n.filter((function(e){var t=!r||e.name.toLowerCase().includes(r.toLowerCase()),n=!u||e.specialization.toLowerCase().includes(u.toLowerCase()),a=!p||e.subspecial.toLowerCase().includes(p.toLowerCase()),i=!I||e.type.toLowerCase().includes("Face to Face Consult"===I?"f2f":"ol");return t&&n&&a&&i})),x(o),0===o.length?(N(!0),x("")):N(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){Ci().init({duration:500})}),[]);var F=(0,e.useState)(!1),B=(0,l.Z)(F,2),Z=B[0],U=B[1];return(0,Br.jsxs)("div",{className:"back items-center flex flex-col h-auto min-h-screen",children:[(0,Br.jsxs)("div",{className:"hero2 px-28 py-28 max-sm:px-10 max-sm:py-10 max-sm:space-y-4 flex flex-col text-center items-center text-white space-y-14 w-full","data-aos":"fade-up",children:[(0,Br.jsx)("p",{className:"text-5xl max-sm:text-3xl font-semibold","data-aos":"fade-up",children:"RESERVE AN APPOINTMENT NOW!"}),(0,Br.jsx)("p",{className:"text-3xl max-sm:text-lg font-light whitespace-nowrap","data-aos":"fade-up",children:"Let us assist your appointment either online or onsite."})]}),(0,Br.jsxs)("div",{className:"grid grid-cols-4 w-full justify-center mt-10 mb-9 items-end",children:[(0,Br.jsx)("div",{className:""}),(0,Br.jsxs)("div",{className:"flex flex-col col-span-2 items-center",children:[(0,Br.jsx)("h1",{className:"text-4xl font-semibold text-[#315E30] mb-10","data-aos":"fade-up",children:"Find a Doctor"}),(0,Br.jsx)("div",{className:"find bg-white flex items-center search_box flex-col px-10 outbox py-8 rounded-md","data-aos":"zoom-in-up",children:(0,Br.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Br.jsxs)("div",{className:"grid grid-cols-4 containtsearch",children:[(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"Doctor's Name"}),(0,Br.jsx)("input",{type:"text",placeholder:"Enter Name",className:"py-1 mr-6 serachInput text-base bg-white border-2 border-r-transparent border-t-transparent border-l-transparent focus:outline-none  focus:border-b-[#315E30]",value:r,onChange:function(e){a(e.target.value),L(!0)}}),D&&w&&(0,Br.jsx)("div",{className:"absolute abs w-48 flex flex-wrap text-sm bg-white z-50",children:w.map((function(e){return(0,Br.jsx)("li",{onClick:function(){return t=e.name,a(t),L(!1),void console.log(t);var t},className:"list-none px-2 my-1 cursor-pointer w-full hover:bg-primary hover:text-white",children:e.name},e.id)}))})]}),(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"Specialization"}),(0,Br.jsx)("div",{className:"flex mr-10",children:(0,Br.jsx)("select",{className:"w-44 py-2 text-base serachInput duration-100 border-b-2 focus:outline-[#315E30]",value:u,onChange:function(e){return d(e.target.value)},children:vv.map((function(e){return(0,Br.jsx)("option",{children:e.Specialization},e.id)}))})})]}),(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"Sub-Specialization"}),(0,Br.jsx)("div",{className:"flex mr-10",children:(0,Br.jsxs)("select",{id:"finddoctor-form-subspec",value:p,onChange:function(e){return m(e.target.value)},className:"w-44 py-2 text-base serachInput duration-100 border-b-2 focus:outline-[#315E30]",children:[(0,Br.jsx)("option",{children:"---"},""),gv.map((function(e){return(0,Br.jsx)("option",{children:e.SubSpecialization},e.id)}))]})})]}),(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"Consultation Type"}),(0,Br.jsxs)("select",{value:I,onChange:function(e){return A(e.target.value)},className:"py-2 serachInput w-48 text-base bg-white border-2 border-r-transparent border-t-transparent border-l-transparent focus:outline-none  focus:border-b-[#315E30]",children:[(0,Br.jsx)("option",{id:"0",children:"---"}),(0,Br.jsx)("option",{id:"1",children:"Face to Face Consult"}),(0,Br.jsx)("option",{id:"2",children:"Online Consult"})]})]})]}),(0,Br.jsx)("button",{type:"submit","data-aos-anchor-placement":"top-bottom","data-aos":"fade-up",onClick:R,className:"bg-[#418D3F] searchbutton w-2/5 py-1 font-semibold text-xl text-white rounded-md transition duration-10 ease-in-out hover:bg-[#A5DD9D] hover:text-[#267124] hover:ring-[#418D3F] hover:ring-[3px]",children:"SEARCH"}),(0,Br.jsx)("button",{"data-aos-anchor-placement":"top-bottom","data-aos":"fade-up",onClick:z,className:"text-[#267124] resetbutton text-lg",children:"reset"})]})})]}),(0,Br.jsxs)("div",{className:"flex ml-8 text-4xl text-green-800 space-x-3",children:[(0,Br.jsx)("div",{className:""}),(0,Br.jsx)(yv,{onClick:function(){return U(!1)},className:"".concat(!Z&&"bg-[#7bbb7ec0]"," p-[6px] cursor-pointer rounded-md bg-[#9beb9fc0] shadow-lg transition duration-75 hover:bg-[#7bbb7ec0]")}),(0,Br.jsx)(xv,{onClick:function(){return U(!0)},className:"".concat(Z&&"bg-[#7bbb7ec0]"," p-[6px] cursor-pointer rounded-md bg-[#9beb9fc0] shadow-lg transition duration-75 hover:bg-[#7bbb7ec0]")})]})]}),C&&(0,Br.jsx)("p",{className:"grid grid-flow-col gap-x-12 py-8 text-2xl font-semibold text-[#1c531b]","data-aos":"fade-down",children:"No results found"}),!Z&&(0,Br.jsx)("div",{className:"grid -z-[0] md:grid-cols-3 max-[844px]:grid-cols-2 mx-auto justify-center max-sm:gap-y-0 xl:grid-cols-4 gap-x-10 gap-y-2",children:null===y||void 0===y?void 0:y.map((function(e){return(0,Br.jsx)(mv,{Doctors:e},e.id)}))}),Z&&(0,Br.jsx)("div",{className:"flex flex-col w-[60%] space-y-2 mb-3 items-center",children:null===y||void 0===y?void 0:y.map((function(e){return(0,Br.jsx)(pv,{ol:e},e.id)}))})]})};ra();var _v=function(e){var t=e.setImageModal,n=e.CDNURL,r=e.email,a=e.book_id,i=e.payImg;return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen flex items-center justify-center",children:(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("div",{className:"w-full flex justify-end items-center text-5xl p-3  -mb-[3.9rem] z-50",children:(0,Br.jsx)(Ka,{onClick:function(e){return t(!1)||e.preventDefault()},className:"hover:text-white transition duration-100 cursor-pointer"})}),i?(0,Br.jsx)("img",{className:"object-cover bg-white shadow-xl w-full mb-5 h-[40rem]",src:n+r+"/payment/"+a+"/"+i,alt:"/"}):(0,Br.jsx)("p",{children:"No Payment Sent"})]})})},wv=function(e){var t=e.isSelected,n=e.image,r=e.handleCancel,a=e.handleDragOver,i=e.handleDrop,o=e.handleFile,s=e.File;return(0,Br.jsx)("div",{className:"flex flex-col items-center",children:t?(0,Br.jsxs)("div",{className:"flex flex-col items-center w-full -mb-16",children:[(0,Br.jsx)("img",{className:"object-contain mb-4 rounded-md items-center justify-center w-full h-[20rem]",src:n,alt:"/"}),(0,Br.jsxs)("ul",{className:"flex",children:[(0,Br.jsx)("p",{className:"font-semibold mr-2",children:"File name: "}),Array.from(s).map((function(e,t){return(0,Br.jsx)("li",{className:"truncate max-w-[14rem]",children:e.name},t)}))]}),(0,Br.jsx)("div",{className:"flex space-x-4 mb-4",children:(0,Br.jsx)("button",{className:"text-gray-900 bg-white border border-gray-300 focus:outline-none\r transition duration-75 ease-in hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 \r font-medium rounded-lg px-5 dark:bg-gray-800 dark:text-white dark:border-gray-600\r dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:r,children:"Choose another file"})})]}):(0,Br.jsx)("div",{className:"flex w-full justify-center",children:(0,Br.jsxs)("label",{onDragOver:a,onDrop:i,accept:"image/png, image/jpeg",className:"flex flex-col mb-5 rounded-md items-center justify-center w-[20rem] h-[20rem] border-2\r border-gray-300 border-dashed cursor-pointer bg-gray-50 transition duration-100 ease-in dark:hover:bg-bray-800\r dark:bg-gray-700 hover:bg-gray-200 dark:border-gray-600 dark:hover:border-gray-500\r dark:hover:bg-gray-600",children:[(0,Br.jsxs)("div",{className:"flex flex-col items-center pt-5 pb-6",children:[(0,Br.jsx)("svg",{className:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,Br.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,Br.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,Br.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG or JPG"})]}),(0,Br.jsx)("input",{id:"dropzone-file",onChange:o,accept:"image/png, image/jpeg",type:"file",className:"hidden"})]})})})},kv=function(t){var n=t.setAddImg,r=t.payImg,a=t.data,o=(0,e.useRef)();(0,e.useEffect)((function(){var e=function(e){o.current.contains(e.target)||n(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[n]);var c=(0,e.useState)([]),u=(0,l.Z)(c,2),d=u[0],h=u[1],f=(0,e.useState)(!1),p=(0,l.Z)(f,2),m=p[0],v=p[1],g=(0,e.useState)(null),y=(0,l.Z)(g,2),x=y[0],b=y[1];function _(){return(_=s(i().mark((function e(t){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!1),t.preventDefault(),e.next=4,Kt.storage.from("images").upload(a.email+"/payment/"+a.book_id+"/"+hi(),d[0]);case 4:if(r=e.sent,o=r.error,e.prev=6,!o){e.next=11;break}throw o;case 11:window.location.reload();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),qa.error(e.t0.message,{autoClose:!1});case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{ref:o,className:"bg-white sticky -mt-[8rem] flex w-fit  flex-col items-center abs rounded-lg p-6",children:(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsx)("div",{className:"flex",children:(0,Br.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Br.jsxs)("div",{className:" font-semibold text-left w-full text-xl mb-3",children:["Add Another Screenshot",(0,Br.jsx)("p",{className:"text-base font-light text-primary mt-2",children:"Adding screenshot only gives you 2 attempts"}),(0,Br.jsxs)("p",{className:"text-base font-light mt-1",children:["You have"," ",(0,Br.jsx)("span",{className:"font-semibold",children:3-r.length})," ","attempt/s left"]})]}),(0,Br.jsx)(wv,{isSelected:m,image:x,handleCancel:function(e){e.stopPropagation(),v(!1),b(null),h(null)},handleDragOver:function(e){e.preventDefault()},handleDrop:function(e){e.preventDefault(),v(!0),b(URL.createObjectURL(e.dataTransfer.files[0])),h(e.dataTransfer.files)},handleFile:function(e){e.preventDefault(),v(!0),b(URL.createObjectURL(e.target.files[0])),h(e.target.files)},File:d}),(0,Br.jsxs)("div",{className:"".concat(m?"flex items-center justify-between w-full space-x-2 mt-16":"flex items-center justify-between w-full space-x-2 mt-3"),children:[(0,Br.jsx)("button",{onClick:function(e){return n(!1)||e.preventDefault()},className:"w-full py-1 bg-slate-100 border-2 transition duration-100 hover:bg-slate-300 border-slate-300 rounded-md",children:"Cancel"}),(0,Br.jsx)("button",{onClick:function(e){return _.apply(this,arguments)},className:"w-full py-1 bg-green-600 transition duration-100 hover:bg-green-800 text-white rounded-md",children:"Confirm"})]})]})})})})})},jv=n(1146),Sv=n.n(jv);function Cv(e){return Or({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M17 6h-3.008v-1.818l-4.503-4.182h-6.497v6h-2.992v8h3v3.1h11v-3.1h3v-8zM9.992 1.832l2.335 2.168h-2.335v-2.168zM3.992 1h5v4h4v1h-9v-5zM13 16.1h-9v-5h9v5zM16 13h-2v-2.9h-11v2.9h-2v-6h15v6zM11.006 13h-6.006v-1h6.006v1zM9 15h-4v-1h4v1zM3 9h-1v-1h1v1zM5 9h-1v-1h1v1z"}}]})(e)}var Nv=function(e){var t=e.data,n=e.isImgEmpty,r=e.CDNURL,a=e.imgName,i=e.isSomeone,o=e.payImg,s=e.Doc,l=e.isDocImgEmpty,c=e.docImg,u=e.AppPrint;return(0,Br.jsxs)("div",{ref:u,className:"flex flex-col items-center w-full",children:[(0,Br.jsx)("h1",{className:"text-3xl font-semibold w-full flex justify-center text-center",children:"Appointment Details"}),(0,Br.jsxs)("div",{className:"grid grid-cols-3 gap-x-4 row-span-2 w-full",children:[(0,Br.jsxs)("div",{className:"flex flex-col row-span-2 ",children:[(0,Br.jsx)("img",{className:"object-cover rounded-sm shadow-xl w-[13rem] mb-5 h-[13rem]",src:"".concat(n?r+t.email+"/profile/"+a:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("div",{className:"w-full space-y-8",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient Name:"}),(0,Br.jsx)("br",{}),t.fname," ",t.lname]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient Email:"}),(0,Br.jsx)("br",{}),t.email]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Contact Number:"}),(0,Br.jsx)("br",{}),t.number]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-12 space-y-10 row-span-2",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Booking Reference id:"}),(0,Br.jsx)("br",{}),t.book_id]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Booked at:"}),(0,Br.jsx)("br",{}),vi()(new Date(t.created_at)).format("lll")]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Appointment day:"}),(0,Br.jsx)("br",{}),vi()(new Date(t.date)).format("ll")]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient Birthdate:"}),(0,Br.jsx)("br",{}),vi()(new Date(t.bday)).format("ll")]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Reason of appointment:"}),(0,Br.jsx)("br",{}),t.reason]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-10",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Booked for someone?"}),(0,Br.jsx)("br",{}),t.someone]}),i&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Relation of patient to the person who booked:"}),(0,Br.jsx)("br",{}),t.relation]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Name of the authorized representative:"}),(0,Br.jsx)("br",{}),t.appointee]})]}),(0,Br.jsx)("div",{className:"flex flex-col text-left items-left mt-10 w-full space-y-3",children:"rejected"===t.status?(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Status:"}),(0,Br.jsx)("p",{className:"text-white rounded-full bg-red-500 w-fit",children:t.status}),(0,Br.jsx)("p",{className:"font-semibold mt-2",children:"remark:"}),(0,Br.jsx)("p",{children:t.remark})]})}):(0,Br.jsxs)(Br.Fragment,{children:["Confirmed"===t.status&&(0,Br.jsxs)("div",{className:"flex flex-col justify-start h-full space-x-3",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Queuing Number:"}),(0,Br.jsx)("h2",{className:"text-6xl font-semibold",children:t.queue})]}),(0,Br.jsxs)("div",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Status:"}),(0,Br.jsx)("br",{}),(0,Br.jsx)("p",{className:"rounded-full bg-primary w-fit",children:t.status})]})]})})]}),(0,Br.jsx)("div",{className:"col-span-3 w-full h-full mt-6"}),(0,Br.jsxs)("div",{className:"flex flex-col space-x-3 mb-14",children:[(0,Br.jsx)("h1",{className:"font-semibold",children:"Payment Screenshot/s:"}),o?(0,Br.jsx)(Br.Fragment,{children:o.map((function(e,n){return(0,Br.jsxs)("div",{className:"flex flex-col text-left",children:[(0,Br.jsxs)("p",{className:"w-full",children:[0===n&&"1st attempt",1===n&&"2nd attempt",2===n&&"last attempt"]}),(0,Br.jsx)("img",{className:"object-cover cursor-pointer shadow-xl w-[13rem] mb-5 h-[13rem]",src:r+t.email+"/payment/"+t.book_id+"/"+e.name,alt:"/"})]},n)}))}):(0,Br.jsx)("p",{children:"No Payment Sent"})]})]}),(0,Br.jsxs)("div",{className:"grid grid-cols-3 w-full text-lg row-span-2 gap-3",children:[(0,Br.jsx)("h1",{className:"text-3xl col-span-4 mt-16 font-semibold w-full flex justify-center text-center",children:"Doctor's Details"}),s&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("div",{className:"flex flex-col  text-center items-center",children:(0,Br.jsx)("img",{className:"object-cover rounded-md shadow-xl w-[15rem] mb-5 h-[15rem]",src:"".concat(l?r+s.email+"/profile/"+c:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/doc.jpg"),alt:"/"})}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-8 pr-6",children:[(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Doctor's Name:"}),(0,Br.jsx)("br",{}),s.honorific," ",s.name]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Consultation type:"}),(0,Br.jsx)("br",{}),"ol"===s.type?"Online Consultation":"Face to face"]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-8 pr-6",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Doctor id:"}),(0,Br.jsx)("br",{}),s.id]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Specialization:"}),(0,Br.jsx)("br",{}),s.specialization]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Sub-specialization:"}),(0,Br.jsx)("br",{}),s.subspecial]})]})]}),(0,Br.jsx)("div",{className:"col-span-4 flex justify-start text-xl font-semibold ",children:(0,Br.jsx)("p",{children:"Schedule"})}),(0,Br.jsxs)("div",{className:"flex-col items-center col-span-3",children:[(0,Br.jsxs)("div",{className:"bg-green-600 grid grid-cols-4 w-full py-2 col-span-4 justify-center px-10",children:[(0,Br.jsx)("p",{className:"col-span-2",children:"Days"}),(0,Br.jsx)("p",{className:"text-center",children:"Check In"}),(0,Br.jsx)("p",{className:"text-center",children:"Check Out"})]}),s.schedule&&s.schedule.map((function(e,t){return(0,Br.jsxs)("div",{className:"col-span-3 bg-slate-200 py-2 grid grid-cols-4 w-full my-3 px-10",children:[(0,Br.jsx)("div",{className:"col-span-2 ",children:e.day}),(0,Br.jsx)("div",{className:"text-center",children:vi()(new Date("2000-01-01T".concat(e.startTime))).format("LT")}),(0,Br.jsx)("div",{className:"text-center",children:vi()(new Date("2000-01-01T".concat(e.endTime))).format("LT")})]},t)}))]})]})]})};function Ev(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4"}},{tag:"path",attr:{d:"M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}},{tag:"path",attr:{d:"M15 3v4"}},{tag:"path",attr:{d:"M7 3v4"}},{tag:"path",attr:{d:"M3 11h16"}},{tag:"path",attr:{d:"M18 16.496v1.504l1 1"}}]})(e)}function Tv(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 17v-10l7 10v-10"}},{tag:"path",attr:{d:"M15 17h5"}},{tag:"path",attr:{d:"M17.5 10m-2.5 0a2.5 3 0 1 0 5 0a2.5 3 0 1 0 -5 0"}}]})(e)}function Iv(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 5v14l8 -7z"}},{tag:"path",attr:{d:"M14 5v14l8 -7z"}}]})(e)}ra();var Av=function(t){var n=t.setResched,r=t.id,a=(t.user,(0,e.useState)()),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=(0,e.useState)(),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)(),v=(0,l.Z)(m,2),g=v[0],y=v[1];function x(){return b.apply(this,arguments)}function b(){return(b=s(i().mark((function e(){var t,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("patient_Appointments").select("reschedcount").eq("book_id",r).single();case 2:if(t=e.sent,n=t.data,!(a=t.error)){e.next=7;break}throw a;case 7:y(n.reschedcount);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=s(i().mark((function e(t){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n(!1),e.prev=2,e.next=5,Kt.from("patient_Appointments").update({status:"pending request",date:c,remark:f,reschedcount:g+1}).eq("book_id",r);case 5:if(a=e.sent,!(o=a.error)){e.next=11;break}throw o;case 11:qa.success("Appointment requested succesfully!");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),qa.error(e.t0.message),console.log(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}(0,e.useEffect)((function(){x();var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=Kt.channel("room13").on("postgres_changes",{event:"UPDATE",schema:"public",table:"patient_Appointments",filter:"book_id=eq.".concat(r)},(function(e){y(e.new.reschedcount)})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),console.log(3-g);return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{className:"bg-white sticky -mt-[8rem] flex w-[29rem] flex-col items-center abs rounded-lg p-6",children:(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("div",{className:"h-full",children:(0,Br.jsx)(Ev,{className:"text-4xl mr-3 mt-2 text-primary-500"})}),(0,Br.jsxs)("form",{onSubmit:function(e){return _.apply(this,arguments)},className:"flex flex-col items-start",children:[(0,Br.jsx)("h1",{className:"font-semibold text-xl flex items-end",children:(0,Br.jsx)("span",{children:"Request Reschedule"})}),(0,Br.jsxs)("div",{className:"text-primary mb-3",children:["Requesting a reschedule is only allowed for 3 attempts."," ",(0,Br.jsxs)("span",{className:"text-black",children:["You have ",(0,Br.jsx)("span",{className:"font-semibold",children:3-g})," attempts left."]})]}),(0,Br.jsx)("p",{className:"mb-4",children:"Are you sure you want to request a reschedule for your appointment?"}),(0,Br.jsx)("p",{children:"Select a date to reshedule:"}),(0,Br.jsx)("input",{required:!0,onChange:function(e){return u(e.target.value)},type:"date",min:function(){var e=new Date,t=String(e.getDate()+1).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+"-"+n+"-"+t}(),className:"mb-4 bg-slate-200 px-3 py-1 w-[60%] focus:border-2 border-b-2 border-slate-400"}),(0,Br.jsx)("p",{children:"Reason for rescheduling:"}),(0,Br.jsx)("input",{required:!0,onChange:function(e){return p(e.target.value)},type:"text",className:"mb-4 bg-slate-200 px-3 py-1 w-[80%] focus:border-2 border-b-2 border-slate-400"}),(0,Br.jsxs)("div",{className:"flex items-center justify-end w-full space-x-2 mt-3",children:[(0,Br.jsx)("button",{onClick:function(e){return n(!1)||e.preventDefault()},className:"px-9 py-1 bg-slate-100 border-2 transition duration-100 hover:bg-slate-300 border-slate-300 rounded-md",children:"Cancel"}),(0,Br.jsx)("button",{className:"px-9 py-1 bg-primary-600 transition duration-100 hover:bg-primary-800 text-white rounded-md",children:"Confirm"})]})]})]})})})})},Pv=function(){var t="https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/",n=(0,e.useState)([]),r=(0,l.Z)(n,2),a=r[0],o=r[1],c=(0,e.useState)(!1),u=(0,l.Z)(c,2),d=u[0],h=u[1],f=(0,e.useRef)(),p=Qn().id,m=(0,e.useState)(""),v=(0,l.Z)(m,2),g=v[0],y=v[1],x=(0,e.useState)(!0),b=(0,l.Z)(x,2),_=b[0],w=b[1],k=(0,e.useState)(""),j=(0,l.Z)(k,2),S=j[0],C=j[1],N=(0,e.useState)(),E=(0,l.Z)(N,2),T=E[0],I=E[1],A=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("patient_Appointments").select().eq("book_id",p).single();case 2:t=e.sent,n=t.data,(r=t.error)&&qa.error(r+" error",{toastId:"error"}),"Yes"===n.someone?I(!0):I(!1),C(n.email),y(n),w(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return t=Kt.channel("room20").on("postgres_changes",{event:"UPDATE",schema:"public",table:"patient_Appointments",filter:"book_id=eq.".concat(p)},(function(e){A(e.new.data)})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,e.useEffect)((function(){if(S){var e=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(S+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(h(!0),o(n[0].name)),r&&(h(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[o,S,h]);var P=(0,e.useState)([]),M=(0,l.Z)(P,2),D=M[0],L=M[1];function O(){return z.apply(this,arguments)}function z(){return z=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.docname){e.next=15;break}return e.next=3,Kt.from("dr_information").select().eq("id",g.doc_id).single();case 3:if(t=e.sent,n=t.data,r=t.error,e.prev=6,!r){e.next=9;break}throw r;case 9:L(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])}))),z.apply(this,arguments)}var R=(0,e.useState)(),F=(0,l.Z)(R,2),B=F[0],Z=F[1],U=(0,e.useState)(!1),V=(0,l.Z)(U,2),q=V[0],H=V[1];(0,e.useEffect)((function(){if(D.email){var e=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(D.email+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(H(!0),Z(n[0].name)),r&&(H(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[D]),(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:return t=Kt.channel("custom-all-channel").on("postgres_changes",{event:"UPDATE",schema:"public",table:"dr_information",filter:"name=eq.".concat(g.docname)},(function(e){O(e.new.data)})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[g.docname]);var W=(0,e.useState)([]),Y=(0,l.Z)(W,2),G=Y[0],J=Y[1],X=(0,e.useState)(),K=(0,l.Z)(X,2),$=K[0],Q=K[1],ee=(0,e.useState)(!1),te=(0,l.Z)(ee,2),ne=te[0],re=te[1],ae=(0,e.useState)(!1),ie=(0,l.Z)(ae,2),oe=ie[0],se=ie[1];function le(){return(le=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(g.email+"/payment/"+g.book_id+"/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n?J(n):r&&(qa.error(r.message,{autoClose:!1}),console.log(r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,e.useEffect)((function(){!function(){le.apply(this,arguments)}()}),[g.email]),document.documentElement.style.overflowY=oe||ne?"hidden":"unset";var ce=(0,e.useState)(null),ue=(0,l.Z)(ce,2),de=(ue[0],ue[1],(0,e.useState)()),he=(0,l.Z)(de,2),fe=(he[0],he[1],(0,e.useState)()),pe=(0,l.Z)(fe,2),me=(pe[0],pe[1],(0,e.useState)(!1)),ve=(0,l.Z)(me,2),ge=(ve[0],ve[1],(0,e.useState)(!1)),ye=(0,l.Z)(ge,2);ye[0],ye[1];var xe=(0,e.useState)(!1),be=(0,l.Z)(xe,2),_e=be[0],we=be[1];return document.documentElement.style.overflowY=_e?"hidden":"unset",(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("div",{className:"sticky top-1",children:[ne&&(0,Br.jsx)(_v,{CDNURL:t,email:g.email,book_id:g.book_id,payImg:$,setImageModal:re}),oe&&(0,Br.jsx)(kv,{payImg:G,data:g,setAddImg:se}),_e&&(0,Br.jsx)(Av,{user:g,setResched:we,id:p})]}),(0,Br.jsxs)("div",{className:"back flex flex-col items-center min-h-screen h-auto pb-10 w-full",children:[(0,Br.jsx)("div",{className:"hidden",children:(0,Br.jsx)(Nv,{AppPrint:f,data:g,isImgEmpty:d,CDNURL:t,imgName:a,isSomeone:T,payImg:G,Doc:D,isDocImgEmpty:q,docImg:B})}),(0,Br.jsxs)("div",{className:"grid grid-cols-3 h-full w-full",children:[(0,Br.jsx)("div",{className:""}),(0,Br.jsx)("h1",{className:"w-full text-3xl mt-10 text-center font-semibold text-[#256e2b] uppercase",children:"Appointment details"}),(0,Br.jsx)("div",{className:"w-full flex justify-center items-center mt-5 -ml-6",children:"pending confirmation"!==g.status&&"pending request"!==g.status&&"rejected"!==g.status&&(0,Br.jsx)(Sv(),{trigger:function(){return(0,Br.jsxs)("button",{className:"flex items-center bg-primary-300 hover:text-white py-1 transition duration-100 hover:bg-primary-600 px-3 rounded-full",children:[(0,Br.jsx)(Cv,{className:"text-lg mr-1"}),"Print"]})},content:function(){return f.current},documentTitle:"Appointment Details",pageStyle:"print"})})]}),(0,Br.jsx)("section",{className:"flex flex-col px-12 py-10 mt-10 rounded-lg bg-white w-[80%] abs",children:_?(0,Br.jsx)("div",{className:"flex justify-center w-full ",children:(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})}):(0,Br.jsxs)("div",{className:"grid grid-cols-4 gap-x-4 row-span-2",children:[(0,Br.jsxs)("div",{className:"flex flex-col text-center items-center row-span-2",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full shadow-xl w-[13rem] mb-5 h-[13rem]",src:"".concat(d?t+g.email+"/profile/"+a:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("div",{className:"w-full space-y-3",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient Name:"}),(0,Br.jsx)("br",{}),g.fname," ",g.lname]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient Email:"}),(0,Br.jsx)("br",{}),g.email]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Contact Number:"}),(0,Br.jsx)("br",{}),g.number]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-12 space-y-6 row-span-2",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Booked at:"}),(0,Br.jsx)("br",{}),vi()(new Date(g.created_at)).format("lll")]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Appointment day:"}),(0,Br.jsx)("br",{}),vi()(new Date(g.date)).format("ll")]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient Birthdate:"}),(0,Br.jsx)("br",{}),vi()(new Date(g.bday)).format("ll")]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Reason of appointment:"}),(0,Br.jsx)("br",{}),g.reason]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-2",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Booked for someone?"}),(0,Br.jsx)("br",{}),g.someone," "]}),T&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Relation of patient to the person who booked:"}),(0,Br.jsx)("br",{}),g.relation]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Name of the authorized representative:"}),(0,Br.jsx)("br",{}),g.appointee]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col mt-10 space-y-4 mx-3",children:[("Confirmed"===(null===g||void 0===g?void 0:g.status)||"rescheduled"===(null===g||void 0===g?void 0:g.status))&&"f2f"!==g.type&&(0,Br.jsxs)("div",{className:"flex flex-col justify-center mb-10 space-x-3",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Queuing Number:"}),(0,Br.jsx)("h2",{className:"text-6xl font-semibold",children:g.queue})]}),(0,Br.jsxs)("div",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Status:"}),"Consultation Ongoing"===g.status&&(0,Br.jsx)("p",{className:"px-4 py-1 text-white rounded-full bg-green-500 w-fit",children:g.status}),"pending confirmation"===g.status&&(0,Br.jsx)("p",{className:"px-4 py-1 text-white rounded-full bg-primary w-fit",children:g.status}),"Confirmed"===g.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-emerald-500 w-fit",children:g.status}),"Completed"===g.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-emerald-500 w-fit",children:g.status}),"pending request"===g.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-primary w-fit",children:g.status}),"rescheduled"===g.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-rose-500 w-fit",children:g.status}),"rejected"===g.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-red-500 w-fit",children:g.status}),"Awaiting Doctor's Confirmation"===g.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-emerald-500 w-fit",children:g.status})]}),("rejected"===g.status||"rescheduled"===g.status)&&(0,Br.jsxs)("div",{children:[(0,Br.jsxs)("span",{className:"font-semibold",children:["remarks: ",(0,Br.jsx)("br",{})]}),g.remark]})]}),(0,Br.jsxs)("div",{className:"col-span-2 h-full mt-6",children:[(0,Br.jsx)("h1",{className:"font-semibold",children:"Payment"}),(0,Br.jsxs)("div",{className:"flex space-x-3 items-center",children:[G?(0,Br.jsx)(Br.Fragment,{children:G.map((function(e,n){return(0,Br.jsxs)("div",{className:"flex flex-col text-left items-center",children:[(0,Br.jsxs)("p",{className:"w-full",children:[0===n&&"1st attempt",1===n&&"2nd attempt",2===n&&"last attempt"]}),(0,Br.jsx)("img",{onClick:function(t){return re(!0)||t.preventDefault()||Q(e.name)},className:"object-cover cursor-pointer shadow-xl w-[13rem] mb-5 h-[13rem]",src:t+g.email+"/payment/"+g.book_id+"/"+e.name,alt:"/"})]},n)}))}):(0,Br.jsx)("p",{children:"No Payment Sent"}),"rejected"!==g.status&&"Completed"!==g.status&&3!==G.length&&(0,Br.jsxs)("div",{onClick:function(){return se(!0)},className:"w-[13rem] h-[13rem] transition duration-100 border-2 border-dashed \r border-slate-400 hover:bg-slate-300 cursor-pointer justify-center text-center bg-slate-200 flex flex-col items-center",children:[(0,Br.jsx)(Ja,{className:"text-5xl"}),(0,Br.jsx)("p",{className:"text-sm w-full whitespace-nowrap",children:"add another screenshot"})]})]})]}),(0,Br.jsx)("div",{className:"flex items-center space-x-6 col-span-4 mt-3 justify-end",children:"Completed"!==g.status&&"rejected"!==g.status&&3!==g.reschedcount&&"pending confirmation"!==(null===g||void 0===g?void 0:g.status)&&(0,Br.jsx)("div",{children:(0,Br.jsxs)("button",{onClick:function(e){return we(!0)||e.preventDefault()},className:"transition flex px-7 py-2 text-white duration-100 hover:bg-primary-700 bg-primary-500 rounded-full ",children:[(0,Br.jsx)(Ev,{className:"text-2xl mr-1"}),(0,Br.jsx)("span",{children:"Request Reschedule"})]})})})]})}),(0,Br.jsx)("h1",{className:"w-full text-3xl mt-10 text-center font-semibold text-[#256e2b] uppercase",children:"Doctor's details"}),(0,Br.jsx)("section",{className:"flex flex-col px-12 py-10 mt-10 rounded-lg bg-white w-[80%] abs",children:_?(0,Br.jsx)("div",{className:"flex justify-center w-full ",children:(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})}):(0,Br.jsxs)("div",{className:"grid grid-cols-3 text-lg row-span-2 gap-3",children:[D&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("div",{className:"flex flex-col  text-center items-center",children:(0,Br.jsx)("img",{className:"object-cover rounded-md shadow-xl w-[15rem] mb-5 h-[15rem]",src:"".concat(q?t+D.email+"/profile/"+B:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/doc.jpg"),alt:"/"})}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-8 pr-6",children:[(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Doctor's Name:"}),(0,Br.jsx)("br",{}),D.honorific," ",D.name]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Consultation type:"}),(0,Br.jsx)("br",{}),"ol"===D.type?"Online Consultation":"Face to face"]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-8 pr-6",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Doctor id:"}),(0,Br.jsx)("br",{}),D.id]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Specialization:"}),(0,Br.jsx)("br",{}),D.specialization]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Sub-specialization:"}),(0,Br.jsx)("br",{}),D.subspecial]})]})]}),(0,Br.jsx)("div",{className:"col-span-4 flex justify-center text-xl font-semibold ",children:(0,Br.jsx)("p",{children:"Schedule"})}),(0,Br.jsxs)("div",{className:"flex-col items-center  col-span-4",children:[(0,Br.jsxs)("div",{className:"bg-green-600 grid grid-cols-4 w-full text-white py-2 col-span-4 justify-center px-10",children:[(0,Br.jsx)("p",{className:"col-span-2",children:"Days"}),(0,Br.jsx)("p",{className:"text-center",children:"Check In"}),(0,Br.jsx)("p",{className:"text-center",children:"Check Out"})]}),D.schedule&&D.schedule.map((function(e,t){return(0,Br.jsxs)("div",{className:"col-span-3 bg-slate-200 py-2 grid grid-cols-4 w-full my-3 px-10",children:[(0,Br.jsx)("div",{className:"col-span-2 ",children:e.day}),(0,Br.jsx)("div",{className:"text-center",children:vi()(new Date("2000-01-01T".concat(e.startTime))).format("LT")}),(0,Br.jsx)("div",{className:"text-center",children:vi()(new Date("2000-01-01T".concat(e.startTime))).format("LT")})]},t)}))]})]})})]})]})},Mv=function(){(0,e.useEffect)((function(){Ci().init({duration:1e3})}),[]);var t=Qn().id,n=$n(),r=(0,e.useState)(""),a=(0,l.Z)(r,2),o=a[0],c=a[1],u=(0,e.useState)(""),d=(0,l.Z)(u,2),h=d[0],f=d[1],p=(0,e.useState)(""),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=(0,e.useState)(""),x=(0,l.Z)(y,2),b=x[0],_=x[1],w=(0,e.useState)(""),k=(0,l.Z)(w,2),j=k[0],S=k[1];return(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("Dr_information").select().eq("id",t);case 2:n=e.sent,r=n.data,n.error&&(c(""),f(""),g(""),_(""),S("")),r&&(c(r.Monday),f(r.Tuesday),g(r.Wednesday),_(r.Thursday),S(r.Friday));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]),(0,Br.jsxs)("div",{className:"text-4xl font-serif text-[#315E30] space-y-14",children:[o&&(0,Br.jsxs)("p",{className:"flex justify-between ml-0 border-b-4 border-y-black mx-2",children:[(0,Br.jsx)("span",{className:" ml-24",children:" Monday:"})," ",(0,Br.jsx)("div",{className:"mr-48 mt-1",children:o})]})," ",h&&(0,Br.jsxs)("p",{className:"flex justify-between ml-0 border-b-4 border-y-black mx-2",children:[(0,Br.jsx)("span",{className:" ml-24",children:" Tuesday:"})," ",(0,Br.jsx)("div",{className:"mr-48 mt-1",children:h})]}),v&&(0,Br.jsxs)("p",{className:"flex justify-between ml-0 border-b-4 border-y-black mx-2",children:[(0,Br.jsx)("span",{className:" ml-24",children:" Wednesday:"})," ",(0,Br.jsx)("div",{className:"mr-48 mt-1",children:v})]}),b&&(0,Br.jsxs)("p",{className:"flex justify-between ml-0 border-b-4 border-y-black mx-2",children:[(0,Br.jsx)("span",{className:" ml-24",children:" Thursday:"})," ",(0,Br.jsx)("div",{className:"mr-48 mt-1",children:b})]}),j&&(0,Br.jsxs)("p",{className:"flex justify-between ml-0 border-b-4 border-y-black mx-2",children:[(0,Br.jsx)("span",{className:" ml-24",children:" Friday:"})," ",(0,Br.jsx)("div",{className:"mr-48 mt-1",children:j})]})]})},Dv=function(){(0,e.useEffect)((function(){Ci().init({duration:1e3})}),[]);var t=Qn().id,n=$n(),r=(0,e.useState)(""),a=(0,l.Z)(r,2),o=(a[0],a[1]),c=(0,e.useState)(""),u=(0,l.Z)(c,2),d=u[0],h=u[1],f=(0,e.useState)(""),p=(0,l.Z)(f,2),m=p[0],v=p[1],g=(0,e.useState)(""),y=(0,l.Z)(g,2),x=y[0],b=y[1],_=(0,e.useState)(""),w=(0,l.Z)(_,2),k=w[0],j=w[1],S=(0,e.useState)(""),C=(0,l.Z)(S,2),N=C[0],E=C[1];return(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("Dr_information").select().eq("id",t).single();case 2:n=e.sent,r=n.data,(a=n.error)&&qa.error(a,{toastId:"error"}),r&&(h(r.name),v(r.specialization),b(r.subspecial),j(r.hmo),E(r.honorific),o(r.id));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n,h,v,j,E,o]),(0,Br.jsxs)("div",{className:"back p-24 flex justify-evenly space-x-14",children:[(0,Br.jsx)("img",{src:dv,alt:"",className:"w-72 h-full rounded-3xl"}),(0,Br.jsxs)("div",{className:"det bg-white p-20 pb-14 w-[70%] h-full text-4xl",children:[(0,Br.jsxs)("h1",{className:"tracking-widest text-[#315E30] text-5xl font-bold",children:[" ",N," ",d]}),(0,Br.jsx)("div",{className:" mb-10 border-b-4  border-y-[#315E30] mx-2"}),(0,Br.jsxs)("div",{className:"grid grid-cols-2",children:[(0,Br.jsxs)("div",{className:"space-y-5",children:[(0,Br.jsxs)("p",{className:"font-semibold text-3xl text-[#315E30]",children:["Specialization:"," "]}),(0,Br.jsxs)("p",{className:"font-semibold text-3xl text-[#315E30]",children:["Sub-Specialization:"," "]}),(0,Br.jsxs)("p",{className:"font-semibold text-3xl text-[#315E30]",children:["HMO Accredation:"," "]})]}),(0,Br.jsxs)("div",{className:"text-end space-y-5",children:[(0,Br.jsxs)("p",{className:" text-3xl text-[#439541]",children:[" ",m," "]}),(0,Br.jsx)("p",{className:" text-3xl text-[#439541]",children:x}),(0,Br.jsx)("p",{className:" text-3xl text-[#439541]",children:k})]})]}),(0,Br.jsxs)("p",{className:"font-bold text-3xl mt-12 mb-4 text-[#315E30]",children:["Schedules:"," "]}),(0,Br.jsxs)("div",{className:" mb-6 px-8 py-4 bg-[#52A84F] grid-cols-3 text-white text-3xl font-semibold flex",children:[(0,Br.jsx)("p",{className:"px-28",children:"DAY"}),(0,Br.jsx)("p",{className:"px-32 pl-48",children:"AM "}),(0,Br.jsx)("p",{className:"px-4",children:"PM"})]}),(0,Br.jsx)("div",{className:"grid-cols-3 mb-14",children:(0,Br.jsx)(Mv,{})}),(0,Br.jsx)("div",{className:"flex justify-end",children:(0,Br.jsxs)(Cr,{to:"/FillupForm/"+t,className:"justify-center align-middle flex w-[40%] text-3xl bg-[#418D3F] rounded-md px-3 py-1 text-white font-semibold ring-[#418D3F] ring-[3px] transition duration-75 ease-in hover:bg-[#A5DD9D] hover:text-[#267124]",children:[(0,Br.jsx)(ch,{className:"mx-1 mt-1"}),"Book an Appointment"]})})]})]})},Lv=function(t){var n=t.books,r=t.user,a=t.Loaded,i=t.setLoaded,o=t.imgName,s=t.isImgEmpty,c=(0,e.useState)(0),u=(0,l.Z)(c,2),d=u[0],h=u[1],f=(0,e.useState)(0),p=(0,l.Z)(f,2),m=p[0],v=p[1],g=(0,e.useState)(null),y=(0,l.Z)(g,2),x=y[0],b=y[1];(0,e.useEffect)((function(){if(r){var e=d+7;b(n.slice(d,e)),v(Math.ceil(n.length/7)),x&&setTimeout((function(){i(!0)}),500)}}),[d,7,n,i,r]);return(0,Br.jsxs)("div",{className:"w-full flex flex-col items-center rounded",children:[(0,Br.jsx)(xh(),{breakLabel:". . .",nextLabel:"next >",onPageChange:function(e){i(!1);var t=7*e.selected%n.length;h(t)},pageRangeDisplayed:2,pageCount:m,previousLabel:"< previous",renderOnZeroPageCount:null,className:"flex space-x-3 mb-6 w-full justify-center items-center select-none",breakClassName:"text-xl font-semibold",pageLinkClassName:"text-slate-600 text-lg transition duration-100 bg-[#cbcbcba8] hover:bg-[#bfbfbffc] hover:text-slate-700 px-[10px] py-[8px] rounded",previousLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",nextLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",activeLinkClassName:"border-2 border-green-700 text-xl rounded"}),a?x&&x.map((function(e){return(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsx)(gh,{imgName:o,isImgEmpty:s,ol:e,user:r},e.book_id)})})):(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})]})},Ov=function(t){var n=t.user,r=(n.id,(0,e.useState)([])),a=(0,l.Z)(r,2),o=a[0],c=a[1],u=(0,e.useState)(!1),d=(0,l.Z)(u,2),h=d[0],f=d[1];(0,e.useEffect)((function(){if(n.email){var e=function(){var e=s(i().mark((function e(){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(n.email+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,r=t.data,a=t.error,r[0]&&(f(!0),c(r[0].name)),a&&(f(!1),console.log(a));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[n,c,f]);var p=(0,e.useState)([]),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=(0,e.useState)([]),x=(0,l.Z)(y,2),b=x[0],_=x[1],w=(0,e.useState)(!0),k=(0,l.Z)(w,2),j=k[0],S=k[1],C=function(){var e=s(i().mark((function e(){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!1),!n.email){e.next=9;break}return e.next=4,Kt.from("patient_Appointments").select("*").eq("email",n.email);case 4:t=e.sent,r=t.data,(a=t.error)&&(qa.error(a,{toastId:"dataError"}),console.error("Failed to fetch",a)),r&&(S(!0),g(r));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){if(v){var e=v.filter((function(e){return e.status.includes("Completed")}));_(e)}}),[v]),(0,e.useEffect)((function(){C(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"patient_Appointments"},(function(){C()})).subscribe()}),[]),(0,Br.jsx)("div",{className:"back h-full flex justify-center",children:(0,Br.jsx)("div",{className:"w-[70%]",children:(0,Br.jsx)("div",{className:"flex justify-center mt-16",children:(0,Br.jsx)("div",{className:"w-full h-auto min-h-screen text-sm flex mt-3 mb-10 flex-wrap justify-between\r rounded-lg text-gray-500 dark:text-gray-400",children:(0,Br.jsx)(Lv,{imgName:o,books:b,setLoaded:S,Loaded:j,user:n,isImgEmpty:h})})})})})},zv=function(t){var n=t.Doctors,r=n.email,a=(0,e.useState)([]),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=(0,e.useState)(!1),h=(0,l.Z)(d,2),f=h[0],p=h[1];function m(){return(m=s(i().mark((function e(){var t,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(r+"/profile/",{limit:100,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,a=t.error,n[0]&&(p(!0),u(n[0].name)),a&&(p(!1),console.log(a));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){n&&function(){m.apply(this,arguments)}(r,u,p)}),[n,r,p,u]),(0,e.useEffect)((function(){Ci().init({duration:1e3})}),[]),(0,Br.jsx)("div",{className:"Doc_Uniq",children:(0,Br.jsxs)("div",{"data-aos":"fade-up",className:"docs text-sm bg-[#e2ffe3] border-2 border-[#8bc586] px-3 py-5 h-[98%] rounded-xl flex flex-col items-center w-[16rem] transition duration-100 ease-in-out mb-1",children:[(0,Br.jsx)("img",{src:"".concat(f?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+n.email+"/profile/"+c:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/doc.jpg"),alt:"/",className:"w-[15rem] h-full object-cover max-2xl:w-[13rem] max-sm:w-[10rem] max-sm:mb-3 mb-6 rounded-lg"}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("span",{className:"mr-2 font-bold",children:"Name:"}),(0,Br.jsx)("p",{className:"text-base valueDoc",children:n.name})]}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("span",{className:"mr-2 font-bold",children:"Specialization: "})," ",(0,Br.jsx)("p",{className:"w-28 text-base valueDoc whitespace-nowrap overflow-hidden overflow-ellipsis",children:n.specialization})]}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsxs)("span",{className:"mr-2 font-bold overflow whitespace-nowrap",children:["Sub-Special:"," "]})," ",(0,Br.jsx)("p",{className:"w-32 text-base valueDoc whitespace-nowrap overflow-hidden overflow-ellipsis",children:n.subspecial})]}),(0,Br.jsxs)("div",{className:"flex flex-col w-full items-center",children:[(0,Br.jsx)("span",{className:"mr-2 font-semibold text-slate-100 w-full bg-[#51b348] my-2 flex justify-center",children:"Schedule"}),(0,Br.jsx)("div",{className:"mb-2 flex",children:n.schedule&&n.schedule.map((function(e){return(0,Br.jsx)("p",{className:"p-2 rounded-sm mr-2 mb-2 bg-opacity-40 text-slate-900 bg-[#67a76c]",children:"Thursday"===e.day?"Th":"Sunday"===e.day?"Su":e.day[0]})}))})]}),(0,Br.jsx)(Cr,{to:"/DoctorInfo/"+n.id,children:(0,Br.jsxs)("button",{className:"flex text-base bg-[#418D3F] Docbtn p-2 rounded-md text-white font-bold ring-[#418D3F] ring-2 transition duration-75 ease-in hover:bg-[#A5DD9D] hover:text-[#267124]",children:[(0,Br.jsx)(fv,{className:"mr-1",size:23})," Check Information"]})})]})},n.id)},Rv=function(t){var n=t.Doctors,r=t.Loaded,a=t.setLoaded,i=t.imgName,o=t.isImgEmpty,s=(0,e.useState)(0),c=(0,l.Z)(s,2),u=c[0],d=c[1],h=(0,e.useState)(0),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=(0,e.useState)(null),g=(0,l.Z)(v,2),y=g[0],x=g[1];(0,e.useEffect)((function(){var e=u+4;x(n.slice(u,e)),m(Math.ceil(n.length/4)),y&&setTimeout((function(){a(!0)}),500)}),[u,4,n,a]);return(0,Br.jsxs)("div",{className:"w-full flex flex-col items-center rounded",children:[r?(0,Br.jsx)("div",{className:"flex space-x-5",children:y&&y.map((function(e){return(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsx)(zv,{imgName:i,isImgEmpty:o,Doctors:e},e.id)})}))}):(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2}),(0,Br.jsx)(xh(),{breakLabel:". . .",nextLabel:"next >",onPageChange:function(e){a(!1);var t=4*e.selected%n.length;d(t)},pageRangeDisplayed:2,pageCount:p,previousLabel:"< previous",renderOnZeroPageCount:null,className:"flex space-x-3 mt-6 w-full justify-center items-center select-none",breakClassName:"text-xl font-semibold",pageLinkClassName:"text-slate-600 text-lg transition duration-100 bg-[#cbcbcba8] hover:bg-[#bfbfbffc] hover:text-slate-700 px-[10px] py-[8px] rounded",previousLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",nextLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",activeLinkClassName:"border-2 border-green-700 text-xl rounded"})]})},Fv=n.p+"static/media/online.af626fbf130174501b37.png",Bv=n.p+"static/media/f2f.86e56804ed69bfe79a7e.png",Zv=n.p+"static/media/contact.72eb6cef7817f38f097d.png",Uv=n.p+"static/media/history.8e8e898f50bf9ae35456.png";var Vv=n.p+"static/media/status.9a2dda8e45039f86909e5be62a79b8fd.svg",qv=":host{align-items:center;display:inline-flex;flex-shrink:0;height:var(--uib-size);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{--mask-size:calc(var(--uib-size)/2 - var(--uib-stroke));align-items:center;animation:spin calc(var(--uib-speed)) linear infinite;background-image:conic-gradient(transparent 25%,var(--uib-color));border-radius:50%;display:flex;height:var(--uib-size);justify-content:flex-start;-webkit-mask:radial-gradient(circle var(--mask-size),transparent 99%,#000 100%);mask:radial-gradient(circle var(--mask-size),transparent 99%,#000 100%);position:relative;width:var(--uib-size)}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",Hv=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,c.Z)(this,n),e=t.call(this),(0,Tr.Z)((0,$r.Z)(e),"_attributes",["size","color","speed","stroke"]),(0,Tr.Z)((0,$r.Z)(e),"size",void 0),(0,Tr.Z)((0,$r.Z)(e),"color",void 0),(0,Tr.Z)((0,$r.Z)(e),"speed",void 0),(0,Tr.Z)((0,$r.Z)(e),"stroke",void 0),e.storePropsToUpgrade(e._attributes),e.reflect(e._attributes),e}return(0,u.Z)(n,[{key:"connectedCallback",value:function(){this.upgradeStoredProps(),this.applyDefaultProps({size:40,color:"black",speed:.9,stroke:5}),this.template.innerHTML='\n      <div class="container"></div>\n      <style>\n        :host{\n          --uib-size: '.concat(this.size,"px;\n          --uib-color: ").concat(this.color,";\n          --uib-speed: ").concat(this.speed,"s;\n          --uib-stroke: ").concat(this.stroke,"px;\n        }\n        ").concat(qv,"\n      </style>\n    "),this.shadow.replaceChildren(this.template.content.cloneNode(!0))}},{key:"attributeChangedCallback",value:function(){var e=this.shadow.querySelector("style");e&&(e.innerHTML="\n      :host{\n        --uib-size: ".concat(this.size,"px;\n        --uib-color: ").concat(this.color,";\n        --uib-speed: ").concat(this.speed,"s;\n        --uib-stroke: ").concat(this.stroke,"px;\n      }\n      ").concat(qv,"\n    "))}}],[{key:"observedAttributes",get:function(){return["size","color","speed","stroke"]}}]),n}(ea),Wv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"l-tailspin";customElements.get(e)||customElements.define(e,function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(Hv))};Wv();var Yv=function(){(0,e.useEffect)((function(){Ci().init({duration:1e3})}),[]);var t=(0,e.useState)([]),n=(0,l.Z)(t,2),r=n[0],a=n[1],o=(0,e.useState)([]),c=(0,l.Z)(o,2),u=c[0],d=c[1],h=(0,e.useState)([]),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=(0,e.useState)(!0),g=(0,l.Z)(v,2),y=g[0],x=g[1],b=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.next=3,Kt.from("patient_Appointments").select();case 3:t=e.sent,n=t.data,(r=t.error)&&(qa.error(r,{toastId:"dataError"}),console.error("Failed to fetch",r.message)),n&&(x(!0),m(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){if(p){var e=p.filter((function(e){var t=!e.status.includes("Confirmed"),n=!e.status.includes("Completed");return t&&n}));a(e)}r&&setTimeout((function(){x(!0)}),1e3)}),[p,a]),(0,e.useEffect)((function(){var e=p.filter((function(e){var t=e.status.includes("Confirmed"),n=e.status.includes("Completed");return t||n}));d(e),r&&setTimeout((function(){x(!0)}),1e3)}),[p,d]),(0,e.useEffect)((function(){b(),T(),U(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"patient_Appointments"},(function(){b()})).on("postgres_changes",{event:"*",schema:"public",table:"dr_information"},(function(e){T(),console.log(e)})).on("postgres_changes",{event:"*",schema:"public",table:"profile"},(function(){U()})).subscribe()}),[]);var _=(0,e.useState)([]),w=(0,l.Z)(_,2),k=w[0],j=w[1],S=(0,e.useState)(!0),C=(0,l.Z)(S,2),N=C[0],E=C[1],T=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),e.next=3,Kt.from("dr_information").select();case 3:t=e.sent,n=t.data,(r=t.error)&&(qa.error(r,{toastId:"dataError"}),console.error("Failed to fetch",r.message)),n&&(E(!0),j(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=(0,e.useState)([]),A=(0,l.Z)(I,2),P=A[0],M=A[1],D=(0,e.useState)([]),L=(0,l.Z)(D,2),O=L[0],z=L[1],R=(0,e.useState)(!0),F=(0,l.Z)(R,2),B=F[0],Z=F[1],U=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!1),e.next=3,Kt.from("profile").select();case 3:t=e.sent,n=t.data,(r=t.error)&&(qa.error(r,{toastId:"dataError"}),console.error("Failed to fetch",r.message)),n&&(Z(!0),z(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){U(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"profile"},(function(){U()})).subscribe()}),[]),(0,e.useEffect)((function(){if(O){var e=O.filter((function(e){return e.role.includes("patient")}));M(e)}}),[O]),(0,Br.jsx)("div",{className:"text-center h-auto",children:(0,Br.jsx)("div",{className:"flex justify-center mb-20",children:(0,Br.jsxs)("div",{className:"grid grid-cols-4 features gap-6 w-full",children:[(0,Br.jsxs)(Cr,{to:"/Confirm_Appointments",className:"Adminboxes","data-aos":"fade-up",children:[(0,Br.jsx)("div",{className:"AdmintitleText",children:"Books: "}),(0,Br.jsx)("div",{className:"w-full rounded-xl mb-4",children:(0,Br.jsx)("h1",{className:"text-5xl font-semibold",children:y?r.length:(0,Br.jsx)("l-tailspin",{size:"55",stroke:"4",speed:"0.9",color:"black"})})}),(0,Br.jsx)("p",{children:"Booked Appointments to confirm"})]}),(0,Br.jsxs)(Cr,{to:"/Edit_doctors",className:"Adminboxes","data-aos":"fade-up",children:[(0,Br.jsx)("div",{className:"AdmintitleText",children:"Total doctors: "}),(0,Br.jsx)("div",{className:"w-full rounded-xl mb-4",children:(0,Br.jsx)("h1",{className:"text-5xl font-semibold",children:N?k.length:(0,Br.jsx)("l-tailspin",{size:"55",stroke:"4",speed:"0.9",color:"black"})})}),(0,Br.jsx)("p",{children:"Accounts of doctors inside this website"})]}),(0,Br.jsxs)(Cr,{to:"/Edit_Patients",className:"Adminboxes","data-aos":"fade-up",children:[(0,Br.jsx)("div",{className:"AdmintitleText",children:"Total Patients: "}),(0,Br.jsx)("div",{className:"w-full rounded-xl mb-4",children:(0,Br.jsx)("h1",{className:"text-5xl font-semibold",children:B?P.length:(0,Br.jsx)("l-tailspin",{size:"55",stroke:"4",speed:"0.9",color:"black"})})}),(0,Br.jsx)("p",{children:"Accounts of patients inside this website"})]}),(0,Br.jsxs)(Cr,{to:"/Archive",className:"Adminboxes ","data-aos":"fade-up",children:[(0,Br.jsx)("div",{className:"AdmintitleText",children:"Total Archives: "}),(0,Br.jsx)("div",{className:"w-full rounded-xl mb-4",children:(0,Br.jsx)("h1",{className:"text-5xl font-semibold",children:y?u.length:(0,Br.jsx)("l-tailspin",{size:"55",stroke:"4",speed:"0.9",color:"black"})})}),(0,Br.jsx)("p",{children:"Completed Consultations"})]}),(0,Br.jsxs)("div",{className:"col-span-4 grid grid-cols-2 gap-x-5",children:[(0,Br.jsx)(Cr,{to:"/Appointment/Status",className:"AdminboxesBot","data-aos":"fade-up",children:(0,Br.jsx)("p",{children:"Activities"})}),(0,Br.jsxs)(Cr,{to:"/",className:"AdminboxesBot","data-aos":"fade-up",children:[(0,Br.jsx)("div",{className:"AdmintitleText",children:"Messages: "}),(0,Br.jsx)("div",{className:"w-full rounded-xl mb-4",children:(0,Br.jsx)("h1",{className:"text-5xl font-semibold",children:u.length})}),(0,Br.jsx)("p",{children:"Messages received from Contact Us!"})]})]})]})})})},Gv=':host{align-items:center;display:inline-flex;flex-shrink:0;height:var(--uib-size);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{align-items:center;display:flex;height:var(--uib-size);justify-content:flex-start;position:relative;width:var(--uib-size)}.line{align-items:flex-start;display:flex;height:100%;left:calc(50% - var(--uib-stroke)/2);position:absolute;top:0;width:var(--uib-stroke)}.line:before{animation:pulse calc(var(--uib-speed)) ease-in-out infinite;background-color:var(--uib-color);border-radius:calc(var(--uib-stroke)/2);content:"";height:22%;transform-origin:center bottom;transition:background-color .3s ease;width:100%}.line:first-child{transform:rotate(-30deg)}.line:first-child:before{animation-delay:calc(var(--uib-speed)/-12*1)}.line:nth-child(2){transform:rotate(-60deg)}.line:nth-child(2):before{animation-delay:calc(var(--uib-speed)/-12*2)}.line:nth-child(3){transform:rotate(-90deg)}.line:nth-child(3):before{animation-delay:calc(var(--uib-speed)/-12*3)}.line:nth-child(4){transform:rotate(-120deg)}.line:nth-child(4):before{animation-delay:calc(var(--uib-speed)/-12*4)}.line:nth-child(5){transform:rotate(-150deg)}.line:nth-child(5):before{animation-delay:calc(var(--uib-speed)/-12*5)}.line:nth-child(6){transform:rotate(-180deg)}.line:nth-child(6):before{animation-delay:calc(var(--uib-speed)/-12*6)}.line:nth-child(7){transform:rotate(-210deg)}.line:nth-child(7):before{animation-delay:calc(var(--uib-speed)/-12*7)}.line:nth-child(8){transform:rotate(-240deg)}.line:nth-child(8):before{animation-delay:calc(var(--uib-speed)/-12*8)}.line:nth-child(9){transform:rotate(-270deg)}.line:nth-child(9):before{animation-delay:calc(var(--uib-speed)/-12*9)}.line:nth-child(10){transform:rotate(-300deg)}.line:nth-child(10):before{animation-delay:calc(var(--uib-speed)/-12*10)}.line:nth-child(11){transform:rotate(-330deg)}.line:nth-child(11):before{animation-delay:calc(var(--uib-speed)/-12*11)}@keyframes pulse{0%,80%,to{opacity:0;transform:scaleY(.75)}20%{opacity:1;transform:scaleY(1)}}',Jv=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,c.Z)(this,n),e=t.call(this),(0,Tr.Z)((0,$r.Z)(e),"_attributes",["size","color","speed","stroke"]),(0,Tr.Z)((0,$r.Z)(e),"size",void 0),(0,Tr.Z)((0,$r.Z)(e),"color",void 0),(0,Tr.Z)((0,$r.Z)(e),"speed",void 0),(0,Tr.Z)((0,$r.Z)(e),"stroke",void 0),e.storePropsToUpgrade(e._attributes),e.reflect(e._attributes),e}return(0,u.Z)(n,[{key:"connectedCallback",value:function(){this.upgradeStoredProps(),this.applyDefaultProps({size:40,color:"black",speed:1,stroke:3}),this.template.innerHTML='\n      <div class="container">\n        <div class="line"></div>\n        <div class="line"></div>\n        <div class="line"></div>\n        <div class="line"></div>\n        <div class="line"></div>\n        <div class="line"></div>\n        <div class="line"></div>\n        <div class="line"></div>\n        <div class="line"></div>\n        <div class="line"></div>\n        <div class="line"></div>\n        <div class="line"></div>\n      </div>\n      <style>\n        :host{\n          --uib-size: '.concat(this.size,"px;\n          --uib-color: ").concat(this.color,";\n          --uib-speed: ").concat(this.speed,"s;\n          --uib-stroke: ").concat(this.stroke,"px;\n        }\n        ").concat(Gv,"\n      </style>\n    "),this.shadow.replaceChildren(this.template.content.cloneNode(!0))}},{key:"attributeChangedCallback",value:function(){var e=this.shadow.querySelector("style");e&&(e.innerHTML="\n      :host{\n        --uib-size: ".concat(this.size,"px;\n        --uib-color: ").concat(this.color,";\n        --uib-speed: ").concat(this.speed,"s;\n        --uib-stroke: ").concat(this.stroke,"px;\n      }\n      ").concat(Gv,"\n    "))}}],[{key:"observedAttributes",get:function(){return["size","color","speed","stroke"]}}]),n}(ea),Xv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"l-line-spinner";customElements.get(e)||customElements.define(e,function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(Jv))};Xv();var Kv=function(e){var t=e.setAccept,n=e.handleAccept,r=e.load;return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-full z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{className:"bg-white sticky -mt-[8rem] flex w-[29rem] flex-col items-center abs rounded-lg p-6",children:(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("div",{className:"h-full",children:(0,Br.jsx)(Hp,{className:"text-4xl mr-3 mt-2 text-green-500"})}),(0,Br.jsxs)("div",{className:"flex flex-col items-start",children:[(0,Br.jsx)("h1",{className:"mb-2 font-semibold text-xl flex items-end",children:(0,Br.jsx)("span",{children:"Proceed to next appointment"})}),(0,Br.jsx)("p",{className:"mb-4",children:"Are you finished with your current appointment?"}),(0,Br.jsxs)("div",{className:"flex items-center justify-end w-full space-x-2 mt-3",children:[(0,Br.jsx)("button",{disabled:r,onClick:function(e){return t(!1)||e.preventDefault()},className:"px-9 py-1 bg-slate-100 border-2 transition duration-100 hover:bg-slate-300 border-slate-300 rounded-md",children:"Cancel"}),r?(0,Br.jsxs)("button",{disabled:!0,className:"px-7 py-1 flex items-center bg-green-700 transition duration-100 hover:bg-green-800 text-white rounded-md",children:[(0,Br.jsx)("l-line-spinner",{size:"15",stroke:"2",speed:"0.9",color:"white"}),(0,Br.jsx)("span",{className:"ml-1",children:"Confirming"})]}):(0,Br.jsx)("button",{onClick:n,className:"px-9 py-1 bg-green-600 transition duration-100 hover:bg-green-800 text-white rounded-md",children:"Confirm"})]})]})]})})})})},$v=function(t){var n=t.ol,r=(t.setResched,t.setBookID,t.i),a=(0,e.useState)(!1),o=(0,l.Z)(a,2),c=(o[0],o[1]);var u=(0,e.useRef)();(0,e.useEffect)((function(){if(n){var e=function(e){u.current.contains(e.target)||c(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[c,n]);var d=n.email,h=(0,e.useState)([]),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=(0,e.useState)(!1),g=(0,l.Z)(v,2),y=g[0],x=g[1];function b(){return(b=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(d+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(x(!0),m(n[0].name)),r&&(x(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){n&&function(){b.apply(this,arguments)}(d,m,x)}),[n,d,x,m]),(0,e.useEffect)((function(){Ci().init({duration:500}),Ci().refresh()}),[]),(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsx)("div",{className:"text-base flex w-full select-none",children:(0,Br.jsx)("section",{"data-aos":"fade-right","data-aos-anchor":"#trigger-next",ref:u,className:"group/pu bg-white abs mb-3 text-gray-900 w-full rounded-xl transition duration-75 ease-in hover:bg-slate-100 text-center  ",children:(0,Br.jsxs)("div",{id:"trigger-next",scope:"row",className:" py-3 mx-6 flex font-medium whitespace-nowrap justify-between",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[4rem] h-[4rem]",src:"".concat(y?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+n.email+"/profile/"+p:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("div",{className:"ml-4 flex-col text-left text-sm",children:[(0,Br.jsxs)("p",{className:"text-base uppercase font-semibold text-green-800",children:[n.fname," ",n.lname," ",0===r&&(0,Br.jsx)("span",{className:"text-green-700 font-light normal-case",children:"(Next in consultation)"})]}),(0,Br.jsxs)("p",{className:"",children:[" ",(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Queue No.:"," "]}),n.queue]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold text-green-950",children:"Reason: "}),n.reason]})]})]}),(0,Br.jsx)("div",{className:"flex items-center mt-2",children:(0,Br.jsxs)(Cr,{to:"/Doctor/Appointments/Details/"+n.book_id,className:"bg-green-600 hover:bg-green-500 transition duration-100 flex text-center w-fit px-7 py-1 h-fit self-center mr-3 text-white rounded-lg",children:[(0,Br.jsx)(ih,{className:"text-2xl mr-1"}),(0,Br.jsx)("span",{children:"View Details"})]})})]})})},r)})},Qv=function(t){var n,r=t.setAccept,a=t.ol,i=new Date(null===(n=a[0])||void 0===n?void 0:n.date)===new Date,o=(0,e.useRef)();return(0,e.useEffect)((function(){var e=function(e){var t;null!==(t=o.current)&&void 0!==t&&t.contains(e.target)||r(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[o]),(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-full z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{ref:o,className:"bg-white sticky top-36 -mt-[8rem] flex w-[50%] h-fit flex-col items-center abs rounded-lg p-6",children:(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("h1",{className:"text-3xl font-semibold mb-6 mt-1",children:i?"Appointments for today":"Appointments for next schedule"}),(0,Br.jsx)("div",{className:"h-[30rem] overflow-y-auto w-full px-3 py-3",children:a.map((function(e,t){return(0,Br.jsx)($v,{ol:e,i:t},t)}))})]})})})};function eg(e){return Or({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M20 5H8V9H6V3H22V21H6V15H8V19H20V5Z",fill:"currentColor"}},{tag:"path",attr:{d:"M13.0743 16.9498L11.6601 15.5356L14.1957 13H2V11H14.1956L11.6601 8.46451L13.0743 7.05029L18.024 12L13.0743 16.9498Z",fill:"currentColor"}}]})(e)}var tg=function(t){var n=t.data,r=t.doc,a=t.setCurrModal,o=t.nextQueue,c=t.setNext,u=t.next,d=t.last,h=t.setLast,f=t.load,p=(0,e.useRef)();(0,e.useEffect)((function(){if(!u&&!d){var e=function(e){var t;null!==(t=p.current)&&void 0!==t&&t.contains(e.target)||a(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[p,u,d]);var m=(0,e.useState)([]),v=(0,l.Z)(m,2),g=v[0],y=v[1],x=(0,e.useState)(!1),b=(0,l.Z)(x,2),_=b[0],w=b[1];(0,e.useEffect)((function(){function e(){return(e=s(i().mark((function e(){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list((null===n||void 0===n?void 0:n.email)+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,r=t.data,a=t.error,r[0]&&(w(!0),y(r[0].name)),a&&(w(!1),console.log(a));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);var k=(0,e.useState)(!1),j=(0,l.Z)(k,2),S=j[0],C=j[1];function N(){return(N=s(i().mark((function e(t){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C(!0),e.prev=2,e.next=5,Kt.from("patient_Appointments").update({status:"Completed"}).eq("book_id",null===n||void 0===n?void 0:n.book_id);case 5:if(r=e.sent,!(o=r.error)){e.next=11;break}throw o;case 11:a(!1),C(!1);case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}function E(){return(E=s(i().mark((function e(t){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C(!0),e.prev=2,e.next=5,Kt.from("patient_Appointments").update({status:"pending request"}).eq("book_id",null===n||void 0===n?void 0:n.book_id);case 5:if(r=e.sent,!(o=r.error)){e.next=11;break}throw o;case 11:a(!1),C(!1);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}return(0,Br.jsx)("section",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full min-h-screen h-full z-40 flex items-center justify-center",children:"Awaiting Doctor's Confirmation"!==(null===n||void 0===n?void 0:n.status)?(0,Br.jsx)("div",{ref:p,className:"bg-white sticky top-36 -mt-[8rem] flex w-[65rem] h-[58%] flex-col items-center abs rounded-lg p-6",children:(0,Br.jsxs)("div",{className:"sticky top-0 w-full flex flex-col items-center",children:[(0,Br.jsx)("h1",{className:"text-green-800 font-semibold text-[33px] uppercase",children:"consultation ongoing"}),(0,Br.jsx)("div",{className:"border-b-2 border-green-700 my-3 w-full"}),(0,Br.jsxs)("div",{className:"w-full px-10 h-[70%] overflow-y-auto",children:[(0,Br.jsxs)("div",{className:"company py-7  px-[8%] w-full flex justify-center items-center",children:[(0,Br.jsx)("img",{src:yr,className:"w-[7rem]",alt:"/"}),(0,Br.jsxs)("p",{className:"uppercase text-white font-semibold text-4xl",children:["mendoza general ",(0,Br.jsx)("br",{})," hospital"]})]}),(0,Br.jsxs)("div",{className:"sticky w-full -mt-[4rem] -ml-[10rem] flex justify-center items-center",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full border-[7px] bg-white border-white \r shadow-xl w-[12rem] mb-5",src:"".concat(!f&&g&&_?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+(null===n||void 0===n?void 0:n.email)+"/profile/"+g:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("p",{className:"text-3xl font-semibold mt-7 ml-3 uppercase text-left",children:[null===n||void 0===n?void 0:n.fname," ",null===n||void 0===n?void 0:n.lname," ",(0,Br.jsx)("br",{}),(0,Br.jsx)("span",{className:"normal-case font-light text-2xl",children:"Patient"})]})]}),(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:" w-full flex space-x-7 justify-between",children:[(0,Br.jsxs)("div",{className:"flex flex-col w-[70%]",children:[(0,Br.jsx)("span",{className:"text-green-900 text-2xl font-semibold",children:"Contact Details"}),(0,Br.jsx)("p",{children:null===n||void 0===n?void 0:n.email}),(0,Br.jsx)("p",{children:null===n||void 0===n?void 0:n.number})]}),(0,Br.jsxs)("div",{className:"flex flex-col w-full",children:[(0,Br.jsx)("span",{className:"text-green-900 text-2xl w-full font-semibold",children:"Queue number"}),(0,Br.jsx)("p",{className:"text-5xl text-slate-500",children:null===n||void 0===n?void 0:n.queue})]}),(0,Br.jsxs)("div",{className:"flex flex-col w-full",children:[(0,Br.jsx)("span",{className:"text-green-900 text-xl w-full font-semibold",children:"Reason for the appointment"}),(0,Br.jsx)("p",{children:null===n||void 0===n?void 0:n.reason})]})]})})]}),(0,Br.jsxs)("div",{className:"sticky bottom-9 py-2 w-full space-x-7 bg-white flex justify-center items-center my-3",children:[(0,Br.jsxs)("a",{href:null===r||void 0===r?void 0:r.gmeet,className:"flex items-center text-xl mt-6 rounded-lg transition duration-100 hover:bg-green-600 bg-green-500 px-5 py-[6px] w-fit text-white",children:[(0,Br.jsx)(Qa,{className:"text-3xl mr-2"}),"Enter Gmeet"]}),0===o.length?(0,Br.jsxs)("button",{onClick:function(e){return h(!0)||e.preventDefault()},className:"flex items-center mt-6 rounded-lg text-xl transition duration-100 hover:bg-green-600 bg-green-500 px-5 py-[6px] w-fit text-white",children:[(0,Br.jsx)(Qa,{className:"text-3xl mr-2"}),"Finish Consultation"]}):(0,Br.jsxs)("button",{onClick:function(e){return c(!0)||e.preventDefault()},className:"flex items-center mt-6 rounded-lg text-xl transition duration-100 hover:bg-green-600 bg-green-500 px-5 py-[6px] w-fit text-white",children:[(0,Br.jsx)(Iv,{className:"text-3xl mr-2"}),"Proceed to next consultation"]})]})]})}):(0,Br.jsx)("div",{ref:p,className:"bg-white sticky flex w-[32rem] flex-col items-center abs rounded-lg p-6",children:(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("div",{className:"h-full",children:(0,Br.jsx)(ah,{className:"text-4xl mr-3 mt-2 text-red-500"})}),(0,Br.jsxs)("form",{className:"flex flex-col items-start",children:[(0,Br.jsx)("h1",{className:"mb-2 font-semibold text-xl flex items-end",children:(0,Br.jsx)("span",{children:"Consultation time exceeded"})}),(0,Br.jsxs)("p",{className:"mb-2",children:["Does your last patient"," ",(0,Br.jsx)("span",{className:"font-semibold",children:n.fname})," attended and finished the consultation?"]}),(0,Br.jsxs)("div",{className:"flex items-center justify-end w-full space-x-2 mt-3",children:[(0,Br.jsx)("button",{onClick:function(e){return E.apply(this,arguments)},disabled:S,className:"px-9 py-1 bg-slate-100 border-2 transition duration-100 hover:bg-slate-300 border-slate-300 rounded-md",children:"No"}),(0,Br.jsx)("button",{onClick:function(e){return N.apply(this,arguments)},disabled:S,className:"px-9 py-1 bg-green-600 transition duration-100 hover:bg-green-800 text-white rounded-md",children:"Yes"})]})]})]})})})})};Xv();var ng=function(t){var n=t.setAccept,r=t.data,a=t.setCurrModal,o=(0,e.useState)(!1),c=(0,l.Z)(o,2),u=c[0],d=c[1];function h(){return(h=s(i().mark((function e(t){var o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(!0),e.prev=2,e.next=5,Kt.from("patient_Appointments").update({status:"Completed"}).eq("book_id",null===r||void 0===r?void 0:r.book_id);case 5:if(o=e.sent,!(s=o.error)){e.next=11;break}throw s;case 11:a(!1),n(!1),d(!1);case 14:e.next=22;break;case 16:e.prev=16,e.t0=e.catch(2),qa.error(e.t0.message),console.log(e.t0),n(!1),d(!1);case 22:case"end":return e.stop()}}),e,null,[[2,16]])})))).apply(this,arguments)}return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-full z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{className:"bg-white sticky -mt-[8rem] flex w-[29rem] flex-col items-center abs rounded-lg p-6",children:(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("div",{className:"h-full",children:(0,Br.jsx)(Hp,{className:"text-4xl mr-3 mt-2 text-green-500"})}),(0,Br.jsxs)("div",{className:"flex flex-col items-start",children:[(0,Br.jsx)("h1",{className:"mb-2 font-semibold text-xl flex items-end",children:(0,Br.jsx)("span",{children:"Proceed to next appointment"})}),(0,Br.jsx)("p",{className:"mb-4",children:"Are finished with your current appointment?"}),(0,Br.jsxs)("div",{className:"flex items-center justify-end w-full space-x-2 mt-3",children:[(0,Br.jsx)("button",{disabled:u,onClick:function(e){return n(!1)||e.preventDefault()},className:"px-9 py-1 bg-slate-100 border-2 transition duration-100 hover:bg-slate-300 border-slate-300 rounded-md",children:"Cancel"}),u?(0,Br.jsxs)("button",{disabled:!0,className:"px-7 py-1 flex items-center bg-green-700 transition duration-100 hover:bg-green-800 text-white rounded-md",children:[(0,Br.jsx)("l-line-spinner",{size:"15",stroke:"2",speed:"0.9",color:"white"}),(0,Br.jsx)("span",{className:"ml-1",children:"Confirming"})]}):(0,Br.jsx)("button",{onClick:function(e){return h.apply(this,arguments)},className:"px-9 py-1 bg-green-600 transition duration-100 hover:bg-green-800 text-white rounded-md",children:"Confirm"})]})]})]})})})})},rg={_origin:"https://api.emailjs.com"},ag=function(e,t,n){if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},ig=(0,u.Z)((function e(t){(0,c.Z)(this,e),this.status=t?t.status:0,this.text=t?t.responseText:"Network Error"})),og=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,a){var i=new XMLHttpRequest;i.addEventListener("load",(function(e){var t=e.target,n=new ig(t);200===n.status||"OK"===n.text?r(n):a(n)})),i.addEventListener("error",(function(e){var t=e.target;a(new ig(t))})),i.open("POST",rg._origin+e,!0),Object.keys(n).forEach((function(e){i.setRequestHeader(e,n[e])})),i.send(t)}))},sg=function(e,t,n,r){var a=r||rg._userID;ag(a,e,t);var i={lib_version:"3.11.0",user_id:a,service_id:e,template_id:t,template_params:n};return og("/api/v1.0/email/send",JSON.stringify(i),{"Content-type":"application/json"})},lg=function(t){var n,r,a,o,c,u,d,h,f=t.user;(0,e.useEffect)((function(){Ci().init({duration:1e3})}),[]);var p=(0,e.useState)(),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=(0,e.useState)([]),x=(0,l.Z)(y,2),b=x[0],_=x[1];function w(){return k.apply(this,arguments)}function k(){return(k=s(i().mark((function e(){var t,n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("profile").select().eq("id",null===f||void 0===f?void 0:f.id).single();case 2:if(t=e.sent,n=t.data,r=t.error,e.prev=5,!r){e.next=10;break}throw r;case 10:return e.next=12,Kt.from("dr_information").select().eq("email",null===n||void 0===n?void 0:n.email).single();case 12:a=e.sent,o=a.data,g(null===o||void 0===o?void 0:o.id),_(o);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.log(r);case 21:case"end":return e.stop()}}),e,null,[[5,18]])})))).apply(this,arguments)}var j=(0,e.useState)([]),S=(0,l.Z)(j,2),C=S[0],N=S[1],E=(0,e.useState)([]),T=(0,l.Z)(E,2),I=T[0],A=T[1],P=(0,e.useState)([]),M=(0,l.Z)(P,2),D=M[0],L=M[1],O=(0,e.useState)(!0),z=(0,l.Z)(O,2),R=z[0],F=z[1],B=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!1),e.next=3,Kt.from("patient_Appointments").select().eq("doc_id",v);case 3:t=e.sent,n=t.data,(r=t.error)?(qa.error(r,{toastId:"dataError"}),console.error("Failed to fetch",r.message)):(F(!0),L(n));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return e.next=4,w();case 4:return t=Kt.channel("room2").on("postgres_changes",{event:"*",schema:"public",table:"patient_Appointments"},(function(e){B(e.new)})).on("postgres_changes",{event:"*",schema:"public",table:"dr_information",filter:"email=eq.".concat(b.email)},(function(e){w(e.new)})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[v]);var Z=(0,e.useState)([]),U=(0,l.Z)(Z,2),V=U[0],q=U[1];(0,e.useEffect)((function(){if(D){var e=D.filter((function(e){return e.status.includes("Confirmed")}));N(e);var t=D.filter((function(e){var t=e.status.includes("pending confirmation"),n=e.status.includes("pending request");return t||n}));q(t)}C&&setTimeout((function(){F(!0)}),1e3)}),[D]),(0,e.useEffect)((function(){var e=D.filter((function(e){return e.status.includes("Completed")}));A(e),C&&setTimeout((function(){F(!0)}),1e3)}),[D,A]);var H=(0,e.useState)([]),W=(0,l.Z)(H,2),Y=W[0],G=W[1],J=(0,e.useState)(),X=(0,l.Z)(J,2),K=X[0],$=X[1],Q=(0,e.useState)(),ee=(0,l.Z)(Q,2),te=ee[0],ne=ee[1],re=(0,e.useState)(),ae=(0,l.Z)(re,2),ie=ae[0],oe=ae[1];function se(){return le.apply(this,arguments)}function le(){return(le=s(i().mark((function e(){var t,n,r,a,o,s,l,c,u,d,h,f,p,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!b){e.next=34;break}return e.next=4,Kt.from("patient_Appointments").select().match({doc_id:null===b||void 0===b?void 0:b.id,date:vi()(new Date).format("yyyy-M-D")}).or("status.eq.Confirmed,status.eq.rescheduled").order("queue",{ascending:!0});case 4:if(n=e.sent,r=n.data,!(a=n.error)){e.next=9;break}throw a;case 9:return r&&G(r),e.next=12,Kt.from("patient_Appointments").select().match({doc_id:null===b||void 0===b?void 0:b.id,date:null===(t=vi()(new Date))||void 0===t?void 0:t.format("yyyy-M-D"),status:"Consultation Ongoing"});case 12:if(o=e.sent,s=o.data,!(l=o.error)){e.next=17;break}throw Error(l.message);case 17:return s&&$(s[0]),e.next=20,Kt.from("patient_Appointments").select().eq("doc_id",null===b||void 0===b?void 0:b.id).or("status.eq.Confirmed,status.eq.rescheduled").order("date",{ascending:!0});case 20:if(c=e.sent,u=c.data,!(d=c.error)){e.next=25;break}throw d;case 25:return void 0!==u&&0!==u.length&&(f=_i().filter(u,["date",null===(h=u[0])||void 0===h?void 0:h.date]),ne(_i().orderBy(f,["queue","asc"]))),e.next=28,Kt.from("patient_Appointments").select().match({doc_id:null===b||void 0===b?void 0:b.id,status:"Awaiting Doctor's Confirmation"});case 28:if(p=e.sent,m=p.data,!(v=p.error)){e.next=33;break}throw Error(v.message);case 33:m&&oe(m[0]);case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(0),qa.error(e.t0.message),console.log(e.t0);case 40:case"end":return e.stop()}}),e,null,[[0,36]])})))).apply(this,arguments)}var ce=(0,e.useState)([]),ue=(0,l.Z)(ce,2),de=ue[0],he=ue[1],fe=(0,e.useState)([]),pe=(0,l.Z)(fe,2),me=pe[0],ve=pe[1],ge=(0,e.useState)(!1),ye=(0,l.Z)(ge,2),xe=ye[0],be=ye[1],_e=(0,e.useState)(!1),we=(0,l.Z)(_e,2),ke=we[0],je=we[1],Se="https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/";function Ce(){return(Ce=s(i().mark((function e(){var t,n,r,a,o,s,l,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.storage.from("images").list((null===K||void 0===K?void 0:K.email)+"/profile/",{limit:100,offset:0,sortBy:{column:"created_at",order:"asc"}});case 3:if(t=e.sent,n=t.data,!(r=t.error)){e.next=10;break}throw r;case 10:be(!0),he(null===(a=n[0])||void 0===a?void 0:a.name);case 12:if(!te){e.next=24;break}return e.next=15,Kt.storage.from("images").list((null===(o=te[0])||void 0===o?void 0:o.email)+"/profile/",{limit:100,offset:0,sortBy:{column:"created_at",order:"asc"}});case 15:if(s=e.sent,l=s.data,!(c=s.error)){e.next=22;break}throw c;case 22:je(!0),ve(null===(u=l[0])||void 0===u?void 0:u.name);case 24:e.next=31;break;case 26:e.prev=26,e.t0=e.catch(0),console.log(e.t0.message),be(!1),je(!1);case 31:case"end":return e.stop()}}),e,null,[[0,26]])})))).apply(this,arguments)}(0,e.useEffect)((function(){te&&function(){Ce.apply(this,arguments)}()}),[K,te]),(0,e.useEffect)((function(){se();var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:return t=Kt.channel("room10").on("postgres_changes",{event:"UPDATE",schema:"public",table:"patient_Appointments",filter:"doc_id=eq.".concat(b.id)},(function(){se()})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[b]);var Ne=(0,e.useState)(!1),Ee=(0,l.Z)(Ne,2),Te=Ee[0],Ie=Ee[1],Ae=(0,e.useState)(!1),Pe=(0,l.Z)(Ae,2),Me=Pe[0],De=Pe[1];function Le(){return(Le=s(i().mark((function e(t){var n,r,a,o,s,l,c,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Ie(!0),De(!0),e.prev=3,e.next=6,Kt.from("patient_Appointments").update({status:"Completed"}).eq("book_id",null===K||void 0===K?void 0:K.book_id);case 6:if(r=e.sent,!(a=r.error)){e.next=10;break}throw a;case 10:return e.next=12,Kt.from("patient_Appointments").update({current:Y[0].queue}).match({doc_id:b.id,date:vi()(new Date).format("yyyy-M-D")}).or("status.eq.Confirmed,status.eq.rescheduled");case 12:if(o=e.sent,!(s=o.error)){e.next=16;break}throw s;case 16:return e.next=18,Kt.from("patient_Appointments").update({status:"Consultation Ongoing"}).eq("book_id",null===(n=Y[0])||void 0===n?void 0:n.book_id);case 18:if(l=e.sent,!(c=l.error)){e.next=24;break}throw c;case 24:Ie(!1),De(!1),d={from_name:"MGHsite",from_email:"loewiayon12@gmail.com",to_email:Y[0].email,to_name:null===(u=Y[0])||void 0===u?void 0:u.fname,message:"Here is your gmeet link "+b.gmeet},sg("service_ftpnlnq","template_smy7g6s",d,"pAzXNFE5xjRINEjRR").then((function(e){console.log("SUCCESS!",e.status,e.text)}),(function(e){console.log("FAILED...",e)}));case 28:e.next=36;break;case 30:e.prev=30,e.t0=e.catch(3),qa.error(e.t0.message),console.log(e.t0),Ie(!1),De(!1);case 36:case"end":return e.stop()}}),e,null,[[3,30]])})))).apply(this,arguments)}var Oe=vi()(new Date).format("dddd"),ze=null===b||void 0===b||null===(n=b.schedule)||void 0===n?void 0:n.filter((function(e){return e.day.includes(Oe)})),Re=vi()(new Date("2000-01-01T".concat(ze&&(null===(r=ze[0])||void 0===r?void 0:r.startTime)))).format("HHmm"),Fe=vi()(new Date("2000-01-01T".concat(ze&&(null===(a=ze[0])||void 0===a?void 0:a.endTime)))).format("HHmm"),Be=(0,e.useState)(),Ze=(0,l.Z)(Be,2),Ue=Ze[0],Ve=Ze[1];(0,e.useEffect)((function(){var e=setInterval((function(){Ve(vi()(new Date).format("HHmm"))}),1e3);return function(){return clearInterval(e)}}),[Ue]);var qe=_i().inRange(Ue,Re,Fe);(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t,n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!qe){e.next=13;break}if(0!==_i().filter(D,["status","Consultation Ongoing"]).length){e.next=11;break}return se(),e.next=7,Kt.from("patient_Appointments").update({status:"Consultation Ongoing"}).eq("book_id",null===(n=Y[0])||void 0===n?void 0:n.book_id);case 7:if(r=e.sent,!(a=r.error)){e.next=11;break}throw a;case 11:o={from_name:"MGHsite",from_email:"loewiayon12@gmail.com",to_email:Y[0].email,to_name:null===(t=Y[0])||void 0===t?void 0:t.fname,message:"Here is your gmeet link "+b.gmeet},sg("service_ftpnlnq","template_smy7g6s",o,"pAzXNFE5xjRINEjRR").then((function(e){console.log("SUCCESS!",e.status,e.text)}),(function(e){console.log("FAILED...",e)}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[qe]);var He=te&&_i().filter(null===b||void 0===b?void 0:b.schedule,{day:vi()(new Date(null===(o=te[0])||void 0===o?void 0:o.date)).format("dddd")})[0],We=_i().lte(Fe,Ue);(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!We){e.next=17;break}return e.next=4,Kt.from("patient_Appointments").update({status:"Awaiting Doctor's Confirmation"}).eq("book_id",null===K||void 0===K?void 0:K.book_id);case 4:if(t=e.sent,!(n=t.error)){e.next=8;break}throw n;case 8:if(0===Y.length){e.next=17;break}return se(),e.next=12,Kt.from("patient_Appointments").update({status:"pending request"}).match({doc_id:b.id,date:vi()(new Date).format("yyyy-M-D")}).or("status.eq.Confirmed,status.eq.rescheduled");case 12:if(r=e.sent,!(a=r.error)){e.next=16;break}throw a;case 16:console.log("success");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();e()}),[We]);var Ye=(0,e.useState)(!1),Ge=(0,l.Z)(Ye,2),Je=Ge[0],Xe=Ge[1],Ke=(0,e.useState)(!1),$e=(0,l.Z)(Ke,2),Qe=$e[0],et=$e[1],tt=(0,e.useState)(!1),nt=(0,l.Z)(tt,2),rt=nt[0],at=nt[1];return document.documentElement.style.overflowY=Te||Je||Qe||rt?"hidden":"unset",(0,Br.jsxs)(Br.Fragment,{children:[Te&&(0,Br.jsx)("div",{className:"absolute z-50 w-full h-full",children:(0,Br.jsx)(Kv,{setAccept:Ie,load:Me,handleAccept:function(e){return Le.apply(this,arguments)}})}),rt&&(0,Br.jsx)("div",{className:"absolute z-50 w-full h-full",children:(0,Br.jsx)(ng,{setAccept:at,data:K,setCurrModal:et})}),Je&&(0,Br.jsx)("div",{className:"absolute z-50 w-full h-full",children:(0,Br.jsx)(Qv,{setAccept:Xe,ol:0===Y.length?te:Y})}),Qe&&(0,Br.jsx)("div",{className:"absolute z-40 w-full h-full",children:(0,Br.jsx)(tg,{data:ie||K,doc:b,nextQueue:Y,setCurrModal:et,setNext:Ie,next:Te,last:rt,setLast:at,load:Me})}),(0,Br.jsx)("div",{className:"text-center h-auto",children:(0,Br.jsx)("div",{className:"flex justify-center mb-20",children:(0,Br.jsxs)("div",{className:"grid grid-cols-2 features gap-6 w-full",children:[(0,Br.jsxs)(Cr,{to:"/Doctor/Appointments",className:"Docboxes","data-aos":"fade-up",children:[(0,Br.jsx)("div",{className:"AdmintitleText",children:"All Pending Appointments: "}),(0,Br.jsx)("div",{className:"w-full rounded-xl mb-4",children:(0,Br.jsx)("h1",{className:"text-5xl font-semibold",children:R?V.length:(0,Br.jsx)("l-tailspin",{size:"55",stroke:"4",speed:"0.9",color:"black"})})}),(0,Br.jsx)("p",{children:"Booked Appointments to confirm"})]}),(0,Br.jsxs)(Cr,{to:"/DoctorConsultHistory",className:"Docboxes ","data-aos":"fade-up",children:[(0,Br.jsx)("div",{className:"AdmintitleText",children:"Total Archives: "}),(0,Br.jsx)("div",{className:"w-full rounded-xl mb-4",children:(0,Br.jsx)("h1",{className:"text-5xl font-semibold",children:R?I.length:(0,Br.jsx)("l-tailspin",{size:"55",stroke:"4",speed:"0.9",color:"black"})})}),(0,Br.jsx)("p",{children:"Completed Consultations"})]}),(0,Br.jsx)("div",{className:"col-span-2 gap-x-5",children:(0,Br.jsxs)("div",{className:"abs py-4 px-6 w-full border-[1px] text-sm \r text-left flex flex-col items-start bg-white rounded-xl transition duration-200 \r hover:shadow-none ","data-aos":"fade-up",children:[(0,Br.jsxs)("div",{className:"grid grid-cols-3 w-full py-3 items-center bg-green-500 text-white",children:[(0,Br.jsx)("div",{className:""}),(0,Br.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Br.jsx)("p",{className:"font-semibold text-xl",children:qe?"Your schedule for Today":"You have no schedule for today"}),!qe&&(0,Br.jsx)("p",{className:"text-xl",children:"next schedule is at:"}),(0,Br.jsxs)("div",{className:"text-xl font-thin flex items-center",children:[(0,Br.jsx)("p",{className:"",children:null===He||void 0===He?void 0:He.day}),(0,Br.jsx)("p",{className:"mx-4",children:"|"}),(0,Br.jsxs)("p",{children:[" ",vi()(new Date("2000-01-01T".concat(null===He||void 0===He?void 0:He.startTime))).format("LT")," ","-"," ",vi()(new Date("2000-01-01T".concat(null===He||void 0===He?void 0:He.endTime))).format("LT")]})]})]}),(0,Br.jsx)("div",{className:"justify-center flex",children:K||ie?(0,Br.jsxs)("button",{onClick:function(){return et(!0)},className:"px-3 py-1 flex items-center rounded-lg hover:bg-green-600 hover:text-lg transition duration-75 text-base text-white border-2 border-white font-semibold bg-green-500",children:[(0,Br.jsx)(eg,{className:"mr-1 text-xl"}),(0,Br.jsx)("span",{children:"Enter meeting"})]}):(0,Br.jsx)("div",{})})]}),(0,Br.jsx)("div",{className:"w-full rounded-xl mb-4",children:(0,Br.jsx)("div",{className:"text-3xl font-semibold mt-4",children:void 0!==te&&0!==(null===te||void 0===te?void 0:te.length)&&R?(0,Br.jsx)("div",{className:"flex",children:K?(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[5.6rem] h-fit mr-3",src:"".concat(xe?Se+(null===K||void 0===K?void 0:K.email)+"/profile/"+de:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"})," ",(0,Br.jsxs)("div",{className:"text-xl flex flex-col font-light space-y-3 w-1/2",children:[(0,Br.jsxs)("p",{className:"w-full text-lg text-left",children:["You have an ongoing consultation for patient",(0,Br.jsx)("br",{}),(0,Br.jsx)("span",{className:"font-semibold ml-1",children:null===K||void 0===K?void 0:K.fname}),(0,Br.jsx)(Cr,{to:"/Doctor/Appointments/Details/"+(null===K||void 0===K?void 0:K.book_id),className:"text-base text-primary ml-1",children:"View Details"})]}),Y[0]&&(0,Br.jsxs)("p",{className:"text-base flex items-center",children:["Next Consultation is with"," ",(0,Br.jsx)("span",{className:"font-semibold ml-1",children:null===(c=Y[0])||void 0===c?void 0:c.fname})]})]}),(0,Br.jsxs)("div",{className:"text-lg mx-2 w-1/2 font-light flex-col flex items-start",children:["Your total of confirmed Appointments for today",(0,Br.jsx)("div",{className:"text-6xl flex font-semibold my-2",children:(0,Br.jsx)("h1",{children:Y.length})}),(0,Br.jsx)("p",{onClick:function(e){return Xe(!0)||e.preventDefault()},className:"text-lg select-none cursor-pointer font-light text-primary",children:"View all"})]})]}):(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[5.6rem] h-fit mr-3",src:"".concat(ke?Se+(null===(u=te[0])||void 0===u?void 0:u.email)+"/profile/"+me:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"})," ",(0,Br.jsx)("div",{className:"text-xl flex flex-col font-light space-y-3 w-1/2",children:(0,Br.jsxs)("p",{className:"w-full text-lg text-left",children:["Your next appointment schedule is with ",(0,Br.jsx)("br",{}),(0,Br.jsx)("span",{className:"font-semibold mx-1",children:null===(d=te[0])||void 0===d?void 0:d.fname})," ","at:",(0,Br.jsx)("br",{}),(0,Br.jsx)("p",{className:"text-3xl font-semibold mt-3",children:vi()(new Date(null===(h=te[0])||void 0===h?void 0:h.date)).format("LL")})]})}),(0,Br.jsxs)("div",{className:"text-lg mx-2 w-1/2 font-light flex-col flex items-start",children:["Your total of confirmed appointments for the next schedule",(0,Br.jsx)("div",{className:"text-6xl flex font-semibold my-2",children:(0,Br.jsx)("h1",{children:null===te||void 0===te?void 0:te.length})}),(0,Br.jsx)("p",{onClick:function(e){return Xe(!0)||e.preventDefault()},className:"text-lg select-none cursor-pointer font-light text-primary",children:"View all"})]})]})}):(0,Br.jsx)("div",{className:"flex w-full justify-center my-9",children:(0,Br.jsx)("l-tailspin",{size:"55",stroke:"4",speed:"0.9",color:"black"})})})})]})})]})})})]})},cg=function(t){var n=t.token,r=t.showLogin,a=t.patient,o=t.admin,c=t.doctor,u=t.user,d=(0,e.useState)(!0),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)(null),v=(0,l.Z)(m,2),g=v[0],y=v[1],x=(0,e.useState)(""),b=(0,l.Z)(x,2),_=b[0],w=b[1],k=(0,e.useState)(""),j=(0,l.Z)(k,2),S=j[0],C=j[1],N=(0,e.useState)(""),E=(0,l.Z)(N,2),T=E[0],I=E[1],A=(0,e.useState)(null),P=(0,l.Z)(A,2),M=P[0],D=P[1],L=(0,e.useState)(!1),O=(0,l.Z)(L,2),z=O[0],R=O[1],F=(0,e.useState)(""),B=(0,l.Z)(F,2),Z=B[0],U=B[1],V=(0,e.useState)([]),q=(0,l.Z)(V,2),H=q[0],W=q[1];"---"===S&&C(""),"---"===T&&I(""),"---"===Z&&U("");var Y=(0,e.useState)(!0),G=(0,l.Z)(Y,2),J=G[0],X=G[1];(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("dr_information").select("*");case 2:t=e.sent,n=t.data,(r=t.error)?console.error("Failed to fetch",r.message):(n&&(a=n.filter((function(e){return!!_&&e.name.toLowerCase().includes(_.toLowerCase())})),W(a)),""===_&&W(""));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[_]);var K=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(""),C("---"),I("---"),U(""),e.next=6,Kt.from("dr_information").select("*");case 6:t=e.sent,n=t.data,(r=t.error)&&console.error("Failed to fetch",r.message),D(n),R(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=s(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),_||S||T||Z){e.next=6;break}R(!0),D(null),e.next=18;break;case 6:return R(!1),e.next=9,Kt.from("dr_information").select("*");case 9:if(t=e.sent,n=t.data,!(r=t.error)){e.next=15;break}return console.error("Error searching for data:",r.message),e.abrupt("return");case 15:a=n.filter((function(e){var t=!_||e.name.toLowerCase().includes(_.toLowerCase()),n=!S||e.specialization.toLowerCase().includes(S.toLowerCase()),r=!T||e.subspecial.toLowerCase().includes(T.toLowerCase()),a=!Z||e.type.toLowerCase().includes("Face to Face Consult"===Z?"f2f":"ol");return t&&n&&r&&a})),D(a),0===a.length?(R(!0),D("")):R(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){Ci().init({duration:500})}),[]),(0,Br.jsxs)("section",{className:"back flex flex-col items-center",children:[(0,Br.jsxs)("div",{className:"hero5 p-28 py-28 max-sm:px-10 max-sm:py-14 max-sm:space-y-4 flex flex-col\r items-center text-white space-y-14 w-full","data-aos":"fade-up",children:[(0,Br.jsx)("p",{className:"text-5xl max-sm:text-3xl font-semibold uppercase","data-aos":"fade-up",children:"Dashboard"}),(0,Br.jsx)("p",{className:"text-3xl max-sm:text-lg font-light","data-aos":"fade-up",children:"Have a look at what you can do in our website"})]}),(a||!n)&&(0,Br.jsxs)("div",{className:"mt-20 flex flex-col items-center",children:[(0,Br.jsx)("h1",{className:"text-[34px] font-semibold text-[#315E30] mb-4","data-aos":"fade-up",children:"Find a Doctor"}),(0,Br.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Br.jsx)("div",{className:"find bg-white flex items-center search_box flex-col px-10 outbox py-8 rounded-md","data-aos":"zoom-in-up",children:(0,Br.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Br.jsxs)("div",{className:"grid grid-cols-4 containtsearch",children:[(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"Doctor's Name"}),(0,Br.jsx)("input",{type:"text",placeholder:"Enter Name",className:"py-1 mr-6 serachInput bg-white border-2 border-r-transparent border-t-transparent border-l-transparent focus:outline-none \r focus:border-b-[#315E30]",value:_,onChange:function(e){w(e.target.value),X(!0)}}),J&&H&&(0,Br.jsx)("div",{className:"absolute abs w-48 flex flex-wrap text-sm bg-white z-50",children:H.map((function(e){return(0,Br.jsx)("li",{onClick:function(){return t=e.name,w(t),void X(!1);var t},className:"list-none px-2 my-1 cursor-pointer w-full hover:bg-primary hover:text-white",children:e.name},e.id)}))})]}),(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"Specialization"}),(0,Br.jsx)("div",{className:"flex mr-10",children:(0,Br.jsx)("select",{className:"w-44 py-2 serachInput duration-100 border-b-2 focus:outline-[#315E30]",value:S,onChange:function(e){return C(e.target.value)},children:vv.map((function(e){return(0,Br.jsx)("option",{children:e.Specialization},e.id)}))})})]}),(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"Sub-Specialization"}),(0,Br.jsx)("div",{className:"flex mr-10",children:(0,Br.jsxs)("select",{id:"finddoctor-form-subspec",value:T,onChange:function(e){return I(e.target.value)},className:"w-44 py-2 serachInput duration-100 border-b-2 focus:outline-[#315E30]",children:[(0,Br.jsx)("option",{children:"---"},""),gv.map((function(e){return(0,Br.jsx)("option",{children:e.SubSpecialization},e.id)}))]})})]}),(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"Consultation Type"}),(0,Br.jsxs)("select",{value:Z,onChange:function(e){return U(e.target.value)},className:"py-2 pr-8 serachInput w-44 bg-white border-2 border-r-transparent border-t-transparent border-l-transparent focus:outline-none \r focus:border-b-[#315E30]",children:[(0,Br.jsx)("option",{id:"0",children:"---"}),(0,Br.jsx)("option",{id:"1",children:"Face to Face Consult"}),(0,Br.jsx)("option",{id:"2",children:"Online Consult"})]})]})]}),(0,Br.jsx)("button",{type:"submit","data-aos-anchor-placement":"top-bottom","data-aos":"fade-up",onClick:$,className:"bg-[#418D3F] searchbutton w-2/5 py-1 font-semibold text-xl text-white rounded-md transition duration-10 ease-in-out hover:bg-[#A5DD9D] hover:text-[#267124] hover:ring-[#418D3F] hover:ring-[3px]",children:"SEARCH"}),(0,Br.jsx)("button",{"data-aos-anchor-placement":"top-bottom","data-aos":"fade-up",onClick:K,className:"text-[#267124] resetbutton text-lg",children:"reset"})]})}),(0,Br.jsx)("div",{className:"".concat(g?"show":"hide"),children:(0,Br.jsxs)("div",{className:"searchbg rounded-xl pl-10 py-14 pr-[4.2rem] pt-12 bg mt-8 flex",children:[z&&(0,Br.jsx)("p",{className:"grid grid-flow-col gap-x-12",children:"No results found"}),M&&(0,Br.jsx)("div",{className:"Doctors",children:(0,Br.jsx)(Rv,{Doctors:M,Loaded:f,setLoaded:p})}),(0,Br.jsx)("button",{onClick:function(){return y(!1)},className:"\r text-base text-slate-400 bg-slate-200 px-1 w-[27px] h-full rounded-full -ml-1 -mt-[35px] -mr-14\r transition duration-75 ease-in hover:bg-slate-300 hover:text-slate-500 hover:border-slate-400 border-2",children:"X"})]})})]})]}),(0,Br.jsx)("h1",{className:"text-4xl font-semibold text-[#315E30] mt-16 mb-14","data-aos":"fade-up",children:"Features"}),a||!n?(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsx)("div",{className:"flex justify-center mb-20",children:(0,Br.jsxs)("div",{className:"grid place-items-center grid-cols-3 features gap-10 w-full",children:[(0,Br.jsxs)(Cr,{to:"/Appointment/Online",className:"boxes","data-aos":"fade-up",id:"trigger",children:[(0,Br.jsx)("img",{src:Fv,alt:"/",className:"imgDash p-5"}),(0,Br.jsx)("div",{className:"titleText",children:"Online Consult"}),(0,Br.jsx)("p",{children:"Book an appointment for online consult"})]}),(0,Br.jsxs)(Cr,{to:"/Appointment/F2f",className:"boxes","data-aos":"fade-up",children:[(0,Br.jsx)("img",{src:Bv,alt:"/",className:"imgDash object-left"}),(0,Br.jsx)("div",{className:"titleText",children:"Face to face Consult"}),(0,Br.jsx)("p",{children:"Book an appointment for Face to face consult"})]}),n?(0,Br.jsxs)(Cr,{to:"/Appointment/Status",className:"boxes","data-aos":"fade-up","data-aos-anchor":"#trigger",children:[(0,Br.jsx)("img",{src:Vv,alt:"/",className:"imgDash p-4"}),(0,Br.jsx)("div",{className:"titleText",children:"Appointment status"}),(0,Br.jsx)("p",{children:"Keep track of your appointment status"})]}):(0,Br.jsxs)("div",{onClick:r,className:"boxes","data-aos-anchor":"#trigger","data-aos":"fade-up",children:[(0,Br.jsx)("img",{src:Vv,alt:"/",className:"imgDash p-4"}),(0,Br.jsx)("div",{className:"titleText",children:"Appointment status"}),(0,Br.jsx)("p",{children:"Keep track of your appointment status"})]}),(0,Br.jsxs)("div",{className:"grid grid-cols-2 col-span-3 gap-x-10 w-full",children:[(0,Br.jsxs)(Cr,{to:"/Contacts",className:"BottomBox","data-aos-anchor":"#trigger","data-aos":"fade-up",children:[(0,Br.jsx)("img",{src:Zv,alt:"/",className:" imgDashBottom  px-24 py-8 max-[425px]:py-5"}),(0,Br.jsx)("div",{className:"titleText",children:"Contact Us!"}),(0,Br.jsx)("p",{children:"Need to give us a message? Feel free to contact us."})]}),n?(0,Br.jsxs)(Cr,{to:"/Online_Consultation_History",className:"BottomBox","data-aos":"fade-up","data-aos-anchor":"#trigger",children:[(0,Br.jsx)("img",{src:Uv,alt:"/",className:"imgDashBottom px-24 py-7"}),(0,Br.jsx)("div",{className:"titleText",children:"Consultation History"}),(0,Br.jsx)("p",{children:"Have a look at your recent online consultations"})]}):(0,Br.jsxs)("div",{onClick:r,className:"BottomBox","data-aos-anchor":"#trigger","data-aos":"fade-up",children:[(0,Br.jsx)("img",{src:Uv,alt:"/",className:"imgDashBottom px-24 py-7"}),(0,Br.jsx)("div",{className:"titleText",children:"Consultation History"}),(0,Br.jsx)("p",{children:"Have a look at your recent online consultations"})]})]})]})})}):"",o&&(0,Br.jsx)(Yv,{}),c&&(0,Br.jsx)(lg,{user:u,token:n})]})},ug=function(){var t=(0,e.useState)(""),n=(0,l.Z)(t,2),r=n[0],a=n[1],o=(0,e.useState)(""),c=(0,l.Z)(o,2),u=c[0],d=c[1],h=(0,e.useState)(""),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=(0,e.useState)(null),g=(0,l.Z)(v,2),y=g[0],x=g[1],b=(0,e.useState)([]),_=(0,l.Z)(b,2),w=_[0],k=_[1],j=(0,e.useState)(!1),S=(0,l.Z)(j,2),C=S[0],N=S[1],E=(0,e.useState)(),T=(0,l.Z)(E,2),I=T[0],A=T[1];"---"===u&&d(""),"---"===p&&m("");var P=(0,e.useState)(!0),M=(0,l.Z)(P,2),D=M[0],L=M[1];(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("dr_information").select("*").eq("type","ol");case 2:t=e.sent,n=t.data,(a=t.error)?console.error("Failed to fetch",a.message):(o=n.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())})),k(o),""===r&&k(""));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]);(0,e.useEffect)((function(){L(!0)}),[r]);var O=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("dr_information").select("*");case 2:t=e.sent,n=t.data,(r=t.error)&&(x(null),console.log(r)),n&&x(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){O(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"dr_information"},(function(){O()})).subscribe()}),[]);var z=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),d("---"),m("---"),A(""),e.next=6,Kt.from("dr_information").select("*").eq("type","ol");case 6:t=e.sent,n=t.data,(r=t.error)&&console.error("Failed to fetch",r.message),x(n),N(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=s(i().mark((function e(){var t,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r||u||p||I){e.next=4;break}N(!0),e.next=16;break;case 4:return N(!1),e.next=7,Kt.from("dr_information").select("*").eq("type","ol");case 7:if(t=e.sent,n=t.data,!(a=t.error)){e.next=13;break}return console.error("Error searching for data:",a.message),e.abrupt("return");case 13:o=n.filter((function(e){var t=!r||e.fname.toLowerCase().includes(r.toLowerCase()),n=!u||e.specialization.toLowerCase().includes(u.toLowerCase()),a=!p||e.subspecial.toLowerCase().includes(p.toLowerCase()),i=!I||e.subspecial.toLowerCase().includes(p.toLowerCase());return t&&n&&a&&i})),x(o),0===o.length?N(!0):N(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){Ci().init({duration:1e3})}),[]);var F=(0,e.useState)(!1),B=(0,l.Z)(F,2),Z=B[0],U=B[1];return(0,Br.jsxs)("div",{className:"back items-center flex flex-col h-auto min-h-screen",children:[(0,Br.jsxs)("div",{className:"hero2 p-28 py-28 max-sm:px-10 max-sm:py-14 text-center max-sm:space-y-4 flex flex-col\r items-center text-white space-y-14 w-full","data-aos":"fade-up",children:[(0,Br.jsx)("p",{className:"text-5xl max-sm:text-3xl font-semibold uppercase","data-aos":"fade-up",children:"RESERVE AN APPOINTMENT NOW!"}),(0,Br.jsx)("p",{className:"text-3xl max-sm:text-lg font-light","data-aos":"fade-up",children:"Let us assist your appointment for your online consultation."})]}),(0,Br.jsxs)("div",{className:"grid grid-cols-4 w-full justify-center mt-10 mb-9 items-end",children:[(0,Br.jsx)("div",{className:""}),(0,Br.jsxs)("div",{className:"flex flex-col col-span-2 items-center",children:[(0,Br.jsxs)("h1",{className:"text-4xl max-[425px]:text-3xl font-semibold text-[#315E30] mb-10 text-center","data-aos":"fade-up",children:["Find a Doctor",(0,Br.jsx)("br",{}),"(Online Conultation)"]}),(0,Br.jsx)("div",{className:"find bg-white flex items-center search_box flex-col px-10 outbox py-8 rounded-md","data-aos":"zoom-in-up",children:(0,Br.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Br.jsxs)("div",{className:"grid grid-cols-3 containtsearch",children:[(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"Doctor's name"}),(0,Br.jsx)("input",{type:"text",placeholder:"Enter name",className:"py-1 mr-6 serachInput bg-white border-2 border-r-transparent border-t-transparent border-l-transparent focus:outline-none \r focus:border-b-[#315E30]",value:r,onChange:function(e){return a(e.target.value)}})]}),(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"specialization"}),(0,Br.jsx)("div",{className:"flex mr-10",children:(0,Br.jsx)("select",{className:"w-full py-2 serachInput duration-100 border-b-2 focus:outline-[#315E30]",value:u,onChange:function(e){return d(e.target.value)},children:vv.map((function(e){return(0,Br.jsx)("option",{children:e.Specialization},e.id)}))})})]}),(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"Sub-specialization"}),(0,Br.jsx)("div",{className:"flex",children:(0,Br.jsxs)("select",{id:"finddoctor-form-subspec",value:p,onChange:function(e){return m(e.target.value)},className:"w-full py-2 serachInput duration-100 border-b-2 focus:outline-[#315E30]",children:[(0,Br.jsx)("option",{children:"---"},""),gv.map((function(e){return(0,Br.jsx)("option",{children:e.SubSpecialization},e.id)}))]})})]})]}),(0,Br.jsx)("button",{type:"submit","data-aos-anchor-placement":"top-bottom","data-aos":"fade-up",onClick:R,className:"bg-[#418D3F] searchbutton w-2/5 py-1 font-semibold text-xl text-white rounded-md transition duration-10 ease-in-out hover:bg-[#A5DD9D] hover:text-[#267124] hover:ring-[#418D3F] hover:ring-[3px]",children:"SEARCH"}),(0,Br.jsx)("button",{"data-aos-anchor-placement":"top-bottom","data-aos":"fade-up",onClick:z,className:"text-[#267124] resetbutton text-lg",children:"reset"})]})}),D&&w.length>0&&(0,Br.jsx)("div",{className:"absolute abs w-48 flex flex-wrap text-sm bg-white z-50 mr-[780px] mt-[195px]",children:w.map((function(e){return(0,Br.jsx)("li",{onClick:function(){return t=e.name,a(t),void L(!1);var t},className:"list-none px-2 my-1 cursor-pointer w-full hover:bg-primary hover:text-white",children:e.name},e.id)}))})]}),(0,Br.jsxs)("div",{className:"flex ml-8 text-4xl text-green-800 space-x-3",children:[(0,Br.jsx)("div",{className:""}),(0,Br.jsx)(yv,{onClick:function(){return U(!1)},className:"".concat(!Z&&"bg-[#7bbb7ec0]"," p-[6px] cursor-pointer rounded-md bg-[#9beb9fc0] shadow-lg transition duration-75 hover:bg-[#7bbb7ec0]")}),(0,Br.jsx)(xv,{onClick:function(){return U(!0)},className:"".concat(Z&&"bg-[#7bbb7ec0]"," p-[6px] cursor-pointer rounded-md bg-[#9beb9fc0] shadow-lg transition duration-75 hover:bg-[#7bbb7ec0]")})]})]}),C&&(0,Br.jsx)("p",{className:"grid grid-flow-col gap-x-12 py-8 text-2xl font-semibold text-[#1c531b]","data-aos":"fade-down",children:"No results found"}),!Z&&(0,Br.jsx)("div",{className:"grid -z-[0] md:grid-cols-3 max-[844px]:grid-cols-2 mx-auto justify-center max-sm:gap-y-0 xl:grid-cols-4 gap-x-10 gap-y-2",children:null===y||void 0===y?void 0:y.map((function(e){return(0,Br.jsx)(mv,{Doctors:e},e.id)}))}),Z&&(0,Br.jsx)("div",{className:"flex flex-col w-[60%] space-y-2 mb-3 items-center",children:null===y||void 0===y?void 0:y.map((function(e){return(0,Br.jsx)(pv,{ol:e},e.id)}))})]})},dg=function(t){t.token,t.isPatient;var n=(0,e.useState)(""),r=(0,l.Z)(n,2),a=r[0],o=r[1],c=(0,e.useState)(""),u=(0,l.Z)(c,2),d=u[0],h=u[1],f=(0,e.useState)(""),p=(0,l.Z)(f,2),m=p[0],v=p[1],g=(0,e.useState)(null),y=(0,l.Z)(g,2),x=y[0],b=y[1],_=(0,e.useState)([]),w=(0,l.Z)(_,2),k=w[0],j=w[1],S=(0,e.useState)(!1),C=(0,l.Z)(S,2),N=(C[0],C[1]),E=(0,e.useState)(),T=(0,l.Z)(E,2),I=T[0],A=T[1];"---"===d&&h(""),"---"===m&&v("");var P=(0,e.useState)(!0),M=(0,l.Z)(P,2),D=M[0],L=M[1];(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t,n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("dr_information").select("*").eq("type","f2f");case 2:t=e.sent,n=t.data,(r=t.error)?console.error("Failed to fetch",r.message):(o=n.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})),j(o),""===a&&j(""));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);(0,e.useEffect)((function(){L(!0)}),[a]);var O=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("dr_information").select("*").eq("type","f2f");case 2:if(t=e.sent,n=t.data,(r=t.error)&&(b(null),console.log(r)),!n){e.next=8;break}return e.abrupt("return",b(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){O(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"dr_information"},(function(){O()})).subscribe()}),[]);var z=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(""),h("---"),v("---"),A(""),e.next=6,Kt.from("dr_information").select("*").eq("type","f2f");case 6:t=e.sent,n=t.data,(r=t.error)&&console.error("Failed to fetch",r.message),b(n),N(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=s(i().mark((function e(){var t,n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a||d||m||I){e.next=4;break}N(!0),e.next=16;break;case 4:return N(!1),e.next=7,Kt.from("dr_information").select("*").eq("type","f2f");case 7:if(t=e.sent,n=t.data,!(r=t.error)){e.next=13;break}return console.error("Error searching for data:",r.message),e.abrupt("return");case 13:o=n.filter((function(e){var t=!a||e.fname.toLowerCase().includes(a.toLowerCase()),n=!d||e.specialization.toLowerCase().includes(d.toLowerCase()),r=!m||e.subspecial.toLowerCase().includes(m.toLowerCase()),i=!I||e.subspecial.toLowerCase().includes(m.toLowerCase());return t&&n&&r&&i})),b(o),0===o.length?N(!0):N(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){Ci().init({duration:1e3})}),[]);var F=(0,e.useState)(!1),B=(0,l.Z)(F,2),Z=B[0],U=B[1];return(0,Br.jsxs)("div",{className:"back items-center flex flex-col h-auto min-h-screen",children:[(0,Br.jsxs)("div",{className:"hero2 p-28 py-28 max-sm:px-10 max-sm:py-14 text-center max-sm:space-y-4 flex flex-col\r items-center text-white space-y-14 w-full","data-aos":"fade-up",children:[(0,Br.jsx)("p",{className:"text-5xl max-sm:text-3xl font-semibold uppercase","data-aos":"fade-up",children:"RESERVE AN APPOINTMENT NOW!"}),(0,Br.jsx)("p",{className:"text-3xl max-sm:text-lg font-light","data-aos":"fade-up",children:"Let us assist your appointment for your face to face consultation."})]}),(0,Br.jsxs)("div",{className:"grid grid-cols-4 w-full justify-center mt-10 mb-9 items-end",children:[(0,Br.jsx)("div",{className:""}),(0,Br.jsxs)("div",{className:"flex flex-col col-span-2 items-center",children:[(0,Br.jsxs)("h1",{className:"text-4xl max-[425px]:text-3xl font-semibold text-[#315E30] mb-10 text-center","data-aos":"fade-up",children:["Find a Doctor",(0,Br.jsx)("br",{}),"(Face to face Conultation)"]}),(0,Br.jsx)("div",{className:"find bg-white flex items-center search_box flex-col px-10 outbox py-8 rounded-md","data-aos":"zoom-in-up",children:(0,Br.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Br.jsxs)("div",{className:"grid grid-cols-3 containtsearch",children:[(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"Doctor's name"}),(0,Br.jsx)("input",{type:"text",placeholder:"Enter name",className:"py-1 mr-6 serachInput bg-white border-2 border-r-transparent border-t-transparent border-l-transparent focus:outline-none \r focus:border-b-[#315E30]",value:a,onChange:function(e){return o(e.target.value)}})]}),(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"specialization"}),(0,Br.jsx)("div",{className:"flex mr-10",children:(0,Br.jsx)("select",{className:"w-full py-2 serachInput duration-100 border-b-2 focus:outline-[#315E30]",value:d,onChange:function(e){return h(e.target.value)},children:vv.map((function(e){return(0,Br.jsx)("option",{children:e.Specialization},e.id)}))})})]}),(0,Br.jsxs)("div",{className:"text-xl text-[#315E30]",children:[(0,Br.jsx)("p",{className:"search_label",children:"Sub-specialization"}),(0,Br.jsx)("div",{className:"flex",children:(0,Br.jsxs)("select",{id:"finddoctor-form-subspec",value:m,onChange:function(e){return v(e.target.value)},className:"w-full py-2 serachInput duration-100 border-b-2 focus:outline-[#315E30]",children:[(0,Br.jsx)("option",{children:"---"},""),gv.map((function(e){return(0,Br.jsx)("option",{children:e.SubSpecialization},e.id)}))]})})]})]}),(0,Br.jsx)("button",{type:"submit","data-aos-anchor-placement":"top-bottom","data-aos":"fade-up",onClick:R,className:"bg-[#418D3F] searchbutton w-2/5 py-1 font-semibold text-xl text-white rounded-md transition duration-10 ease-in-out hover:bg-[#A5DD9D] hover:text-[#267124] hover:ring-[#418D3F] hover:ring-[3px]",children:"SEARCH"}),(0,Br.jsx)("button",{"data-aos-anchor-placement":"top-bottom","data-aos":"fade-up",onClick:z,className:"text-[#267124] resetbutton text-lg",children:"reset"})]})}),D&&k.length>0&&(0,Br.jsx)("div",{className:"absolute abs w-48 flex flex-wrap text-sm bg-white z-50 mr-[780px] mt-[195px]",children:k.map((function(e){return(0,Br.jsx)("li",{onClick:function(){return t=e.name,o(t),void L(!1);var t},className:"list-none px-2 my-1 cursor-pointer w-full hover:bg-primary hover:text-white",children:e.name},e.id)}))})]}),(0,Br.jsxs)("div",{className:"flex ml-8 text-4xl text-green-800 space-x-3",children:[(0,Br.jsx)("div",{className:""}),(0,Br.jsx)(yv,{onClick:function(){return U(!1)},className:"".concat(!Z&&"bg-[#7bbb7ec0]"," p-[6px] cursor-pointer rounded-md bg-[#9beb9fc0] shadow-lg transition duration-75 hover:bg-[#7bbb7ec0]")}),(0,Br.jsx)(xv,{onClick:function(){return U(!0)},className:"".concat(Z&&"bg-[#7bbb7ec0]"," p-[6px] cursor-pointer rounded-md bg-[#9beb9fc0] shadow-lg transition duration-75 hover:bg-[#7bbb7ec0]")})]})]}),!Z&&(0,Br.jsx)("div",{className:"grid -z-[0] md:grid-cols-3 max-[844px]:grid-cols-2 mx-auto justify-center max-sm:gap-y-0 xl:grid-cols-4 gap-x-10 gap-y-2",children:null===x||void 0===x?void 0:x.map((function(e){return(0,Br.jsx)(mv,{Doctors:e},e.id)}))}),Z&&(0,Br.jsx)("div",{className:"flex flex-col w-[60%] space-y-2 mb-3 items-center",children:null===x||void 0===x?void 0:x.map((function(e){return(0,Br.jsx)(pv,{ol:e},e.id)}))})]})};ra();var hg=function(t){var n=t.user,r=(0,e.useState)(null),a=(0,l.Z)(r,2),o=a[0],c=a[1],u=(0,e.useState)(),d=(0,l.Z)(u,2),h=d[0],f=d[1],p=(0,e.useState)(),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=(0,e.useState)(!1),x=(0,l.Z)(y,2),b=x[0],_=x[1],w=(0,e.useState)(!1),k=(0,l.Z)(w,2),j=k[0],S=k[1],C=Qn();function N(){return(N=s(i().mark((function e(t){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),_(!0),null!==o){e.next=6;break}return qa.error("Please give us a rating before submitting",{autoClose:!1,id:"error"}),_(!1),e.abrupt("return");case 6:return e.next=8,Kt.from("ratings").insert({user_id:n.id,message:v,rate:o});case 8:if(r=e.sent,a=r.error,e.prev=10,!a){e.next=15;break}throw a;case 15:S(!0),_(!1);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(10),qa.error(e.t0.message),_(!1);case 23:case"end":return e.stop()}}),e,null,[[10,19]])})))).apply(this,arguments)}return(0,Br.jsxs)("div",{className:"w-full flex flex-col text-center items-center justify-center",children:[(0,Br.jsx)("h2",{className:"text-3xl font-semibold text-green-600",children:"Booking Succesful!"}),(0,Br.jsxs)("h1",{className:"text-xl",children:[(0,Br.jsx)("br",{}),"Your appointment has been submitted Succesfully and is waiting for confirmation"]}),(0,Br.jsx)("p",{className:"text-lg",children:"click the button below to check you appointment status"}),(0,Br.jsx)(Cr,{to:"/Appointment/Patient/Details/"+C.bookID,className:"bg-[#16891d] text-white transition duration-75 border-[3px] hover:text-green-800 hover:border-green-600 hover:bg-[#A5DD9D] border-[#16891d] w-[50%] py-2 mt-9 text-xl rounded-md",children:"Check Appointment Status"}),(0,Br.jsx)("div",{className:"w-full border-b-2 border-slate-300 mt-9 mb-3"}),b?(0,Br.jsx)(Br.Fragment,{children:"Loading"}):(0,Br.jsx)(Br.Fragment,{children:j?(0,Br.jsxs)("div",{className:"text-center mt-10",children:[(0,Br.jsxs)("p",{className:"text-3xl flex items-center text-green-600",children:[(0,Br.jsx)(ia,{className:"text-3xl mr-1"})," ",(0,Br.jsx)("span",{children:"Review Submitted Succesfully!"})]}),(0,Br.jsx)("p",{className:"text-xl mt-2",children:"Thank you for your response"})]}):(0,Br.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},className:"w-full",children:[(0,Br.jsx)("label",{className:"text-lg",children:"How was your booking?"}),(0,Br.jsx)("div",{className:"flex items-center justify-center mt-2 space-x-3 text-5xl text-slate-500",children:(0,T.Z)(Array(5)).map((function(e,t){var n=t+1;return(0,Br.jsxs)("label",{children:[(0,Br.jsx)("input",{required:!0,type:"radio",className:"hidden",value:n,onClick:function(){return c(n)}}),(0,Br.jsx)(ri,{className:n<=(h||o)?"text-[#ffc107]":"text-[#c4e5e9]",onMouseEnter:function(){return f(n)},onMouseLeave:function(){return f(null)}})]},t)}))}),(0,Br.jsx)("textarea",{required:!0,placeholder:"Tell us something more about your experience",type:"text",className:"w-full p-2 border-2 border-slate-400 mt-3 mb-6",onChange:function(e){return g(e.target.value)}}),(0,Br.jsx)("button",{type:"submit",className:"px-8 py-2 rounded-md transition duration-100 border-[#16891d] border-[2px] hover:bg-[#16891d] hover:text-white bg-[#a5e5a9] text-[#106716]",children:"Submit Feedback"})]})})]})};ra();var fg=function(t){var n=t.token,r=t.setToken,a=t.user,o=$n(),c=(0,e.useState)({email:"",password:""}),u=(0,l.Z)(c,2),d=u[0],h=u[1];function f(e){h((function(t){return(0,Ir.Z)((0,Ir.Z)({},t),{},(0,Tr.Z)({},e.target.name,e.target.value))}))}var p=(0,e.useState)(!1),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=Qn();function x(){return(x=s(i().mark((function e(t){var n,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(!0),e.prev=2,e.next=5,Kt.auth.signInWithPassword({email:d.email,password:d.password});case 5:if(n=e.sent,a=n.data,!(s=n.error)){e.next=12;break}throw s;case 12:o("/Appointment/Success/"+y.bookID),r(a),g(!1);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),qa.error(e.t0.message,{id:"logerr",position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),g(!1);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})))).apply(this,arguments)}var b=(0,e.useState)(!1),_=(0,l.Z)(b,2),w=_[0],k=_[1],j=w?"text":"password";return(0,Br.jsx)("div",{className:"back flex items-center h-screen justify-center",children:(0,Br.jsx)("div",{className:"flex py-20 px-14 flex-col items-center abs rounded-lg bg-white",children:n?(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsx)(hg,{user:a})}):(0,Br.jsx)(Br.Fragment,{children:v?(0,Br.jsxs)("div",{className:"p-10 items-center flex flex-col",children:[(0,Br.jsx)("l-cardio",{size:"116",stroke:"3",speed:"1.3",color:"rgb(3, 89, 6)"}),(0,Br.jsx)("p",{className:"mt-8 text-4xl text-green-700 uppercase font-semibold",children:"Signing you in please wait"})]}):(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("div",{className:" flex items-center ",children:(0,Br.jsxs)("h1",{className:"flex text-5xl items-center text-green-600 font-semibold",children:[(0,Br.jsx)(Hd,{className:"text-5xl mr-3"}),"Great! You have been verified"]})}),(0,Br.jsx)("p",{className:"text-2xl mt-5",children:"You can now log in your account to view and monitor your appointment status."}),(0,Br.jsx)("div",{className:"border-t-2 border-slate-400 w-full h-14"}),(0,Br.jsxs)("form",{onSubmit:function(e){return x.apply(this,arguments)},className:"flex flex-col w-[50%] text-xl",children:[(0,Br.jsx)("div",{className:"",children:"Email:"}),(0,Br.jsx)("input",{name:"email",onChange:f,type:"text",placeholder:"type your email here",className:"border-b-2 outline-0 border-b-slate-400 focus:bg-slate-200 focus:border-b-green-800 px-3 h-10"}),(0,Br.jsx)("div",{className:"mt-6",children:"Password:"}),(0,Br.jsxs)("div",{className:"flex items-center",children:[(0,Br.jsx)("input",{name:"password",onChange:f,type:j,placeholder:"type your email here",className:"border-b-2  w-full outline-0 border-b-slate-400 focus:bg-slate-200 focus:border-b-green-800 px-3 h-10"}),(0,Br.jsx)("div",{onClick:function(){return k(!w)},className:"cursor-pointer mt-[2px] -ml-9 text-[24px] ",children:w?(0,Br.jsx)(Fr,{}):(0,Br.jsx)(Rr,{})})]}),(0,Br.jsx)("div",{className:"w-full flex justify-center",children:(0,Br.jsx)("button",{type:"submit",className:"mt-8 bg-green-500 select-none text-white px-6 rounded-md border-2 border-opacity-0 active:border-slate-800 hover:bg-green-600 transition duration-100",children:"Sign In"})})]})]})})})})},pg=":host{align-items:center;display:inline-flex;flex-shrink:0;height:calc(var(--uib-size)*.5);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{align-items:flex-end;display:flex;height:100%;justify-content:space-between;width:100%}.dot{background-color:var(--uib-color);border-radius:50%;flex-shrink:0;height:calc(var(--uib-size)*.17);transition:background-color .3s ease;width:calc(var(--uib-size)*.17)}.dot:first-child{animation:jump var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.45) infinite}.dot:nth-child(2){animation:jump var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.3) infinite}.dot:nth-child(3){animation:jump var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.15) infinite}.dot:nth-child(4){animation:jump var(--uib-speed) ease-in-out infinite}@keyframes jump{0%,to{transform:translateY(0)}50%{transform:translateY(-200%)}}",mg=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;return(0,c.Z)(this,n),e=t.call(this),(0,Tr.Z)((0,$r.Z)(e),"_attributes",["size","color","speed"]),(0,Tr.Z)((0,$r.Z)(e),"size",void 0),(0,Tr.Z)((0,$r.Z)(e),"color",void 0),(0,Tr.Z)((0,$r.Z)(e),"speed",void 0),e.storePropsToUpgrade(e._attributes),e.reflect(e._attributes),e}return(0,u.Z)(n,[{key:"connectedCallback",value:function(){this.upgradeStoredProps(),this.applyDefaultProps({size:47,color:"black",speed:1}),this.template.innerHTML='\n      <div class="container">\n        <div class="dot"></div>\n        <div class="dot"></div>\n        <div class="dot"></div>\n        <div class="dot"></div>\n      </div>\n      <style>\n        :host{\n          --uib-size: '.concat(this.size,"px;\n          --uib-color: ").concat(this.color,";\n          --uib-speed: ").concat(this.speed,"s;\n        }\n        ").concat(pg,"\n      </style>\n    "),this.shadow.replaceChildren(this.template.content.cloneNode(!0))}},{key:"attributeChangedCallback",value:function(){var e=this.shadow.querySelector("style");e&&(e.innerHTML="\n      :host{\n        --uib-size: ".concat(this.size,"px;\n        --uib-color: ").concat(this.color,";\n        --uib-speed: ").concat(this.speed,"s;\n      }\n      ").concat(pg,"\n    "))}}],[{key:"observedAttributes",get:function(){return["size","color","speed"]}}]),n}(ea),vg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"l-dot-wave";customElements.get(e)||customElements.define(e,function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(mg))},gg=Xt("https://iniadwocuptwhvsjrcrw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluaWFkd29jdXB0d2h2c2pyY3J3Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5NjkxNDU2MywiZXhwIjoyMDEyNDkwNTYzfQ.AjJMolJsd1WTSVSAOvM45zGpuC_wyGk5VaiCI4MJ0z8",{auth:{autoRefreshToken:!1,persistSession:!1}});vg();var yg=function(){var t=Qn(),n=(0,e.useState)(),r=(0,l.Z)(n,2),a=r[0],o=r[1];function c(){return(c=s(i().mark((function e(){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("patient_Appointments").select("email").eq("book_id",t.bookID).single();case 2:if(n=e.sent,r=n.data,a=n.error,e.prev=5,!a){e.next=10;break}throw a;case 10:o(r.email);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),qa.error(e.t0.message),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}function u(){return(u=s(i().mark((function e(n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Kt.auth.resend({type:"signup",email:a,options:{emailRedirectTo:"https://leweprojects.github.io/MGHsite/#/Appointment/Success/"+t.bookID}});case 3:if(r=e.sent,o=r.error,e.prev=5,!o){e.next=10;break}throw o;case 10:qa.success("Success");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),qa.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}(0,e.useEffect)((function(){!function(){c.apply(this,arguments)}()}),[]);var d=(0,e.useState)(),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=function(){var e=s(i().mark((function e(){var t,n,r,o,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=18;break}return e.next=4,Kt.from("profile").select().eq("email",a).single();case 4:if(t=e.sent,n=t.data,!(r=t.error)){e.next=9;break}throw r;case 9:if(!n){e.next=18;break}return e.next=12,gg.auth.admin.getUserById(n.id);case 12:if(o=e.sent,s=o.data,!(l=o.error)){e.next=17;break}throw l;case 17:s&&p(s.user.email_confirmed_at);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0),qa.error(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:if(!a){e.next=5;break}return t=gg.channel("room4").on("postgres_changes",{event:"*",schema:"auth",table:"users"},(function(e){m(e.new.data)})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,f]);var v=$n();return f&&v("/Appointment/Success/"+t.bookID),(0,Br.jsx)("div",{className:"back flex items-center h-screen justify-center",children:(0,Br.jsxs)("div",{className:"flex h-[60%] justify-center space-y-3 px-14 flex-col items-center abs rounded-md bg-white",children:[(0,Br.jsxs)("div",{className:" flex items-center ",children:[(0,Br.jsxs)("h1",{className:"text-5xl text-green-700 font-semibold",children:["Waiting for verification"," "]}),(0,Br.jsx)("l-dot-wave",{size:"50",speed:"0.4",color:"#149044"})]}),(0,Br.jsx)("p",{className:"text-xl",children:"Please check you email for the verification link..."}),(0,Br.jsxs)("p",{children:["If the verification is not sent click"," ",(0,Br.jsx)("button",{onClick:function(e){return u.apply(this,arguments)},className:"transition duration-100 text-primary hover:text-primary-800",children:"Resend Confirmation"})]})]})})};ra();var xg=function(t){var n=t.setOpenEdit,r=t.data,a=t.isImgEmpty,o=t.CDNURL,c=t.imgName;(0,e.useEffect)((function(){Ci().init({duration:300}),Ci().refresh()}),[]);var u=(0,e.useRef)();(0,e.useEffect)((function(){var e=function(e){u.current.contains(e.target)||n(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[u]);var d=(0,e.useState)({fname:"",mname:"",lname:"",email:"",address:"",bday:""}),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)(null===r||void 0===r?void 0:r.phone),v=(0,l.Z)(m,2),g=v[0],y=v[1],x=function(e){p((function(t){return(0,Ir.Z)((0,Ir.Z)({},t),{},(0,Tr.Z)({},e.target.name,e.target.value))}))};(0,e.useEffect)((function(){r&&p((function(e){return(0,Ir.Z)((0,Ir.Z)({},e),{},{fname:r.first_name,mname:r.middle_name,lname:r.last_name,email:r.email,address:r.address,bday:r.birthday})}))}),[r]);var b=(0,e.useState)(!1),_=(0,l.Z)(b,2),w=_[0],k=_[1];var j=(0,e.useState)(!1),S=(0,l.Z)(j,2),C=S[0],N=S[1],E=(0,e.useState)([]),T=(0,l.Z)(E,2),I=T[0],A=T[1],P=(0,e.useState)(!1),M=(0,l.Z)(P,2),D=M[0],L=M[1],O=(0,e.useState)(null),z=(0,l.Z)(O,2),R=z[0],F=z[1];function B(){return Z.apply(this,arguments)}function Z(){return(Z=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=23;break}return a&&Kt.storage.from("images").remove([r.email+"/profile/"+c]),e.next=4,Kt.storage.from("images").upload(r.email+"/profile/"+hi(),I[0]);case 4:if(t=e.sent,n=t.error,e.prev=6,!n){e.next=11;break}throw n;case 11:L(!1),F(null),A(null),N(!1),window.location.reload(),qa.success("Succesfully uploaded",{toastId:"success"});case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(6),qa.error(e.t0.message),N(!1);case 23:case"end":return e.stop()}}),e,null,[[6,19]])})))).apply(this,arguments)}function U(){return(U=s(i().mark((function e(t){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!0),e.next=4,Kt.from("profile").update({first_name:f.fname,middle_name:f.mname,last_name:f.lname,phone:g,email:f.email,address:f.address,birthday:f.bday}).eq("email",r.email);case 4:if(a=e.sent,o=a.error,e.prev=6,!o){e.next=11;break}throw o;case 11:w&&(B(),qa.success("Succesful pic")),N(!1),n(!1),qa.success("Succesful");case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),qa.error(e.t0.message),N(!1);case 21:case"end":return e.stop()}}),e,null,[[6,17]])})))).apply(this,arguments)}return console.log(r.email),(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex justify-center",children:(0,Br.jsxs)("div",{"data-aos":"fade-left",ref:u,className:"bg-white sticky mt-[5rem] flex flex-col items-center abs rounded-lg p-6 h-[60%] w-[50%]",children:[(0,Br.jsx)("div",{className:"w-full flex mb-5 justify-end",children:(0,Br.jsx)("button",{onClick:function(e){return n(!1)||e.preventDefault()},className:"bg-slate-200 hover:bg-slate-300 transition duration-75 rounded-md px-3 select-none text-lg",children:"close"})}),C?(0,Br.jsxs)("div",{className:"flex flex-col h-full text-green-600 justify-center items-center",children:[(0,Br.jsx)("l-cardio",{size:"120",stroke:"2",speed:"1",color:"rgb(0,100,0)"}),(0,Br.jsx)("h1",{className:"text-4xl",children:"Adding doctor please wait"})]}):(0,Br.jsxs)("form",{onSubmit:function(e){return U.apply(this,arguments)},className:"grid grid-cols-2 overflow-y-auto w-full h-full px-5",children:[(0,Br.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"First Name: "}),(0,Br.jsx)("input",{type:"text",name:"fname",value:f.fname,onChange:x,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Middle Name: "}),(0,Br.jsx)("input",{type:"text",name:"mname",value:f.mname,onChange:x,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Last Name: "}),(0,Br.jsx)("input",{type:"text",name:"lname",value:f.lname,onChange:x,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Email: "}),(0,Br.jsx)("input",{type:"text",name:"email",value:f.email,onChange:x,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Address: "}),(0,Br.jsx)("textarea",{type:"text",name:"address",value:f.address,onChange:x,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Birth Date: "}),(0,Br.jsx)("input",{type:"date",name:"bday",value:f.bday,onChange:x,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Contact number: "}),(0,Br.jsx)("input",{type:"text",name:"phone",value:g,onChange:function(e){return y(e.target.value.slice(0,11))},className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]})]}),(0,Br.jsx)("div",{className:"flex flex-col space-y-3 items-center",children:(0,Br.jsxs)("div",{className:"flex flex-col mt-8 text-center items-center w-full",children:[(0,Br.jsx)("h1",{className:"mb-4 font-semibold text-xl",children:"Patient's Profile pic"}),w?(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(wv,{isSelected:D,image:R,handleCancel:function(e){e.stopPropagation(),L(!1),F(null),A(null)},handleDragOver:function(e){e.preventDefault()},handleDrop:function(e){e.preventDefault(),L(!0),F(URL.createObjectURL(e.dataTransfer.files[0])),A(e.dataTransfer.files)},handleFile:function(e){e.preventDefault(),L(!0),F(URL.createObjectURL(e.target.files[0])),A(e.target.files)},File:I}),(0,Br.jsx)("button",{onClick:function(e){e.preventDefault(),k(!1),L(!1),F(null),A(null)},className:"".concat(D?"mt-14 bg-primary-300 hover:bg-primary-600 hover:text-primary-100 flex items-center px-3 rounded-md text-primary-900":"bg-primary-300 hover:bg-primary-600 hover:text-primary-100 flex items-center px-3 rounded-md text-primary-900"),children:(0,Br.jsx)("span",{children:"Cancel profile editting"})})]}):(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("img",{className:"object-cover shadow-xl w-[15rem] mb-5 h-[15rem]",src:"".concat(a?o+r.email+"/profile/"+c:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("button",{onClick:function(e){e.preventDefault(),k(!0)},className:"bg-primary-300 hover:bg-primary-600 hover:text-primary-100 flex items-center px-3 rounded-full text-primary-900",children:[(0,Br.jsx)(Id,{className:"mr-1 text-xl"}),(0,Br.jsx)("span",{children:"Update profile picture"})]})]})]})}),(0,Br.jsx)("div",{className:"sticky bottom-0 bg-white col-span-2 w-full mt-3 mb-5 flex justify-center",children:(0,Br.jsx)("button",{type:"submit",className:"bg-green-700 transition duration-100 hover:bg-green-300 hover:text-green-900 px-10 py-1 text-lg text-white rounded-md",children:"Submit"})})]})]})})};ra();var bg=function(t){var n=t.data,r=t.setConfirmDelete,a=(0,e.useState)(!1),o=(0,l.Z)(a,2),c=o[0],u=o[1];$n();function d(){return(d=s(i().mark((function e(t){var r,a,o,s,l,c,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(!0),e.next=4,Kt.storage.from("images").remove([n.email]);case 4:return r=e.sent,(a=r.error)&&qa.error(a+"22"),e.next=9,Kt.from("profile").select("id").eq("email",n.email).single();case 9:if(o=e.sent,s=o.data,l=o.error,e.prev=12,!l){e.next=17;break}throw l;case 17:return e.next=19,gg.auth.admin.deleteUser(s.id);case 19:if(c=e.sent,!(d=c.error)){e.next=26;break}return setTimeout((function(){console.log(d),qa.error(d.message+"41"),u(!1)}),1e3),e.abrupt("return");case 26:setTimeout((function(){qa.success("Account deleted succesfully",{toastId:"success"})}),1e3);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(12),setTimeout((function(){console.log(e.t0),qa.error(e.t0.message+"55",{toastId:"error"}),u(!1)}),1e3);case 32:case"end":return e.stop()}}),e,null,[[12,29]])})))).apply(this,arguments)}return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{className:"bg-white sticky mt-[5rem] flex w-[29rem] flex-col items-center abs rounded-lg p-6",children:c?(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("l-cardio",{size:"120",stroke:"2",speed:"1",color:"rgb(0,100,0)"}),(0,Br.jsx)("h1",{className:"text-4xl",children:"Deleting account please wait"})]}):(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("div",{className:"h-full",children:(0,Br.jsx)(ai,{className:"text-4xl mr-3 mt-2 text-red-500"})}),(0,Br.jsxs)("div",{className:"flex flex-col items-start",children:[(0,Br.jsx)("h1",{className:"mb-2 font-semibold text-xl flex items-end",children:(0,Br.jsx)("span",{children:"Account Deletion"})}),(0,Br.jsx)("p",{className:"mb-4",children:"Are you sure you wish to delete this account? This will delete the account PERMANENTLY."}),(0,Br.jsxs)("div",{className:"flex items-center justify-end w-full space-x-2 mt-3",children:[(0,Br.jsx)("button",{onClick:function(e){return r(!1)||e.preventDefault()},className:"px-9 py-1 bg-slate-100 border-2 transition duration-100 hover:bg-slate-300 border-slate-300 rounded-md",children:"Cancel"}),(0,Br.jsx)("button",{onClick:function(e){return d.apply(this,arguments)},className:"px-9 py-1 bg-red-600 transition duration-100 hover:bg-red-800 text-white rounded-md",children:"Delete"})]})]})]})})})})},_g=function(){var t="https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/",n=(0,e.useState)([]),r=(0,l.Z)(n,2),a=r[0],o=r[1],c=(0,e.useState)(!1),u=(0,l.Z)(c,2),d=u[0],h=u[1],f=Qn().id,p=(0,e.useState)([]),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=(0,e.useState)(!0),x=(0,l.Z)(y,2),b=x[0],_=x[1],w=$n(),k=function(){var e=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("profile").select().eq("id",f).single();case 2:t=e.sent,n=t.data,t.error?(setTimeout((function(){_(!1)}),1e3),w("/Edit_Patients")):(setTimeout((function(){_(!1)}),1e3),g(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=(0,e.useState)(!1),S=(0,l.Z)(j,2),C=S[0],N=S[1],E=(0,e.useState)([]),T=(0,l.Z)(E,2),I=T[0],A=T[1],P=(0,e.useState)([]),M=(0,l.Z)(P,2),D=M[0],L=M[1],O=(0,e.useState)([]),z=(0,l.Z)(O,2),R=z[0],F=z[1];(0,e.useEffect)((function(){k(),Kt.channel("room1").on("postgres_changes",{event:"*",schema:"public",table:"profile"},(function(){k()})).subscribe()}),[]),(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("patient_Appointments").select().eq("email",v&&v.email);case 2:if(t=e.sent,n=t.data,r=t.error,e.prev=5,!r){e.next=10;break}throw r;case 10:v.email&&A(n);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),qa.error(e.t0.message,{autoClose:!1,id:"Error"});case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[v.email]),(0,e.useEffect)((function(){if(I){var e=I.filter((function(e){return!e.status.includes("Completed")})),t=I.filter((function(e){return e.status.includes("Completed")}));L(e),F(t)}}),[I]),(0,e.useEffect)((function(){if(v.email){var e=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(v.email+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(h(!0),o(n[0].name)),r&&(h(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[o,v.email,h]);var B=(0,e.useState)(!1),Z=(0,l.Z)(B,2),U=Z[0],V=Z[1];return document.documentElement.style.overflowY=U?"hidden":"unset",(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsxs)("div",{className:"sticky top-1 z-50",children:[U&&(0,Br.jsx)(xg,{isImgEmpty:d,CDNURL:t,imgName:a,data:v,setOpenEdit:V}),C&&(0,Br.jsx)(bg,{data:v,setConfirmDelete:N})]}),(0,Br.jsxs)("div",{className:"back flex flex-col items-center min-h-screen h-auto w-full",children:[(0,Br.jsx)("h1",{className:"w-full text-3xl mt-10 text-center font-semibold text-[#256e2b] uppercase",children:"Patient's details"}),(0,Br.jsx)("form",{className:"flex flex-col px-12 py-10 mt-10 bg-white w-[80%] abs",children:b?(0,Br.jsx)("div",{className:"flex justify-center w-full ",children:(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})}):(0,Br.jsx)("div",{className:"grid grid-cols-3 text-lg row-span-2 gap-3",children:v&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("div",{className:"flex flex-col  text-center items-center",children:[(0,Br.jsx)("img",{className:"object-cover rounded-md shadow-xl w-[15rem] mb-5 h-[15rem]",src:"".concat(d?t+v.email+"/profile/"+a:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("div",{className:"w-full space-y-3",children:[(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Name:"}),(0,Br.jsx)("br",{}),v.first_name," ",v.last_name]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Email:"}),(0,Br.jsx)("br",{}),v.email," "]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Contact Number:"}),(0,Br.jsx)("br",{}),v.phone]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-8 pr-6",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient's id:"}),(0,Br.jsx)("br",{}),v.id]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Address:"}),(0,Br.jsx)("br",{}),v.address]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Birth date:"}),(0,Br.jsx)("br",{}),v.birthday]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Consultation type:"}),(0,Br.jsx)("br",{}),"ol"===v.type?"Online Consultation":"Face to face"]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-8",children:[(0,Br.jsxs)("div",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Pending booked appointments:"}),(0,Br.jsx)("br",{}),(0,Br.jsx)("div",{className:"text-5xl font-semibold",children:0===D.length?(0,Br.jsx)("p",{className:"text-lg w-[18rem] font-thin",children:"No pending booked appointments yet"}):D.length})]}),(0,Br.jsxs)("div",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Completed Appointments:"}),(0,Br.jsx)("br",{}),(0,Br.jsx)("div",{className:"text-5xl font-semibold",children:0===R.length?(0,Br.jsx)("p",{className:"text-lg w-[16rem] font-thin",children:"No completed appointments yet"}):R.length})]}),(0,Br.jsx)("div",{className:"flex justify-start items-center",children:(0,Br.jsxs)("button",{onClick:function(e){return V(!0)||e.preventDefault()},className:"px-4 py-1 transition duration-75 hover:bg-primary-400 hover:text-white bg-primary-200 rounded-full flex space-x-2 items-center",children:[(0,Br.jsx)(sa,{className:"text-xl -mt-[3px]"}),(0,Br.jsx)("span",{children:"Edit patient's details"})]})}),(0,Br.jsx)("div",{className:"flex justify-start items-center",children:(0,Br.jsxs)("button",{onClick:function(e){return N(!0)||e.preventDefault()},className:"px-3 text-base py-1 transition duration-75 bg-red-600 hover:text-black text-white hover:bg-[#ff9090] rounded-full flex space-x-2 items-center",children:[(0,Br.jsx)(rh,{className:"text-xl -mt-[3px]"}),(0,Br.jsx)("span",{children:"Delete account"})]})})]})]})})})]})]})},wg=function(t){var n=t.ol,r=t.CDNURL,a=(t.setResched,t.setBookID,(0,e.useState)(!1)),o=(0,l.Z)(a,2),c=o[0],u=o[1];var d=(0,e.useRef)();(0,e.useEffect)((function(){if(n){var e=function(e){d.current.contains(e.target)||u(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[u,n]);var h=n.email,f=(0,e.useState)([]),p=(0,l.Z)(f,2),m=p[0],v=p[1],g=(0,e.useState)(!1),y=(0,l.Z)(g,2),x=y[0],b=y[1];function _(){return(_=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(h+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(b(!0),v(n[0].name)),r&&(b(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){n&&function(){_.apply(this,arguments)}(h,v,b)}),[n,h,b,v]),(0,e.useEffect)((function(){Ci().init({duration:500}),Ci().refresh()}),[]),(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsx)("div",{className:"text-base flex w-full select-none",children:(0,Br.jsxs)("section",{"data-aos":"fade-right","data-aos-anchor":"#trigger-next",ref:d,onClick:function(e){e.preventDefault(),u(!c)},className:"group/pu bg-white abs mb-3 cursor-pointer text-gray-900 w-full rounded-xl transition duration-75 ease-in hover:bg-slate-100 text-center  ",children:[(0,Br.jsxs)("div",{id:"trigger-next",scope:"row",className:" py-3 mx-6 flex font-medium whitespace-nowrap justify-between",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[4rem] h-[4rem]",src:"".concat(x?r+n.email+"/profile/"+m:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("div",{className:"ml-4 flex-col text-left text-sm",children:[(0,Br.jsxs)("p",{className:"text-base uppercase font-semibold text-green-800",children:[n.fname," ",n.lname]}),(0,Br.jsx)("p",{className:"",children:vi()(new Date(n.created_at)).calendar()}),(0,Br.jsxs)("p",{children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Scheduled at:"," "]}),vi()(new Date(n.date)).format("ll")]})]})]}),(0,Br.jsxs)("div",{className:"flex self-start mt-2",children:[(0,Br.jsx)("p",{className:"bg-primary-500 text-center w-fit px-3 h-fit self-center mr-3 text-white rounded-full",children:n.status}),(0,Br.jsx)("button",{className:" mr-2 text-lg transition duration-200 group-hover/pu:bg-slate-400 p-3 rounded-lg",children:(0,Br.jsx)("div",{children:(0,Br.jsx)(Hr,{className:"".concat(c?"rotate-180 transition duration-300":"rotate-0 transition duration-300")})})})]})]}),(0,Br.jsxs)("div",{className:"".concat(c?"transition-all duration-300 ease-in overflow-y-visible opacity-100 max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden opacity-0 max-h-0"),children:[(0,Br.jsxs)("div",{className:"flex flex-col items-start mx-[6.4rem] mt-3 gap-y-3",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(uh,{className:"text-lg pr-[2px]pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Email ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.email})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[" ",(0,Br.jsx)(dh,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Phone ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.number})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)($d,{className:"text-lg pr-[2px]pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Reason ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.reason})]})]})]}),(0,Br.jsx)("div",{className:"max-w-full my-5 flex justify-center space-x-10",children:(0,Br.jsx)(Cr,{to:"/Doctor/Appointments/Details/"+n.book_id,onClick:function(e){return e.stopPropagation()},children:(0,Br.jsxs)("button",{className:"text-lg flex items-center space-x-1 px-12 py-1 transition duration-100 hover:bg-[#377532] bg-[#3dbb34] text-white rounded-md",children:[(0,Br.jsx)(Ha,{className:"text-xl"}),(0,Br.jsx)("span",{children:"Appointment Details"})]})})})]})]})},n.user_id)})},kg=function(t){var n=t.books,r=t.CDNURL,a=t.Loaded,i=t.setLoaded,o=t.setResched,s=t.setBookID,c=(0,e.useState)(0),u=(0,l.Z)(c,2),d=u[0],h=u[1],f=(0,e.useState)(0),p=(0,l.Z)(f,2),m=p[0],v=p[1],g=(0,e.useState)([]),y=(0,l.Z)(g,2),x=y[0],b=y[1];(0,e.useEffect)((function(){if(n){var e=d+7;b(n.slice(d,e)),v(Math.ceil(n.length/7)),x&&setTimeout((function(){i(!0)}),500)}}),[d,7,n,i]);return(0,Br.jsxs)("div",{className:"w-full flex flex-col items-center rounded",children:[(0,Br.jsx)(xh(),{breakLabel:". . .",nextLabel:"next >",onPageChange:function(e){i(!1);var t=7*e.selected%n.length;h(t)},pageRangeDisplayed:3,pageCount:m,previousLabel:"< previous",renderOnZeroPageCount:null,className:"flex space-x-3 mb-6 w-full justify-center items-center select-none",breakClassName:"text-xl font-semibold",pageLinkClassName:"text-slate-600 text-lg transition duration-100 bg-[#cbcbcba8] hover:bg-[#bfbfbffc] hover:text-slate-700 px-[10px] py-[8px] rounded",previousLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",nextLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",activeLinkClassName:"border-2 border-green-700 text-xl rounded"}),a?0===x.length?"No Completed Appointments yet":(0,Br.jsx)(Br.Fragment,{children:x.map((function(e){return(0,Br.jsx)("div",{className:"w-full",children:(0,Br.jsx)(wg,{ol:e,CDNURL:r,setResched:o,setBookID:s})},e.book_id)}))}):(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})]})};ra();var jg=function(t){var n=t.setResched,r=t.id,a=(t.user,$n(),(0,e.useState)()),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=(0,e.useState)(),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)(),v=(0,l.Z)(m,2),g=v[0],y=v[1],x=(0,e.useState)(),b=(0,l.Z)(x,2),_=b[0],w=b[1];function k(){return j.apply(this,arguments)}function j(){return(j=s(i().mark((function e(){var t,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("patient_Appointments").select().eq("book_id",r).single();case 2:if(t=e.sent,n=t.data,!(a=t.error)){e.next=7;break}throw a;case 7:w(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return C.apply(this,arguments)}function C(){return(C=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.from("patient_Appointments").select("queue").match({doc_id:null===_||void 0===_?void 0:_.doc_id,date:c,status:"rescheduled"}).order("queue",{ascending:!1}).limit(1);case 3:if(t=e.sent,n=t.data,r=t.error,n&&y(n[0]),!r){e.next=9;break}throw Error(r.message+"206");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function N(){return(N=s(i().mark((function e(t){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n(!1),e.prev=2,e.next=5,Kt.from("patient_Appointments").update({status:"rescheduled",date:c,remark:f,queue:null!==g&&void 0!==g&&g.queue?g.queue+1:101}).eq("book_id",r);case 5:if(a=e.sent,!(o=a.error)){e.next=11;break}throw o;case 11:qa.success("Appointment Succesfully Rescheduled");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),qa.error(e.t0.message),console.log(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}(0,e.useEffect)((function(){k();var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return e.next=4,k();case 4:return t=Kt.channel("room13").on("postgres_changes",{event:"UPDATE",schema:"public",table:"patient_Appointments",filter:"doc_id=eq.".concat(null===_||void 0===_?void 0:_.doc_id)},(function(e){S(e.new.data)})).on("postgres_changes",{event:"UPDATE",schema:"public",table:"patient_Appointments",filter:"date=eq.".concat(c)},(function(e){S(e.new.data)})).on("postgres_changes",{event:"UPDATE",schema:"public",table:"patient_Appointments",filter:"status=eq.rescheduled"},(function(e){S(e.new.data)})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]);return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{className:"bg-white sticky -mt-[8rem] flex w-[29rem] flex-col items-center abs rounded-lg p-6",children:(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("div",{className:"h-full",children:(0,Br.jsx)(Ev,{className:"text-4xl mr-3 mt-2 text-primary-500"})}),(0,Br.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},className:"flex flex-col items-start",children:[(0,Br.jsx)("h1",{className:"mb-2 font-semibold text-xl flex items-end",children:(0,Br.jsx)("span",{children:"Reschedule Appointment"})}),(0,Br.jsx)("p",{className:"mb-4",children:"Are you sure you want to reschedule this appointment?"}),(0,Br.jsx)("p",{children:"Select a date to reshedule:"}),(0,Br.jsx)("input",{required:!0,onChange:function(e){return u(e.target.value)},type:"date",className:"mb-4 bg-slate-200 px-3 py-1 w-[60%] focus:border-2 border-b-2 border-slate-400"}),(0,Br.jsx)("p",{children:"Reason for rescheduling:"}),(0,Br.jsx)("input",{required:!0,onChange:function(e){return p(e.target.value)},type:"text",className:"mb-4 bg-slate-200 px-3 py-1 w-[60%] focus:border-2 border-b-2 border-slate-400"}),(0,Br.jsxs)("div",{className:"flex items-center justify-end w-full space-x-2 mt-3",children:[(0,Br.jsx)("button",{onClick:function(e){return n(!1)||e.preventDefault()},className:"px-9 py-1 bg-slate-100 border-2 transition duration-100 hover:bg-slate-300 border-slate-300 rounded-md",children:"Cancel"}),(0,Br.jsx)("button",{className:"px-9 py-1 bg-primary-600 transition duration-100 hover:bg-primary-800 text-white rounded-md",children:"Confirm"})]})]})]})})})})},Sg=function(t){var n=t.CDNURL,r=t.user,a=(0,e.useState)([]),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=(0,e.useState)([]),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=r.first_name+" "+(r.middle_name?r.middle_name+" ":"")+r.last_name,v=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("patient_Appointments").select("*").eq("docname",m);case 2:t=e.sent,n=t.data,(r=t.error)&&(qa.error(r,{toastId:"dataError"}),console.error("Failed to fetch",r.message)),n&&p(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=(0,e.useState)(""),y=(0,l.Z)(g,2),x=y[0],b=y[1],_=(0,e.useState)(""),w=(0,l.Z)(_,2),k=w[0],j=w[1],S=(0,e.useState)(""),C=(0,l.Z)(S,2),N=C[0],E=C[1],T=(0,e.useState)(""),I=(0,l.Z)(T,2),A=I[0],P=I[1],M=(0,e.useState)(""),D=(0,l.Z)(M,2),L=D[0],O=D[1],z=(0,e.useState)(""),R=(0,l.Z)(z,2),F=R[0],B=R[1],Z=(0,e.useState)(!0),U=(0,l.Z)(Z,2),V=U[0],q=U[1];(0,e.useEffect)((function(){"Show all"===k&&j(""),"Show all"===L&&O(""),"all"===N&&E(""),"descending"===F?q(!0):"ascending"===F&&q(!1),"Show all"===A?P(""):"Online Consult"===A?P("ol"):"Face to face Consult"===A&&P("f2f")}),[F,q,L,N,A,k,j,E,P]);var H=(0,e.useState)(!0),W=(0,l.Z)(H,2),Y=W[0],G=W[1],J=(0,e.useState)(!1),X=(0,l.Z)(J,2),K=X[0],$=X[1],Q=(0,e.useState)(!0),ee=(0,l.Z)(Q,2),te=ee[0],ne=ee[1];(0,e.useEffect)((function(){if(f){var e=f.filter((function(e){var t=e.status.includes("Completed"),n=e.someone.includes(k),r=e.time.toLowerCase().includes(N),a=e.type.toLowerCase().includes(A),i=e.status.toLowerCase().includes(L);return t&&n&&r&&a&&i})).sort((function(e,t){return V?e.created_at>t.created_at?-1:1:e.created_at<t.created_at?-1:1}));u(e),c&&setTimeout((function(){G(!0)}),1e3)}}),[V,A,L,N,k,u,f]),(0,e.useEffect)((function(){v(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"patient_Appointments"},(function(){v()})).subscribe()}),[]);var re=(0,e.useState)(!1),ae=(0,l.Z)(re,2),ie=ae[0],oe=ae[1],se=(0,e.useState)(),le=(0,l.Z)(se,2),ce=le[0],ue=le[1];return document.documentElement.style.overflowY=ie?"hidden":"unset",(0,Br.jsxs)(Br.Fragment,{children:[ie&&(0,Br.jsx)(jg,{setResched:oe,id:ce,user:r}),(0,Br.jsx)("div",{className:"back h-full flex justify-center",children:(0,Br.jsxs)("div",{className:"w-[70%]",children:[(0,Br.jsx)("div",{className:" flex justify-between items-center mt-10 mb-3 ",children:(0,Br.jsx)("div",{onClick:function(){return $(!K)},className:"px-4 py-1 items-center select-none hover:cursor-pointer w-fit transition duration-75 \r ease-in hover:bg-[#78b673f8] bg-[#98dd93c4] text-[#295f34] mx-4  rounded-full hover:text-white flex",children:K?(0,Br.jsxs)(Br.Fragment,{children:[" ",(0,Br.jsx)(kp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Close Filter"})]}):(0,Br.jsxs)(Br.Fragment,{children:[" ",(0,Br.jsx)(jp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Filter"})]})})}),(0,Br.jsx)("div",{className:"".concat(K?"transition-all duration-300 ease-in overflow-y-visible max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden max-h-0"),children:(0,Br.jsxs)("div",{className:"bg-[#98dd93c4] px-5 pt-5 pb-8 mb-2 rounded-lg items-center gap-x-7 gap-y-4 grid grid-cols-2",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"mb-1",children:"Search by name"}),(0,Br.jsxs)("div",{className:"flex h-6 text-slate-500",children:[!x&&(0,Br.jsxs)("div",{className:"".concat(K?"absolute flex space-x-1 items-center translate-x-4":"hidden"),children:[(0,Br.jsx)(Jd,{className:"w-4"}),(0,Br.jsx)("p",{children:"Type here"})]}),(0,Br.jsxs)("div",{className:"flex items-center w-full",children:[(0,Br.jsx)("input",{type:"text",onChange:function(e){return b(e.target.value)},className:"pl-3 rounded-l-md h-8 w-full text-black border-slate-400 border-2"}),(0,Br.jsx)("button",{onClick:function(){ne(!1);var e=f.filter((function(e){var t=e.fname.toLowerCase().includes(x.toLowerCase()),n=e.lname.toLowerCase().includes(x.toLowerCase()),r=e.mname.toLowerCase().includes(x.toLowerCase()),a=e.docname.toLowerCase().includes(x.toLowerCase());return t||n||r||a}));u(e),f&&setTimeout((function(){ne(!0)}),1e3)},className:"bg-[#60af5ac4] h-8 border-l-0 hover:bg-[#84d17fc4] hover:text-[#388332c4]\r text-white border-[#388332c4] border-2 px-2 rounded-r-md relative",children:"Search"})]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Appointment type"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return P(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Online Consult"},"2"),(0,Br.jsx)("option",{children:"Face to face Consult"},"3")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"sort created book date by"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return B(e.target.value)},children:[(0,Br.jsx)("option",{children:"descending"},"1"),(0,Br.jsx)("option",{children:"ascending"},"2")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Booked by someone"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return j(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Yes"},"2"),(0,Br.jsx)("option",{children:"No"},"3")]})]})]})}),(0,Br.jsx)("div",{className:" flex justify-center",children:(0,Br.jsx)("div",{className:"w-full h-auto min-h-screen text-sm flex mt-3 mb-10 flex-wrap justify-between\r rounded-lg text-gray-500 dark:text-gray-400",children:te?(0,Br.jsx)(kg,{setBookID:ue,setResched:oe,books:c,CDNURL:n,setLoaded:G,Loaded:Y}):(0,Br.jsxs)("div",{className:"w-full flex justify-center mt-20",children:[(0,Br.jsx)(_p,{visible:!0,width:"50",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efffb7",color:"#388332c4"}),(0,Br.jsx)("p",{className:"text-2xl text-slate-600",children:"Searching"})]})})})]})})]})},Cg=function(t){var n=t.ol,r=t.setResched,a=t.setBookID,o=(0,e.useState)(!1),c=(0,l.Z)(o,2),u=c[0],d=c[1];var h=(0,e.useRef)();(0,e.useEffect)((function(){if(n){var e=function(e){h.current.contains(e.target)||d(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[d,n]);var f=n.email,p=(0,e.useState)([]),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=(0,e.useState)(!1),x=(0,l.Z)(y,2),b=x[0],_=x[1];function w(){return(w=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(f+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(_(!0),g(n[0].name)),r&&(_(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){n&&function(){w.apply(this,arguments)}(f,g,_)}),[n,f,_,g]),(0,e.useEffect)((function(){Ci().init({duration:500}),Ci().refresh()}),[]),(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsx)("div",{className:"text-base flex w-full select-none",children:(0,Br.jsxs)("section",{"data-aos":"fade-right","data-aos-anchor":"#trigger-next",ref:h,onClick:function(e){e.preventDefault(),d(!u)},className:"group/pu bg-white abs mb-3 cursor-pointer text-gray-900 w-full rounded-xl transition duration-75\r ease-in hover:bg-slate-100 text-center  ",children:[(0,Br.jsxs)("div",{id:"trigger-next",scope:"row",className:" py-3 mx-6 flex font-medium whitespace-nowrap justify-between",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[4rem] h-[4rem]",src:"".concat(b?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+n.email+"/profile/"+v:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("div",{className:"ml-4 flex-col text-left text-sm",children:[(0,Br.jsxs)("p",{className:"text-base uppercase font-semibold text-green-800",children:[n.fname," ",n.lname]}),(0,Br.jsx)("p",{className:"",children:vi()(new Date(n.created_at)).calendar()}),(0,Br.jsxs)("p",{children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Scheduled at:"," "]}),vi()(new Date(n.date)).format("ll")]})]})]}),(0,Br.jsxs)("div",{className:"flex items-center mt-2",children:["Consultation Ongoing"===n.status&&(0,Br.jsx)("p",{className:"px-3 items-center text-white rounded-full h-fit bg-green-500 w-fit",children:n.status}),"pending confirmation"===n.status&&(0,Br.jsx)("p",{className:"px-3 items-center text-white rounded-full h-fit bg-primary w-fit",children:n.status}),"Confirmed"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-emerald-500 w-fit",children:n.status}),"pending request"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-primary w-fit",children:n.status}),"rescheduled"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-rose-500 w-fit",children:n.status}),"rejected"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-red-500 w-fit",children:n.status}),"Awaiting Doctor's Confirmation"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-emerald-500 w-fit",children:n.status}),(0,Br.jsx)("button",{className:" mx-2 text-lg transition duration-200 group-hover/pu:bg-slate-400 p-3 rounded-lg",children:(0,Br.jsx)("div",{children:(0,Br.jsx)(Hr,{className:"".concat(u?"rotate-180 transition duration-300":"rotate-0 transition duration-300")})})})]})]}),(0,Br.jsxs)("div",{className:"".concat(u?"transition-all duration-300 ease-in overflow-y-visible opacity-100 max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden opacity-0 max-h-0"),children:[(0,Br.jsxs)("div",{className:"flex flex-col items-start mx-[6.4rem] mt-3 gap-y-3",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(uh,{className:"text-lg pr-[2px]pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Email ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.email})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(dh,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Phone ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.number})]})]}),"f2f"!==(null===n||void 0===n?void 0:n.type)&&(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(Tv,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Queue: ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.queue})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)($d,{className:"text-lg pr-[2px]pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Reason ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.reason})]})]})]}),(0,Br.jsxs)("div",{className:"max-w-full my-5 flex justify-center space-x-10",children:[(0,Br.jsx)(Cr,{to:"/Doctor/Appointments/Details/"+n.book_id,onClick:function(e){return e.stopPropagation()},children:(0,Br.jsxs)("button",{className:"text-lg flex items-center space-x-1 px-12 py-1 transition duration-100 hover:bg-[#377532] bg-[#3dbb34] text-white rounded-md",children:[(0,Br.jsx)(Ha,{className:"text-xl"}),(0,Br.jsx)("span",{children:"Appointment Details"})]})}),(0,Br.jsxs)("button",{onClick:function(e){return r(!0)||a(n.book_id)||e.stopPropagation()},className:"text-lg flex items-center space-x-1 px-12  transition duration-100 text-white hover:bg-red-700 bg-red-500 rounded-md",children:[(0,Br.jsx)(Ev,{className:"text-2xl"}),(0,Br.jsx)("span",{children:"Reschedule Appointment"})]})]})]})]})},n.user_id)})},Ng=function(t){var n=t.books,r=t.CDNURL,a=t.Loaded,i=t.setLoaded,o=t.setResched,s=t.setBookID,c=(0,e.useState)(0),u=(0,l.Z)(c,2),d=u[0],h=u[1],f=(0,e.useState)(0),p=(0,l.Z)(f,2),m=p[0],v=p[1],g=(0,e.useState)(null),y=(0,l.Z)(g,2),x=y[0],b=y[1];(0,e.useEffect)((function(){if(n){var e=d+7;b(n.slice(d,e)),v(Math.ceil(n.length/7)),x&&setTimeout((function(){i(!0)}),500)}}),[d,7,n,i]);return(0,Br.jsxs)("div",{className:"w-full flex flex-col items-center rounded",children:[(0,Br.jsx)(xh(),{breakLabel:". . .",nextLabel:"next >",onPageChange:function(e){i(!1);var t=7*e.selected%n.length;h(t)},pageRangeDisplayed:3,pageCount:m,previousLabel:"< previous",renderOnZeroPageCount:null,className:"flex space-x-3 mb-6 w-full justify-center items-center select-none",breakClassName:"text-xl font-semibold",pageLinkClassName:"text-slate-600 text-lg transition duration-100 bg-[#cbcbcba8] hover:bg-[#bfbfbffc] hover:text-slate-700 px-[10px] py-[8px] rounded",previousLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",nextLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",activeLinkClassName:"border-2 border-green-700 text-xl rounded"}),a?x&&x.map((function(e){return(0,Br.jsx)("div",{className:"w-full",children:(0,Br.jsx)(Cg,{ol:e,CDNURL:r,setResched:o,setBookID:s})},e.book_id)})):(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})]})},Eg=function(t){var n=t.CDNURL,r=t.user,a=(0,e.useState)([]),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=(0,e.useState)([]),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=r.first_name+" "+(r.middle_name?r.middle_name+" ":"")+r.last_name,v=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("patient_Appointments").select("*").eq("docname",m);case 2:t=e.sent,n=t.data,(r=t.error)&&(qa.error(r,{toastId:"dataError"}),console.error("Failed to fetch",r.message)),n&&p(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=(0,e.useState)(""),y=(0,l.Z)(g,2),x=y[0],b=y[1],_=(0,e.useState)(""),w=(0,l.Z)(_,2),k=w[0],j=w[1],S=(0,e.useState)(""),C=(0,l.Z)(S,2),N=C[0],E=C[1],T=(0,e.useState)(""),I=(0,l.Z)(T,2),A=I[0],P=I[1],M=(0,e.useState)(""),D=(0,l.Z)(M,2),L=D[0],O=D[1],z=(0,e.useState)(""),R=(0,l.Z)(z,2),F=R[0],B=R[1],Z=(0,e.useState)(!0),U=(0,l.Z)(Z,2),V=U[0],q=U[1];(0,e.useEffect)((function(){"Show all"===k&&j(""),"Show all"===L&&O(""),"all"===N&&E(""),"descending"===F?q(!0):"ascending"===F&&q(!1),"Show all"===A?P(""):"Online Consult"===A?P("ol"):"Face to face Consult"===A&&P("f2f")}),[F,q,L,N,A,k,j,E,P]);var H=(0,e.useState)(!0),W=(0,l.Z)(H,2),Y=W[0],G=W[1],J=(0,e.useState)(!1),X=(0,l.Z)(J,2),K=X[0],$=X[1],Q=(0,e.useState)(!0),ee=(0,l.Z)(Q,2),te=ee[0],ne=ee[1];(0,e.useEffect)((function(){if(f){var e=f.filter((function(e){var t=!e.status.includes("Completed"),n=!e.status.includes("rejected"),r=e.someone.includes(k),a=e.date.toLowerCase().includes(N.toLowerCase()),i=e.type.toLowerCase().includes(A),o=e.status.toLowerCase().includes(L);return n&&t&&r&&a&&i&&o})).sort((function(e,t){return V?e.created_at>t.created_at?-1:1:e.created_at<t.created_at?-1:1}));u(e),c&&setTimeout((function(){G(!0)}),1e3)}}),[V,A,L,N,k,u,f]),(0,e.useEffect)((function(){v(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"patient_Appointments"},(function(){v()})).subscribe()}),[]);var re=(0,e.useState)(!1),ae=(0,l.Z)(re,2),ie=ae[0],oe=ae[1],se=(0,e.useState)(),le=(0,l.Z)(se,2),ce=le[0],ue=le[1];return document.documentElement.style.overflowY=ie?"hidden":"unset",(0,Br.jsxs)(Br.Fragment,{children:[ie&&(0,Br.jsx)(jg,{setResched:oe,id:ce,user:r}),(0,Br.jsx)("div",{className:"back h-full flex justify-center",children:(0,Br.jsxs)("div",{className:"w-[70%]",children:[(0,Br.jsx)("div",{className:" flex justify-between items-center mt-10 mb-3 ",children:(0,Br.jsx)("div",{onClick:function(){return $(!K)},className:"px-4 py-1 items-center select-none hover:cursor-pointer w-fit transition duration-75 \r ease-in hover:bg-[#78b673f8] bg-[#98dd93c4] text-[#295f34] mx-4  rounded-full hover:text-white flex",children:K?(0,Br.jsxs)(Br.Fragment,{children:[" ",(0,Br.jsx)(kp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Close Filter"})]}):(0,Br.jsxs)(Br.Fragment,{children:[" ",(0,Br.jsx)(jp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Filter"})]})})}),(0,Br.jsx)("div",{className:"".concat(K?"transition-all duration-300 ease-in overflow-y-visible max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden max-h-0"),children:(0,Br.jsxs)("div",{className:"bg-[#98dd93c4] px-5 pt-5 pb-8 mb-2 rounded-lg items-center grid grid-cols-3 gap-6",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"mb-1",children:"Search by name"}),(0,Br.jsxs)("div",{className:"flex h-6 text-slate-500",children:[!x&&(0,Br.jsxs)("div",{className:"".concat(K?"absolute flex space-x-1 items-center translate-x-4":"hidden"),children:[(0,Br.jsx)(Jd,{className:"w-4"}),(0,Br.jsx)("p",{children:"Type here"})]}),(0,Br.jsxs)("div",{className:"flex items-center w-full",children:[(0,Br.jsx)("input",{type:"text",onChange:function(e){return b(e.target.value)},className:"pl-3 rounded-l-md h-8 w-full text-black border-slate-400 border-2"}),(0,Br.jsx)("button",{onClick:function(){ne(!1);var e=f.filter((function(e){var t,n,r,a,i=null===(t=e.fname)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()),o=null===(n=e.lname)||void 0===n?void 0:n.toLowerCase().includes(x.toLowerCase()),s=null===(r=e.mname)||void 0===r?void 0:r.toLowerCase().includes(x.toLowerCase()),l=null===(a=e.docname)||void 0===a?void 0:a.toLowerCase().includes(x.toLowerCase());return i||o||s||l}));u(e),f&&setTimeout((function(){ne(!0)}),1e3)},className:"bg-[#60af5ac4] h-8 border-l-0 hover:bg-[#84d17fc4] hover:text-[#388332c4]\r text-white border-[#388332c4] border-2 px-2 rounded-r-md relative",children:"Search"})]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Appointment type"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return P(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Online Consult"},"2"),(0,Br.jsx)("option",{children:"Face to face Consult"},"3")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"sort created book date by"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return B(e.target.value)},children:[(0,Br.jsx)("option",{children:"descending"},"1"),(0,Br.jsx)("option",{children:"ascending"},"2")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Search by Scheduled Date"}),(0,Br.jsxs)("div",{className:"flex items-center",children:[(0,Br.jsx)("input",{type:"date",value:N,className:"w-fit px-3 rounded-md border-slate-400 border-2",onChange:function(e){return E(e.target.value)}}),(0,Br.jsx)("button",{onClick:function(){return E("")},className:"bg-[#60af5ac4] ml-1 hover:bg-[#84d17fc4] hover:text-[#388332c4]\r text-white border-[#388332c4] border-2 px-2 rounded-md ",children:"reset date"})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Booked by someone"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return j(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Yes"},"2"),(0,Br.jsx)("option",{children:"No"},"3")]})]})]})}),(0,Br.jsx)("div",{className:" flex justify-center",children:(0,Br.jsx)("div",{className:"w-full h-auto min-h-screen text-sm flex mt-3 mb-10 flex-wrap justify-between\r rounded-lg text-gray-500 dark:text-gray-400",children:te?(0,Br.jsx)(Ng,{setBookID:ue,setResched:oe,books:c,CDNURL:n,setLoaded:G,Loaded:Y}):(0,Br.jsxs)("div",{className:"w-full flex justify-center mt-20",children:[(0,Br.jsx)(_p,{visible:!0,width:"50",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efffb7",color:"#388332c4"}),(0,Br.jsx)("p",{className:"text-2xl text-slate-600",children:"Searching"})]})})})]})})]})},Tg=function(t){var n=t.ol,r=(0,e.useState)(!1),a=(0,l.Z)(r,2),o=a[0],c=a[1];var u=(0,e.useRef)();(0,e.useEffect)((function(){if(n){var e=function(e){u.current.contains(e.target)||c(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[c,n]);new Date(n.created_at);var d=n.email,h=(0,e.useState)([]),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=(0,e.useState)(!1),g=(0,l.Z)(v,2),y=g[0],x=g[1];function b(){return(b=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(d+"/profile/",{limit:100,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(x(!0),m(n[0].name)),r&&(x(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){n&&function(){b.apply(this,arguments)}()}),[n]),(0,e.useEffect)((function(){Ci().init({duration:500}),Ci().refresh()}),[]),(0,Br.jsx)("section",{className:"text-base flex w-full select-none",children:(0,Br.jsxs)("div",{"data-aos":"fade-right","data-aos-anchor":"#trigger-next",ref:u,onClick:function(e){e.preventDefault(),c(!o)},className:"group/pu bg-white abs mb-3 cursor-pointer text-gray-900 w-full rounded-xl transition duration-75 ease-in hover:bg-slate-100 text-center  ",children:[(0,Br.jsxs)("div",{id:"trigger-next",scope:"row",className:" py-3 mx-6 flex font-medium whitespace-nowrap justify-between",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[4rem] h-[4rem]",src:"".concat(y?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+n.email+"/profile/"+p:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/doc.jpg"),alt:"/"}),(0,Br.jsxs)("div",{className:"ml-4 flex-col text-left text-sm",children:[(0,Br.jsxs)("p",{className:"text-base uppercase font-semibold text-green-800",children:[n.honorific," ",n.name]}),(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Specialization:"," "]}),n.specialization]}),(0,Br.jsxs)("p",{children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Sub-specialization:"," "]}),n.subspecial]})]})]}),(0,Br.jsxs)("div",{className:"flex self-start mt-2",children:[(0,Br.jsx)("p",{className:"bg-primary-500 text-center w-fit px-3 h-fit self-center mr-3 text-white rounded-full",children:n.status}),(0,Br.jsx)("button",{className:" mr-2 text-lg transition duration-200 group-hover/pu:bg-slate-400 p-3 rounded-lg",children:(0,Br.jsx)("div",{children:(0,Br.jsx)(Hr,{className:"".concat(o?"rotate-180 transition duration-300":"rotate-0 transition duration-300")})})})]})]}),(0,Br.jsxs)("div",{className:"".concat(o?"transition-all duration-300 ease-in overflow-y-visible opacity-100 max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden opacity-0 max-h-0"),children:[(0,Br.jsxs)("div",{className:"flex flex-col items-start mx-[6.4rem] mt-3 gap-y-3",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(Rd,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[24px]  text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base text-black",children:["Schedules"," ",(0,Br.jsx)("label",{className:"text-slate-400 flex",children:n.schedule&&n.schedule.map((function(e,t){return(0,Br.jsx)("p",{className:"p-2 rounded-sm mr-2 bg-opacity-20 text-slate-400 bg-green-600",children:"Thursday"===e.day?"Th":e.day[0]+" "},t)}))})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(hv,{className:"text-lg pb-3 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Consultation Type"," ",(0,Br.jsx)("p",{className:"text-slate-400",children:"ol"===n.type?"Online Consultations":"Face to face Consultations"})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[" ",(0,Br.jsx)(uh,{className:"text-lg pr-[2px]pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Email ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.email})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[" ",(0,Br.jsx)(dh,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Phone ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.phone})]})]})]}),(0,Br.jsx)("div",{className:"max-w-full mb-5 flex justify-center space-x-10",children:(0,Br.jsx)(Cr,{to:"/Doctor_Details/"+n.id,onClick:function(e){return e.stopPropagation()},children:(0,Br.jsx)("button",{className:"text-lg px-20 py-1 transition duration-100 hover:bg-[#377532] bg-[#3dbb34] text-white rounded-md",children:"Doctor Details"})})})]})]})},n.id)},Ig=function(t){var n=t.books,r=t.Loaded,a=t.setLoaded,i=(0,e.useState)(0),o=(0,l.Z)(i,2),s=o[0],c=o[1],u=(0,e.useState)(0),d=(0,l.Z)(u,2),h=d[0],f=d[1],p=(0,e.useState)(null),m=(0,l.Z)(p,2),v=m[0],g=m[1];(0,e.useEffect)((function(){if(n){var e=s+7;g(n.slice(s,e)),f(Math.ceil(n.length/7)),v&&setTimeout((function(){a(!0)}),500)}}),[s,7,n,a]);return(0,Br.jsxs)("div",{className:"w-full h-auto flex flex-col items-center rounded",children:[(0,Br.jsx)(xh(),{breakLabel:". . .",nextLabel:"next >",onPageChange:function(e){a(!1);var t=7*e.selected%n.length;c(t)},pageRangeDisplayed:3,pageCount:h,previousLabel:"< previous",renderOnZeroPageCount:null,className:"flex space-x-3 mb-6 w-full justify-center items-center select-none",breakClassName:"text-xl font-semibold",pageLinkClassName:"text-slate-600 text-lg transition duration-100 bg-[#cbcbcba8] hover:bg-[#bfbfbffc] hover:text-slate-700 px-[10px] py-[8px] rounded",previousLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",nextLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",activeLinkClassName:"border-2 border-green-700 text-xl rounded"}),r?v&&v.map((function(e){return(0,Br.jsx)("div",{className:"w-full",children:(0,Br.jsx)(Tg,{ol:e})},e.id)})):(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})]})},Ag=function(e){var t=e.setSuccess;return(0,Br.jsxs)("div",{className:"flex flex-col h-full items-center justify-center",children:[(0,Br.jsxs)("div",{className:"flex items-center",children:[(0,Br.jsx)("h1",{className:"text-6xl font-semibold",children:"Doctor has been added succesfully"}),(0,Br.jsx)(Ed,{className:"text-6xl ml-2"})]}),(0,Br.jsx)("button",{onClick:function(){return t(!1)},className:"mt-10 w-[60%] transition duration-100 rounded-md py-2 text-4xl bg-green-600 hover:bg-green-200 hover:text-green-600 border-4 border-green-600 text-white font-semibold",children:"Add another doctor"})]})};ra();var Pg=function(t){var n=t.setShowAdd;(0,e.useEffect)((function(){Ci().init({duration:300}),Ci().refresh()}),[]);var r=(0,e.useRef)();(0,e.useEffect)((function(){var e=function(e){r.current.contains(e.target)||n(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[n]);var a=(0,e.useState)([]),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=(0,e.useState)(!1),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)(null),v=(0,l.Z)(m,2),g=v[0],y=v[1];function x(){return b.apply(this,arguments)}function b(){return(b=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").upload(Z+"/profile/"+hi(),c[0]);case 2:t=e.sent,n=t.data,(r=t.error)&&(setTimeout((function(){W(!1)}),1e3),qa.error(r.message,{autoClose:!1})),n&&(p(!1),y(null),u(null));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=(0,e.useState)(),w=(0,l.Z)(_,2),k=w[0],j=w[1],S=(0,e.useState)({name:"",fname:"",mname:"",lname:"",bday:"",special:"",subspec:"",type:"",honorific:"",phone:"",id:"",gmeet:""}),C=(0,l.Z)(S,2),N=C[0],E=C[1],I=(0,e.useState)([]),A=(0,l.Z)(I,2),P=A[0],M=A[1];console.log(P);var D=function(e,t,n){M((function(r){var a=(0,T.Z)(r),i=a.find((function(t){return t.day===e}));return i&&("startTime"===t?i.startTime=n:"endTime"===t&&(i.endTime=n)),a}))},L=function(e){"phone"===e.target.name?E((function(t){return(0,Ir.Z)((0,Ir.Z)({},t),{},(0,Tr.Z)({},e.target.name,e.target.value.slice(0,11)))})):E((function(t){return(0,Ir.Z)((0,Ir.Z)({},t),{},(0,Tr.Z)({},e.target.name,e.target.value))}))};(0,e.useEffect)((function(){j(N.fname+(N.mname?" "+N.mname:"")+" "+N.lname)}),[N]);var O=new Date(N.bday),z=(O.getMonth()+1).toString().padStart(2,"0"),R=O.getDate().toString().padStart(2,"0"),F=O.getFullYear(),B="".concat(F).concat(z).concat(R),Z=(N.fname[0]&&N.fname[0].toLowerCase())+(N.mname?N.mname[0].toLowerCase():"")+N.lname.toLowerCase()+(N.id?N.id:"")+"@mgh.com",U=N.lname.toLowerCase()+B,V=(0,e.useState)(!1),q=(0,l.Z)(V,2),H=q[0],W=q[1],Y=(0,e.useState)(!1),G=(0,l.Z)(Y,2),J=G[0],X=G[1];function K(){return(K=s(i().mark((function e(t){var n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),W(!0),e.next=4,Kt.from("dr_information").insert({name:k,phone:N.phone,specialization:N.special,subspecial:N.subspec,schedule:P,hmo:N.hmo,honorific:N.honorific,email:Z,type:"Face to face"===N.type?"f2f":"ol",gmeet:N.gmeet});case 4:if(n=e.sent,!(r=n.error)){e.next=12;break}setTimeout((function(){W(!1)}),2e3),qa.error(r.message,{autoClose:!1}),console.log(r),e.next=30;break;case 12:return e.next=14,gg.auth.admin.createUser({email:Z,password:U,email_confirm:!0,user_metadata:{role:"doctor",birth_date:N.bday,first_name:N.fname,middle_name:N.mname,last_name:N.lname,phone:N.phone,username:N.lname+(N.id?N.id:"")}});case 14:if(a=e.sent,o=a.data,s=a.error,e.prev=17,!s){e.next=22;break}throw s;case 22:o&&setTimeout((function(){W(!1),x()}),2e3);case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(17),qa.error(e.t0.message,{autoClose:!1}),console.log(e.t0);case 29:setTimeout((function(){X(!0)}),1500);case 30:case"end":return e.stop()}}),e,null,[[17,25]])})))).apply(this,arguments)}return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-full z-50 flex justify-center",children:(0,Br.jsxs)("div",{"data-aos":"fade-left",ref:r,className:"bg-white mt-[5rem] flex flex-col items-center abs rounded-lg p-6 h-[60%] w-[80%]",children:[(0,Br.jsx)("div",{className:"w-full flex justify-end",children:(0,Br.jsx)("button",{onClick:function(e){return n(!1)||e.preventDefault()},className:"bg-slate-200 rounded-md px-3 text-lg",children:"close"})}),J?(0,Br.jsx)(Ag,{setSuccess:X}):(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("h1",{className:"text-3xl font-semibold uppercase",children:"Add a Doctor"}),H?(0,Br.jsxs)("div",{className:"flex flex-col h-full text-green-600 justify-center items-center",children:[(0,Br.jsx)("l-cardio",{size:"120",stroke:"2",speed:"1",color:"rgb(0,100,0)"}),(0,Br.jsx)("h1",{className:"text-4xl",children:"Adding doctor please wait"})]}):(0,Br.jsx)("form",{onSubmit:function(e){return K.apply(this,arguments)},className:"w-full flex flex-col",children:(0,Br.jsxs)("section",{className:"grid grid-cols-3 overflow-y-auto max-h-[29rem] justify-center",children:[(0,Br.jsx)(wv,{isSelected:f,image:g,handleCancel:function(e){e.stopPropagation(),p(!1),y(null),u(null)},handleDragOver:function(e){e.preventDefault()},handleDrop:function(e){e.preventDefault(),p(!0),y(URL.createObjectURL(e.dataTransfer.files[0])),u(e.dataTransfer.files)},handleFile:function(e){e.preventDefault(),p(!0),y(URL.createObjectURL(e.target.files[0])),u(e.target.files)},File:c}),(0,Br.jsxs)("div",{className:"w-full flex flex-col  space-y-3 ml-8 text-left",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"",children:"Honorific:"}),(0,Br.jsxs)("select",{type:"text",name:"honorific",onChange:L,className:"w-fit px-3 bg-slate-100 border-b-2 border-slate-400",children:[(0,Br.jsx)("option",{id:"00"}),(0,Br.jsx)("option",{id:"1",children:"Dr."}),(0,Br.jsx)("option",{id:"2",children:"Dra."})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"",children:"First Name:"}),(0,Br.jsx)("input",{required:!0,type:"text",name:"fname",onChange:L,className:"w-[73%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"",children:"Middle Name:"}),(0,Br.jsx)("input",{type:"text",name:"mname",onChange:L,className:"w-[73%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"",children:"Last Name:"}),(0,Br.jsx)("input",{required:!0,type:"text",name:"lname",onChange:L,className:"w-[73%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"",children:"id:"}),(0,Br.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Br.jsx)("input",{type:"number",name:"id",onChange:L,className:"w-10 px-3 bg-slate-100 border-b-2 border-slate-400"}),(0,Br.jsx)(Wa,{className:"text-xl peer/id"}),(0,Br.jsx)("div",{className:"abs bg-white flex flex-col w-[10rem] text-sm text-primary p-3 absolute \r translate-x-[70px] invisible translate-y-6 peer-hover/id:visible",children:(0,Br.jsx)("p",{children:"Default input here is empty. Type an id if the doctor's email already exist or is similar to other"})})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"",children:"Date of birth:"}),(0,Br.jsx)("input",{required:!0,type:"date",name:"bday",onChange:L,className:"w-[73%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"",children:"Contact number:"}),(0,Br.jsx)("input",{required:!0,type:"number",name:"phone",onChange:L,className:"w-[73%] px-3 bg-slate-100 border-b-2 border-slate-400"})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("p",{children:"Specialization"}),(0,Br.jsxs)("select",{required:!0,name:"special",onChange:L,className:"w-fit px-3 bg-slate-100 border-b-2 border-slate-400",children:[(0,Br.jsx)("option",{id:"00"}),vv.map((function(e,t){return(0,Br.jsx)("option",{id:t,children:e.Specialization},t)}))]})]}),(0,Br.jsxs)("div",{className:"flex flex-col ",children:[(0,Br.jsx)("p",{children:"Sub-Specialization"}),(0,Br.jsxs)("select",{required:!0,name:"subspec",onChange:L,className:"w-fit px-3 bg-slate-100 border-b-2 border-slate-400",children:[(0,Br.jsx)("option",{id:"00"}),gv.map((function(e,t){return(0,Br.jsx)("option",{id:t,children:e.SubSpecialization},t)}))]})]}),(0,Br.jsxs)("div",{className:"flex flex-col ",children:[(0,Br.jsx)("p",{children:"Consultation type:"}),(0,Br.jsxs)("select",{required:!0,name:"type",onChange:L,className:"w-fit px-3 bg-slate-100 border-b-2 border-slate-400",children:[(0,Br.jsx)("option",{id:"00"}),(0,Br.jsx)("option",{id:"0",children:"Face to face"}),(0,Br.jsx)("option",{id:"1",children:"Online Consultation"})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col ",children:[(0,Br.jsx)("p",{children:"Gmeet room link:"}),(0,Br.jsx)("input",{required:!0,type:"text",name:"gmeet",onChange:L,className:"w-fit px-3 bg-slate-100 border-b-2 border-slate-400"})]})]}),(0,Br.jsx)("div",{className:""}),(0,Br.jsx)("div",{className:"border-b-2 mt-6 col-span-3 w-full flex justify-center"}),(0,Br.jsxs)("div",{className:"col-span-3 mx-28 flex flex-col items-center",children:[(0,Br.jsx)("h1",{className:"text-3xl font-semibold",children:"Set Schedule"}),(0,Br.jsxs)("div",{className:"flex justify-between bg-green-700 p-2 text-white items-center w-full",children:[(0,Br.jsx)("p",{className:"ml-3",children:"Days"}),(0,Br.jsxs)("div",{className:"flex items-center space-x-16 mr-10",children:[(0,Br.jsx)("p",{children:"Check in"}),(0,Br.jsx)("p",{children:"Check out"})]})]}),[{id:0,day:"Monday",value:"Monday"},{id:1,day:"Tuesday",value:"Tuesday"},{id:2,day:"Wednesday",value:"Wednesday"},{id:3,day:"Thursday",value:"Thursday"},{id:4,day:"Friday",value:"Friday"},{id:5,day:"Saturday",value:"Saturday"},{id:6,day:"Sunday",value:"Sunday"}].map((function(e,t){return(0,Br.jsxs)("div",{className:"flex items-center w-full space-y-4 bg-slate-200 mb-3 px-3 justify-between",children:[(0,Br.jsxs)("div",{className:"flex items-center ",children:[(0,Br.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded\r focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800\r focus:ring-2 dark:bg-gray-700 dark:border-gray-600",onChange:function(){return function(e){M((function(t){var n=(0,T.Z)(t),r=n.find((function(t){return t.day===e}));return r?n.splice(n.indexOf(r),1):n.push({day:e,startTime:"",endTime:""}),n}))}(e.value)}}),(0,Br.jsx)("p",{className:"mx-1",children:e.day})]}),P.map((function(t){return t.day===e.value?(0,Br.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Br.jsx)("input",{required:!0,type:"time",className:"px-2 -mt-2 mb-2",value:t.startTime,onChange:function(t){return D(e.value,"startTime",t.target.value)}}),(0,Br.jsx)("input",{required:!0,type:"time",className:"px-2 -mt-2 mb-2",value:t.endTime,onChange:function(t){return D(e.value,"endTime",t.target.value)}})]},t.day):null}))]},t)}))]}),(0,Br.jsx)("div",{className:"col-span-3 flex justify-center",children:(0,Br.jsx)("button",{type:"submit",className:"mt-5 transition duration-100 font-semibold bg-green-600 text-white px-[20rem] border-2 border-green-600 rounded-md hover:bg-green-300 hover:text-green-600 text-xl uppercase",children:"submit"})})]})})]})]})})},Mg=function(){var t=(0,e.useState)([]),n=(0,l.Z)(t,2),r=n[0],a=n[1],o=(0,e.useState)([]),c=(0,l.Z)(o,2),u=c[0],d=c[1],h=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("dr_information").select("*");case 2:t=e.sent,n=t.data,(r=t.error)?(qa.error(r,{toastId:"dataError"}),console.error("Failed to fetch",r.message)):d(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){h(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"dr_information"},(function(){h()})).subscribe()}),[]);var f=(0,e.useState)(),p=(0,l.Z)(f,2),m=p[0],v=p[1],g=(0,e.useState)(""),y=(0,l.Z)(g,2),x=y[0],b=y[1],_=(0,e.useState)(""),w=(0,l.Z)(_,2),k=w[0],j=w[1],S=(0,e.useState)(""),C=(0,l.Z)(S,2),N=C[0],E=C[1],T=(0,e.useState)(""),I=(0,l.Z)(T,2),A=I[0],P=I[1],M=(0,e.useState)(""),D=(0,l.Z)(M,2),L=D[0],O=D[1],z=(0,e.useState)(""),R=(0,l.Z)(z,2),F=R[0],B=R[1],Z=(0,e.useState)(!0),U=(0,l.Z)(Z,2),V=U[0],q=U[1];(0,e.useEffect)((function(){"Show all"===k&&j(""),"Show all"===L&&O(""),"all"===N&&E(""),"descending"===F?q(!0):"ascending"===F&&q(!1),"Show all"===A?P(""):"Online Consult"===A?P("ol"):"Face to face Consult"===A&&P("f2f")}),[F,q,L,N,A,k,j,E,P]);var H=(0,e.useState)(!0),W=(0,l.Z)(H,2),Y=W[0],G=W[1],J=(0,e.useState)(!1),X=(0,l.Z)(J,2),K=X[0],$=X[1],Q=(0,e.useState)(!0),ee=(0,l.Z)(Q,2),te=ee[0],ne=ee[1];(0,e.useEffect)((function(){if(u){var e=u.filter((function(e){return e.specialization.includes(k)})).sort((function(e,t){return V?e.created_at>t.created_at?-1:1:e.created_at<t.created_at?-1:1}));a(e),r&&setTimeout((function(){G(!0)}),1e3)}}),[V,A,L,k,a,u]);var re=(0,e.useState)(!1),ae=(0,l.Z)(re,2),ie=ae[0],oe=ae[1];return document.documentElement.style.overflowY=ie?"hidden":"unset",(0,Br.jsxs)("div",{className:"back h-auto min-h-screen w-full flex place-content-center",children:[ie&&(0,Br.jsx)(Pg,{setShowAdd:oe}),(0,Br.jsxs)("div",{className:"w-[70%] max-2xl:w-[90%] max-sm:w-full mt-10 rounded-lg p-10 max-sm:p-3 ",children:[(0,Br.jsxs)("section",{children:[(0,Br.jsxs)("div",{className:" flex justify-between items-center mt-10 mb-3 ",children:[(0,Br.jsx)("div",{onClick:function(){return $(!K)},className:"px-4 py-1 items-center select-none hover:cursor-pointer w-fit transition duration-75 \r ease-in hover:bg-[#78b673f8] bg-[#98dd93c4] text-[#295f34] mx-4  rounded-full\r hover:text-white flex",children:K?(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(kp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Close Filter"})]}):(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(jp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Filter"})]})}),(0,Br.jsxs)("button",{onClick:function(){return oe(!ie)},className:"px-5 py-1 rounded-full transition duration-100 flex items-center space-x-2 hover:text-white hover:bg-primary-500 bg-primary-300",children:[(0,Br.jsx)(bd,{className:"text-xl"}),(0,Br.jsx)("p",{children:"Add a doctor"})]})]}),(0,Br.jsx)("div",{className:"".concat(K?"transition-all duration-300 ease-in overflow-y-visible max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden max-h-0"),children:(0,Br.jsxs)("div",{className:"bg-[#98dd93c4] px-5 pt-5 pb-8 mb-2 rounded-lg items-center gap-x-7 gap-y-4 grid\r grid-cols-3",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"mb-1",children:"Search by name"}),(0,Br.jsxs)("div",{className:"flex h-6 text-slate-500",children:[!x&&(0,Br.jsxs)("div",{className:"".concat(K?"absolute flex space-x-1 items-center translate-x-4":"hidden"),children:[(0,Br.jsx)(Jd,{className:"w-4"}),(0,Br.jsx)("p",{children:"Type here"})]}),(0,Br.jsxs)("div",{className:"flex items-center w-full",children:[(0,Br.jsx)("input",{type:"text",onChange:function(e){return b(e.target.value)},className:"pl-3 rounded-l-md h-8 w-full text-black border-slate-400 border-2"}),(0,Br.jsx)("button",{onClick:function(){ne(!1);var e=u.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())}));a(e),u&&setTimeout((function(){ne(!0)}),1e3)},className:"bg-[#60af5ac4] h-8 border-l-0 hover:bg-[#84d17fc4] hover:text-[#388332c4]\r text-white border-[#388332c4] border-2 px-2 rounded-r-md relative",children:"Search"})]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Appointment type"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return P(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Online Consult"},"2"),(0,Br.jsx)("option",{children:"Face to face Consult"},"3")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"sort created book date by"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return B(e.target.value)},children:[(0,Br.jsx)("option",{children:"descending"},"1"),(0,Br.jsx)("option",{children:"ascending"},"2")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Appointment time"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return E(e.target.value)},children:[(0,Br.jsx)("option",{children:"all"},"1"),(0,Br.jsx)("option",{children:"morning"},"2"),(0,Br.jsx)("option",{children:"afternoon"},"3")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Booked by someone"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return j(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Yes"},"2"),(0,Br.jsx)("option",{children:"No"},"3")]})]})]})})]}),(0,Br.jsx)("div",{className:"-z-[0] flex flex-col mx-auto justify-center",children:te?(0,Br.jsx)(Ig,{setLoaded:G,Loaded:Y,books:r,setPatientId:v,PatientId:m}):(0,Br.jsxs)("div",{className:"w-full flex justify-center mt-20",children:[(0,Br.jsx)(_p,{visible:!0,width:"50",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efffb7",color:"#388332c4"}),(0,Br.jsx)("p",{className:"text-2xl text-slate-600",children:"Searching"})]})})]})]})};ra();var Dg=function(t){var n=t.setOpenEdit,r=t.data,a=t.isImgEmpty,o=t.CDNURL,c=t.imgName;(0,e.useEffect)((function(){Ci().init({duration:300}),Ci().refresh()}),[]);var u=(0,e.useRef)();(0,e.useEffect)((function(){var e=function(e){u.current.contains(e.target)||n(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[u]);var d=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],h=(0,e.useState)({name:"",special:"",subspec:"",type:"",honorific:"",phone:"",gmeet:"",sched:d.map((function(e){return{day:e,startTime:"",endTime:"",checked:!1}})),schedtable:[]}),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=function(e){m((function(t){var n;return(0,Ir.Z)((0,Ir.Z)({},t),{},(n={},(0,Tr.Z)(n,e.target.name,e.target.value),(0,Tr.Z)(n,"phone",e.target.value.slice(0,11)),n))}))};(0,e.useEffect)((function(){r&&m((function(e){var t=r.schedule.filter((function(e){return""!==e.startTime&&""!==e.endTime})),n=d.map((function(e){var n=t.find((function(t){return t.day===e}));return{day:e,startTime:n?n.startTime:"",endTime:n?n.endTime:"",checked:!!n}}));return(0,Ir.Z)((0,Ir.Z)({},e),{},{name:r.name,special:r.specialization,subspec:r.subspecial,phone:r.phone,type:r.type,honorific:r.honorific,gmeet:r.gmeet,sched:n,schedtable:t})}))}),[r]);var g=(0,e.useState)(!1),y=(0,l.Z)(g,2),x=y[0],b=y[1];var _=(0,e.useState)(!1),w=(0,l.Z)(_,2),k=w[0],j=w[1],S=(0,e.useState)([]),C=(0,l.Z)(S,2),N=C[0],E=C[1],I=(0,e.useState)(!1),A=(0,l.Z)(I,2),P=A[0],M=A[1],D=(0,e.useState)(null),L=(0,l.Z)(D,2),O=L[0],z=L[1];function R(){return F.apply(this,arguments)}function F(){return(F=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=23;break}return a&&Kt.storage.from("images").remove([r.email+"/profile/"+c]),e.next=4,Kt.storage.from("images").upload(r.email+"/profile/"+hi(),N[0]);case 4:if(t=e.sent,n=t.error,e.prev=6,!n){e.next=11;break}throw n;case 11:M(!1),z(null),E(null),j(!1),window.location.reload(),qa.success("Succesfully uploaded",{toastId:"success"});case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(6),qa.error(e.t0.message),j(!1);case 23:case"end":return e.stop()}}),e,null,[[6,19]])})))).apply(this,arguments)}console.log(r.email);var B=function(e,t){var n=e.target,r=n.name,a=n.value,i=(0,T.Z)(p.sched);i[t]=(0,Ir.Z)((0,Ir.Z)({},i[t]),{},(0,Tr.Z)({},r,a));var o=i[t].day,s=p.schedtable.findIndex((function(e){return e.day===o}));if("startTime"===r||"endTime"===r){var l=(0,T.Z)(p.schedtable);""!==a?-1!==s?l[s][r]=a:l.push({day:o,startTime:"",endTime:""}):-1!==s&&l.splice(s,1),m((function(e){return(0,Ir.Z)((0,Ir.Z)({},e),{},{sched:i,schedtable:l})}))}};function Z(){return(Z=s(i().mark((function e(t){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),e.next=4,Kt.from("dr_information").update({name:p.name,specialization:p.special,subspecial:p.subspec,honorific:p.honorific,type:p.type,gmeet:p.gmeet,phone:p.phone,schedule:p.schedtable}).eq("email",r.email);case 4:if(n=e.sent,a=n.error,e.prev=6,!a){e.next=11;break}throw a;case 11:x&&(R(),qa.success("Succesful pic")),j(!1),qa.success("Succesful");case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),qa.error(e.t0.message),j(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})))).apply(this,arguments)}return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex justify-center",children:(0,Br.jsxs)("div",{"data-aos":"fade-left",ref:u,className:"bg-white sticky mt-[5rem] flex flex-col items-center abs rounded-lg p-6 h-[60%] w-[50%]",children:[(0,Br.jsx)("div",{className:"w-full flex mb-5 justify-end",children:(0,Br.jsx)("button",{onClick:function(e){return n(!1)||e.preventDefault()},className:"bg-slate-200 hover:bg-slate-300 transition duration-75 rounded-md px-3 select-none text-lg",children:"close"})}),k?(0,Br.jsxs)("div",{className:"flex flex-col h-full text-green-600 justify-center items-center",children:[(0,Br.jsx)("l-cardio",{size:"120",stroke:"2",speed:"1",color:"rgb(0,100,0)"}),(0,Br.jsx)("h1",{className:"text-4xl",children:"Adding doctor please wait"})]}):(0,Br.jsxs)("form",{onSubmit:function(e){return Z.apply(this,arguments)},className:"grid grid-cols-2 overflow-y-auto w-full h-full px-5",children:[(0,Br.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Name: "}),(0,Br.jsx)("input",{type:"text",name:"name",value:p.name,onChange:v,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Specialization: "}),(0,Br.jsx)("input",{type:"text",name:"special",value:p.special,onChange:v,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Sub-specialization: "}),(0,Br.jsx)("input",{type:"text",name:"subspec",value:p.subspec,onChange:v,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Consultation type: "}),(0,Br.jsx)("input",{type:"text",name:"type",value:p.type,onChange:v,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Honorific: "}),(0,Br.jsx)("input",{type:"text",name:"honorific",value:p.honorific,onChange:v,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Contact number: "}),(0,Br.jsx)("input",{type:"text",name:"phone",value:p.phone,onChange:v,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Gmeet: "}),(0,Br.jsx)("input",{type:"text",name:"gmeet",value:p.gmeet,onChange:v,className:"w-[75%] px-3 bg-slate-100 border-b-2 border-slate-400"})]})]}),(0,Br.jsx)("div",{className:"flex flex-col space-y-3 items-center",children:(0,Br.jsxs)("div",{className:"flex flex-col mt-8 text-center items-center w-full",children:[(0,Br.jsx)("h1",{className:"mb-2",children:"Doctor's Profile pic"}),x?(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(wv,{isSelected:P,image:O,handleCancel:function(e){e.stopPropagation(),M(!1),z(null),E(null)},handleDragOver:function(e){e.preventDefault()},handleDrop:function(e){e.preventDefault(),M(!0),z(URL.createObjectURL(e.dataTransfer.files[0])),E(e.dataTransfer.files)},handleFile:function(e){e.preventDefault(),M(!0),z(URL.createObjectURL(e.target.files[0])),E(e.target.files)},File:N}),(0,Br.jsx)("button",{onClick:function(e){e.preventDefault(),b(!1),M(!1),z(null),E(null)},className:"".concat(P?"mt-14 bg-primary-300 hover:bg-primary-600 hover:text-primary-100 flex items-center px-3 rounded-md text-primary-900":"bg-primary-300 hover:bg-primary-600 hover:text-primary-100 flex items-center px-3 rounded-md text-primary-900"),children:(0,Br.jsx)("span",{children:"Cancel profile editting"})})]}):(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("img",{className:"object-cover shadow-xl w-[15rem] mb-5 h-[15rem]",src:"".concat(a?o+r.email+"/profile/"+c:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("button",{onClick:function(e){e.preventDefault(),b(!0)},className:"bg-primary-300 hover:bg-primary-600 hover:text-primary-100 flex items-center px-3 rounded-full text-primary-900",children:[(0,Br.jsx)(Id,{className:"mr-1 text-xl"}),(0,Br.jsx)("span",{children:"Update profile picture"})]})]})]})}),(0,Br.jsxs)("div",{className:"col-span-2",children:[(0,Br.jsx)("h1",{className:"text-2xl w-full text-center mt-4 font-semibold",children:"Edit Schedule"}),(0,Br.jsxs)("div",{className:"flex justify-between bg-green-700 p-2 text-white items-center w-full",children:[(0,Br.jsx)("p",{className:"ml-16",children:"Days"}),(0,Br.jsxs)("div",{className:"flex items-center space-x-16 mr-16",children:[(0,Br.jsx)("p",{children:"Check in"}),(0,Br.jsx)("p",{children:"Check out"})]})]}),d.map((function(e,t){return(0,Br.jsxs)("div",{className:"flex items-center justify-between bg-slate-200 py-2 w-full my-3 px-10",children:[(0,Br.jsx)("div",{className:"flex items-center",children:(0,Br.jsxs)("label",{className:"ml-2",children:[(0,Br.jsx)("input",{type:"checkbox",checked:p.sched[t].checked,onChange:function(){return function(e){var t=(0,T.Z)(p.sched),n=d[e],r=!t[e].checked,a=r?[].concat((0,T.Z)(p.schedtable),[{day:n,startTime:"",endTime:""}]):p.schedtable.filter((function(e){return e.day!==n}));t[e].checked=r,m((function(e){return(0,Ir.Z)((0,Ir.Z)({},e),{},{sched:t,schedtable:a})}))}(t)}}),(0,Br.jsx)("span",{className:"ml-2",children:e})]})}),p.sched[t].checked&&(0,Br.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Br.jsx)("input",{required:!0,type:"time",name:"startTime",className:"px-2 -mt-2 mb-2",value:p.sched[t].startTime,onChange:function(e){return B(e,t)}}),(0,Br.jsx)("input",{required:!0,type:"time",name:"endTime",className:"px-2 -mt-2 mb-2",value:p.sched[t].endTime,onChange:function(e){return B(e,t)}})]},t)]},t)}))]}),(0,Br.jsx)("div",{className:"col-span-2 w-full mt-3 mb-5 flex justify-center",children:(0,Br.jsx)("button",{type:"submit",className:"bg-green-700 transition duration-100 hover:bg-green-300 hover:text-green-900 px-10 py-1 text-lg text-white rounded-md",children:"Submit"})})]})]})})};ra();var Lg=function(t){var n=t.data,r=t.setConfirmDelete,a=(0,e.useState)(!1),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=$n();function h(){return(h=s(i().mark((function e(t){var r,a,o,s,l,c,h,f,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(!0),e.next=4,Kt.storage.deleteBucket(n.email);case 4:return r=e.sent,(a=r.error)&&qa.error(a),e.next=9,Kt.from("profile").select("id").eq("email",n.email).single();case 9:if(o=e.sent,s=o.data,l=o.error,e.prev=12,!l){e.next=17;break}throw l;case 17:return e.next=19,gg.auth.admin.deleteUser(s.id);case 19:if(c=e.sent,!(h=c.error)){e.next=26;break}return setTimeout((function(){console.log(h),qa.error(h.message),u(!1)}),1e3),e.abrupt("return");case 26:return e.next=28,Kt.from("dr_information").delete().eq("email",n.email);case 28:if(f=e.sent,p=f.error,e.prev=30,!p){e.next=35;break}throw p;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(30),setTimeout((function(){console.log(e.t0),qa.error(e.t0.message+"49"),u(!1)}),1e3);case 40:setTimeout((function(){d("/Edit_doctors"),qa.success("Account deleted succesfully")}),1e3);case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(12),setTimeout((function(){console.log(e.t1),qa.error(e.t1.message,{toastId:"error"}),u(!1)}),1e3);case 46:case"end":return e.stop()}}),e,null,[[12,43],[30,37]])})))).apply(this,arguments)}return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{className:"bg-white sticky -mt-[10rem] flex w-[29rem] flex-col items-center abs rounded-lg p-6",children:c?(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("l-cardio",{size:"120",stroke:"2",speed:"1",color:"rgb(0,100,0)"}),(0,Br.jsx)("h1",{className:"text-4xl",children:"Deleting account please wait"})]}):(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("div",{className:"h-full",children:(0,Br.jsx)(ai,{className:"text-4xl mr-3 mt-2 text-red-500"})}),(0,Br.jsxs)("div",{className:"flex flex-col items-start",children:[(0,Br.jsx)("h1",{className:"mb-2 font-semibold text-xl flex items-end",children:(0,Br.jsx)("span",{children:"Account Deletion"})}),(0,Br.jsx)("p",{className:"mb-4",children:"Are you sure you wish to delete this account? This will delete the account PERMANENTLY."}),(0,Br.jsxs)("div",{className:"flex items-center justify-end w-full space-x-2 mt-3",children:[(0,Br.jsx)("button",{onClick:function(e){return r(!1)||e.preventDefault()},className:"px-9 py-1 bg-slate-100 border-2 transition duration-100 hover:bg-slate-300 border-slate-300 rounded-md",children:"Cancel"}),(0,Br.jsx)("button",{onClick:function(e){return h.apply(this,arguments)},className:"px-9 py-1 bg-red-600 transition duration-100 hover:bg-red-800 text-white rounded-md",children:"Delete"})]})]})]})})})})},Og=function(){var t="https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/",n=(0,e.useState)([]),r=(0,l.Z)(n,2),a=r[0],o=r[1],c=(0,e.useState)(!1),u=(0,l.Z)(c,2),d=u[0],h=u[1],f=Qn().id,p=(0,e.useState)([]),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=(0,e.useState)(!0),x=(0,l.Z)(y,2),b=x[0],_=x[1],w=$n(),k=function(){var e=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("dr_information").select().eq("id",f).single();case 2:t=e.sent,n=t.data,t.error?(setTimeout((function(){_(!1)}),1e3),w("/Edit_doctors")):(setTimeout((function(){_(!1)}),1e3),g(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=(0,e.useState)(!1),S=(0,l.Z)(j,2),C=S[0],N=S[1],E=(0,e.useState)([]),T=(0,l.Z)(E,2),I=T[0],A=T[1],P=(0,e.useState)([]),M=(0,l.Z)(P,2),D=M[0],L=M[1],O=(0,e.useState)([]),z=(0,l.Z)(O,2),R=z[0],F=z[1];(0,e.useEffect)((function(){k(),Kt.channel("room1").on("postgres_changes",{event:"*",schema:"public",table:"dr_information"},(function(){k()})).subscribe()}),[]),(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("patient_Appointments").select().eq("docname",v&&v.name);case 2:if(t=e.sent,n=t.data,r=t.error,e.prev=5,!r){e.next=10;break}throw r;case 10:v.name&&A(n);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),qa.error(e.t0.message,{autoClose:!1,id:"Error"});case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[v.name]),(0,e.useEffect)((function(){if(I){var e=I.filter((function(e){return!e.status.includes("Completed")})),t=I.filter((function(e){return e.status.includes("Completed")}));L(e),F(t)}}),[I]),(0,e.useEffect)((function(){if(v.email){var e=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(v.email+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(h(!0),o(n[0].name)),r&&(h(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[o,v.email,h]);var B=function(e){return new Date("2000-01-01T".concat(e)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Z=(0,e.useState)(!1),U=(0,l.Z)(Z,2),V=U[0],q=U[1];return document.documentElement.style.overflowY=V?"hidden":"unset",(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsxs)("div",{className:"sticky top-1 z-50",children:[V&&(0,Br.jsx)(Dg,{isImgEmpty:d,CDNURL:t,imgName:a,data:v,setOpenEdit:q}),C&&(0,Br.jsx)(Lg,{data:v,setConfirmDelete:N})]}),(0,Br.jsxs)("div",{className:"back flex flex-col items-center min-h-screen h-auto w-full",children:[(0,Br.jsx)("h1",{className:"w-full text-3xl mt-10 text-center font-semibold text-[#256e2b] uppercase",children:"Doctor's details"}),(0,Br.jsx)("form",{className:"flex flex-col px-12 py-10 mt-10 bg-white w-[80%] abs",children:b?(0,Br.jsx)("div",{className:"flex justify-center w-full ",children:(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})}):(0,Br.jsxs)("div",{className:"grid grid-cols-3 text-lg row-span-2 gap-3",children:[v&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("div",{className:"flex flex-col  text-center items-center",children:[(0,Br.jsx)("img",{className:"object-cover rounded-md shadow-xl w-[15rem] mb-5 h-[15rem]",src:"".concat(d?t+v.email+"/profile/"+a:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("div",{className:"w-full space-y-3",children:[(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Name:"}),(0,Br.jsx)("br",{}),v.honorific," ",v.name]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Email:"}),(0,Br.jsx)("br",{}),v.email," "]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Contact Number:"}),(0,Br.jsx)("br",{}),v.phone]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-8 pr-6",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Doctor id:"}),(0,Br.jsx)("br",{}),v.id]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Specialization:"}),(0,Br.jsx)("br",{}),v.specialization]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Appointment day:"}),(0,Br.jsx)("br",{}),v.subspecial]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Consultation type:"}),(0,Br.jsx)("br",{}),"ol"===v.type?"Online Consultation":"Face to face"]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-8",children:[(0,Br.jsxs)("div",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Pending booked appointments:"}),(0,Br.jsx)("br",{}),(0,Br.jsx)("div",{className:"text-5xl font-semibold",children:0===D.length?(0,Br.jsx)("p",{className:"text-lg w-[18rem] font-thin",children:"No pending booked appointments yet"}):D.length})]}),(0,Br.jsxs)("div",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Completed Appointments:"}),(0,Br.jsx)("br",{}),(0,Br.jsx)("div",{className:"text-5xl font-semibold",children:0===R.length?(0,Br.jsx)("p",{className:"text-lg w-[16rem] font-thin",children:"No completed appointments yet"}):R.length})]}),(0,Br.jsx)("div",{className:"flex justify-start items-center",children:(0,Br.jsxs)("button",{onClick:function(e){return q(!0)||e.preventDefault()},className:"px-4 py-1 transition duration-75 hover:bg-primary-400 hover:text-white bg-primary-200 rounded-full flex space-x-2 items-center",children:[(0,Br.jsx)(sa,{className:"text-xl -mt-[3px]"}),(0,Br.jsx)("span",{children:"Edit doctor's details"})]})}),(0,Br.jsx)("div",{className:"flex justify-start items-center",children:(0,Br.jsxs)("button",{onClick:function(e){return N(!0)||e.preventDefault()},className:"px-3 text-base py-1 transition duration-75 bg-red-600 hover:text-black text-white hover:bg-[#ff9090] rounded-full flex space-x-2 items-center",children:[(0,Br.jsx)(rh,{className:"text-xl -mt-[3px]"}),(0,Br.jsx)("span",{children:"Delete Doctor"})]})})]})]}),(0,Br.jsxs)("div",{className:"flex-col items-center  col-span-4",children:[(0,Br.jsxs)("div",{className:"bg-green-600 grid grid-cols-4 w-full text-white py-2 col-span-4 justify-center px-10",children:[(0,Br.jsx)("p",{className:"col-span-2",children:"Days"}),(0,Br.jsx)("p",{className:"text-center",children:"Check In"}),(0,Br.jsx)("p",{className:"text-center",children:"Check Out"})]}),v.schedule.map((function(e,t){return(0,Br.jsxs)("div",{className:"col-span-3 bg-slate-200 py-2 grid grid-cols-4 w-full my-3 px-10",children:[(0,Br.jsx)("div",{className:"col-span-2 ",children:e.day}),(0,Br.jsx)("div",{className:"text-center",children:B(e.startTime)}),(0,Br.jsx)("div",{className:"text-center",children:B(e.endTime)})]},t)}))]})]})})]})]})},zg=function(t){var n=t.ol,r=(0,e.useState)(!1),a=(0,l.Z)(r,2),o=a[0],c=a[1];var u=(0,e.useRef)();(0,e.useEffect)((function(){if(n){var e=function(e){u.current.contains(e.target)||c(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[c,n]);var d=new Date(n.Created_at);var h=n.email,f=(0,e.useState)([]),p=(0,l.Z)(f,2),m=p[0],v=p[1],g=(0,e.useState)(!1),y=(0,l.Z)(g,2),x=y[0],b=y[1];function _(){return(_=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(h+"/profile/",{limit:100,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(b(!0),v(n[0].name)),r&&(b(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){n&&function(){_.apply(this,arguments)}()}),[n]),(0,e.useEffect)((function(){Ci().init({duration:500}),Ci().refresh()}),[]),(0,Br.jsx)("section",{className:"text-base flex w-full select-none",children:(0,Br.jsxs)("div",{"data-aos":"fade-right","data-aos-anchor":"#trigger-next",ref:u,onClick:function(e){e.preventDefault(),c(!o)},className:"group/pu bg-white abs mb-3 cursor-pointer text-gray-900 w-full rounded-xl transition duration-75 ease-in hover:bg-slate-100 text-center  ",children:[(0,Br.jsxs)("div",{id:"trigger-next",className:" py-3 mx-6 flex font-medium whitespace-nowrap justify-between",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[4rem] h-[4rem]",src:"".concat(x?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+n.email+"/profile/"+m:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/doc.jpg"),alt:"/"}),(0,Br.jsxs)("div",{className:"ml-4 flex-col text-left text-sm",children:[(0,Br.jsxs)("p",{className:"text-base uppercase font-semibold text-green-800",children:[n.first_name," ",n.last_name]}),(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Created at:"," "]}),function(e){var t=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),a=e.getHours()%12||12,i=e.getMinutes().toString().padStart(2,"0"),o=e.getHours()>=12?"pm":"am";return"".concat(t,"/").concat(n,"/").concat(r," ").concat(a,":").concat(i).concat(o)}(d)]})]})]}),(0,Br.jsxs)("div",{className:"flex self-start mt-2",children:[(0,Br.jsx)("p",{className:"bg-primary-500 text-center w-fit px-3 h-fit self-center mr-3 text-white rounded-full",children:n.status}),(0,Br.jsx)("button",{className:" mr-2 text-lg transition duration-200 group-hover/pu:bg-slate-400 p-3 rounded-lg",children:(0,Br.jsx)("div",{children:(0,Br.jsx)(Hr,{className:"".concat(o?"rotate-180 transition duration-300":"rotate-0 transition duration-300")})})})]})]}),(0,Br.jsxs)("div",{className:"".concat(o?"transition-all duration-300 ease-in overflow-y-visible opacity-100 max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden opacity-0 max-h-0"),children:[(0,Br.jsxs)("div",{className:"flex flex-col items-start mx-[6.4rem] mt-3 gap-y-3",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(hh,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[24px]  text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base text-black",children:["Address"," ",(0,Br.jsx)("label",{className:"text-slate-400 flex",children:n.address})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(qd,{className:"text-lg pb-3 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Date of birth"," ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.birthday})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[" ",(0,Br.jsx)(uh,{className:"text-lg pr-[2px]pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Email ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.email})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[" ",(0,Br.jsx)(dh,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Phone ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.phone})]})]})]}),(0,Br.jsx)("div",{className:"max-w-full mb-5 flex justify-center space-x-10",children:(0,Br.jsx)(Cr,{to:"/Admin/PatientDetails/"+n.id,onClick:function(e){return e.stopPropagation()},children:(0,Br.jsx)("button",{className:"text-lg px-20 py-1 transition duration-100 hover:bg-[#377532] bg-[#3dbb34] text-white rounded-md",children:"Patient Details"})})})]})]})},n.id)},Rg=function(t){var n=t.books,r=t.Loaded,a=t.setLoaded,i=(0,e.useState)(0),o=(0,l.Z)(i,2),s=o[0],c=o[1],u=(0,e.useState)(0),d=(0,l.Z)(u,2),h=d[0],f=d[1],p=(0,e.useState)(null),m=(0,l.Z)(p,2),v=m[0],g=m[1];(0,e.useEffect)((function(){if(n){var e=s+7;g(n.slice(s,e)),f(Math.ceil(n.length/7)),v&&setTimeout((function(){a(!0)}),500)}}),[n,s,a]),console.log(v);return(0,Br.jsxs)("div",{className:"w-full h-auto flex flex-col items-center rounded",children:[(0,Br.jsx)(xh(),{breakLabel:". . .",nextLabel:"next >",onPageChange:function(e){a(!1);var t=7*e.selected%n.length;c(t)},pageRangeDisplayed:3,pageCount:h,previousLabel:"< previous",renderOnZeroPageCount:null,className:"flex space-x-3 mb-6 w-full justify-center items-center select-none",breakClassName:"text-xl font-semibold",pageLinkClassName:"text-slate-600 text-lg transition duration-100 bg-[#cbcbcba8] hover:bg-[#bfbfbffc] hover:text-slate-700 px-[10px] py-[8px] rounded",previousLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",nextLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",activeLinkClassName:"border-2 border-green-700 text-xl rounded"}),r?v&&v.map((function(e){return(0,Br.jsx)("div",{className:"w-full",children:(0,Br.jsx)(zg,{ol:e})},e.book_id)})):(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})]})},Fg=function(){var t=(0,e.useState)([]),n=(0,l.Z)(t,2),r=n[0],a=n[1],o=(0,e.useState)([]),c=(0,l.Z)(o,2),u=c[0],d=(c[1],function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("profile").select().eq("role","patient");case 2:t=e.sent,n=t.data,(r=t.error)?(qa.error(r.message+"18",{toastId:"dataError"}),console.error("Failed to fetch",r)):a(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());(0,e.useEffect)((function(){d(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"profile"},(function(){d()})).subscribe()}),[]);var h=(0,e.useState)(),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=(0,e.useState)(""),g=(0,l.Z)(v,2),y=g[0],x=g[1],b=(0,e.useState)(""),_=(0,l.Z)(b,2),w=_[0],k=_[1],j=(0,e.useState)(""),S=(0,l.Z)(j,2),C=S[0],N=S[1],E=(0,e.useState)(""),T=(0,l.Z)(E,2),I=T[0],A=T[1],P=(0,e.useState)(""),M=(0,l.Z)(P,2),D=M[0],L=M[1],O=(0,e.useState)(""),z=(0,l.Z)(O,2),R=z[0],F=z[1],B=(0,e.useState)(!0),Z=(0,l.Z)(B,2),U=(Z[0],Z[1]);(0,e.useEffect)((function(){"Show all"===w&&k(""),"Show all"===D&&L(""),"all"===C&&N(""),"descending"===R?U(!0):"ascending"===R&&U(!1),"Show all"===I?A(""):"Online Consult"===I?A("ol"):"Face to face Consult"===I&&A("f2f")}),[R,U,D,C,I,w,k,N,A]);var V=(0,e.useState)(!0),q=(0,l.Z)(V,2),H=q[0],W=q[1],Y=(0,e.useState)(!1),G=(0,l.Z)(Y,2),J=G[0],X=G[1],K=(0,e.useState)(!0),$=(0,l.Z)(K,2),Q=$[0],ee=$[1];return(0,Br.jsx)("div",{className:"back h-auto min-h-screen w-full flex place-content-center",children:(0,Br.jsxs)("div",{className:"w-[70%] max-2xl:w-[90%] max-sm:w-full mt-10 rounded-lg p-10 max-sm:p-3 ",children:[(0,Br.jsxs)("section",{children:[(0,Br.jsx)("div",{className:" flex justify-between items-center mt-10 mb-3 ",children:(0,Br.jsx)("div",{onClick:function(){return X(!J)},className:"px-4 py-1 items-center select-none hover:cursor-pointer w-fit transition duration-75 \r ease-in hover:bg-[#78b673f8] bg-[#98dd93c4] text-[#295f34] mx-4  rounded-full\r hover:text-white flex",children:J?(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(kp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Close Filter"})]}):(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(jp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Filter"})]})})}),(0,Br.jsx)("div",{className:"".concat(J?"transition-all duration-300 ease-in overflow-y-visible max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden max-h-0"),children:(0,Br.jsxs)("div",{className:"bg-[#98dd93c4] px-5 pt-5 pb-8 mb-2 rounded-lg items-center gap-x-7 gap-y-4 grid\r grid-cols-3",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"mb-1",children:"Search by name"}),(0,Br.jsxs)("div",{className:"flex h-6 text-slate-500",children:[!y&&(0,Br.jsxs)("div",{className:"".concat(J?"absolute flex space-x-1 items-center translate-x-4":"hidden"),children:[(0,Br.jsx)(Jd,{className:"w-4"}),(0,Br.jsx)("p",{children:"Type here"})]}),(0,Br.jsxs)("div",{className:"flex items-center w-full",children:[(0,Br.jsx)("input",{type:"text",onChange:function(e){return x(e.target.value)},className:"pl-3 rounded-l-md h-8 w-full text-black border-slate-400 border-2"}),(0,Br.jsx)("button",{onClick:function(){ee(!1);var e=u.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())}));a(e),u&&setTimeout((function(){ee(!0)}),1e3)},className:"bg-[#60af5ac4] h-8 border-l-0 hover:bg-[#84d17fc4] hover:text-[#388332c4]\r text-white border-[#388332c4] border-2 px-2 rounded-r-md relative",children:"Search"})]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Appointment type"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return A(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Online Consult"},"2"),(0,Br.jsx)("option",{children:"Face to face Consult"},"3")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"sort created book date by"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return F(e.target.value)},children:[(0,Br.jsx)("option",{children:"descending"},"1"),(0,Br.jsx)("option",{children:"ascending"},"2")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Appointment time"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return N(e.target.value)},children:[(0,Br.jsx)("option",{children:"all"},"1"),(0,Br.jsx)("option",{children:"morning"},"2"),(0,Br.jsx)("option",{children:"afternoon"},"3")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Booked by someone"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return k(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Yes"},"2"),(0,Br.jsx)("option",{children:"No"},"3")]})]})]})})]}),(0,Br.jsx)("div",{className:"-z-[0] flex flex-col mx-auto justify-center",children:Q?(0,Br.jsx)(Rg,{setLoaded:W,Loaded:H,books:r,setPatientId:m,PatientId:p}):(0,Br.jsxs)("div",{className:"w-full flex justify-center mt-20",children:[(0,Br.jsx)(_p,{visible:!0,width:"50",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efffb7",color:"#388332c4"}),(0,Br.jsx)("p",{className:"text-2xl text-slate-600",children:"Searching"})]})})]})})},Bg=function(t){var n=t.ol,r=t.CDNURL,a=(0,e.useState)(!1),o=(0,l.Z)(a,2),c=o[0],u=o[1];var d=(0,e.useRef)();(0,e.useEffect)((function(){if(n){var e=function(e){d.current.contains(e.target)||u(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[u,n]);var h=new Date(n.created_at);var f=n.email,p=(0,e.useState)([]),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=(0,e.useState)(!1),x=(0,l.Z)(y,2),b=x[0],_=x[1];function w(){return(w=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(f+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(_(!0),g(n[0].name)),r&&(_(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){n&&function(){w.apply(this,arguments)}(f,g,_)}),[n,f,_,g]),(0,e.useEffect)((function(){Ci().init({duration:500}),Ci().refresh()}),[]),(0,Br.jsx)("div",{className:"text-base flex w-full select-none",children:(0,Br.jsxs)("section",{"data-aos":"fade-right","data-aos-anchor":"#trigger-next",ref:d,onClick:function(e){e.preventDefault(),u(!c)},className:"group/pu bg-white abs mb-3 cursor-pointer text-gray-900 w-full rounded-xl transition duration-75 ease-in hover:bg-slate-100 text-center  ",children:[(0,Br.jsxs)("div",{id:"trigger-next",scope:"row",className:" py-3 mx-6 flex font-medium whitespace-nowrap justify-between",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[4rem] h-[4rem]",src:"".concat(b?r+n.email+"/profile/"+v:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("div",{className:"ml-4 flex-col text-left text-sm",children:[(0,Br.jsxs)("p",{className:"text-base uppercase font-semibold text-green-800",children:[n.lname," ",n.fname]}),(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Booked at:"," "]}),function(e){var t=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),a=e.getHours()%12||12,i=e.getMinutes().toString().padStart(2,"0"),o=e.getHours()>=12?"pm":"am";return"".concat(t,"/").concat(n,"/").concat(r," ").concat(a,":").concat(i).concat(o)}(h)]}),(0,Br.jsxs)("p",{children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Doctor Name:"," "]}),n.docname]})]})]}),(0,Br.jsxs)("div",{className:"flex self-start mt-2",children:["rejected"===n.status&&(0,Br.jsx)("p",{className:"bg-red-500 text-center w-fit px-3 h-fit self-center mr-3 text-white rounded-full",children:n.status}),"rejected"!==n.status&&(0,Br.jsx)("p",{className:"bg-primary-500 text-center w-fit px-3 h-fit self-center mr-3 text-white rounded-full",children:n.status}),(0,Br.jsx)("button",{className:" mr-2 text-lg transition duration-200 group-hover/pu:bg-slate-400 p-3 rounded-lg",children:(0,Br.jsx)("div",{children:(0,Br.jsx)(Hr,{className:"".concat(c?"rotate-180 transition duration-300":"rotate-0 transition duration-300")})})})]})]}),(0,Br.jsxs)("div",{className:"".concat(c?"transition-all duration-300 ease-in overflow-y-visible opacity-100 max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden opacity-0 max-h-0"),children:[(0,Br.jsxs)("div",{className:"flex flex-col items-start mx-[6.4rem] mt-3 gap-y-3",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(Rd,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[24px]  text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base text-black",children:["Scheduled at ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.date})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[" ",(0,Br.jsx)(uh,{className:"text-lg pr-[2px]pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Email ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.email})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[" ",(0,Br.jsx)(dh,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Phone ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.number})]})]})]}),(0,Br.jsx)("div",{className:"max-w-full mb-5 flex justify-center space-x-10",children:(0,Br.jsx)(Cr,{to:"/Appointment/Admin/Details/"+n.book_id,onClick:function(e){return e.stopPropagation()},children:(0,Br.jsx)("button",{className:"text-lg px-14 py-1 transition duration-100 hover:bg-[#377532] bg-[#3dbb34] text-white rounded-md",children:"Appointment Details"})})})]})]})},n.user_id)},Zg=function(t){var n=t.books,r=t.CDNURL,a=t.Loaded,i=t.setLoaded,o=(0,e.useState)(0),s=(0,l.Z)(o,2),c=s[0],u=s[1],d=(0,e.useState)(0),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)(null),v=(0,l.Z)(m,2),g=v[0],y=v[1];(0,e.useEffect)((function(){if(n){var e=c+7;y(n.slice(c,e)),p(Math.ceil(n.length/7)),g&&setTimeout((function(){i(!0)}),500)}}),[c,7,n,i]);return(0,Br.jsxs)("div",{className:"w-full flex flex-col items-center rounded",children:[(0,Br.jsx)(xh(),{breakLabel:". . .",nextLabel:"next >",onPageChange:function(e){i(!1);var t=7*e.selected%n.length;u(t)},pageRangeDisplayed:3,pageCount:f,previousLabel:"< previous",renderOnZeroPageCount:null,className:"flex space-x-3 mb-6 w-full justify-center items-center select-none",breakClassName:"text-xl font-semibold",pageLinkClassName:"text-slate-600 text-lg transition duration-100 bg-[#cbcbcba8] hover:bg-[#bfbfbffc] hover:text-slate-700 px-[10px] py-[8px] rounded",previousLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",nextLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",activeLinkClassName:"border-2 border-green-700 text-xl rounded"}),a?g&&g.map((function(e){return(0,Br.jsx)("div",{className:"w-full",children:(0,Br.jsx)(Bg,{ol:e,CDNURL:r})},e.book_id)})):(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})]})},Ug=function(t){var n=t.CDNURL,r=(0,e.useState)([]),a=(0,l.Z)(r,2),o=a[0],c=a[1],u=(0,e.useState)([]),d=(0,l.Z)(u,2),h=d[0],f=d[1],p=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("patient_Appointments").select("*");case 2:t=e.sent,n=t.data,(r=t.error)?(qa.error(r,{toastId:"dataError"}),console.error("Failed to fetch",r.message)):f(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=(0,e.useState)(""),v=(0,l.Z)(m,2),g=v[0],y=v[1],x=(0,e.useState)(""),b=(0,l.Z)(x,2),_=b[0],w=b[1],k=(0,e.useState)(""),j=(0,l.Z)(k,2),S=j[0],C=j[1],N=(0,e.useState)(""),E=(0,l.Z)(N,2),T=E[0],I=E[1],A=(0,e.useState)(""),P=(0,l.Z)(A,2),M=P[0],D=P[1],L=(0,e.useState)(""),O=(0,l.Z)(L,2),z=O[0],R=O[1],F=(0,e.useState)(!0),B=(0,l.Z)(F,2),Z=B[0],U=B[1];(0,e.useEffect)((function(){"Show all"===_&&w(""),"Show all"===M&&D(""),"all"===S&&C(""),"descending"===z?U(!0):"ascending"===z&&U(!1),"Show all"===T?I(""):"Online Consult"===T?I("ol"):"Face to face Consult"===T&&I("f2f")}),[z,U,M,S,T,_,w,C,I]);var V=(0,e.useState)(!0),q=(0,l.Z)(V,2),H=q[0],W=q[1],Y=(0,e.useState)(!1),G=(0,l.Z)(Y,2),J=G[0],X=G[1],K=(0,e.useState)(!0),$=(0,l.Z)(K,2),Q=$[0],ee=$[1];return(0,e.useEffect)((function(){if(h){var e=h.filter((function(e){var t=e.status.includes("Completed"),n=e.status.includes("rejected"),r=e.someone.includes(_),a=e.time.toLowerCase().includes(S),i=e.type.toLowerCase().includes(T),o=e.status.toLowerCase().includes(M);return(t||n)&&r&&a&&i&&o})).sort((function(e,t){return Z?e.created_at>t.created_at?-1:1:e.created_at<t.created_at?-1:1}));c(e),o&&setTimeout((function(){W(!0)}),1e3)}}),[Z,T,M,S,_,c,h]),(0,e.useEffect)((function(){p(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"patient_Appointments"},(function(){p()})).subscribe()}),[]),(0,Br.jsx)("div",{className:"back h-full flex justify-center",children:(0,Br.jsxs)("div",{className:"w-[70%]",children:[(0,Br.jsx)("div",{className:" flex justify-between items-center mt-10 mb-3 ",children:(0,Br.jsx)("div",{onClick:function(){return X(!J)},className:"px-4 py-1 items-center select-none hover:cursor-pointer w-fit transition duration-75 \r ease-in hover:bg-[#78b673f8] bg-[#98dd93c4] text-[#295f34] mx-4  rounded-full hover:text-white flex",children:J?(0,Br.jsxs)(Br.Fragment,{children:[" ",(0,Br.jsx)(kp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Close Filter"})]}):(0,Br.jsxs)(Br.Fragment,{children:[" ",(0,Br.jsx)(jp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Filter"})]})})}),(0,Br.jsx)("div",{className:"".concat(J?"transition-all duration-300 ease-in overflow-y-visible max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden max-h-0"),children:(0,Br.jsxs)("div",{className:"bg-[#98dd93c4] px-5 pt-5 pb-8 mb-2 rounded-lg items-center gap-x-7 gap-y-4 grid grid-cols-3",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"mb-1",children:"Search by name"}),(0,Br.jsxs)("div",{className:"flex h-6 text-slate-500",children:[!g&&(0,Br.jsxs)("div",{className:"".concat(J?"absolute flex space-x-1 items-center translate-x-4":"hidden"),children:[(0,Br.jsx)(Jd,{className:"w-4"}),(0,Br.jsx)("p",{children:"Type here"})]}),(0,Br.jsxs)("div",{className:"flex items-center w-full",children:[(0,Br.jsx)("input",{type:"text",onChange:function(e){return y(e.target.value)},className:"pl-3 rounded-l-md h-8 w-full text-black border-slate-400 border-2"}),(0,Br.jsx)("button",{onClick:function(){ee(!1);var e=h.filter((function(e){var t=e.fname.toLowerCase().includes(g.toLowerCase()),n=e.lname.toLowerCase().includes(g.toLowerCase()),r=e.mname.toLowerCase().includes(g.toLowerCase()),a=e.docname.toLowerCase().includes(g.toLowerCase());return t||n||r||a}));c(e),h&&setTimeout((function(){ee(!0)}),1e3)},className:"bg-[#60af5ac4] h-8 border-l-0 hover:bg-[#84d17fc4] hover:text-[#388332c4]\r text-white border-[#388332c4] border-2 px-2 rounded-r-md relative",children:"Search"})]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Appointment type"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return I(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Online Consult"},"2"),(0,Br.jsx)("option",{children:"Face to face Consult"},"3")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"sort created book date by"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return R(e.target.value)},children:[(0,Br.jsx)("option",{children:"descending"},"1"),(0,Br.jsx)("option",{children:"ascending"},"2")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Appointment time"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return C(e.target.value)},children:[(0,Br.jsx)("option",{children:"all"},"1"),(0,Br.jsx)("option",{children:"morning"},"2"),(0,Br.jsx)("option",{children:"afternoon"},"3")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Booked by someone"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return w(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Yes"},"2"),(0,Br.jsx)("option",{children:"No"},"3")]})]})]})}),(0,Br.jsx)("div",{className:" flex justify-center",children:(0,Br.jsx)("div",{className:"w-full h-auto min-h-screen text-sm flex mt-3 mb-10 flex-wrap justify-between\r rounded-lg text-gray-500 dark:text-gray-400",children:Q?(0,Br.jsx)(Zg,{books:o,CDNURL:n,setLoaded:W,Loaded:H}):(0,Br.jsxs)("div",{className:"w-full flex justify-center mt-20",children:[(0,Br.jsx)(_p,{visible:!0,width:"50",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efffb7",color:"#388332c4"}),(0,Br.jsx)("p",{className:"text-2xl text-slate-600",children:"Searching"})]})})})]})})},Vg=function(t){var n=t.setOpenMessage,r=t.ol,a=t.imgName,i=t.isImgEmpty,o=t.CDNURL;(0,e.useEffect)((function(){Ci().init({duration:300}),Ci().refresh()}),[]);var s=(0,e.useRef)();return(0,e.useEffect)((function(){var e=function(e){s.current.contains(e.target)||n(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[s]),(0,Br.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex justify-center",children:(0,Br.jsxs)("div",{ref:s,className:"bg-white sticky mt-[5rem] flex flex-col items-center abs rounded-lg p-6 h-fit max-h-[60%] w-[50%]",children:[(0,Br.jsxs)("div",{className:"grid grid-cols-3  w-full",children:[(0,Br.jsx)("div",{className:""}),(0,Br.jsx)("div",{className:"flex justify-center text-black text-2xl font-semibold",children:"Message Details"}),(0,Br.jsx)("div",{className:"w-full flex mb-5 justify-end",children:(0,Br.jsx)("button",{onClick:function(e){return n(!1)||e.preventDefault()},className:"bg-slate-200 hover:bg-slate-300 transition duration-75 rounded-md px-3 select-none text-lg",children:"closez"})})]}),(0,Br.jsxs)("div",{className:"grid grid-cols-3 gap-2 p-2 w-full overflow-y-auto",children:[(0,Br.jsx)("div",{className:"flex justify-center row-span-2 ",children:(0,Br.jsx)("img",{className:"object-cover rounded-lg w-[8rem] h-[8rem]",src:"".concat(i?o+r.email+"/profile/"+a:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/doc.jpg"),alt:"/"})}),(0,Br.jsxs)("div",{className:"col-span-2 grid grid-cols-3 text-lg text-black",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"font-semibold",children:"First Name:"}),(0,Br.jsx)("p",{children:r.fname})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"font-semibold",children:"Last Name:"}),(0,Br.jsx)("p",{children:r.lname})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"font-semibold",children:"Middle Name:"}),(0,Br.jsx)("p",{children:r.mname})]})]}),(0,Br.jsxs)("div",{className:"col-span-2 grid grid-cols-2 text-lg text-black",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"font-semibold",children:"Email:"}),(0,Br.jsx)("p",{children:r.email})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"font-semibold",children:"Contact Number:"}),(0,Br.jsx)("p",{children:r.phone})]})]}),(0,Br.jsx)("div",{className:"flex col-span-3 text-lg mt-5 text-black px-10",children:(0,Br.jsxs)("label",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Message Type:"})," ",r.type]})}),(0,Br.jsx)("div",{className:"col-span-3 text-lg text-black px-10",children:(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("p",{className:"font-semibold",children:"Message:"}),(0,Br.jsx)("p",{children:r.message})]})})]})]})})},qg=function(t){var n=t.ol,r="https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/",a=(0,e.useState)(!1),o=(0,l.Z)(a,2),c=o[0],u=o[1];var d=(0,e.useRef)();(0,e.useEffect)((function(){if(n){var e=function(e){d.current.contains(e.target)||u(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[u,n]);new Date(n.created_at);var h=n.email,f=(0,e.useState)([]),p=(0,l.Z)(f,2),m=p[0],v=p[1],g=(0,e.useState)(!1),y=(0,l.Z)(g,2),x=y[0],b=y[1];function _(){return(_=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(h+"/profile/",{limit:100,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(b(!0),v(n[0].name)),r&&(b(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,e.useEffect)((function(){n&&function(){_.apply(this,arguments)}()}),[n]),(0,e.useEffect)((function(){Ci().init({duration:500}),Ci().refresh()}),[]);var w=(0,e.useState)(!1),k=(0,l.Z)(w,2),j=k[0],S=k[1];return(0,Br.jsxs)(Br.Fragment,{children:[j&&(0,Br.jsx)(Vg,{ol:n,CDNURL:r,imgName:m,setimgName:v,isImgEmpty:x,setImgEmpty:b,setOpenMessage:S}),(0,Br.jsx)("section",{className:"text-base flex w-full select-none",children:(0,Br.jsxs)("div",{"data-aos":"fade-right","data-aos-anchor":"#trigger-next",ref:d,onClick:function(e){e.preventDefault(),u(!c)},className:"group/pu bg-white abs mb-3 cursor-pointer\r text-gray-900 w-full rounded-xl transition duration-75 ease-in hover:bg-slate-100 text-center  ",children:[(0,Br.jsxs)("div",{id:"trigger-next",className:" py-3 mx-6 flex font-medium whitespace-nowrap justify-between",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[4rem] h-[4rem]",src:"".concat(x?r+n.email+"/profile/"+m:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/doc.jpg"),alt:"/"}),(0,Br.jsxs)("div",{className:"ml-4 flex-col text-left text-sm",children:[(0,Br.jsxs)("p",{className:"text-base uppercase font-semibold text-green-800",children:[n.fname," ",n.lname]}),(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Created at:"," "]}),vi()(new Date(n.created_at)).calendar()]}),(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Message Type:"," "]}),n.type]})]})]}),(0,Br.jsxs)("div",{className:"flex self-start mt-2",children:[(0,Br.jsx)("p",{className:"bg-primary-500 text-center w-fit px-3 h-fit self-center mr-3 text-white rounded-full",children:n.status}),(0,Br.jsx)("button",{className:" mr-2 text-lg transition duration-200 group-hover/pu:bg-slate-400 p-3 rounded-lg",children:(0,Br.jsx)("div",{children:(0,Br.jsx)(Hr,{className:"".concat(c?"rotate-180 transition duration-300":"rotate-0 transition duration-300")})})})]})]}),(0,Br.jsxs)("div",{className:"".concat(c?"transition-all duration-300 ease-in overflow-y-visible opacity-100 max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden opacity-0 max-h-0"),children:[(0,Br.jsxs)("div",{className:"flex flex-col items-start mx-[6.4rem] mt-3 gap-y-3",children:[(0,Br.jsxs)("div",{className:"flex",children:[" ",(0,Br.jsx)(uh,{className:"text-lg pr-[2px]pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Email ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.email})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[" ",(0,Br.jsx)(dh,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Phone ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.phone})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[" ",(0,Br.jsx)(Ga,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Message"," ",(0,Br.jsx)("p",{className:"text-slate-400 truncate mb-4",children:n.message})]})]})]}),(0,Br.jsx)("div",{className:"max-w-full mb-5 flex justify-center space-x-10",children:(0,Br.jsx)("button",{onClick:function(e){return S(!0)||e.preventDefault()},className:"text-lg px-20 py-1 transition duration-100 hover:bg-[#377532] bg-[#3dbb34] text-white rounded-md",children:"View Message"})})]})]})},n.id)]})},Hg=function(t){var n=t.books,r=t.Loaded,a=t.setLoaded,i=t.setOpenMessage,o=(0,e.useState)(0),s=(0,l.Z)(o,2),c=s[0],u=s[1],d=(0,e.useState)(0),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)(null),v=(0,l.Z)(m,2),g=v[0],y=v[1];(0,e.useEffect)((function(){if(n){var e=c+7;y(n.slice(c,e)),p(Math.ceil(n.length/7)),g&&setTimeout((function(){a(!0)}),500)}}),[n,c,a]);return(0,Br.jsxs)("div",{className:"w-full h-auto flex flex-col items-center rounded",children:[(0,Br.jsx)(xh(),{breakLabel:". . .",nextLabel:"next >",onPageChange:function(e){a(!1);var t=7*e.selected%n.length;u(t)},pageRangeDisplayed:3,pageCount:f,previousLabel:"< previous",renderOnZeroPageCount:null,className:"flex space-x-3 mb-6 w-full justify-center items-center select-none",breakClassName:"text-xl font-semibold",pageLinkClassName:"text-slate-600 text-lg transition duration-100 bg-[#cbcbcba8] hover:bg-[#bfbfbffc] hover:text-slate-700 px-[10px] py-[8px] rounded",previousLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",nextLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",activeLinkClassName:"border-2 border-green-700 text-xl rounded"}),r?g&&g.map((function(e){return(0,Br.jsx)("div",{className:"w-full",children:(0,Br.jsx)(qg,{setOpenMessage:i,ol:e})},e.id)})):(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})]})},Wg=n(4081),Yg=function(t){var n=t.ol,r=(0,e.useState)(!1),a=(0,l.Z)(r,2),o=a[0],c=a[1];var u=(0,e.useState)([]),d=(0,l.Z)(u,2),h=d[0],f=d[1],p=function(){var e=s(i().mark((function e(){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===n||void 0===n||!n.user_id){e.next=13;break}return e.next=4,Kt.from("profile").select().eq("id",null===n||void 0===n?void 0:n.user_id);case 4:if(t=e.sent,r=t.data,a=t.error,!r||!r[0]){e.next=11;break}f(r[0]),e.next=13;break;case 11:if(!a){e.next=13;break}throw a;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),qa.error(e.t0.message,{toastId:"dataError"}),console.error(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return t=Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"profile"},(function(){p()})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]);var m=(0,e.useRef)();(0,e.useEffect)((function(){if(n){var e=function(e){m.current.contains(e.target)||c(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[c,n]);var v=h.email,g=(0,e.useState)([]),y=(0,l.Z)(g,2),x=y[0],b=y[1],_=(0,e.useState)(!1),w=(0,l.Z)(_,2),k=w[0],j=w[1];function S(){return(S=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(v+"/profile/",{limit:100,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(j(!0),b(n[0].name)),r&&(j(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){h&&function(){S.apply(this,arguments)}(v,b,j)}),[h,v,j,b]),(0,e.useEffect)((function(){Ci().init({duration:300}),Ci().refresh()}),[]),(0,Br.jsx)("div",{className:"text-base flex w-full justify-center select-none",children:(0,Br.jsx)("section",{"data-aos":"fade-right","data-aos-anchor":"#trigger-next",ref:m,onClick:function(e){e.preventDefault(),c(!o)},className:"group/pu bg-white abs mb-3 cursor-pointer text-gray-900 w-[80%] rounded-xl transition duration-75 ease-in hover:bg-slate-100 text-center  ",children:(0,Br.jsx)("div",{id:"trigger-next",scope:"row",className:" py-3 mx-6 flex font-medium whitespace-nowrap justify-between",children:(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[4rem] h-[4rem]",src:"".concat(k?"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/"+h.email+"/profile/"+x:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("div",{className:"ml-4 flex-col text-left text-sm",children:[(0,Br.jsxs)("p",{className:"text-base uppercase font-semibold text-green-800",children:[h.first_name," ",h.last_name]}),(0,Br.jsx)("p",{className:"",children:vi()(new Date(n.created_at)).calendar()}),(0,Br.jsxs)("p",{children:[(0,Br.jsxs)("span",{className:"font-semibold flex items-center text-yellow-500",children:[(0,Br.jsx)(_d,{className:"text-2xl"}),n.rate," Star"]}),n.docname]}),(0,Br.jsxs)("p",{className:"italic",children:['"',n.message,'"']})]})]})})})},n.id)},Gg=function(t){var n=t.books,r=t.CDNURL,a=t.Loaded,i=t.setLoaded,o=t.sortInput,s=(0,e.useState)(0),c=(0,l.Z)(s,2),u=c[0],d=c[1],h=(0,e.useState)(0),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=(0,e.useState)(null),g=(0,l.Z)(v,2),y=g[0],x=g[1];(0,e.useEffect)((function(){if(n){var e=u+7;x(n.slice(u,e)),m(Math.ceil(n.length/7)),y&&setTimeout((function(){i(!0)}),500)}}),[u,7,n,i,o]);return(0,Br.jsxs)("div",{className:"w-full flex flex-col items-center rounded",children:[(0,Br.jsx)(xh(),{breakLabel:". . .",nextLabel:"next >",onPageChange:function(e){i(!1);var t=7*e.selected%n.length;d(t)},pageRangeDisplayed:3,pageCount:p,previousLabel:"< previous",renderOnZeroPageCount:null,className:"flex space-x-3 mb-6 w-full justify-center items-center select-none",breakClassName:"text-xl font-semibold",pageLinkClassName:"text-slate-600 text-lg transition duration-100 bg-[#cbcbcba8] hover:bg-[#bfbfbffc] hover:text-slate-700 px-[10px] py-[8px] rounded",previousLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",nextLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",activeLinkClassName:"border-2 border-green-700 text-xl rounded"}),a?y&&y.map((function(e){return(0,Br.jsx)("div",{className:"w-full",children:(0,Br.jsx)(Yg,{ol:e,CDNURL:r})},e.id)})):(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})]})},Jg=function(){var t=(0,e.useState)(!1),n=(0,l.Z)(t,2),r=n[0],a=n[1],o=(0,e.useState)([]),c=(0,l.Z)(o,2),u=c[0],d=c[1],h=(0,e.useState)([]),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=(0,e.useState)({one:"",two:"",three:"",four:"",five:"",total:""}),g=(0,l.Z)(v,2),y=g[0],x=g[1],b=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!1),e.prev=1,e.next=4,Kt.from("ratings").select();case 4:if(t=e.sent,n=t.data,r=t.error,n&&(a(!0),m(n)),!r){e.next=10;break}throw r;case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),a(!0),qa.error(e.t0.message,{toastId:"dataError"}),console.error("Failed to fetch",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){b();var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return t=Kt.channel("room1").on("postgres_changes",{event:"*",schema:"public",table:"ratings"},(function(e){m(e.new)})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var _=(0,e.useState)(),w=(0,l.Z)(_,2),k=w[0],j=w[1];return(0,e.useEffect)((function(){d(function(e,t){switch(t){case"date oldest to recent":return _i().orderBy(e,["created_at"],["asc"]);case"date recent to oldest":default:return _i().orderBy(e,["created_at"],["desc"]);case"star highest to lowest":return _i().orderBy(e,["rate"],["desc"]);case"star lowest to highest":return _i().orderBy(e,["rate"],["asc"])}}(p,k))}),[k,p]),(0,e.useEffect)((function(){if(p){var e=p.filter((function(e){return e.rate.includes("1")})),t=p.filter((function(e){return e.rate.includes("2")})),n=p.filter((function(e){return e.rate.includes("3")})),r=p.filter((function(e){return e.rate.includes("4")})),a=p.filter((function(e){return e.rate.includes("5")}));x((function(i){return(0,Ir.Z)((0,Ir.Z)({},i),{},{one:e.length,two:t.length,three:n.length,four:r.length,five:a.length,midTotal:e.length+t.length+n.length+r.length+a.length/5,total:e.length+t.length+n.length+r.length+a.length})}))}}),[p,k]),(0,Br.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,Br.jsxs)("h1",{className:"font-semibold mt-7 text-xl",children:[y.total," Reviews"]}),(0,Br.jsxs)("div",{className:"flex flex-col ml-5 space-y-4 text-green-600",children:[(0,Br.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Br.jsx)("p",{className:"flex w-fit whitespace-nowrap",children:"5 Stars"}),(0,Br.jsx)(Wg.Z,{completed:y.five,maxCompleted:y.midTotal,bgColor:"#fcba03",baseBgColor:"white",height:"10px",isLabelVisible:!1,className:"w-[40rem] shadow-md"}),(0,Br.jsxs)("p",{className:"flex w-fit whitespace-nowrap",children:["(",y.five,")"]})]}),(0,Br.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Br.jsx)("p",{className:"flex w-fit whitespace-nowrap",children:"4 Stars"}),(0,Br.jsx)(Wg.Z,{completed:y.four,maxCompleted:y.midTotal,bgColor:"#fcba03",baseBgColor:"white",height:"10px",isLabelVisible:!1,className:"w-[40rem] shadow-md"}),(0,Br.jsxs)("p",{className:"flex w-fit whitespace-nowrap",children:["(",y.four,")"]})]}),(0,Br.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Br.jsx)("p",{className:"flex w-fit whitespace-nowrap",children:"3 Stars"}),(0,Br.jsx)(Wg.Z,{completed:y.three,maxCompleted:y.midTotal,bgColor:"#fcba03",baseBgColor:"white",height:"10px",isLabelVisible:!1,className:"w-[40rem] shadow-md"}),(0,Br.jsxs)("p",{className:"flex w-fit whitespace-nowrap",children:["(",y.three,")"]})]}),(0,Br.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Br.jsx)("p",{className:"flex w-fit whitespace-nowrap",children:"2 Stars"}),(0,Br.jsx)(Wg.Z,{completed:y.two,maxCompleted:y.midTotal,bgColor:"#fcba03",baseBgColor:"white",height:"10px",isLabelVisible:!1,className:"w-[40rem] shadow-md"}),(0,Br.jsxs)("p",{className:"flex w-fit whitespace-nowrap",children:["(",y.two,")"]})]}),(0,Br.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Br.jsx)("p",{className:"flex w-fit whitespace-nowrap",children:"1 Stars"}),(0,Br.jsx)(Wg.Z,{completed:y.one,maxCompleted:y.midTotal,bgColor:"#fcba03",baseBgColor:"white",height:"10px",isLabelVisible:!1,className:"w-[40rem] shadow-md"}),(0,Br.jsxs)("p",{className:"flex w-fit whitespace-nowrap",children:["(",y.one,")"]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("p",{children:"Sort by:"}),(0,Br.jsxs)("select",{onChange:function(e){return j(e.target.value)},className:"w-fit px-2 py-1 rounded-md border-2 border-slate-300",children:[(0,Br.jsx)("option",{children:"date recent to oldest"},1),(0,Br.jsx)("option",{children:"date oldest to recent"},2),(0,Br.jsx)("option",{children:"star highest to lowest"},3),(0,Br.jsx)("option",{children:"star lowest to highest"},4)]})]}),(0,Br.jsx)(Gg,{books:u,sortInput:k,setLoaded:a,Loaded:r})]})},Xg=function(t){var n=t.CDNURL,r=(0,e.useState)(),a=(0,l.Z)(r,2),o=a[0],c=a[1],u=(0,e.useState)(!1),d=(0,l.Z)(u,2),h=d[0],f=d[1],p=(0,e.useState)([]),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!1),e.next=3,Kt.from("messages").select();case 3:t=e.sent,n=t.data,(r=t.error)&&(qa.error(r.message,{toastId:"dataError"}),console.error("Failed to fetch",r.message)),n&&(f(!0),g(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){y(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"messages"},(function(){y()})).subscribe()}),[]);var x=(0,e.useState)(""),b=(0,l.Z)(x,2),_=b[0],w=b[1],k=(0,e.useState)(""),j=(0,l.Z)(k,2),S=j[0],C=j[1],N=(0,e.useState)(""),E=(0,l.Z)(N,2),T=E[0],I=E[1],A=(0,e.useState)(!0),P=(0,l.Z)(A,2),M=P[0],D=P[1];(0,e.useEffect)((function(){"recent to oldest"===T?D(!0):"oldest to recent"===T&&D(!1),"Show all"===S&&C("")}),[T,D,S,C]);var L=(0,e.useState)(!0),O=(0,l.Z)(L,2),z=O[0],R=O[1];(0,e.useEffect)((function(){if(v){var e=v.filter((function(e){return e.type.toLowerCase().includes(S.toLowerCase())})).sort((function(e,t){return M?e.created_at>t.created_at?-1:1:e.created_at<t.created_at?-1:1}));c(e),o&&setTimeout((function(){f(!0)}),1e3)}}),[M,S,c,v]);var F=(0,e.useState)(!1),B=(0,l.Z)(F,2),Z=B[0],U=B[1];return(0,Br.jsx)("div",{className:"back min-h-screen h-auto flex justify-center py-10",children:(0,Br.jsxs)("div",{className:"w-[70%] ",children:[(0,Br.jsxs)("div",{className:"flex items-center mt-10 space-x-1 -ml-3 w-full",children:[(0,Br.jsx)("button",{onClick:function(e){return U(!1)||e.preventDefault()},className:"".concat(Z?"px-4 py-1 items-center select-none hover:cursor-pointer w-fit transition duration-75 ease-in hover:bg-[#78b673f8] bg-[#98dd93c4] text-[#295f34] mx-4  rounded-full hover:text-white flex":"px-4 py-1 items-center select-none hover:cursor-pointer w-fit transition duration-75 ease-in bg-[#78b673f8] text-white mx-4 rounded-full flex"),children:Z?(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(Ld,{className:"mr-1"})," ",(0,Br.jsx)("span",{children:"Messages"})]}):(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(Pd,{className:"mr-1"})," ",(0,Br.jsx)("span",{children:"Messages"})]})}),(0,Br.jsx)("button",{onClick:function(e){return U(!0)||e.preventDefault()},className:"".concat(Z?"px-4 py-1 items-center select-none hover:cursor-pointer w-fit transition duration-75 ease-in bg-[#78b673f8] text-white mx-4 rounded-full flex":"px-4 py-1 items-center select-none hover:cursor-pointer w-fit transition duration-75 ease-in hover:bg-[#78b673f8] bg-[#98dd93c4] text-[#295f34] mx-4  rounded-full hover:text-white flex"),children:Z?(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(oa,{className:"mr-1"})," ",(0,Br.jsx)("span",{children:"Ratings"})]}):(0,Br.jsxs)(Br.Fragment,{children:[" ",(0,Br.jsx)(la,{className:"mr-1"})," ",(0,Br.jsx)("span",{children:"Ratings"})]})})]}),(0,Br.jsx)("p",{className:"text-4xl font-semibold text-[#315E30]"}),Z?(0,Br.jsx)(Jg,{}):(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("div",{className:"grid grid-cols-3 items-center w-full gap-y-5 justify-start gap-x-8 py-4",children:[(0,Br.jsxs)("div",{className:"flex flex-col w-full",children:[(0,Br.jsx)("label",{className:"mb-1",children:"Search by name"}),(0,Br.jsxs)("div",{className:"flex h-6 text-slate-500",children:[!_&&(0,Br.jsxs)("div",{className:"absolute flex space-x-1 items-center translate-x-4",children:[(0,Br.jsx)(Jd,{className:"w-4"}),(0,Br.jsx)("p",{children:"Type here"})]}),(0,Br.jsxs)("div",{className:"flex items-center w-full",children:[(0,Br.jsx)("input",{type:"text",onChange:function(e){return w(e.target.value)},className:"pl-3 rounded-l-md h-8 w-full text-black border-slate-400 border-2"}),(0,Br.jsx)("button",{onClick:function(){R(!1);var e=v.filter((function(e){return e.name.toLowerCase().includes(_.toLowerCase())}));c(e),v&&setTimeout((function(){R(!0)}),1e3)},className:"bg-[#60af5ac4] h-8 border-l-0 hover:bg-[#84d17fc4] hover:text-[#388332c4]\r text-white border-[#388332c4] border-2 px-2 rounded-r-md relative",children:"Search"})]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col w-full",children:[(0,Br.jsx)("label",{children:"Message Type"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return C(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"0"),(0,Br.jsx)("option",{id:"1",children:"Complaint"}),(0,Br.jsx)("option",{id:"2",children:"Commendation"}),(0,Br.jsx)("option",{id:"2",children:"Service Inquiry"})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col w-full",children:[(0,Br.jsx)("label",{children:"sort date by"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return I(e.target.value)},children:[(0,Br.jsx)("option",{children:"recent to oldest"},"1"),(0,Br.jsx)("option",{children:"oldest to recent"},"2")]})]})]}),(0,Br.jsx)("div",{className:" flex justify-center",children:(0,Br.jsx)("div",{className:"w-full h-auto min-h-screen text-sm flex mt-3 mb-10 flex-wrap justify-between\r rounded-lg text-gray-500 dark:text-gray-400",children:z?(0,Br.jsx)(Hg,{books:o,CDNURL:n,setLoaded:f,Loaded:h}):(0,Br.jsxs)("div",{className:"w-full flex justify-center mt-20",children:[(0,Br.jsx)(_p,{visible:!0,width:"50",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efffb7",color:"#388332c4"}),(0,Br.jsx)("p",{className:"text-2xl text-slate-600",children:"Searching"})]})})})]})]})})};ra();var Kg=function(e){var t=e.setAccept,n=e.handleAccept;return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{className:"bg-white sticky -mt-[8rem] flex w-[29rem] flex-col items-center abs rounded-lg p-6",children:(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("div",{className:"h-full",children:(0,Br.jsx)(Hp,{className:"text-4xl mr-3 mt-2 text-green-500"})}),(0,Br.jsxs)("div",{className:"flex flex-col items-start",children:[(0,Br.jsx)("h1",{className:"mb-2 font-semibold text-xl flex items-end",children:(0,Br.jsx)("span",{children:"Accept Appointment"})}),(0,Br.jsx)("p",{className:"mb-4",children:"Are you sure you want confirm this appointment?"}),(0,Br.jsxs)("div",{className:"flex items-center justify-end w-full space-x-2 mt-3",children:[(0,Br.jsx)("button",{onClick:function(e){return t(!1)||e.preventDefault()},className:"px-9 py-1 bg-slate-100 border-2 transition duration-100 hover:bg-slate-300 border-slate-300 rounded-md",children:"Cancel"}),(0,Br.jsx)("button",{onClick:n,className:"px-9 py-1 bg-green-600 transition duration-100 hover:bg-green-800 text-white rounded-md",children:"Confirm"})]})]})]})})})})};ra();var $g=function(t){var n=t.setReject,r=t.id,a=($n(),(0,e.useState)()),o=(0,l.Z)(a,2),c=o[0],u=o[1];function d(){return(d=s(i().mark((function e(t){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n(!1),e.next=4,Kt.from("patient_Appointments").update({status:"rejected",remark:c}).eq("book_id",r);case 4:a=e.sent,(o=a.error)&&qa.error(o.message,{autoClose:!1});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{className:"bg-white sticky -mt-[8rem] flex w-[29rem] flex-col items-center abs rounded-lg p-6",children:(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("div",{className:"h-full",children:(0,Br.jsx)(Wp,{className:"text-4xl mr-3 mt-2 text-red-500"})}),(0,Br.jsxs)("form",{onSubmit:function(e){return d.apply(this,arguments)},className:"flex flex-col items-start",children:[(0,Br.jsx)("h1",{className:"mb-2 font-semibold text-xl flex items-end",children:(0,Br.jsx)("span",{children:"Accept Appointment"})}),(0,Br.jsx)("p",{className:"mb-2",children:"Are you sure you want reject this appointment?"}),(0,Br.jsx)("p",{className:"mt-3",children:"Reason for rejecting:"}),(0,Br.jsx)("input",{required:!0,onChange:function(e){return u(e.target.value)},className:"mb-3 w-[80%] border-b-2 outline-0 focus:border-2 focus:border-slate-500 border-slate-400 bg-slate-200 py-1 px-2 rounded-sm"}),(0,Br.jsxs)("div",{className:"flex items-center justify-end w-full space-x-2 mt-3",children:[(0,Br.jsx)("button",{onClick:function(e){return n(!1)||e.preventDefault()},className:"px-9 py-1 bg-slate-100 border-2 transition duration-100 hover:bg-slate-300 border-slate-300 rounded-md",children:"Cancel"}),(0,Br.jsx)("button",{className:"px-9 py-1 bg-red-600 transition duration-100 hover:bg-red-800 text-white rounded-md",children:"Confirm"})]})]})]})})})})},Qg=function(t){var n,r=t.user,a="https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/",o=(0,e.useState)([]),c=(0,l.Z)(o,2),u=c[0],d=c[1],h=(0,e.useState)(!1),f=(0,l.Z)(h,2),p=f[0],m=f[1],v=Qn().id,g=(0,e.useState)(""),y=(0,l.Z)(g,2),x=y[0],b=y[1],_=(0,e.useState)(!0),w=(0,l.Z)(_,2),k=w[0],j=w[1],S=(0,e.useState)(""),C=(0,l.Z)(S,2),N=C[0],E=C[1],T=(0,e.useState)(),I=(0,l.Z)(T,2),A=I[0],P=I[1],M=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("patient_Appointments").select().eq("book_id",v).single();case 2:t=e.sent,n=t.data,(r=t.error)&&qa.error(r.message,{toastId:"error"}),"Yes"===n.someone?P(!0):P(!1),E(n.email),b(n),j(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return t=Kt.channel("room20").on("postgres_changes",{event:"UPDATE",schema:"public",table:"patient_Appointments",filter:"book_id=eq.".concat(v)},(function(e){M(e.new.data)})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var D=(0,e.useState)(!0),L=(0,l.Z)(D,2),O=L[0],z=L[1];(0,e.useEffect)((function(){if(N){var e=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(N+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(m(!0),d(n[0].name)),r&&(m(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}"rejected"!==x.status&&"completed"!==x.status||z(!1)}),[d,N,m]);var R=(0,e.useState)([]),F=(0,l.Z)(R,2),B=F[0],Z=F[1];function U(){return V.apply(this,arguments)}function V(){return V=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.doc_id){e.next=15;break}return e.next=3,Kt.from("dr_information").select().eq("id",x.doc_id).single();case 3:if(t=e.sent,n=t.data,r=t.error,e.prev=6,!r){e.next=9;break}throw r;case 9:Z(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])}))),V.apply(this,arguments)}(0,e.useEffect)((function(){U(x.docname),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"dr_information"},(function(){U()})).subscribe()}),[x.docname]);var q=(0,e.useState)(),H=(0,l.Z)(q,2),W=H[0],Y=H[1],G=(0,e.useState)(!1),J=(0,l.Z)(G,2),X=J[0],K=J[1];(0,e.useEffect)((function(){if(B.email){var e=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(B.email+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(K(!0),Y(n[0].name)),r&&(K(!1),qa.error(r.message,{autoClose:!1}),console.log(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[B]);var $=(0,e.useState)([]),Q=(0,l.Z)($,2),ee=Q[0],te=Q[1],ne=(0,e.useState)(),re=(0,l.Z)(ne,2),ae=re[0],ie=re[1];function oe(){return(oe=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(x.email+"/payment/"+x.book_id+"/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n?te(n):r&&(qa.error(r.message,{autoClose:!1}),console.log(r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,e.useEffect)((function(){!function(){oe.apply(this,arguments)}()}),[x.email]);var se=(0,e.useState)(),le=(0,l.Z)(se,2),ce=le[0],ue=le[1],de=(0,e.useState)(),he=(0,l.Z)(de,2),fe=he[0],pe=he[1];function me(){return ve.apply(this,arguments)}function ve(){return(ve=s(i().mark((function e(){var t,n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!B||!x){e.next=18;break}return e.next=4,Kt.from("patient_Appointments").select("queue").match({doc_id:null===B||void 0===B?void 0:B.id,date:null===x||void 0===x?void 0:x.date,status:"Confirmed"}).order("queue",{ascending:!1}).limit(10);case 4:if(t=e.sent,n=t.data,r=t.error,n&&ue(n[0]),!r){e.next=10;break}throw Error(r.message+"184");case 10:return e.next=12,Kt.from("patient_Appointments").select("queue").match({doc_id:null===B||void 0===B?void 0:B.id,date:null===x||void 0===x?void 0:x.date,status:"rescheduled"}).order("queue",{ascending:!1}).limit(1);case 12:if(a=e.sent,o=a.data,s=a.error,o&&(console.log(o),pe(o[0])),!s){e.next=18;break}throw Error(s.message+"206");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}function ge(e){return ye.apply(this,arguments)}function ye(){return(ye=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Kt.from("patient_Appointments").update({status:"Confirmed",queue:null!==ce&&void 0!==ce&&ce.queue?ce.queue+1:201}).eq("book_id",v);case 4:if(n=e.sent,!(r=n.error)){e.next=10;break}throw r;case 10:we(!1),window.location.reload();case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),qa.error(e.t0.message),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:return t=Kt.channel("room13").on("postgres_changes",{event:"UPDATE",schema:"public",table:"patient_Appointments",filter:"doc_id=eq.".concat(B.id)},(function(e){me(e.new.data)})).on("postgres_changes",{event:"UPDATE",schema:"public",table:"patient_Appointments",filter:"date=eq.".concat(x.date)},(function(e){me(e.new.data)})).on("postgres_changes",{event:"UPDATE",schema:"public",table:"patient_Appointments",filter:"status=eq.Confirmed"},(function(e){me(e.new.data)})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[B,x]);var xe=(0,e.useState)(!1),be=(0,l.Z)(xe,2),_e=be[0],we=be[1],ke=(0,e.useState)(!1),je=(0,l.Z)(ke,2),Se=je[0],Ce=je[1],Ne=(0,e.useState)(!1),Ee=(0,l.Z)(Ne,2),Te=Ee[0],Ie=Ee[1],Ae=(0,e.useState)(!1),Pe=(0,l.Z)(Ae,2),Me=Pe[0],De=Pe[1];document.documentElement.style.overflowY=_e||Se||Te||Me?"hidden":"unset";var Le=(0,e.useRef)();return(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("div",{className:"sticky top-1",children:[_e&&(0,Br.jsx)(Kg,{setAccept:we,handleAccept:ge}),Me&&(0,Br.jsx)(_v,{CDNURL:a,email:x.email,book_id:x.book_id,payImg:ae,setImageModal:De}),Se&&(0,Br.jsx)(jg,{user:r,lastReschedQue:fe,setResched:Ce,id:v}),Te&&(0,Br.jsx)($g,{setReject:Ie,id:v,handleAccept:ge})]}),(0,Br.jsxs)("div",{className:"back flex flex-col items-center h-auto pb-14 min-h-screen w-full",children:[(0,Br.jsx)("div",{className:"hidden",children:(0,Br.jsx)(Nv,{AppPrint:Le,data:x,isImgEmpty:p,CDNURL:a,imgName:u,isSomeone:A,payImg:ee,Doc:B,isDocImgEmpty:X,docImg:W})}),(0,Br.jsxs)("div",{className:"grid grid-cols-3",children:[(0,Br.jsx)("div",{className:""}),(0,Br.jsx)("h1",{className:"w-full text-3xl mt-10 text-center font-semibold text-[#256e2b] uppercase",children:"Appointment details"}),(0,Br.jsx)("div",{className:"w-full flex justify-center items-center mt-5 -ml-6",children:(0,Br.jsx)(Sv(),{trigger:function(){return(0,Br.jsxs)("button",{className:"flex items-center bg-primary-300 hover:text-white py-1 transition duration-100 hover:bg-primary-600 px-3 rounded-full",children:[(0,Br.jsx)(Cv,{className:"text-lg mr-1"}),"Print"]})},content:function(){return Le.current},documentTitle:"Appointment Details",pageStyle:"print"})})]}),(0,Br.jsx)("section",{className:"flex flex-col px-12 py-10 mt-10 rounded-xl bg-white w-[80%] abs",children:k?(0,Br.jsx)("div",{className:"flex justify-center w-full ",children:(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})}):(0,Br.jsxs)("div",{className:"grid grid-cols-4 gap-x-4 row-span-2",children:[(0,Br.jsxs)("div",{className:"flex flex-col text-center items-center row-span-2",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full shadow-xl w-[13rem] mb-5 h-[13rem]",src:"".concat(p?a+x.email+"/profile/"+u:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("div",{className:"w-full space-y-3",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient Name:"}),(0,Br.jsx)("br",{}),x.fname," ",x.lname]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient Email:"}),(0,Br.jsx)("br",{}),x.email]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Contact Number:"}),(0,Br.jsx)("br",{}),x.number]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-12 space-y-6 row-span-2",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Booking Reference id:"}),(0,Br.jsx)("br",{}),x.book_id]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient Birthdate:"}),(0,Br.jsx)("br",{}),vi()(new Date(x.bday)).format("LL")]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Booked:"}),(0,Br.jsx)("br",{}),vi()(new Date(x.created_at)).calendar()]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Appointment day:"}),(0,Br.jsx)("br",{}),vi()(new Date(x.date)).format("LL")]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Reason of appointment:"}),(0,Br.jsx)("br",{}),x.reason]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-2",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Booked for someone?"}),(0,Br.jsx)("br",{}),x.someone," "]}),A&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Relation of patient to the person who booked:"}),(0,Br.jsx)("br",{}),x.relation]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Name of the authorized representative:"}),(0,Br.jsx)("br",{}),x.appointee]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col mt-10 space-y-4 mx-7",children:[("Confirmed"===(null===x||void 0===x?void 0:x.status)||"rescheduled"===(null===x||void 0===x?void 0:x.status))&&"f2f"!==(null===x||void 0===x?void 0:x.type)&&(0,Br.jsxs)("div",{className:"flex flex-col justify-center mb-10 space-x-3",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Queuing Number:"}),(0,Br.jsx)("h2",{className:"text-6xl font-semibold",children:x.queue})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Status:"}),"Consultation Ongoing"===x.status&&(0,Br.jsx)("p",{className:"px-4 py-1 text-white rounded-full bg-green-500 w-fit",children:x.status}),"pending confirmation"===x.status&&(0,Br.jsx)("p",{className:"px-4 py-1 text-white rounded-full bg-primary w-fit",children:x.status}),"Confirmed"===x.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-emerald-500 w-fit",children:x.status}),"Completed"===x.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-emerald-500 w-fit",children:x.status}),"pending request"===x.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-primary w-fit",children:x.status}),"rescheduled"===x.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-rose-500 w-fit",children:x.status}),"rejected"===x.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-red-500 w-fit",children:x.status}),"Awaiting Doctor's Confirmation"===x.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-emerald-500 w-fit",children:x.status})]}),"pending request"===(null===x||void 0===x?void 0:x.status)||"rescheduled"===(null===x||void 0===x?void 0:x.status)||"rejected"===(null===x||void 0===x?void 0:x.status),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Remarks:"}),(0,Br.jsx)("br",{}),x.remark]})]}),(0,Br.jsxs)("div",{className:"col-span-2 h-full",children:[(0,Br.jsx)("h1",{className:"font-semibold",children:"Payment"}),(0,Br.jsx)("div",{className:"flex space-x-3 items-center",children:ee?(0,Br.jsx)(Br.Fragment,{children:ee.map((function(e,t){return(0,Br.jsxs)("div",{className:"flex flex-col text-left items-center",children:[(0,Br.jsxs)("p",{className:"w-full",children:[0===t&&"1st attempt",1===t&&"2nd attempt",2===t&&"last attempt"]}),(0,Br.jsx)("img",{onClick:function(t){return De(!0)||t.preventDefault()||ie(e.name)},className:"object-cover cursor-pointer shadow-xl w-[13rem] mb-5 h-[13rem]",src:a+x.email+"/payment/"+x.book_id+"/"+e.name,alt:"/"})]},t)}))}):(0,Br.jsx)("p",{children:"No Payment Sent"})})]}),O&&(0,Br.jsxs)("div",{className:"flex items-center space-x-6 col-span-4 mt-3 justify-end",children:[("pending confirmation"===x.status||"pending request"===x.status)&&(0,Br.jsx)("div",{children:(0,Br.jsxs)("button",{onClick:function(e){return we(!0)||e.preventDefault()},className:"transition py-2 px-7 flex items-center text-white duration-100 bg-green-600 hover:bg-green-800 rounded-full ",children:[(0,Br.jsx)(Hp,{className:"text-2xl mr-1"}),(0,Br.jsx)("span",{children:"Accept Appointment"})]})}),(0,Br.jsx)("div",{children:(0,Br.jsxs)("button",{onClick:function(e){return Ce(!0)||e.preventDefault()},className:"transition flex px-7 py-2 text-white duration-100 hover:bg-primary-700 bg-primary-500 rounded-full ",children:[(0,Br.jsx)(Ev,{className:"text-2xl mr-1"}),(0,Br.jsx)("span",{children:"Reschedule Appointment"})]})}),(0,Br.jsx)("div",{children:(0,Br.jsxs)("button",{onClick:function(e){return Ie(!0)||e.preventDefault()},className:"transition flex items-center px-7 py-2 text-white duration-100 bg-red-600 hover:bg-red-800 rounded-full ",children:[(0,Br.jsx)(Wp,{className:"text-2xl mr-1"}),(0,Br.jsx)("span",{children:"Reject Appointment"})]})})]})]})}),(0,Br.jsx)("h1",{className:"w-full text-3xl mt-10 text-center font-semibold text-[#256e2b] uppercase",children:"Doctor's details"}),(0,Br.jsx)("section",{className:"flex flex-col px-12 py-10 mt-10 rounded-xl bg-white w-[80%] abs",children:k?(0,Br.jsx)("div",{className:"flex justify-center w-full ",children:(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})}):(0,Br.jsxs)("div",{className:"grid grid-cols-3 text-lg row-span-2 gap-3",children:[B&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("div",{className:"flex flex-col  text-center items-center",children:(0,Br.jsx)("img",{className:"object-cover rounded-md shadow-xl w-[15rem] mb-5 h-[15rem]",src:"".concat(X?a+B.email+"/profile/"+W:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/doc.jpg"),alt:"/"})}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-8 pr-6",children:[(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Doctor's Name:"}),(0,Br.jsx)("br",{}),B.honorific," ",B.name]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Consultation type:"}),(0,Br.jsx)("br",{}),"ol"===B.type?"Online Consultation":"Face to face"]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-8 pr-6",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Doctor id:"}),(0,Br.jsx)("br",{}),B.id]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Specialization:"}),(0,Br.jsx)("br",{}),B.specialization]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Sub-specialization:"}),(0,Br.jsx)("br",{}),B.subspecial]})]})]}),(0,Br.jsx)("div",{className:"col-span-4 flex justify-center text-xl font-semibold ",children:(0,Br.jsx)("p",{children:"Schedule"})}),(0,Br.jsxs)("div",{className:"flex-col items-center  col-span-4",children:[(0,Br.jsxs)("div",{className:"bg-green-600 grid grid-cols-4 w-full text-white py-2 col-span-4 justify-center px-10",children:[(0,Br.jsx)("p",{className:"col-span-2",children:"Days"}),(0,Br.jsx)("p",{className:"text-center",children:"Check In"}),(0,Br.jsx)("p",{className:"text-center",children:"Check Out"})]}),null===(n=B.schedule)||void 0===n?void 0:n.map((function(e,t){return(0,Br.jsxs)("div",{className:"col-span-3 bg-slate-200 py-2 grid grid-cols-4 w-full my-3 px-10",children:[(0,Br.jsx)("div",{className:"col-span-2 ",children:e.day}),(0,Br.jsx)("div",{className:"text-center",children:vi()(new Date("2000-01-01T".concat(e.startTime))).format("LT")}),(0,Br.jsx)("div",{className:"text-center",children:vi()(new Date("2000-01-01T".concat(e.startTime))).format("LT")})]},t)}))]})]})})]})]})},ey=function(t){var n=t.ol,r=t.CDNURL,a=t.setCancel,o=t.setBookID,c=(0,e.useState)(!1),u=(0,l.Z)(c,2),d=u[0],h=u[1];var f=(0,e.useRef)();(0,e.useEffect)((function(){if(n){var e=function(e){var t;null!==(t=f.current)&&void 0!==t&&t.contains(e.target)||h(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[h,n]);new Date(n.created_at);var p=n.email,m=(0,e.useState)([]),v=(0,l.Z)(m,2),g=v[0],y=v[1],x=(0,e.useState)(!1),b=(0,l.Z)(x,2),_=b[0],w=b[1];function k(){return(k=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(p+"/profile/",{limit:100,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(w(!0),y(n[0].name)),r&&(w(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){n&&function(){k.apply(this,arguments)}(p,y,w)}),[n,p,w,y]),(0,e.useEffect)((function(){Ci().init({duration:300}),Ci().refresh()}),[]),(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsx)("div",{className:"text-base flex w-full select-none",children:(0,Br.jsxs)("section",{"data-aos":"fade-right","data-aos-anchor":"#trigger-next",ref:f,onClick:function(e){e.preventDefault(),h(!d)},className:"group/pu bg-white abs mb-3 cursor-pointer text-gray-900 w-full rounded-xl transition duration-75 ease-in hover:bg-slate-100 text-center  ",children:[(0,Br.jsxs)("div",{id:"trigger-next",scope:"row",className:" py-3 mx-6 flex font-medium whitespace-nowrap justify-between",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full w-[4rem] h-[4rem]",src:"".concat(_?r+n.email+"/profile/"+g:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("div",{className:"ml-4 flex-col text-left text-sm",children:[(0,Br.jsxs)("p",{className:"text-base uppercase font-semibold text-green-800",children:[n.lname," ",n.fname]}),(0,Br.jsxs)("p",{className:"",children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Booked at:"," "]}),vi()(new Date(new Date(n.created_at))).calendar()]}),(0,Br.jsxs)("p",{children:[(0,Br.jsxs)("span",{className:"font-semibold text-green-950",children:["Doctor Name:"," "]}),n.docname]})]})]}),(0,Br.jsxs)("div",{className:"flex items-center mt-2",children:["Consultation Ongoing"===n.status&&(0,Br.jsx)("p",{className:"px-3 items-center text-white rounded-full h-fit bg-green-500 w-fit",children:n.status}),"pending confirmation"===n.status&&(0,Br.jsx)("p",{className:"px-3 items-center text-white rounded-full h-fit bg-primary w-fit",children:n.status}),"Confirmed"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-emerald-500 w-fit",children:n.status}),"pending request"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-primary w-fit",children:n.status}),"rescheduled"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-rose-500 w-fit",children:n.status}),"rejected"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-red-500 w-fit",children:n.status}),"Awaiting Doctor's Confirmation"===n.status&&(0,Br.jsx)("p",{className:"px-3 flex items-center text-white rounded-full h-fit bg-emerald-500 w-fit",children:n.status}),(0,Br.jsx)("button",{className:" mx-2 text-lg transition duration-200 group-hover/pu:bg-slate-400 p-3 rounded-lg",children:(0,Br.jsx)("div",{children:(0,Br.jsx)(Hr,{className:"".concat(d?"rotate-180 transition duration-300":"rotate-0 transition duration-300")})})})]})]}),(0,Br.jsxs)("div",{className:"".concat(d?"transition-all duration-300 ease-in overflow-y-visible opacity-100 max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden opacity-0 max-h-0"),children:[(0,Br.jsxs)("div",{className:"flex flex-col items-start mx-[6.4rem] mt-3 gap-y-3",children:[(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(Rd,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[24px]  text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base text-black",children:["Scheduled at",(0,Br.jsx)("p",{className:"text-slate-400",children:vi()(new Date(new Date(n.date))).format("LL")})]})]}),("Confirmed"===n.status||"rescheduled"===n.status)&&"f2f"!==(null===n||void 0===n?void 0:n.type)&&(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(Yr,{className:"text-lg pb-3 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Queue no."," ",(0,Br.jsx)("p",{className:"text-slate-400 text-xl",children:n.queue})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(uh,{className:"text-lg pr-[2px]pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Email ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.email})]})]}),(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)(dh,{className:"text-lg pr-[2px] pb-4 pt-2 row-span-2 h-full w-[26px] text-green-600"}),(0,Br.jsxs)("label",{className:"w-fit ml-4 text-left text-base grid row-span-2 text-black",children:["Phone ",(0,Br.jsx)("p",{className:"text-slate-400",children:n.number})]})]})]}),(0,Br.jsxs)("div",{className:"max-w-full mb-5 flex justify-center space-x-10",children:[(0,Br.jsx)(Cr,{to:"/Appointment/Admin/Details/"+n.book_id,onClick:function(e){return e.stopPropagation()},children:(0,Br.jsxs)("button",{className:"text-lg flex items-center space-x-1 px-12 py-1 transition duration-100 hover:bg-[#377532] bg-[#3dbb34] text-white rounded-md",children:[(0,Br.jsx)(Ha,{className:"text-2xl"}),(0,Br.jsx)("span",{children:"Appointment Details"})]})}),(0,Br.jsxs)("button",{onClick:function(e){return a(!0)||o(n.book_id)||e.stopPropagation()},className:"text-lg flex items-center space-x-1 px-12 transition duration-100 text-white hover:bg-red-700 bg-red-500 rounded-md",children:[(0,Br.jsx)(Wp,{className:"text-2xl"}),(0,Br.jsx)("span",{children:"Cancel Appointment"})]})]})]})]})},n.book_id)})},ty=function(t){var n=t.books,r=t.CDNURL,a=t.user,i=t.Loaded,o=t.setLoaded,s=t.setCancel,c=t.setBookID,u=(0,e.useState)(0),d=(0,l.Z)(u,2),h=d[0],f=d[1],p=(0,e.useState)(0),m=(0,l.Z)(p,2),v=m[0],g=m[1],y=(0,e.useState)(null),x=(0,l.Z)(y,2),b=x[0],_=x[1];(0,e.useEffect)((function(){if(a){var e=h+7;_(n.slice(h,e)),g(Math.ceil(n.length/7)),b&&setTimeout((function(){o(!0)}),500)}}),[h,7,n,o,a]);return(0,Br.jsxs)("div",{className:"w-full flex flex-col items-center rounded",children:[(0,Br.jsx)(xh(),{breakLabel:". . .",nextLabel:"next >",onPageChange:function(e){o(!1);var t=7*e.selected%n.length;f(t)},pageRangeDisplayed:3,pageCount:v,previousLabel:"< previous",renderOnZeroPageCount:null,className:"flex space-x-3 mb-6 w-full justify-center items-center select-none",breakClassName:"text-xl font-semibold",pageLinkClassName:"text-slate-600 text-lg transition duration-100 bg-[#cbcbcba8] hover:bg-[#bfbfbffc] hover:text-slate-700 px-[10px] py-[8px] rounded",previousLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",nextLinkClassName:"text-white text-xl transition duration-100 bg-[#4fa94d] hover:bg-[#3d833ce7] px-3 py-[7px] rounded",activeLinkClassName:"border-2 border-green-700 text-xl rounded"}),i?b&&b.map((function(e,t){return(0,Br.jsx)("div",{className:"w-full",children:(0,Br.jsx)(ey,{ol:e,setBookID:c,setCancel:s,user:a,CDNURL:r})},t)})):(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})]})},ny=function(t){var n=t.CDNURL,r=t.user,a=(0,e.useState)([]),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=(0,e.useState)(""),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=(0,e.useState)(""),v=(0,l.Z)(m,2),g=v[0],y=v[1],x=(0,e.useState)(""),b=(0,l.Z)(x,2),_=b[0],w=b[1],k=(0,e.useState)(""),j=(0,l.Z)(k,2),S=j[0],C=j[1],N=(0,e.useState)(""),E=(0,l.Z)(N,2),T=E[0],I=E[1],A=(0,e.useState)(""),P=(0,l.Z)(A,2),M=P[0],D=P[1],L=(0,e.useState)(!0),O=(0,l.Z)(L,2),z=O[0],R=O[1];(0,e.useEffect)((function(){r&&("Show all"===g&&y(""),"Show all"===T&&I(""),"all"===_&&w(""),"descending"===M?R(!0):"ascending"===M&&R(!1),"Show all"===S?C(""):"Online Consult"===S?C("ol"):"Face to face Consult"===S&&C("f2f"))}),[r,M,R,T,_,S,g,y,w,C]);var F=(0,e.useState)(!0),B=(0,l.Z)(F,2),Z=B[0],U=B[1],V=(0,e.useState)([]),q=(0,l.Z)(V,2),H=q[0],W=q[1],Y=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!1),e.next=3,Kt.from("patient_Appointments").select();case 3:t=e.sent,n=t.data,(r=t.error)&&(qa.error(r,{toastId:"dataError"}),console.error("Failed to fetch",r.message)),n&&(U(!0),u(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=(0,e.useState)(!0),J=(0,l.Z)(G,2),X=J[0],K=J[1];(0,e.useEffect)((function(){if(c){var e=c.filter((function(e){var t,n,r,a,i,o,s=!(null!==(t=e.status)&&void 0!==t&&t.includes("Completed")),l=!(null!==(n=e.status)&&void 0!==n&&n.includes("rejected")),c=null===(r=e.someone)||void 0===r?void 0:r.includes(g),u=null===(a=e.date)||void 0===a?void 0:a.toLowerCase().includes(_),d=null===(i=e.type)||void 0===i?void 0:i.toLowerCase().includes(S),h=null===(o=e.status)||void 0===o?void 0:o.toLowerCase().includes(T.toLowerCase());return s&&l&&c&&u&&d&&h})).sort((function(e,t){return z?e.created_at>t.created_at?-1:1:e.created_at<t.created_at?-1:1}));W(e),H&&setTimeout((function(){U(!0)}),1e3)}}),[z,S,T,_,g,W,c]),(0,e.useEffect)((function(){Y(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"patient_Appointments"},(function(){Y()})).subscribe()}),[]);var $=(0,e.useState)(!1),Q=(0,l.Z)($,2),ee=Q[0],te=Q[1];(0,e.useEffect)((function(){Ci().init({duration:500})}),[]);var ne=(0,e.useState)(!1),re=(0,l.Z)(ne,2),ae=re[0],ie=re[1],oe=(0,e.useState)(),se=(0,l.Z)(oe,2),le=se[0],ce=se[1];document.documentElement.style.overflowY=ae?"hidden":"unset";var ue=new Set;return(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("div",{className:"sticky top-1 z-50",children:ae&&(0,Br.jsx)($g,{setReject:ie,id:le})}),(0,Br.jsx)("div",{className:"back h-full flex justify-center",children:(0,Br.jsxs)("div",{className:"w-[70%] ",children:[(0,Br.jsx)("p",{className:"text-4xl font-semibold text-[#315E30]"}),(0,Br.jsx)("div",{className:"w-full flex justify-between items-center mt-10 mb-3 ",children:(0,Br.jsx)("div",{onClick:function(){return te(!ee)},className:"px-4 py-1 items-center select-none hover:cursor-pointer w-fit transition duration-75 \r ease-in hover:bg-[#78b673f8] bg-[#98dd93c4] text-[#295f34] mx-4  rounded-full hover:text-white flex",children:ee?(0,Br.jsxs)(Br.Fragment,{children:[" ",(0,Br.jsx)(kp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Close Filter"})]}):(0,Br.jsxs)(Br.Fragment,{children:[" ",(0,Br.jsx)(jp,{className:"text-2xl mr-2"}),(0,Br.jsx)("p",{className:"",children:"Filter"})]})})}),(0,Br.jsx)("div",{className:"".concat(ee?"transition-all duration-300 ease-in overflow-y-visible max-h-[20rem]":"transition-all duration-300 ease-out overflow-y-hidden max-h-0"),children:(0,Br.jsxs)("div",{className:"bg-[#98dd93c4] px-5 pt-5 pb-8 mb-2 rounded-lg items-center gap-x-7 gap-y-4 grid grid-cols-3",children:[(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{className:"mb-1",children:"Search by name"}),(0,Br.jsxs)("div",{className:"flex h-6 text-slate-500",children:[!f&&(0,Br.jsxs)("div",{className:"".concat(ee?"absolute flex space-x-1 items-center translate-x-4":"hidden"),children:[(0,Br.jsx)(Jd,{className:"w-4"}),(0,Br.jsx)("p",{children:"Type here"})]}),(0,Br.jsxs)("div",{className:"flex items-center w-full",children:[(0,Br.jsx)("input",{type:"text",onChange:function(e){return p(e.target.value)},className:"pl-3 rounded-l-md h-8 w-full text-black border-slate-400 border-2"}),(0,Br.jsx)("button",{onClick:function(){K(!1);var e=c.filter((function(e){var t,n,r,a,i,o,s=null===(t=e.fname)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()),l=null===(n=e.lname)||void 0===n?void 0:n.toLowerCase().includes(f.toLowerCase()),c=null===(r=e.mname)||void 0===r?void 0:r.toLowerCase().includes(f.toLowerCase()),u=null===(a=e.docname)||void 0===a?void 0:a.toLowerCase().includes(f.toLowerCase()),d=!(null!==(i=e.status)&&void 0!==i&&i.includes("Completed")),h=!(null!==(o=e.status)&&void 0!==o&&o.includes("rejected"));return(s||l||c||u)&&d&&h}));W(e),c&&setTimeout((function(){K(!0)}),1e3)},className:"bg-[#60af5ac4] h-8 border-l-0 hover:bg-[#84d17fc4] hover:text-[#388332c4]\r text-white border-[#388332c4] border-2 px-2 rounded-r-md relative",children:"Search"})]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Appointment type"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return C(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Online Consult"},"2"),(0,Br.jsx)("option",{children:"Face to face Consult"},"3")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"sort created book date by"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return D(e.target.value)},children:[(0,Br.jsx)("option",{children:"descending"},"1"),(0,Br.jsx)("option",{children:"ascending"},"2")]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Search by Scheduled Date"}),(0,Br.jsxs)("div",{className:"flex items-center",children:[(0,Br.jsx)("input",{type:"date",value:_,className:"w-fit px-3 rounded-md border-slate-400 border-2",onChange:function(e){return w(e.target.value)}}),(0,Br.jsx)("button",{onClick:function(){return w("")},className:"bg-[#60af5ac4] ml-1 hover:bg-[#84d17fc4] hover:text-[#388332c4]\r text-white border-[#388332c4] border-2 px-2 rounded-md ",children:"reset date"})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"status"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return I(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),c.map((function(e,t){return"Completed"===e.status||"rejected"===e.status||ue.has(e.status)?null:(ue.add(e.status),(0,Br.jsx)("option",{children:e.status},t))}))]})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("label",{children:"Booked by someone"}),(0,Br.jsxs)("select",{className:"w-full rounded-md h-8 border-slate-400 border-2",onChange:function(e){return y(e.target.value)},children:[(0,Br.jsx)("option",{children:"Show all"},"1"),(0,Br.jsx)("option",{children:"Yes"},"2"),(0,Br.jsx)("option",{children:"No"},"3")]})]})]})}),(0,Br.jsx)("div",{className:" flex justify-center",children:(0,Br.jsx)("div",{className:"w-full h-auto min-h-screen text-sm flex mt-3 mb-10 flex-wrap justify-between\r rounded-lg text-gray-500 dark:text-gray-400",children:X?(0,Br.jsx)(ty,{books:H,user:r,setBookID:ce,CDNURL:n,setLoaded:U,Loaded:Z,setCancel:ie}):(0,Br.jsxs)("div",{className:"w-full flex justify-center mt-20",children:[(0,Br.jsx)(_p,{visible:!0,width:"50",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efffb7",color:"#388332c4"}),(0,Br.jsx)("p",{className:"text-2xl text-slate-600",children:"Searching"})]})})})]})})]})},ry=function(t){var n=t.setReject,r=t.id,a=$n(),o=(0,e.useState)(),c=(0,l.Z)(o,2),u=c[0],d=c[1];function h(){return(h=s(i().mark((function e(t){var o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n(!1),e.next=4,Kt.from("patient_Appointments").update({remark:u}).eq("book_id",r);case 4:o=e.sent,(s=o.error)&&qa.error(s.message,{autoClose:!1}),a("/Confirm_Appointments");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Br.jsx)("div",{className:"absolute bg-black bg-opacity-40 backdrop-blur-sm w-full h-screen z-50 flex items-center justify-center",children:(0,Br.jsx)("div",{className:"bg-white sticky -mt-[8rem] flex w-[full flex-col items-center abs rounded-lg p-6",children:(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsxs)("div",{className:"flex",children:[(0,Br.jsx)("div",{className:"h-full",children:(0,Br.jsx)(ti,{className:"text-4xl mr-3 mt-2 text-primary-500"})}),(0,Br.jsxs)("form",{onSubmit:function(e){return h.apply(this,arguments)},className:"flex flex-col items-start",children:[(0,Br.jsx)("h1",{className:"mb-2 font-semibold text-xl flex items-end",children:(0,Br.jsx)("span",{children:"Notify Admin"})}),(0,Br.jsx)("p",{className:"mb-2",children:"Reason"}),(0,Br.jsx)("input",{required:!0,onChange:function(e){return d(e.target.value)},className:"mb-3 w-[80%] border-b-2 outline-0 focus:border-2 focus:border-slate-500 border-slate-400 bg-slate-200 py-1 px-2 rounded-sm"}),(0,Br.jsxs)("div",{className:"flex items-center justify-end w-full space-x-2 mt-3",children:[(0,Br.jsx)("button",{onClick:function(e){return n(!1)||e.preventDefault()},className:"px-9 py-1 bg-slate-100 border-2 transition duration-100 hover:bg-slate-300 border-slate-300 rounded-md",children:"Cancel"}),(0,Br.jsx)("button",{className:"px-9 py-1 bg-primary-600 transition duration-100 hover:bg-primary-800 text-white rounded-md",children:"Confirm"})]})]})]})})})})},ay=function(t){var n=t.user,r="https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/",a=(0,e.useState)([]),o=(0,l.Z)(a,2),c=o[0],u=o[1],d=(0,e.useState)(!1),h=(0,l.Z)(d,2),f=h[0],p=h[1],m=Qn().id,v=(0,e.useState)(""),g=(0,l.Z)(v,2),y=g[0],x=g[1],b=(0,e.useState)(!0),_=(0,l.Z)(b,2),w=_[0],k=_[1],j=(0,e.useState)(""),S=(0,l.Z)(j,2),C=S[0],N=S[1],E=(0,e.useState)(),T=(0,l.Z)(E,2),I=T[0],A=T[1],P=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("patient_Appointments").select().eq("book_id",m).single();case 2:t=e.sent,n=t.data,(r=t.error)&&qa.error(r.message,{toastId:"error"}),"Yes"===n.someone?A(!0):A(!1),N(n.email),x(n),k(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){var e=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return t=Kt.channel("room13").on("postgres_changes",{event:"UPDATE",schema:"public",table:"patient_Appointments",filter:"book_id=eq.".concat(m)},(function(e){P(e.new.data)})).subscribe(),e.abrupt("return",(function(){Kt.removeChannel(t),t.unsubscribe()}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,e.useEffect)((function(){if(C){var e=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(C+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(p(!0),u(n[0].name)),r&&(p(!1),console.log(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[u,C,p]);var M=(0,e.useState)([]),D=(0,l.Z)(M,2),L=D[0],O=D[1];function z(){return R.apply(this,arguments)}function R(){return R=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.doc_id){e.next=15;break}return e.next=3,Kt.from("dr_information").select().eq("id",y.doc_id).single();case 3:if(t=e.sent,n=t.data,r=t.error,e.prev=6,!r){e.next=9;break}throw r;case 9:O(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])}))),R.apply(this,arguments)}(0,e.useEffect)((function(){z(y.docname),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"dr_information"},(function(){z()})).subscribe()}),[y.docname]);var F=(0,e.useState)(),B=(0,l.Z)(F,2),Z=B[0],U=B[1],V=(0,e.useState)(!1),q=(0,l.Z)(V,2),H=q[0],W=q[1];(0,e.useEffect)((function(){if(L.email){var e=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(L.email+"/profile/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n[0]&&(W(!0),U(n[0].name)),r&&(W(!1),qa.error(r.message,{autoClose:!1}),console.log(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[L]);var Y=(0,e.useState)([]),G=(0,l.Z)(Y,2),J=G[0],X=G[1],K=(0,e.useState)(),$=(0,l.Z)(K,2),Q=$[0],ee=$[1];function te(){return(te=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.storage.from("images").list(y.email+"/payment/"+y.book_id+"/",{limit:10,offset:0,sortBy:{column:"created_at",order:"asc"}});case 2:t=e.sent,n=t.data,r=t.error,n?X(n):r&&(qa.error(r.message,{autoClose:!1}),console.log(r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,e.useEffect)((function(){!function(){te.apply(this,arguments)}()}),[y.email]);var ne=(0,e.useState)(!1),re=(0,l.Z)(ne,2),ae=re[0],ie=re[1],oe=(0,e.useState)(!1),se=(0,l.Z)(oe,2),le=se[0],ce=se[1],ue=(0,e.useState)(!1),de=(0,l.Z)(ue,2),he=de[0],fe=de[1];document.documentElement.style.overflowY=ae||he?"hidden":"unset";var pe=(0,e.useRef)();return(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)("div",{className:"sticky top-1",children:le&&(0,Br.jsx)(ry,{setReject:ce,id:y.book_id})}),(0,Br.jsxs)("div",{className:"sticky top-1",children:[he&&(0,Br.jsx)(_v,{CDNURL:r,email:y.email,book_id:y.book_id,payImg:Q,setImageModal:fe}),ae&&(0,Br.jsx)(jg,{setResched:ie,id:m,user:n})]}),(0,Br.jsxs)("div",{className:"back flex flex-col items-center h-auto pb-14 min-h-screen w-full",children:[(0,Br.jsx)("div",{className:"hidden",children:(0,Br.jsx)(Nv,{AppPrint:pe,data:y,isImgEmpty:f,CDNURL:r,imgName:c,isSomeone:I,payImg:J,Doc:L,isDocImgEmpty:H,docImg:Z})}),(0,Br.jsxs)("div",{className:"grid grid-cols-3 w-full items-center justify-center",children:[(0,Br.jsx)("div",{className:""}),(0,Br.jsx)("h1",{className:"w-full text-3xl mt-10 text-center font-semibold text-[#256e2b] uppercase",children:"Appointment details"}),(0,Br.jsx)("div",{className:"w-full flex justify-center items-center mt-5 -ml-6",children:(0,Br.jsx)(Sv(),{trigger:function(){return(0,Br.jsxs)("button",{className:"flex items-center bg-primary-300 hover:text-white py-1 transition duration-100 hover:bg-primary-600 px-3 rounded-full",children:[(0,Br.jsx)(Cv,{className:"text-lg mr-1"}),"Print"]})},content:function(){return pe.current},documentTitle:"Appointment Details",pageStyle:"print"})})]}),(0,Br.jsx)("section",{className:"flex flex-col px-12 py-10 mt-10 rounded-xl bg-white w-[80%] abs",children:w?(0,Br.jsx)("div",{className:"flex justify-center w-full ",children:(0,Br.jsx)(lp,{height:80,width:80,color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2})}):(0,Br.jsxs)("div",{className:"grid grid-cols-4 row-span-2",children:[(0,Br.jsxs)("div",{className:"flex flex-col text-center items-center row-span-2",children:[(0,Br.jsx)("img",{className:"object-cover rounded-full shadow-xl w-[13rem] mb-5 h-[13rem]",src:"".concat(f?r+y.email+"/profile/"+c:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png"),alt:"/"}),(0,Br.jsxs)("div",{className:"w-full space-y-3",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient Name:"}),(0,Br.jsx)("br",{}),y.fname,y.lname]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient Email:"}),(0,Br.jsx)("br",{}),y.email," "]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Contact Number:"}),(0,Br.jsx)("br",{}),y.number]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-5 row-span-2",children:[(0,Br.jsxs)("div",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Booking Reference id:"}),(0,Br.jsx)("br",{}),(0,Br.jsx)("p",{className:"flex-wrap flex w-[17rem]",children:y.book_id})]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Patient Birthdate:"}),(0,Br.jsx)("br",{}),vi()(new Date(y.bday)).format("LL")]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Booked at:"}),(0,Br.jsx)("br",{}),vi()(new Date(y.created_at)).calendar()]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Appointment day:"}),(0,Br.jsx)("br",{}),vi()(new Date(y.date)).format("LL")]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Reason of appointment:"}),(0,Br.jsx)("br",{}),y.reason]})]}),(0,Br.jsxs)("div",{className:"flex flex-col text-left items-left mt-10 space-y-2",children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Booked for someone?"}),(0,Br.jsx)("br",{}),y.someone," "]}),I&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Relation of patient to the person who booked:"}),(0,Br.jsx)("br",{}),y.relation]}),(0,Br.jsxs)("p",{children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Name of the authorized representative:"}),(0,Br.jsx)("br",{}),y.appointee]})]})]}),(0,Br.jsxs)("div",{className:"flex flex-col mt-10 space-y-4 mx-7",children:["f2f"!==(null===y||void 0===y?void 0:y.type)&&(0,Br.jsxs)("div",{className:"flex flex-col justify-center space-x-3",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Queuing Number:"}),(0,Br.jsx)("h2",{className:"text-6xl font-semibold",children:y.queue})]}),(0,Br.jsxs)("div",{className:"flex flex-col",children:[(0,Br.jsx)("span",{className:"font-semibold",children:"Status:"}),"Consultation Ongoing"===y.status&&(0,Br.jsx)("p",{className:"px-4 py-1 text-white rounded-full bg-green-500 w-fit",children:y.status}),"pending confirmation"===y.status&&(0,Br.jsx)("p",{className:"px-4 py-1 text-white rounded-full bg-primary w-fit",children:y.status}),"Confirmed"===y.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-emerald-500 w-fit",children:y.status}),"Completed"===y.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-emerald-500 w-fit",children:y.status}),"pending request"===y.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-primary w-fit",children:y.status}),"rescheduled"===y.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-rose-500 w-fit",children:y.status}),"rejected"===y.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-red-500 w-fit",children:y.status}),"Awaiting Doctor's Confirmation"===y.status&&(0,Br.jsx)("p",{className:"px-4 py-1 flex items-center text-white rounded-full bg-emerald-500 w-fit",children:y.status})]})]}),(0,Br.jsxs)("div",{className:"col-span-2 h-full",children:[(0,Br.jsx)("h1",{className:"font-semibold",children:"Payment"}),(0,Br.jsx)("div",{className:"flex space-x-3 items-center",children:J?(0,Br.jsx)(Br.Fragment,{children:J.map((function(e,t){return(0,Br.jsxs)("div",{className:"flex flex-col text-left items-center",children:[(0,Br.jsxs)("p",{className:"w-full",children:[0===t&&"1st attempt",1===t&&"2nd attempt",2===t&&"last attempt"]}),(0,Br.jsx)("img",{onClick:function(t){return fe(!0)||t.preventDefault()||ee(e.name)},className:"object-cover cursor-pointer shadow-xl w-[13rem] mb-5 h-[13rem]",src:r+y.email+"/payment/"+y.book_id+"/"+e.name,alt:"/"})]},t)}))}):(0,Br.jsx)("p",{children:"No Payment Sent"})})]}),"Completed"!==y.status&&(0,Br.jsx)(Br.Fragment,{children:(0,Br.jsx)("div",{className:"flex items-center space-x-6 col-span-4 mt-3 justify-end",children:(0,Br.jsx)("div",{children:(0,Br.jsxs)("button",{onClick:function(e){return ie(!0)||e.preventDefault()},className:"transition flex px-7 py-2 text-white duration-100 hover:bg-red-700 bg-red-500 rounded-full ",children:[(0,Br.jsx)(Ev,{className:"text-2xl mr-1"}),(0,Br.jsx)("span",{children:"Reschedule Appointment"})]})})})})]})})]})]})};var iy=function(){var t=(0,e.useState)(!1),n=(0,l.Z)(t,2),r=n[0],a=n[1],o=(0,e.useState)(!1),c=(0,l.Z)(o,2),u=c[0],d=c[1],h=function(e){e.preventDefault(),d(!u)},f=(0,e.useState)(!1),p=(0,l.Z)(f,2),m=p[0],v=p[1],g=(0,e.useState)(!1),y=(0,l.Z)(g,2),x=y[0],b=y[1],_=(0,e.useState)(!1),w=(0,l.Z)(_,2),k=w[0],j=w[1],S=(0,e.useState)(!1),C=(0,l.Z)(S,2),N=C[0],E=C[1],T=(0,e.useState)([]),I=(0,l.Z)(T,2),A=I[0],P=I[1],M=function(){var e=s(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.from("profile").select("*").eq("email",m.user.email).single();case 2:t=e.sent,n=t.data,(r=t.error)&&console.log(r),n.role&&("admin"===n.role&&b(!0),"doctor"===n.role&&j(!0),"patient"===n.role&&E(!0)),n&&P(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){m&&(localStorage.setItem("token",JSON.stringify(m)),M(),Kt.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"profile"},(function(){M()})).subscribe())}),[m]);var D=(0,e.useState)([]),L=(0,l.Z)(D,2),O=L[0],z=L[1],R=(0,e.useState)(null),F=(0,l.Z)(R,2),B=F[0],Z=F[1],U=(0,e.useState)(!1),V=(0,l.Z)(U,2),q=V[0],H=V[1],W="https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/",Y=(0,e.useState)(!1),G=(0,l.Z)(Y,2),J=G[0],X=G[1],K=(0,e.useState)(!1),$=(0,l.Z)(K,2),Q=$[0],ee=$[1],te=function(){return ee(!1)};return(0,e.useEffect)((function(){if(localStorage.getItem("token")){var e=JSON.parse(localStorage.getItem("token"));v(e)}}),[]),(0,Br.jsxs)("div",{className:" flex flex-col ",children:[(0,Br.jsxs)("header",{className:"sticky top-0 z-50",children:[(0,Br.jsx)(ki,{isRead:u,setRead:d,FetchShow:a,Show:r,setUploaded:H,closeProfileUpload:function(){return X(!1)},isProfileOpen:J,isImgEmpty:B,setimgName:z,user:A,CDNURL:W,imgName:O,open:Q,openSide:function(){return ee(!0)},closeSide:te,token:m,setToken:v,isAdmin:x,isDoctor:k,isPatient:N}),(0,Br.jsx)("div",{className:"".concat(Q?"transition-transform duration-200 ease-in z-30 translate-x-0":"transition-transform duration-200 ease-out z-30 -translate-x-80"),children:(0,Br.jsx)(vh,{open:Q,isUploaded:q,openProfileUpload:function(){return X(!0)},isImgEmpty:B,setImgEmpty:Z,ALTIMG:"https://iniadwocuptwhvsjrcrw.supabase.co/storage/v1/object/public/images/alternative_pic.png",CDNURL:W,setimgName:z,imgName:O,user:A,closeSide:te,token:m,isAdmin:x,isDoctor:k,isPatient:N,showLogin:a})})]}),(0,Br.jsx)("main",{className:"".concat(Q?"flex-grow min-h-screen h-auto transition ease-in duration-200 translate-x-[18.7rem] w-[86%]":"flex-grow min-h-screen h-auto transition ease-out duration-200 translate-x-0 w-screen"),children:(0,Br.jsxs)(pr,{children:[(0,Br.jsx)(hr,{path:"/",element:(0,Br.jsx)(Pi,{token:m,isDoctor:k})}),(0,Br.jsx)(hr,{path:"/Notifications",element:(0,Br.jsx)(Np,{user:A})}),(0,Br.jsx)(hr,{path:"/Mission-and-Vision",element:(0,Br.jsx)(kd,{})}),(0,Br.jsx)(hr,{path:"/Feedback-Form",element:(0,Br.jsx)(Sd,{token:m})}),(0,Br.jsx)(hr,{path:"/Contacts",element:(0,Br.jsx)(wd,{token:m,user:A})}),(0,Br.jsx)(hr,{path:"/Hospital-Profile",element:(0,Br.jsx)(jd,{})}),(0,Br.jsx)(hr,{path:"/Appointment/Online",element:(0,Br.jsx)(ug,{token:m,openTerms:h})}),(0,Br.jsx)(hr,{path:"/Appointment/F2f",element:(0,Br.jsx)(dg,{token:m,openTerms:h})}),(0,Br.jsx)(hr,{path:"/DoctorInfo/:id",element:(0,Br.jsx)(Dv,{})}),(0,Br.jsx)(hr,{path:"/FillupForm/:id",element:(0,Br.jsx)(uv,{token:m,openTerms:h,setToken:v})}),(0,Br.jsx)(hr,{path:"/Appointment/Patient/Details/:id",element:(0,Br.jsx)(Pv,{})}),(0,Br.jsx)(hr,{path:"/Appointment",element:(0,Br.jsx)(bv,{token:m,isPatient:N})}),(0,Br.jsx)(hr,{path:"/Appointment/Success/:bookID",element:(0,Br.jsx)(fg,{token:m,user:A,setToken:v})}),(0,Br.jsx)(hr,{path:"/Appointment/Verifying/:bookID",element:(0,Br.jsx)(yg,{})}),(0,Br.jsx)(hr,{path:"/Dashboard",element:(0,Br.jsx)(cg,{token:m,showLogin:a,admin:x,doctor:k,patient:N,user:A})}),m&&(0,Br.jsxs)(Br.Fragment,{children:[k&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(hr,{path:"/DoctorConsultHistory",element:(0,Br.jsx)(Sg,{CDNURL:W,user:A})}),(0,Br.jsx)(hr,{path:"/Doctor/Appointments",element:(0,Br.jsx)(Eg,{CDNURL:W,user:A})}),(0,Br.jsx)(hr,{path:"/Doctor/Appointments/Details/:id",element:(0,Br.jsx)(ay,{user:A})})]}),N&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(hr,{path:"/Online_Consultation_History",element:(0,Br.jsx)(Ov,{user:A})}),(0,Br.jsx)(hr,{path:"/Appointment/Status",element:(0,Br.jsx)(Sp,{user:A})})]}),x&&(0,Br.jsxs)(Br.Fragment,{children:[(0,Br.jsx)(hr,{path:"/Appointment/Admin/Details/:id",element:(0,Br.jsx)(Qg,{user:A})}),(0,Br.jsx)(hr,{path:"/User_feedbacks",element:(0,Br.jsx)(Xg,{CDNURL:W})}),(0,Br.jsx)(hr,{path:"/Admin/PatientDetails/:id",element:(0,Br.jsx)(_g,{})}),(0,Br.jsx)(hr,{path:"/Archive",element:(0,Br.jsx)(Ug,{CDNURL:W})}),(0,Br.jsx)(hr,{path:"/Edit_doctors",element:(0,Br.jsx)(Mg,{})}),(0,Br.jsx)(hr,{path:"/Edit_doctors",element:(0,Br.jsx)(Mg,{})}),(0,Br.jsx)(hr,{path:"/Doctor_Details/:id",element:(0,Br.jsx)(Og,{})}),(0,Br.jsx)(hr,{path:"/Edit_Patients",element:(0,Br.jsx)(Fg,{})}),(0,Br.jsx)(hr,{path:"/Confirm_Appointments",element:(0,Br.jsx)(ny,{openTerms:h,token:m,user:A,imgName:O,CDNURL:W,isImgEmpty:B})})]})]})]})}),(0,Br.jsx)("footer",{className:"sticky w-screen bottom-0 z-50",children:(0,Br.jsx)(ji,{})})]})};r.createRoot(document.getElementById("root")).render((0,Br.jsx)(e.StrictMode,{children:(0,Br.jsx)(kr,{children:(0,Br.jsx)(pr,{children:(0,Br.jsx)(hr,{path:"/*",element:(0,Br.jsx)(iy,{})})})})}))}()}();
//# sourceMappingURL=main.554a6b34.js.map